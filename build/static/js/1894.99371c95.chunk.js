(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[1894],{66554:(e,t,i)=>{"use strict";i.d(t,{$:()=>d});var o=i(65043),s=i(72711),a=i(67907),n=i(65187),r=i(69062),l=i(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:c,selectedShareholder:d,onShareholderChange:h,onDelete:p,onAdd:u,popUpContent:m,shrVisible:g,handleBreadCrumbClick:C,addVisible:f,deleteVisible:y}=e;const[N,S]=(0,o.useState)(!1),[v,R]=(0,o.useState)(!1);function b(){t.add&&(m.length>0?R(!1===v):u())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(n.A,{children:[" ",(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsxs)(s.Breadcrumb,{children:[i.parents.map((t=>(0,l.jsx)(s.Breadcrumb.Item,{onClick:()=>{void 0!==C&&null!==C&&C(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(s.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===g?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(s.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:r.Zj(c),onChange:e=>h(e)})})]})})})}),(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsxs)(s.Modal,{open:N,size:"small",children:[(0,l.jsx)(s.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(s.Modal.Footer,{children:[(0,l.jsx)(s.Button,{type:"secondary",content:e("Cancel"),onClick:()=>S(!1)}),(0,l.jsx)(s.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{S(!1),p()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[f?(0,l.jsx)(s.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:b,children:(0,l.jsx)(s.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:v,children:(0,l.jsx)("div",{onMouseLeave:()=>R(!1),children:(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsx)(s.VerticalMenu,{children:(0,l.jsxs)(s.VerticalMenu,{children:[(0,l.jsx)(s.VerticalMenu.Header,{children:e("Common_Create")}),m.map((t=>(0,l.jsx)(s.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,R(!1),void u(e);var e},children:e(t.fieldValue)})))]})})})})}):"",y?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&S(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(s.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};i(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:o,selectedShareholder:s,onShareholderChange:a,onDelete:n,onAdd:r,popUpContent:d,shrVisible:h,handleBreadCrumbClick:p,addVisible:u,deleteVisible:m}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:i,shareholders:o,selectedShareholder:s,onShareholderChange:a,onDelete:n,onAdd:r,popUpContent:d,shrVisible:h,handleBreadCrumbClick:p,addVisible:u,deleteVisible:m})}},62900:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var o=i(65043),s=i(67907),a=i(72711),n=i(72067),r=i(69062),l=i(97508),c=i(44192),d=i(40854),h=i.n(d),p=i(53536),u=i.n(p),m=i(86111),g=i.n(m),C=i(70579);class f extends o.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:r.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const i=u().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(i[e]=r.jr(c.Qh[e],t),this.setState({validationErrors:i,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var i=!0;return i&&(i=Object.values(t).every((function(e){return""===e}))),i},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,i=g().lib.WordArray.random(16),o=g().PBKDF2(t,i,{keySize:8,iterations:100}),s=g().lib.WordArray.random(16),a=g().AES.encrypt(e,o,{iv:s,padding:g().pad.Pkcs7,mode:g().mode.CBC}),l=i.toString()+s.toString()+a.toString();h()(n.KrY+"?encryptedPassword="+encodeURIComponent(l),r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=r.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,C.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,C.jsx)(s.TranslationConsumer,{children:e=>(0,C.jsxs)(a.Modal,{open:!0,size:"mini",children:[(0,C.jsxs)(a.Modal.Content,{children:[(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,C.jsx)("h4",{children:e("User_Authentication")})}),(0,C.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,C.jsx)(a.Icon,{root:"common",name:"close"})})]}),(0,C.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,C.jsx)("div",{className:"col col-lg-12",children:(0,C.jsx)("label",{children:(0,C.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,C.jsx)("div",{className:"col col-lg-12",children:(0,C.jsx)(a.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,C.jsxs)(a.Modal.Footer,{children:[(0,C.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,C.jsx)(a.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const y=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(f)},92562:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var o=i(65043),s=i(40252),a=i(65187),n=i(78374),r=i(67907),l=i(72711),c=i(7523),d=i(69062),h=i(70579);function p(e){let{tableData:t,pageSize:i,onRowClick:o,modNotificationMessage:s,handleSave:a,onFieldChange:p,handleReset:u,validationErrors:m,listOptions:g,notificationMessage:C,onGroupSearchOption:f,saveEnabled:y}=e;const[N]=(0,r.useTranslation)();function S(e){const{value:t,field:i}=e;return"boolean"===typeof t||"Active"===i?t?(0,h.jsx)(l.Icon,{name:"check",size:"small",color:"green"}):(0,h.jsx)(l.Icon,{name:"close",size:"small",color:"red"}):""===t||null===t||void 0===t?t:void 0}return(0,h.jsxs)("div",{className:"detailsContainer",style:{marginTop:"-2rem"},children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Input,{fluid:!0,value:s.MessageCode,indicator:"required",disabled:""!==C.MessageCode,onChange:e=>p("MessageCode",e),label:N("NotificationConfig_MessageCode"),error:N(m.MessageCode),reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Select,{fluid:!0,value:s.GroupCode,onChange:e=>p("GroupCode",e),label:N("NotificationConfig_GroupCode"),indicator:"required",options:g.notificationGroup,error:N(m.GroupCode),reserveSpace:!1,onSearch:f,search:!0})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Select,{fluid:!0,value:s.NotificationType,onChange:e=>p("NotificationType",e),label:N("NotificationConfig_NotificationType"),options:[{text:N("NotificationList_AUDIT"),value:"AUDIT"},{text:N("NotificationList_EVENT"),value:"EVENT"},{text:N("NotificationList_ALARM"),value:"ALARM"}],indicator:"required",error:N(m.NotificationType),reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Select,{fluid:!0,value:s.MessageType,onChange:e=>p("MessageType",e),label:N("NotificationConfig_MessageType"),options:[{text:N("SUCCESS"),value:"SUCCESS"},{text:N("FAILURE"),value:"FAILURE"},{text:"PARTIAL SUCCESS",value:"PARTIAL SUCCESS"},{text:"PARTIAL FAILURE",value:"PARTIAL FAILURE"}],reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Select,{fluid:!0,value:s.Priority,onChange:e=>p("Priority",e),label:N("NotificationConfig_Priority"),indicator:"required",options:g.notificationPriority,error:N(m.Priority),reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Select,{fluid:!0,value:void 0===d.cd(c.p,s.NotificationLocation)?"":d.cd(c.p,s.NotificationLocation),onChange:e=>p("NotificationLocation",e),label:N("NotificationConfig_NotificationLocation"),options:d.Zj(Object.keys(c.p)),reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Input,{fluid:!0,value:s.PointName,onChange:e=>p("PointName",e),label:N("AtgConfigure_ParameterName"),reserveSpace:!1})}),(0,h.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 ",children:[(0,h.jsx)("div",{class:"ui input-label",children:(0,h.jsx)("span",{className:"input-label-message",children:N("NotificationConfig_ReturnToNormal")})}),(0,h.jsx)("div",{className:"input-wrap",children:(0,h.jsx)(l.Checkbox,{onChange:e=>p("ReturnToNormal",e),checked:!0===s.ReturnToNormal})})]}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Input,{fluid:!0,value:s.Condition,onChange:e=>p("Condition",e),label:N("NotificationConfig_Condition"),indicator:"required",error:N(m.Condition),reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Input,{fluid:!0,value:s.Message,onChange:e=>p("Message",e),label:N("NotificationConfig_Message"),indicator:"required",error:N(m.Message),reserveSpace:!1})}),(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,h.jsx)(l.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("NotificationConfig_Status"),value:""===s.Active||void 0===s.Active||null===s.Active||s.Active,options:[{text:N("ViewShipment_Ok"),value:!0},{text:N("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>p("Active",e)})}),(0,h.jsx)("div",{className:"col-12 col-md-9 col-lg-12",children:(0,h.jsxs)("div",{style:{float:"right"},children:[(0,h.jsx)(l.Button,{content:N("NotificationGroup_Reset"),className:"cancelButton",onClick:()=>u()}),(0,h.jsx)(l.Button,{type:"primary",content:N("NotificationGroup_Save"),disabled:!y,onClick:()=>a()})]})})]}),(0,h.jsx)("div",{className:"row marginRightZero tableScroll",children:(0,h.jsx)("div",{className:"col-12 detailsTable",children:(0,h.jsxs)(n.bQ,{data:t,search:!0,onCellClick:e=>void 0!==o?o(e):{},children:[(0,h.jsx)(n.bQ.ActionBar,{}),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ",field:"MessageCode",sortable:!0,header:N("NotificationConfig_MessageCode")},"MessageCode"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ",field:"GroupCode",header:N("NotificationConfig_GroupCode")},"GroupCode"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth",field:"NotificationType",header:N("NotificationConfig_NotificationType")},"NotificationType"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth columnsize",field:"MessageType",header:N("NotificationConfig_MessageType")},"MessageType"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth columnsize",field:"Priority",header:N("NotificationConfig_Priority")},"Priority"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ",field:"NotificationLocation",header:N("NotificationConfig_NotificationLocation"),renderer:e=>d.cd(c.p,parseInt(e.value))},"NotificationLocation"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ReturnToNormal",field:"PointName",header:N("NotificationConfig_PointName")},"PointName"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ReturnToNormal",field:"ReturnToNormal",header:N("NotificationConfig_ReturnToNormal"),renderer:e=>S(e)},"ReturnToNormal"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ",field:"Condition",header:N("NotificationConfig_Condition")},"Condition"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth  ",field:"Message",header:N("NotificationConfig_Message")},"Message"),(0,h.jsx)(n.bQ.Column,{className:"compColHeight colminWidth ReturnToNormal",field:"Active",header:N("NotificationConfig_Status"),renderer:e=>S(e)},"Active"),Array.isArray(t)&&t.length>i?(0,h.jsx)(n.bQ.Pagination,{}):""]})})})]})}p.defaultProps={listOptions:{notificationMessage:[]},saveEnabled:!1};var u=i(14159),m=(i(92342),i(53536)),g=i.n(m),C=i(66554),f=i(40854),y=i.n(f),N=i(72067),S=i(80312),v=i(46100),R=i(44192),b=i(97508),M=i(11981),x=i(93779),D=i(62900);class A extends o.Component{constructor(){super(...arguments),this.state={isDetails:!1,isReadyToRender:!1,isDetailsModified:!1,operationsVisibilty:{add:!1,delete:!1,shareholder:!1},selectedRow:[],data:[],notificationGroup:[],notificationPriority:[],notificationMessage:g().cloneDeep(v.Cq),validationErrors:d.Th(R.lm),modNotificationMessage:{},groupSearchOptions:[],saveEnabled:!1,showAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1,tempNotificationMessage:{}},this.handleAdd=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,e.add=!1,this.setState({isDetails:!0,operationsVisibilty:e}),this.setDefaultValues()}catch(t){console.log("NotificationMessageComposite:Error occured on handleAdd",t)}},this.handleRowClick=e=>{try{var{operationsVisibilty:t}={...this.state};t.add=d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.add,S.Kk),t.delete=!0,this.setState({isDetails:!0,notificationMessage:e.rowData,modNotificationMessage:e.rowData,operationsVisibilty:t},(()=>this.GetPriorityForNotification(e.rowData.NotificationType)))}catch(i){console.log("NotificationMessageComposite:Error occured on Row click",i)}},this.handleReset=()=>{try{const{validationErrors:e}={...this.state},t=g().cloneDeep(this.state.notificationMessage);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modNotificationMessage:{...t},validationErrors:e})}catch(e){console.log("NotificationMessageComposite:Error occured on handleReset",e)}},this.handleChange=(e,t)=>{try{const i=g().cloneDeep(this.state.modNotificationMessage);i[e]=t,"NotificationType"===e&&this.GetPriorityForNotification(t),"NotificationLocation"===e&&(i[e]=c.p[t]),this.setState({modNotificationMessage:i});const o=g().cloneDeep(this.state.validationErrors);void 0!==R.lm[e]&&(o[e]=d.jr(R.lm[e],t),this.setState({validationErrors:o}))}catch(i){console.log("NotificationMessageComposite:Error occured on handleChange",i)}},this.handleDelete=()=>{try{this.handleAuthenticationClose();let i=g().cloneDeep(this.state.modNotificationMessage);var{operationsVisibilty:e}={...this.state};e.delete=!1,this.setState({operationsVisibilty:e});var t=i.MessageCode;let o=[{key:x.eS,value:t}],s={keyDataCode:x.eS,KeyCodes:o},n={messageType:"critical",message:"NotificationMessage_DeleteMsg",messageResultDetails:[{keyFields:["NotificationConfig_MessageCode"],keyValues:[t],isSuccess:!1,errorMessage:""}]};y()(N.T9S,d.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data;n.messageType=i.IsSuccess?"success":"critical",n.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?(e.delete=!1,this.setState({isReadyToRender:!1,operationsVisibilty:e},(()=>{this.GetNotificationMessageList(),this.setDefaultValues()}))):(n.messageResultDetails[0].errorMessage="Notification_DelFailure",e.delete=!0,this.setState({operationsVisibilty:e})),(0,u.toast)((0,h.jsx)(a.A,{children:(0,h.jsx)(M.A,{notificationMessage:n})}),{autoClose:"success"===n.messageType&&1e4})})).catch((e=>{console.log("Error occured while deleting:"+e);var{operationsVisibilty:t}={...this.state};t.delete=!0,this.setState({operationsVisibilty:t}),n.messageResultDetails[0].errorMessage=e,(0,u.toast)((0,h.jsx)(a.A,{children:(0,h.jsx)(M.A,{notificationMessage:n})}),{autoClose:"success"===n.messageType&&1e4})}))}catch(i){console.log("NotificationMessageComposite:Error occured on handleDelete",i)}},this.addUpdateNotificationMessage=()=>{try{this.handleAuthenticationClose(),this.setState({saveEnabled:!1});let e=g().cloneDeep(this.state.tempNotificationMessage);""===this.state.notificationMessage.MessageCode?this.createNotificationMessage(e):this.updateNotificationMessage(e)}catch(e){console.log("Config Notification Details Composite : Error in addUpdateNotificationRestriction")}},this.handleSave=()=>{try{let e=g().cloneDeep(this.state.modNotificationMessage);if(this.validateSave(e)){let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,i=g().cloneDeep(e);this.setState({showAuthenticationLayout:t,tempNotificationMessage:i},(()=>{!1===t&&this.addUpdateNotificationMessage()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("NotificationMessageComposite:Error occured on handleSave",e)}},this.handleGroupSearchChange=e=>{try{let t=this.state.notificationGroup.filter((t=>t.value.toLowerCase().includes(e.toLowerCase())));t.length>c.bM&&(t=t.slice(0,c.bM)),this.setState({groupSearchOptions:t})}catch(t){console.log(this.props.ShipmentType+":Error occured on handleVehicleSearchChange",t)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1})},this.authenticateDelete=()=>{try{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showDeleteAuthenticationLayout:e}),!1===e&&this.handleDelete()}catch(e){console.log("NotificationMessage Delete : Error in authenticateDelete")}}}componentDidMount(){try{d.pJ(this.props.userDetails.EntityResult.IsArchived);var{operationsVisibilty:e}={...this.state};e.add=d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.add,S.Kk),this.setState({operationsVisibilty:e}),this.GetNotificationMessageList(),this.GetNotificationGroupForDropdown()}catch(t){console.log("NotificationMessageComposite:Error occured on componentDidMount",t)}}validateSave(e){try{var t=g().cloneDeep(this.state.validationErrors);Object.keys(R.lm).forEach((function(i){t[i]=d.jr(R.lm[i],e[i])})),this.setState({validationErrors:t});var i=!0;return i&&(i=Object.values(t).every((function(e){return""===e}))),i}catch(o){console.log("Error in validate save",o)}}setDefaultValues(){this.setState({modNotificationMessage:g().cloneDeep(v.Cq),notificationMessage:g().cloneDeep(v.Cq)})}createNotificationMessage(e){try{let t={Entity:e},i={messageType:"critical",message:"NotificationMessage_SuccessMsg",messageResultDetails:[{keyFields:["NotificationConfig_MessageCode"],keyValues:[e.MessageCode],isSuccess:!1,errorMessage:""}]};y()(N.Ymd,d.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{let o=t.data;i.messageType=o.IsSuccess?"success":"critical",console.log(o),i.messageResultDetails[0].isSuccess=o.IsSuccess,!0===o.IsSuccess?this.setState({saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.modify,S.Kk),notificationMessage:e},(()=>{this.GetNotificationMessageList()})):(i.messageResultDetails[0].errorMessage=o.ErrorList[0],this.setState({saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.add,S.Kk)}),console.log("Error in NotificationMessage:",o.ErrorList));const s={...this.state.operationsVisibilty};"success"===i.messageType&&(s.add=!0,s.delete=!0,this.setState({isDetails:!0,operationsVisibilty:s})),(0,u.toast)((0,h.jsx)(a.A,{children:(0,h.jsx)(M.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})})).catch((e=>{this.setState({saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.add,S.Kk)}),i.messageResultDetails[0].errorMessage=e,(0,u.toast)((0,h.jsx)(a.A,{children:(0,h.jsx)(M.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}))}catch(t){console.log("Error in createNotificationMessage",t)}}updateNotificationMessage(e){try{let t={Entity:e},i={messageType:"critical",message:"NotificationMessage_SuccessMsg",messageResultDetails:[{keyFields:["NotificationConfig_MessageCode"],keyValues:[e.MessageCode],isSuccess:!1,errorMessage:""}]};y()(N.ry,d.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;i.messageType=t.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?this.setState({saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.modify,S.Kk)},(()=>{this.GetNotificationMessageList()})):(i.messageResultDetails[0].errorMessage=t.ErrorList[0],this.setState({saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.modify,S.Kk)})),console.log("Error in update NotificationMessage:",t.ErrorList),(0,u.toast)((0,h.jsx)(a.A,{children:(0,h.jsx)(M.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})})).catch((e=>{this.setState({saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.modify,S.Kk)}),i.messageResultDetails[0].errorMessage=e,(0,u.toast)((0,h.jsx)(a.A,{children:(0,h.jsx)(M.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}))}catch(t){console.log("Error  while updatenotificatiomessage",t)}}GetNotificationGroupForDropdown(){try{y()(N.f82,d.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=d.Zj(t.EntityResult),i=g().cloneDeep(e);i.length>c.bM&&(i=i.slice(0,c.bM)),this.setState({notificationGroup:e,groupSearchOptions:i})}else this.setState({notificationGroup:[],isReadyToRender:!0}),console.log("Error in getNotificationGroupList:",t.ErrorList)})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting getNotificationGroupList:",e)}))}catch(e){console.log("Error while getnotificationlist",e)}}GetNotificationMessageList(){try{y()(N.AvI,d.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({data:t.EntityResult,isReadyToRender:!0,saveEnabled:d.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.modify,S.Kk)}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in getNotificationGroupList:",t.ErrorList))})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting getNotificationGroupList:",e)}))}catch(e){console.log("Error while getnotificationlist",e)}}GetPriorityForNotification(e){try{y()(N.r3y+"?notificationType="+e,d.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=d.Zj(t.EntityResult);this.setState({notificationPriority:e})}else this.setState({notificationPriority:[],isReadyToRender:!0}),console.log("Error in getNotificationPriorityList:",t.ErrorList)})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting getNotificationPriorityList:",e)}))}catch(t){console.log("Error while getnotificationlist",t)}}getGroupSearchOptions(){let e=g().cloneDeep(this.state.groupSearchOptions),t=this.state.modNotificationMessage.GroupCode;if(null!==t&&""!==t&&void 0!==t){void 0===e.find((e=>e.value.toLowerCase()===t.toLowerCase()))&&e.push({text:t,value:t})}return e}getActionType(){return this.state.showDeleteAuthenticationLayout?S.i.remove:this.state.showAuthenticationLayout?""===this.state.notificationMessage.MessageCode?S.i.add:S.i.modify:void 0}getOperation(){return this.state.showDeleteAuthenticationLayout?this.handleDelete:this.state.showAuthenticationLayout?this.addUpdateNotificationMessage:void 0}render(){return(0,h.jsxs)("div",{className:"buttonstyle",children:[(0,h.jsx)(a.A,{children:(0,h.jsx)(C.$,{operationsVisibilty:this.state.operationsVisibilty,shareholders:this.props.userDetails.EntityResult.ShareholderList,onDelete:this.authenticateDelete,onAdd:this.handleAdd,shrVisible:!1})}),this.state.isReadyToRender?(0,h.jsx)(a.A,{children:(0,h.jsx)(p,{tableData:this.state.data.Table,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,onRowClick:this.handleRowClick,modNotificationMessage:this.state.modNotificationMessage,notificationMessage:this.state.notificationMessage,notificationGroup:this.state.notificationGroup,listOptions:{notificationGroup:this.getGroupSearchOptions(),notificationPriority:this.state.notificationPriority},onGroupSearchOption:this.handleGroupSearchChange,isDetails:this.state.isDetails,handleSave:this.handleSave,onFieldChange:this.handleChange,handleReset:this.handleReset,validationErrors:this.state.validationErrors,saveEnabled:this.state.saveEnabled})}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{message:"Loading"})}),(0,h.jsx)(a.A,{children:(0,h.jsx)(u.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})}),this.state.showAuthenticationLayout||this.state.showDeleteAuthenticationLayout?(0,h.jsx)(D.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:this.getActionType(),functionGroup:S.Kk,handleOperation:this.getOperation(),handleClose:this.handleAuthenticationClose}):null]})}}const E=(0,b.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(A)},80312:(e,t,i)=>{"use strict";i.d(t,{$3:()=>Q,$H:()=>oe,$J:()=>ue,$K:()=>ge,$V:()=>At,$b:()=>St,$p:()=>G,AE:()=>M,Al:()=>F,B2:()=>ot,By:()=>Mt,CW:()=>gt,DA:()=>l,Ee:()=>Ue,FO:()=>T,Fy:()=>Ie,G9:()=>it,H8:()=>ee,Hq:()=>rt,Ig:()=>k,Iu:()=>f,JI:()=>ct,JJ:()=>te,JU:()=>K,Jz:()=>Ke,KQ:()=>ne,Kk:()=>Ze,Kw:()=>et,LP:()=>jt,LR:()=>d,Lg:()=>$,Mg:()=>Se,Mm:()=>I,N1:()=>Y,Nm:()=>m,No:()=>ce,Ow:()=>B,P2:()=>a,P8:()=>ye,PD:()=>Pe,PE:()=>h,PG:()=>z,PP:()=>ut,Pb:()=>Le,QB:()=>v,QC:()=>Z,RE:()=>at,RO:()=>$e,Rc:()=>ft,Rl:()=>vt,Rx:()=>Ct,TI:()=>y,Tm:()=>me,Ug:()=>X,Ur:()=>He,V9:()=>c,VK:()=>H,VL:()=>pe,VQ:()=>re,WD:()=>Ve,Wf:()=>A,YO:()=>w,YY:()=>Te,Yb:()=>Ce,Yg:()=>Qe,Z9:()=>pt,ZE:()=>dt,ZU:()=>S,_N:()=>yt,_S:()=>Et,_d:()=>Tt,aS:()=>U,aZ:()=>ht,au:()=>be,b0:()=>Dt,bL:()=>Fe,c2:()=>_e,d4:()=>ke,dB:()=>C,dD:()=>Ge,dK:()=>W,dY:()=>P,de:()=>p,dv:()=>Ee,eQ:()=>r,f3:()=>ve,fF:()=>V,fL:()=>Nt,fN:()=>bt,fk:()=>E,fl:()=>fe,fr:()=>R,go:()=>s,h:()=>he,hD:()=>D,hE:()=>j,hh:()=>Xe,hk:()=>ae,hz:()=>mt,i:()=>o,j2:()=>nt,jN:()=>q,je:()=>g,jx:()=>_,kL:()=>Ye,ke:()=>Be,km:()=>le,l0:()=>se,l6:()=>We,lz:()=>L,m0:()=>N,nS:()=>xe,nk:()=>lt,nn:()=>b,np:()=>J,oh:()=>st,op:()=>ze,pt:()=>Oe,qk:()=>de,qp:()=>Ne,r6:()=>De,rQ:()=>Ae,rj:()=>O,rp:()=>n,t3:()=>Rt,tM:()=>we,to:()=>wt,ts:()=>tt,uH:()=>Re,uy:()=>Je,w1:()=>je,x5:()=>ie,xz:()=>x,y_:()=>qe,yu:()=>u,yx:()=>xt,z8:()=>Me,z_:()=>Pt});const o={view:"view",add:"add",modify:"modify",remove:"remove"},s="carriercompany",a="driver",n="customer",r="trailer",l="originterminal",c="destination",d="primemover",h="vehicle",p="shipmentbycompartment",u="shipmentbyproduct",m="ViewShipmentStatus",g="vessel",C="order",f="OrderForceClose",y="contract",N="receiptplanbycompartment",S="ViewMarineShipment",v="MarineShipmentByCompartment",R="ViewMarineReceipt",b="supplier",M="finishedproduct",x="RailDispatch",D="RailReceipt",A="RailRoute",E="RailWagon",j="CloseRailDispatch",T="PrintRailBOL",P="PrintRailFAN",w="RailDispatchLoadSpotAssignment",L="RailDispatchProductAssignment",k="ViewRailDispatch",I="ViewRailLoadingDetails",V="CloseRailReceipt",O="PrintRailBOD",_="PrintRailRAN",F="ViewRailReceipt",G="ViewRailUnLoadingDetails",U="SMS",B="UnAccountedTransactionTank",H="UnAccountedTransactionMeter",W="PipelineDispatch",Q="PipelineReceipt",q="PipelineDispatchManualEntry",K="PipelineReceiptManualEntry",z="LookUpData",J="HSEInspection",$="HSEInspectionConfig",Y="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",oe="LeakageManualEntry",se="Terminal",ae="SlotInformation",ne="TankGroup",re="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",he="AccessCard",pe="ResetPin",ue="SlotConfiguration",me="PrintMarineFAN",ge="PrintMarineBOL",Ce="ViewMarineLoadingDetails",fe="ViewMarineShipmentAuditTrail",ye="CloseMarineShipment",Ne="IssueCard",Se="ActivateCard",ve="RevokeCard",Re="AutoIDAssociation",be="MarineReceiptByCompartment",Me="PrintMarineRAN",xe="PrintMarineBOD",De="ViewMarineUnloadingDetails",Ae="ViewMarineReceiptAuditTrail",Ee="CloseMarineReceipt",je="WeekendConfig",Te="EODAdmin",Pe="PrintBOL",we="PrintFAN",Le="PrintBOD",ke="CloseShipment",Ie="CloseReceipt",Ve="CONTRACTFORCECLOSE",Oe="Captain",_e="OverrideShipmentSequence",Fe="KPIInformation",Ge="Language",Ue="WebPortalUserMap",Be="BayGroup",He="PipelineHeaderSiteView",We="TankMonitor",Qe="PersonAdmin",qe="ProductReconciliationReports",Ke="ReportConfiguration",ze="EXECONFIGURATION",Je="ShareholderAllocation",$e="NotificationGroup",Ye="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",ot="TANKSHAREHOLDERPRIMEFUNCTION",st="ROLEADMIN",at="ShiftConfig",nt="PrinterConfiguration",rt="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",ht="PipelineMeterSiteView",pt="RailSiteView",ut="MarineSiteView",mt="LoadingDetails",gt="UnloadingDetails",Ct="RoadHSEInspection",ft="RoadHSEInspectionConfig",yt="MarineHSEInspection",Nt="MarineHSEInspectionConfig",St="RailHSEInspection",vt="RailHSEInspectionConfig",Rt="PipelineHSEInspection",bt="PipelineHSEInspectionConfig",Mt="PrintRAN",xt="ViewReceiptStatus",Dt="customerrecipe",At="COAParameter",Et="COATemplate",jt="COAManagement",Tt="COACustomer",Pt="COAAssignment",wt="ProductForecastConfiguration"},93779:(e,t,i)=>{"use strict";i.d(t,{$A:()=>P,$L:()=>lt,$Q:()=>Ge,Ae:()=>je,BX:()=>ae,Bl:()=>me,Bv:()=>fe,Bw:()=>Z,Cb:()=>j,Cg:()=>A,DN:()=>at,D_:()=>nt,Dm:()=>w,E7:()=>J,EW:()=>k,FN:()=>se,FR:()=>a,FY:()=>mt,GA:()=>Ue,GT:()=>S,Ge:()=>Le,HB:()=>ne,JQ:()=>z,KJ:()=>ee,Kz:()=>W,Ln:()=>H,M$:()=>He,O5:()=>tt,Of:()=>ve,Oo:()=>it,Pk:()=>Ce,Pm:()=>Y,Q5:()=>ct,QK:()=>We,QV:()=>Ze,QZ:()=>dt,Qu:()=>ie,RX:()=>Ae,Rb:()=>U,Rp:()=>b,SP:()=>g,T5:()=>Ve,UB:()=>y,UT:()=>l,Ui:()=>q,VA:()=>G,Vk:()=>be,Wb:()=>Me,Wv:()=>Re,X3:()=>ze,Y4:()=>B,Yl:()=>ot,Zx:()=>$,_B:()=>ye,_C:()=>E,_R:()=>ge,_j:()=>de,_n:()=>o,aM:()=>V,aW:()=>Fe,bW:()=>F,c4:()=>st,cD:()=>r,c_:()=>x,cx:()=>_,dL:()=>ht,eE:()=>le,eS:()=>qe,eT:()=>R,f:()=>L,f7:()=>ue,fR:()=>he,g1:()=>ce,gN:()=>Je,gO:()=>Q,iH:()=>rt,ij:()=>et,j1:()=>D,jC:()=>Ne,je:()=>pe,jz:()=>re,ll:()=>Xe,mM:()=>N,mO:()=>ut,mW:()=>Ie,ml:()=>C,mm:()=>Ye,nB:()=>te,nT:()=>ke,np:()=>we,oA:()=>M,oG:()=>Ke,oV:()=>X,ok:()=>h,oy:()=>c,pL:()=>Te,pe:()=>Be,pw:()=>Qe,qF:()=>n,qQ:()=>pt,qp:()=>p,s0:()=>v,sA:()=>Ee,st:()=>oe,tY:()=>I,uw:()=>K,v6:()=>s,vL:()=>Oe,vf:()=>Pe,wH:()=>$e,wO:()=>Se,wX:()=>O,x4:()=>xe,xf:()=>u,xy:()=>d,yI:()=>f,yV:()=>T,yz:()=>m,zL:()=>De,zf:()=>_e});const o="CarrierCode",s="TransportationType",a="ShareHolderCode",n="DriverCode",r="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",h="VehicleCode",p="DestinationCode",u="FinishedProductCode",m="ShipmentCode",g="OrderCode",C="ReceiptCode",f="MarineDispatchCode",y="MarineReceiptCode",N="SupplierCode",S="ContractCode",v="RailDispatchCode",R="RailReceiptCode",b="RailRouteCode",M="WagonCode",x="CompartmentCode",D="SMSConfigurationCode",A="PipelineDispatchCode",E="PipelineReceiptCode",j="EmailConfigurationCode",T="BaseProductCode",P="LocationCode",w="SiteViewType",L="EntityCode",k="EntityType",I="CardReaderCode",V="AccessCardCode",O="BcuCode",_="DeuCode",F="WeighBridgeCode",G="Weight",U="OutOfToleranceAllowed",B="LoadingArmCode",H="TransportationType",W="BayCode",Q="TransactionNumber",q="BatchNumber",K="TerminalCode",z="TankGroupCode",J="TankCode",$="MeterCode",Y="ShipmentType",Z="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",oe="ProductCategoryType",se="Reason",ae="SealMasterCode",ne="Reason",re="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",he="AdjustedPlanQuantity",pe="ForceComplete",ue="DispatchStatus",me="HolidayDate",ge="ActionID",Ce="EODTimePrev",fe="TerminalAction",ye="EODTime",Ne="MonthStartDay",Se="CaptainCode",ve="GeneralTMUserType",Re="GeneralTMUserCode",be="IsPriority",Me="ActualTerminalCode",xe="ShipmentBondNo",De="ReceiptBondNo",Ae="DeviceType",Ee="DeviceCode",je="BayGroup",Te="PipelineHeaderCode",Pe="ExchangePartner",we="PersonID",Le="UserName",ke="PipelinePlanCode",Ie="PipelinePlanType",Ve="ChannelCode",Oe="ProcessName",_e="ReconciliationCode",Fe="NotificationGroupCode",Ge="NotificationGroupStatus",Ue="NotificationGroupDesc",Be="NotificationResSource",He="NotificationResMsgCode",We="NotificationOrigResSource",Qe="NotificationOrigResMsgCode",qe="NotificationMessageCode",Ke="PositionType",ze="ExchangeAgreementCode",Je="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Ye="RequestorShareholder",Ze="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",ot="PrinterName",st="LocationType",at="ForceClosureReason",nt="TransactionType",rt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ht="COAManagementFinishedProductCode",pt="COASeqNumber",ut="ForecastDate",mt="ForecastTanks"},50477:()=>{}}]);
//# sourceMappingURL=1894.99371c95.chunk.js.map