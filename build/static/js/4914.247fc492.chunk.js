"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[4914,2547,1132,4928,8751,9158,6001,6777,8382,9528,735,3116,3920,3235,5973,8354],{40510:(e,t,s)=>{s.d(t,{A:()=>r});var i=s(65043),a=s(80297),o=s(65187),l=s(67907),n=s(70579);function r(e){let{KPIList:t,pageName:s,rowHeight:r,widgetHeight:c,isDraggable:d,isResizable:h,kpiDisplayTopBreakpoint:u}=e;const[p,D]=(0,i.useState)(1),v=i.useRef(null),C=()=>{let e=window.pageYOffset,t=p;if(v.current&&v.current.getBoundingClientRect().top<u)t=0;else{if(0!==e)return;t=1}D(t)};return(0,i.useEffect)((()=>{"undefined"!==typeof window&&window.addEventListener("scroll",C)})),(0,i.useEffect)((()=>()=>{window.removeEventListener("scroll",C)}),[]),(0,n.jsx)("div",{ref:v,children:1===p?(0,n.jsx)(l.TranslationConsumer,{children:e=>(0,n.jsx)("div",{style:{marginTop:"6px"},children:(0,n.jsx)(o.A,{children:(0,n.jsx)(a.A,{kpiList:t,isDraggable:d,isResizable:h,rowHeight:r,widgetHeight:c,pageName:s})})})}):""})}r.defaultProps={kpiDisplayTopBreakpoint:100}},24914:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});var i=s(65043),a=(s(38726),s(72711)),o=s(67907),l=s(7523),n=s(85800),r=s(65187),c=s(69062),d=s(70579);function h(e){let{device:t,modDevice:s,listOptions:h,modAssociatedChannel:u,onFieldChange:p,onChannelFieldChange:D,onActiveStatusChange:v,deviceType:C,modAttributeMetaDataList:E,attributeValidationErrors:m,onAttributeDataChange:y,validationErrors:g,isMarineTransloading:R,isRailTransloading:I,channelValidationErrors:A,isBCU:S,handleSkipLocalLoadFetch:T,enableSkipLocalLoadFetch:b}=e;const L=(e,t)=>{let s=[];return s=e.find((e=>e.TerminalCode===t)),s.attributeValidationErrors},M=!0===s.IsIntegrated||C===l.k6.WEIGH_BRIDGE||void 0!==s.DEUType&&s.DEUType.toUpperCase()===l.RG.TouchScreen.toUpperCase(),[N]=(0,o.useTranslation)();return(0,d.jsx)(i.Fragment,{children:(0,d.jsxs)("div",{className:"detailsContainer deviceAccordian",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-12 mt-4",children:(0,d.jsx)("p",{className:"border-bottom-1 pb-2 deviceheaderLabel",children:N("DeviceInfo_DeviceData")})}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("DeviceInfo_DeviceType"),value:void 0===c.cd(l.k6,s.DeviceType)?"":c.cd(l.k6,s.DeviceType),options:h.deviceTypeOptions,disabled:""!==t.Code,onChange:e=>p("DeviceType",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage"),error:N(g.DeviceType)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,value:s.Code,label:N("DeviceInfo_Code"),indicator:"required",disabled:""!==t.Code,onChange:e=>p("Code",e),reserveSpace:!1,error:N(g.Code)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("DeviceInfo_ModelName"),value:s.DeviceType!==l.k6.DEU?s.Model:s.DEUType,options:h.deviceModelOptions,onChange:e=>p(s.DeviceType!==l.k6.DEU?"Model":"DEUType",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage")})}),C!==l.k6.WEIGH_BRIDGE&&s.DEUType!==l.RG.TouchScreen&&s.Model!==l.RG.AcculoadIII&&s.Model!==l.RG.AcculoadIV&&s.Model!==l.RG.DanLoad&&s.Model!==l.RG.VirtualPreset&&s.Model!==l.RG.Nedap?(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("DeviceInfo_NodeAddress"),value:s.NodeAddress,reserveSpace:!1,onChange:e=>p("NodeAddress",e),error:N(g.NodeAddress),indicator:"required"})}):null,(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("DeviceInfo_DeviceName"),value:s.Name,indicator:"required",reserveSpace:!1,onChange:e=>p("Name",e),error:N(g.Name)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("DeviceInfo_PointName"),value:s.PointName,indicator:"required",reserveSpace:!1,onChange:e=>p("PointName",e),error:N(g.PointName)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,value:null===s.Description?"":s.Description,label:N("FinishedProductList_Description"),reserveSpace:!1,onChange:e=>p("Description",e),error:N(g.Description)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("FinishedProductInfo_Select"),label:N("Cust_Status"),value:s.Active,options:[{text:N("ViewShipment_Ok"),value:!0},{text:N("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>v(e)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,value:null===s.Remarks?"":s.Remarks,label:N("Cust_Remarks"),onChange:e=>p("Remarks",e),indicator:s.Active!==t.Active?"required":"",reserveSpace:!1,error:N(g.Remarks)})}),C===l.k6.CARD_READER?(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 ",children:[(0,d.jsx)("div",{class:"ui input-label",children:(0,d.jsx)("span",{className:"input-label-message",children:N("DeviceInfo_IsIntegrated")})}),(0,d.jsx)("div",{className:"input-wrap",children:(0,d.jsx)(a.Checkbox,{onChange:e=>p("IsIntegrated",e),checked:s.IsIntegrated,disabled:!!s.IsIntegrated})})]}):null,C===l.k6.BCU?(0,d.jsxs)(d.Fragment,{children:[s.Model.toUpperCase()===l.RG.MSCL.toUpperCase()||s.Model.toUpperCase()===l.RG.AcculoadIII.toUpperCase()||s.Model.toUpperCase()===l.RG.AcculoadIV.toUpperCase()?(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 ",children:[(0,d.jsxs)("div",{className:"ui single-input fluid disabled",style:{width:"30%",float:"left"},children:[(0,d.jsx)("div",{class:"ui input-label",children:(0,d.jsx)("span",{className:"input-label-message",children:N("Device_DualBay")})}),(0,d.jsx)("div",{className:"input-wrap",children:(0,d.jsx)(a.Checkbox,{onChange:e=>p("IsDualBay",e),checked:s.IsDualBay,disabled:""!==t.Code})})]}),!0===s.IsDualBay?(0,d.jsx)("div",{style:{width:"70%",float:"right"},children:(0,d.jsx)(a.Input,{fluid:!0,value:s.PointName+"_1,"+s.PointName+"_2",label:N("BCUAssociatedPoints"),reserveSpace:!1,disabled:!0})}):null]}):null,!0===R||!0===I?(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 ",children:[(0,d.jsxs)("div",{className:"ui single-input fluid disabled",style:{width:"30%",float:"left"},children:[(0,d.jsx)("div",{class:"ui input-label",children:(0,d.jsx)("span",{className:"input-label-message",children:N("Device_Transloading")})}),(0,d.jsx)("div",{className:"input-wrap",children:(0,d.jsx)(a.Checkbox,{onChange:e=>p("IsTransloading",e),checked:s.IsTransloading,disabled:""!==t.Code})})]}),s.IsTransloading?(0,d.jsx)("div",{style:{width:"70%",float:"right"},children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("Receipt_Source"),value:s.ReceiptSource,options:c.Zj(h.transloadingOptions),onChange:e=>p("ReceiptSource",e),disabled:""!==t.Code,reserveSpace:!1,indicator:!0,search:!1,noResultsMessage:N("noResultsMessage")})}):""]}):""]}):null,"RAIL"===s.ReceiptSource?(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("BCUIdentification"),value:s.CardReaderCode,options:l.VJ,reserveSpace:!1,indicator:!0,search:!1,onChange:e=>p("CardReaderCode",e),noResultsMessage:N("noResultsMessage")})}):""]})})]}),C===l.k6.BCU||"BCU"===s.deviceTypeOptions?(0,d.jsx)(a.Accordion,{children:(0,d.jsx)(a.Accordion.Content,{className:"attributeAccordian",title:N("BCU_Attributes"),children:(0,d.jsx)("div",{className:"row pt-3",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("BCU_AdditiveUOM"),value:s.AdditiveUOM,options:h.volumeUOMOptions,onChange:e=>p("AdditiveUOM",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("BCU_DensityUOM"),value:s.DensityUOM,options:h.densityUOMOptions,onChange:e=>p("DensityUOM",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("BCU_PressureUOM"),value:s.PressureUOM,options:h.pressureUOMOptions,onChange:e=>p("PressureUOM",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("BCU_TemperatureUOM"),value:s.TemperatureUOM,options:h.temperatureUOMOptions,onChange:e=>p("TemperatureUOM",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("BCU_MassUOM"),value:s.MassUOM,options:h.massUOMOptions,onChange:e=>p("MassUOM",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage")})})]})})})})}):null,C===l.k6.WEIGH_BRIDGE?(0,d.jsx)(a.Accordion,{children:(0,d.jsx)(a.Accordion.Content,{className:"attributeAccordian",title:N("WB_Specific_Attributes"),children:(0,d.jsx)("div",{className:"row pt-3",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("Common_Select"),label:N("WB_WeightUOM"),value:s.WeightUOM,options:h.massUOMOptions,onChange:e=>p("WeightUOM",e),indicator:"required",reserveSpace:!1,search:!1,noResultsMessage:N("noResultsMessage"),error:N(g.WeightUOM)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:N("WB_Auto"),checked:s.IsAuto,onChange:e=>p("IsAuto",e)})})]})})})})}):null,E.length>0?E.map((e=>(0,d.jsx)("div",{children:e.attributeMetaDataList.filter((e=>!0===e.IsVisible)).length>0?(0,d.jsx)(r.A,{children:(0,d.jsx)(a.Accordion,{children:(0,d.jsx)(a.Accordion.Content,{className:"attributeAccordian",title:N("Attributes_Header"),children:(0,d.jsx)(n.n,{selectedAttributeList:e.attributeMetaDataList,handleCellDataEdit:y,attributeValidationErrors:L(m,e.TerminalCode)})})})}):null}))):null,(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-12 mt-4",children:(0,d.jsx)("p",{className:"border-bottom-1 pb-2 deviceheaderLabel",children:N("DeviceInfo_ChannelData")})}),(0,d.jsx)("div",{className:"col-md-12",children:u.map((e=>(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,d.jsx)("div",{style:{width:"70%",float:"left"},children:s.MultiDrop?(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("FinishedProductInfo_Select"),label:N("Channel_Code"),value:e.ChannelCode,options:h.channelCodeOptions,indicator:""!==e.ChannelCode?"required":"",reserveSpace:!1,disabled:M,onChange:e=>D("ChannelCode",e)}):(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_Code"),value:e.ChannelCode,disabled:M,reserveSpace:!1,onChange:e=>D("ChannelCode",e),error:N(A.ChannelCode),indicator:""!==e.ChannelCode?"required":""})}),(0,d.jsxs)("div",{className:"ui single-input fluid disabled",style:{width:"28%",float:"right"},children:[(0,d.jsx)("div",{class:"ui input-label",children:(0,d.jsx)("span",{className:"input-label-message",children:N("DeviceInfo_IsMultiDrop")})}),(0,d.jsx)("div",{className:"input-wrap",children:(0,d.jsx)(a.Checkbox,{onChange:e=>p("MultiDrop",e),checked:s.MultiDrop,disabled:M||s.DEUType===l.RG.DEUContrec1030||""!==t.Code&&s.DeviceType===l.k6.DEU})})]})]}),(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,d.jsx)("div",{style:{width:"70%",float:"left"},children:(0,d.jsx)(a.Select,{fluid:!0,placeholder:N("FinishedProductInfo_Select"),label:N("ChannelTypeList_Title"),value:e.ChannelType,options:h.channelTypeOptions,disabled:M,onChange:e=>D("ChannelType",e),error:N(A.ChannelType),indicator:""!==e.ChannelCode?"required":"",reserveSpace:!1})}),(0,d.jsxs)("div",{className:"ui single-input fluid disabled",style:{width:"28%",float:"right"},children:[(0,d.jsx)("div",{class:"ui input-label",children:(0,d.jsx)("span",{className:"input-label-message",children:N("DeviceInfo_IsEthernet")})}),(0,d.jsx)("div",{className:"input-wrap",children:(0,d.jsx)(a.Checkbox,{onChange:e=>D("PortType",e),checked:1===e.PortType,disabled:M||s.Model!==l.RG.MSCL&&s.Model!==l.RG.Multiload&&s.Model!==l.RG.Microload})})]})]}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_PrimaryAddress"),value:e.PrimaryAddress,disabled:M,reserveSpace:!1,onChange:e=>D("PrimaryAddress",e),error:N(A.PrimaryAddress),indicator:""!==e.ChannelCode?"required":""})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_SecondaryAddress"),value:e.SecondaryAddress,disabled:M,reserveSpace:!1,onChange:e=>D("SecondaryAddress",e),error:N(A.SecondaryAddress)})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("ExeConfigInfo_PrimaryPort"),value:e.PrimaryPort,disabled:M,reserveSpace:!1,onChange:e=>D("PrimaryPort",e),error:N(A.PrimaryPort),indicator:""!==e.ChannelCode?"required":""})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_SecondaryPort"),value:e.SecondaryPort,disabled:M,reserveSpace:!1,onChange:e=>D("SecondaryPort",e),error:N(A.SecondaryPort)})}),(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,d.jsx)("div",{style:{width:"30%",float:"right",marginTop:"2rem"},children:(0,d.jsx)("span",{style:{marginLeft:"1rem"},children:N("Milliseconds")})}),(0,d.jsx)("div",{style:{width:"70%",float:"left"},children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_SendTimeOut"),value:e.SendTimeOut,disabled:M,reserveSpace:!1,onChange:e=>D("SendTimeOut",e),error:N(A.SendTimeOut),indicator:""!==e.ChannelCode?"required":""})})]}),(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,d.jsx)("div",{style:{width:"30%",float:"right",marginTop:"2rem"},children:(0,d.jsx)("span",{style:{marginLeft:"1rem"},children:N("Milliseconds")})}),(0,d.jsx)("div",{style:{width:"70%",float:"left"},children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_RetryInterval"),value:e.RetryInterval,disabled:M,reserveSpace:!1,onChange:e=>D("RetryInterval",e),error:N(A.RetryInterval),indicator:""!==e.ChannelCode?"required":""})})]}),(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,d.jsx)("div",{style:{width:"30%",float:"right",marginTop:"2rem"},children:(0,d.jsx)("span",{style:{marginLeft:"1rem"},children:N("Milliseconds")})}),(0,d.jsx)("div",{style:{width:"70%",float:"left"},children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_ReceiveTimeOut"),value:e.ReceiveTimeOut,disabled:M,reserveSpace:!1,onChange:e=>D("ReceiveTimeOut",e),error:N(A.ReceiveTimeOut),indicator:""!==e.ChannelCode?"required":""})})]}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(a.Input,{fluid:!0,label:N("Channel_ConnectionRetries"),value:e.ConnectionRetries,disabled:M,reserveSpace:!1,onChange:e=>D("ConnectionRetries",e),error:N(A.ConnectionRetries),indicator:""!==e.ChannelCode?"required":""})})]})))})]}),S?(0,d.jsx)("div",{className:"deviceskipLocalLoadFetch",style:{float:"right"},children:(0,d.jsx)(a.Button,{content:N("DeviceInfo_SkipLocalLoadFetch"),disabled:!b,onClick:T})}):null]})})}h.defaultProps={listOptions:{deviceTypeOptions:[],deviceModelOptions:[],channelTypeOptions:[],channelCodeOptions:[],densityUOMOptions:[],volumeUOMOptions:[],massUOMOptions:[],temperatureUOMOptions:[],pressureUOMOptions:[],transloadingOptions:[]},isBCU:!1,enableSkipLocalLoadFetch:!1};var u=s(80432),p=s(43503),D=s(93779),v=s(72067),C=s(40854),E=s.n(C),m=s(97508),y=s(53536),g=s.n(y),R=s(46100),I=s(80312),A=s(15417),S=s(44192),T=s(9256),b=s(40252),L=s(40510),M=s(39424),N=s(62900);class f extends i.Component{constructor(){super(...arguments),this.state={device:R.U5,modDevice:R.U5,associatedChannel:[R.Fc],modAssociatedChannel:[R.Fc],isReadyToRender:!1,saveEnabled:!0,isDeleteEnabled:!1,deviceType:"",deviceTypeOptions:[],deviceModelOptions:[],densityUOMOptions:[],volumeUOMOptions:[],massUOMOptions:[],temperatureUOMOptions:[],pressureUOMOptions:[],channelTypeOptions:[],channelCodeOptions:[],attributeMetaDataList:[],modAttributeMetaDataList:[],deuAttributeValidationErrors:[],bcuAttributeValidationErrors:[],crAttributeValidationErrors:[],wbAttributeValidationErrors:[],attributeValidationErrors:[],validationErrors:c.Th(S.lH),channelValidationErrors:c.Th(S.oZ),IsTransloading:!1,deviceModelsObject:{},isMarineTransLoading:!1,isRailTransloading:!1,deviceTypeChannels:[],isMultiDrop:!1,deviceKPIList:[],showAuthenticationLayout:!1,tempDevice:{}},this.handleAttributeDataChange=(e,t)=>{try{let s=[],i=g().cloneDeep(this.state.modAttributeMetaDataList),a=i.filter((t=>t.TerminalCode===e.TerminalCode));a.length>0&&Array.isArray(a[0].attributeMetaDataList)&&(s=a[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),s.length>0&&(s[0].DefaultValue=t);const o=g().cloneDeep(this.state.attributeValidationErrors);o.forEach((s=>{s.TerminalCode===e.TerminalCode&&(s.attributeValidationErrors[e.Code]=c.I5(e,t))})),this.setState({attributeValidationErrors:o,modAttributeMetaDataList:i})}catch(s){console.log("DeviceDetailsComposite:Error occured on handleAttributeDataChange",s)}},this.handleSetBCUSkipLocalLoadFetch=()=>{try{let e=g().cloneDeep(this.state.modDevice),t=[{key:D.wX,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.wX,KeyCodes:t,Entity:e},i={messageType:"critical",message:["BCUSavedSuccess"],messageResultDetails:[{keyFields:["BCUCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:"DeviceInfo_LOCALTRANSUPLOADSuccessMsg"}]};E()(v.PhI,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0!==s.IsSuccess?i.messageResultDetails[0].errorMessage="DeviceInfo_LOCALTRANSUPLOADFailureMsg":i.message=["DeviceInfo_LOCALTRANSUPLOADSuccessMsg"],this.props.onSaved(e,"update",i)}))}catch(e){console.log("Error in handleSetBCUSkipLocalLoadFetch")}},this.saveDevice=()=>{try{this.setState({saveEnabled:!1});let e=g().cloneDeep(this.state.tempDevice);e.DeviceType===l.k6.CARD_READER?""!==this.state.device.Code?this.UpdateCardReaderDevice(e):this.CreateCardReaderDevice(e):e.DeviceType===l.k6.BCU?""!==this.state.device.Code?this.UpdateBCUDevice(e):this.CreateBCUDevice(e):e.DeviceType===l.k6.DEU?""!==this.state.device.Code?this.UpdateDEUDevice(e):this.CreateDEUDevice(e):e.DeviceType===l.k6.WEIGH_BRIDGE&&(""!==this.state.device.Code?this.UpdateWBDevice(e):this.CreateWBDevice(e))}catch(e){console.log("DeviceComposite : Error in savePrimeMover")}},this.handleSave=()=>{try{let e=this.fillDetails(),t=g().cloneDeep(this.state.modAttributeMetaDataList),s=g().cloneDeep(this.state.modAttributeMetaDataList);if(Array.isArray(s)&&t.forEach((e=>{e.attributeMetaDataList=[];var t=s.findIndex((t=>t.TerminalCode===e.TerminalCode));t>=0&&s[t].attributeMetaDataList.forEach((t=>{t.IsVisible&&e.attributeMetaDataList.push(t)}))})),s=c.pI(t),this.validateSave(e,s)){s=c.SC(s),e.Attributes=c.Gh(s);let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,i=g().cloneDeep(e);this.setState({showAuthenticationLayout:t,tempDevice:i},(()=>{!1===t&&this.saveDevice()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("DeviceDetailsComposite:Error occured on handleSave",e)}},this.handleChange=(e,t)=>{try{let s=g().cloneDeep(this.state.modDevice),i=g().cloneDeep(this.state.deviceModelOptions);if(s[e]=t,"DeviceType"===e){s=l.k6[t]===l.k6.BCU?g().cloneDeep(R.qj):l.k6[t]===l.k6.CARD_READER?g().cloneDeep(R.zD):l.k6[t]===l.k6.WEIGH_BRIDGE?g().cloneDeep(R.Ry):l.k6[t]===l.k6.DEU?g().cloneDeep(R.CP):R.U5,s[e]=l.k6[t];let a=g().cloneDeep(R.Fc);a.ReceiveTimeOut=l.k6[t]===l.k6.DEU||l.k6[t]===l.k6.WEIGH_BRIDGE?"":"5000",a.SendTimeOut=l.k6[t]===l.k6.DEU||l.k6[t]===l.k6.WEIGH_BRIDGE?"":"5000",a.RetryInterval=l.k6[t]===l.k6.DEU||l.k6[t]===l.k6.WEIGH_BRIDGE?"":"10000",a.ConnectionRetries=l.k6[t]===l.k6.DEU||l.k6[t]===l.k6.WEIGH_BRIDGE?"":"5",this.setState({modDevice:s,modAttributeMetaDataList:[],modAssociatedChannel:[a]},(()=>{this.handleResetAttributeValidationError(l.k6[t]),this.formAttributes(l.k6[t])})),i=c.Zj(this.state.deviceModelsObject[t]),this.GetChannelsForDeviceTypes(t),this.setState({deviceModelOptions:i})}if("Model"!==e&&"DEUType"!==e||this.state.isMultiDrop||(s.MultiDrop=!1),"DEUType"===e&&s.DeviceType===l.k6.DEU){let e=g().cloneDeep(R.Fc);e.ReceiveTimeOut=t.toUpperCase()===l.RG.TouchScreen.toUpperCase()?"":"3000",e.SendTimeOut=t.toUpperCase()===l.RG.TouchScreen.toUpperCase()?"":"3000",e.RetryInterval=t.toUpperCase()===l.RG.TouchScreen.toUpperCase()?"":"10000",e.ConnectionRetries=t.toUpperCase()===l.RG.TouchScreen.toUpperCase()?"":"2",this.setState({modAssociatedChannel:[e]})}if("MultiDrop"===e)if(this.setState({isMultiDrop:t}),t){let e=g().cloneDeep(R.Fc);e.ReceiveTimeOut="",e.SendTimeOut="",e.RetryInterval="",e.ConnectionRetries="",this.setState({modAssociatedChannel:[e]})}else this.setState({modAssociatedChannel:this.state.associatedChannel});this.setState({modDevice:s});const a=g().cloneDeep(this.state.validationErrors);void 0!==S.lH[e]&&(a[e]=c.jr(S.lH[e],t),this.setState({validationErrors:a}))}catch(s){console.log("DeviceDetailsComposite:Error occured on handleChange",s)}},this.handleChannelChange=(e,t)=>{try{let s=g().cloneDeep(this.state.modAssociatedChannel);"ChannelCode"===e&&""!==t&&!0===this.state.isMultiDrop?this.GetChannel(t):(s.forEach((s=>{"PortType"===e&&(t=!0===t?1:0),s[e]=t})),this.setState({modAssociatedChannel:s}));let i=g().cloneDeep(this.state.channelValidationErrors);void 0!==S.oZ[e]&&(i[e]=c.jr(S.oZ[e],t),"ChannelCode"===e&&""===t&&(i=c.Th(S.oZ)),this.setState({channelValidationErrors:i}))}catch(s){console.log("DeviceDetailsComposite:Error occured on handleChannelChange",s)}},this.handleReset=()=>{try{let e=void 0!==this.props.deviceType&&null!==this.props.deviceType&&""!==this.props.deviceType?this.props.deviceType:this.state.device.DeviceType,t=void 0!==this.props.deviceType&&null!==this.props.deviceType&&""!==this.props.deviceType?this.state.deviceModelOptions:[];this.setState({modDevice:g().cloneDeep(this.state.device),validationErrors:c.Th(S.lH),channelValidationErrors:c.Th(S.oZ),modAttributeMetaDataList:[],modAssociatedChannel:this.state.associatedChannel,deviceModelOptions:t},(()=>{this.handleResetAttributeValidationError(e),this.formAttributes(e)}))}catch(e){console.log(this.props.ShipmentType+":Error occured on handleReset",e)}},this.handleActiveStatusChange=e=>{try{let t=g().cloneDeep(this.state.modDevice);t.Active=e,t.Active!==this.state.device.Active&&(t.Remarks=""),this.setState({modDevice:t})}catch(t){console.log("DeviceDetailsComposite:Error occured on handleActiveStatusChange",t)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}componentDidMount(){try{c.pJ(this.props.userDetails.EntityResult.IsArchived),this.getTransloadingDetails(),this.getAttributeMetaData(this.props.deviceType),this.getDeviceTypes(),this.getDeviceModels(),this.getChannelType(),this.getUOMList()}catch(e){console.log("DeviceDetailsComposite:Error occured on componentDidMount",e)}}handleResetAttributeValidationError(e){try{var t=e===l.k6.BCU?this.state.attributeMetaDataList.bcu:e===l.k6.CARD_READER?this.state.attributeMetaDataList.cardreader:e===l.k6.WEIGH_BRIDGE?this.state.attributeMetaDataList.weighbridge:e===l.k6.DEU?this.state.attributeMetaDataList.deu:[];this.setState({attributeValidationErrors:c.Fl(t)})}catch(s){console.log("TrailerDetailsComposite:Error occured on handleResetAttributeValidationError",s)}}getDevice(e){try{void 0===e||""===e||null===e?this.setState({device:R.U5,modDevice:R.U5,modAttributeMetaDataList:[],associatedChannel:[g().cloneDeep(R.Fc)],modAssociatedChannel:[g().cloneDeep(R.Fc)],deviceModelOptions:[],isReadyToRender:!0,channelCodeOptions:[],deviceKPIList:[],saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8)}):(this.handleResetAttributeValidationError(e),e===l.k6.CARD_READER?this.getCRDeviceDetails(this.props.deviceCode):e===l.k6.BCU?(this.getBCUDeviceDetails(this.props.deviceCode),this.getKPIList(l.I5.BCU,this.props.deviceCode)):e===l.k6.DEU?this.getDEUDeviceDetails(this.props.deviceCode):e===l.k6.WEIGH_BRIDGE&&this.getWBDeviceDetails(this.props.deviceCode))}catch(t){console.log("Error in getDevice : ",t)}}componentWillReceiveProps(e){try{this.getDevice(e.deviceType),this.getDeviceModels()}catch(t){console.log("DeviceDetailsComposite:Error occured on componentWillReceiveProps",t)}}getAttributeMetaData(e){try{E()(v.fKH,c.tW([A.mY,A.l5,A.ZO,A.Yb],this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;!0===s.IsSuccess?this.setState({modAttributeMetaDataList:[],attributeMetaDataList:g().cloneDeep(s.EntityResult),deuAttributeValidationErrors:c.Fl(s.EntityResult.deu),bcuAttributeValidationErrors:c.Fl(s.EntityResult.bcu),crAttributeValidationErrors:c.Fl(s.EntityResult.cardreader),wbAttributeValidationErrors:c.Fl(s.EntityResult.weighbridge)},(()=>this.getDevice(e))):console.log("Error in getAttributes:")}))}catch(t){console.log("Error while getAttributes:",t)}}getUOMList(){try{E()(v.WFM,c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult){let e=[],s=[],i=[],a=[],o=[];Array.isArray(t.EntityResult.DENSITY)&&(e=c.Zj(t.EntityResult.DENSITY)),Array.isArray(t.EntityResult.VOLUME)&&(s=c.Zj(t.EntityResult.VOLUME)),Array.isArray(t.EntityResult.PRESSURE)&&(o=c.Zj(t.EntityResult.PRESSURE)),Array.isArray(t.EntityResult.TEMPERATURE)&&(a=c.Zj(t.EntityResult.TEMPERATURE)),Array.isArray(t.EntityResult.MASS)&&(i=c.Zj(t.EntityResult.MASS)),this.setState({volumeUOMOptions:s,densityUOMOptions:e,massUOMOptions:i,temperatureUOMOptions:a,pressureUOMOptions:o})}}else console.log("Error in GetUOMList:",t.ErrorList)}))}catch(e){console.log("DeviceDetailsComposite:Error while getting GetUOMList")}}getCRDeviceDetails(e){let t=this.props.selectedTerminal;try{var s=[{key:D.tY,value:e},{key:D.uw,value:t}],i={ShareHolderCode:"",keyDataCode:D.tY,KeyCodes:s};E()(v.YRt,c.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){let e=g().cloneDeep(t.EntityResult);if(e.DeviceType=l.k6.CARD_READER,this.GetChannelsForDeviceTypes(l.I5.CARD_READER),this.setState({device:g().cloneDeep(e),modDevice:g().cloneDeep(e),isReadyToRender:!0,saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8)},(()=>{this.formAttributes(l.k6.CARD_READER,t.EntityResult.TerminalCode)})),t.EntityResult.AssociatedChannels.length>0){let e=g().cloneDeep(t.EntityResult.AssociatedChannels);e[0].ChannelType="TCP/IP",e[0].PrevChannelId=e[0].ChannelCode,e[0].PrevChnId=e[0].ChannelCode,e[0].IsPrevMultiDrop=t.EntityResult.MultiDrop?"1":"0",this.setState({modAssociatedChannel:e,associatedChannel:e})}else{let e=g().cloneDeep(this.state.modAssociatedChannel),t=g().cloneDeep(R.Fc);t.ReceiveTimeOut="",t.SendTimeOut="",t.RetryInterval="",t.ConnectionRetries="",e=[t],this.setState({modAssociatedChannel:e,associatedChannel:e})}}else this.setState({device:R.U5,modDevice:R.U5,modAttributeMetaDataList:[],associatedChannel:[g().cloneDeep(R.Fc)],modAssociatedChannel:[g().cloneDeep(R.Fc)],deviceModelOptions:[],isReadyToRender:!0}),console.log("Error in getDevice")}))}catch(a){console.log("DeviceDetailsComposite:Error while getting getCRDeviceDetails")}}getBCUDeviceDetails(e){let t=this.props.selectedTerminal;try{var s=[{key:D.wX,value:e}];void 0!==this.props.source&&null!==this.props.source||s.push({key:D.uw,value:t});var i={ShareHolderCode:"",keyDataCode:D.wX,KeyCodes:s};E()(v.T1y,c.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){let e=g().cloneDeep(t.EntityResult);if(e.DeviceType=l.k6.BCU,this.GetChannelsForDeviceTypes(l.I5.BCU),this.setState({device:g().cloneDeep(e),modDevice:g().cloneDeep(e),isReadyToRender:!0,saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8)},(()=>{this.formAttributes(l.k6.BCU,t.EntityResult.TerminalCode),this.getKPIList(l.I5.BCU,this.props.deviceCode)})),t.EntityResult.AssociatedChannels.length>0){let e=g().cloneDeep(t.EntityResult.AssociatedChannels);e[0].ChannelType="TCP/IP",e[0].PrevChannelId=e[0].ChannelCode,e[0].IsPrevMultiDrop=t.EntityResult.MultiDrop?"1":"0",e[0].PrevChnId=e[0].ChannelCode,this.setState({modAssociatedChannel:e,associatedChannel:e})}else{let e=g().cloneDeep(this.state.modAssociatedChannel),t=g().cloneDeep(R.Fc);t.ReceiveTimeOut="",t.SendTimeOut="",t.RetryInterval="",t.ConnectionRetries="",e=[t],this.setState({modAssociatedChannel:e,associatedChannel:e})}}else this.setState({device:R.U5,modDevice:R.U5,modAttributeMetaDataList:[],associatedChannel:[g().cloneDeep(R.Fc)],modAssociatedChannel:[g().cloneDeep(R.Fc)],deviceModelOptions:[],isReadyToRender:!0}),console.log("Error in getDevice")}))}catch(a){console.log("DeviceDetailsComposite:Error while getting getBCUDeviceDetails")}}getDEUDeviceDetails(e){try{var t=[{key:D.cx,value:e},{key:D.uw,value:this.props.selectedTerminal}],s={ShareHolderCode:"",keyDataCode:D.cx,KeyCodes:t};E()(v.Vsk,c.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){let e=g().cloneDeep(t.EntityResult);if(e.DeviceType=l.k6.DEU,this.GetChannelsForDeviceTypes(l.I5.DEU),this.setState({device:g().cloneDeep(e),modDevice:g().cloneDeep(e),isReadyToRender:!0,saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8)},(()=>{this.formAttributes(l.k6.DEU,t.EntityResult.TerminalCode)})),t.EntityResult.AssociatedChannels.length>0){let e=g().cloneDeep(t.EntityResult.AssociatedChannels);e[0].ChannelType="TCP/IP",this.setState({modAssociatedChannel:e,associatedChannel:e})}else{let e=g().cloneDeep(this.state.modAssociatedChannel),t=g().cloneDeep(R.Fc);t.ReceiveTimeOut="",t.SendTimeOut="",t.RetryInterval="",t.ConnectionRetries="",e=[t],this.setState({modAssociatedChannel:e,associatedChannel:e})}}else this.setState({device:R.U5,modDevice:R.U5,modAttributeMetaDataList:[],associatedChannel:[g().cloneDeep(R.Fc)],modAssociatedChannel:[g().cloneDeep(R.Fc)],deviceModelOptions:[],isReadyToRender:!0}),console.log("Error in getDevice")}))}catch(i){console.log("DeviceDetailsComposite:Error while getting geDEUDeviceDetails")}}getWBDeviceDetails(e){try{var t=[{key:D.bW,value:e},{key:D.uw,value:this.props.selectedTerminal}],s={ShareHolderCode:"",keyDataCode:D.bW,KeyCodes:t};E()(v.Ck6,c.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){let e=g().cloneDeep(t.EntityResult);e.DeviceType=l.k6.WEIGH_BRIDGE,this.GetChannelsForDeviceTypes(l.I5.WEIGH_BRIDGE),this.setState({device:g().cloneDeep(e),modDevice:g().cloneDeep(e),isReadyToRender:!0,saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8)},(()=>{this.formAttributes(l.k6.WEIGH_BRIDGE,t.EntityResult.TerminalCode)}));let s=g().cloneDeep(this.state.modAssociatedChannel),i=g().cloneDeep(R.Fc);i.ReceiveTimeOut="",i.SendTimeOut="",i.RetryInterval="",i.ConnectionRetries="",s=[i],this.setState({modAssociatedChannel:s,associatedChannel:s})}else this.setState({device:R.U5,modDevice:R.U5,modAttributeMetaDataList:[],associatedChannel:[g().cloneDeep(R.Fc)],modAssociatedChannel:[g().cloneDeep(R.Fc)],deviceModelOptions:[],isReadyToRender:!0}),console.log("Error in getDevice")}))}catch(i){console.log("DeviceDetailsComposite:Error while getting geDEUDeviceDetails")}}getDeviceTypes(){try{E()(v.eZ_,c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){var s=c.Zj(t.EntityResult);this.setState({deviceTypeOptions:s})}}else console.log("Error in getDeviceTypes:",t.ErrorList)}))}catch(e){console.log("DeviceDetailsComposite:Error while getting getDeviceTypes")}}getDeviceModels(){try{E()(v.Rvo,c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=[],s=t.EntityResult;Array.isArray(t.EntityResult.CARD_READER)&&this.props.deviceType===l.k6.CARD_READER&&(e=c.Zj(t.EntityResult.CARD_READER)),Array.isArray(t.EntityResult.BCU)&&this.props.deviceType===l.k6.BCU&&(e=c.Zj(t.EntityResult.BCU)),""!==this.props.deviceType&&"BCU"!==this.state.deviceTypeOptions||(e=c.Zj(t.EntityResult.BCU)),Array.isArray(t.EntityResult.DEU)&&this.props.deviceType===l.k6.DEU&&(e=c.Zj(t.EntityResult.DEU)),Array.isArray(t.EntityResult.WEIGH_BRIDGE)&&this.props.deviceType===l.k6.WEIGH_BRIDGE&&(e=c.Zj(t.EntityResult.WEIGH_BRIDGE)),this.setState({deviceModelOptions:e,deviceModelsObject:s})}else console.log("Error in getDeviceModels:",this.state.deviceModelOptions)}))}catch(e){console.log("DeviceDetailsComposite:Error while getting getDeviceModels")}}GetChannelsForDeviceTypes(e){try{E()(v.NuL+"?deviceType="+e,c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=[];t.EntityResult.forEach((t=>{e.push(t.ChannelCode)}));var s=c.Zj(e);this.setState({channelCodeOptions:s,deviceTypeChannels:t.EntityResult})}}else console.log("Error in getChannelType:",t.ErrorList)}))}catch(t){console.log("DeviceDetailsComposite:Error while getting getChannelType")}}getChannelType(){try{E()(v.cOw,c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){var s=c.Zj(t.EntityResult);this.setState({channelTypeOptions:s})}}else console.log("Error in getChannelType:",t.ErrorList)}))}catch(e){console.log("DeviceDetailsComposite:Error while getting getChannelType")}}validateSave(e,t){var s=!0;try{const a={...this.state.validationErrors},o={...this.state.channelValidationErrors};Object.keys(S.lH).forEach((function(t){void 0!==e[t]&&(a[t]=c.jr(S.lH[t],e[t]))})),void 0!==e.AssociatedChannels&&null!==e.AssociatedChannels&&e.AssociatedChannels.length>0&&(Object.keys(S.oZ).forEach((function(t){void 0!==e.AssociatedChannels[0][t]&&(o[t]=c.jr(S.oZ[t],e.AssociatedChannels[0][t]))})),""===e.AssociatedChannels[0].SecondaryAddress||null===e.AssociatedChannels[0].SecondaryAddress||""!==e.AssociatedChannels[0].SecondaryPort&&null!==e.AssociatedChannels[0].SecondaryPort?""!==e.AssociatedChannels[0].SecondaryAddress&&null!==e.AssociatedChannels[0].SecondaryAddress||""===e.AssociatedChannels[0].SecondaryPort||null===e.AssociatedChannels[0].SecondaryPort||(o.SecondaryAddress="Channel_MandatorySPRegex"):o.SecondaryPort="Channel_MandatorySPNos"),this.props.deviceType===l.k6.BCU||e.DeviceType===l.k6.BCU?e.Model.toUpperCase()===l.RG.AcculoadIII.toUpperCase()||e.Model.toUpperCase()===l.RG.AcculoadIV.toUpperCase()||e.Model.toUpperCase()===l.RG.DanLoad.toUpperCase()||e.Model.toUpperCase()===l.RG.VirtualPreset.toUpperCase()||null!==e.NodeAddress&&""!==e.NodeAddress||(a.NodeAddress="DeviceInfo_NodeAddressRequired"):this.props.deviceType===l.k6.CARD_READER||e.DeviceType===l.k6.CARD_READER?null!==e.NodeAddress&&""!==e.NodeAddress||(a.NodeAddress="DeviceInfo_NodeAddressRequired"):this.props.deviceType!==l.k6.WEIGH_BRIDGE&&e.DeviceType!==l.k6.WEIGH_BRIDGE||null!==e.WeightUOM&&""!==e.WeightUOM||(a.WeightUOM="WB_UOMRequired"),e.Active!==this.state.device.Active&&(null!==e.Remarks&&""!==e.Remarks||(a.Remarks="OriginTerminal_RemarksRequired"));var i=g().cloneDeep(this.state.attributeValidationErrors);t.forEach((e=>{i.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{!0===e.IsVisible&&(t.attributeValidationErrors[e.Code]=c.I5(e,e.DefaultValue))}))}))})),this.setState({attributeValidationErrors:i,validationErrors:a,channelValidationErrors:o}),i.forEach((e=>{if(!s)return s;s=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),s&&(s=Object.values(o).every((function(e){return""===e}))),s&&(s=Object.values(a).every((function(e){return""===e})))}catch(a){console.log("DeviceDetailsComposite : Error in validate save",a)}return s}getTransloadingDetails(){try{E()(v.xAA+"?LookUpTypeCode=Transloading",c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?null!=t.EntityResult?this.setState({isMarineTransLoading:"TRUE"===t.EntityResult.MarineEnable.toUpperCase(),isRailTransloading:"TRUE"===t.EntityResult.RAILEnable.toUpperCase()}):this.setState({isMarineTransLoading:!1,isRailTransloading:!1}):(this.setState({isMarineTransLoading:!1,isRailTransloading:!1}),console.log("Error in getTransloadingDetails: ",t.ErrorList))})).catch((e=>{this.setState({productAllocationList:[],productShareholderAllocationList:[],ProdAllocEntity:""}),console.log("DeviceDetailsComposite: Error occurred on getTransloadingDetails",e)}))}catch(e){console.log("DeviceDetailsComposite: Error occurred on getTransloadingDetails",e)}}fillDetails(){try{let e={},t=g().cloneDeep(this.state.modAssociatedChannel);return e=g().cloneDeep(this.state.modDevice),e.TerminalCode=this.props.selectedTerminal,e.LastUpdatedBy=this.props.userDetails.EntityResult.Firstname+" "+this.props.userDetails.EntityResult.LastName,e.DeviceType===l.k6.DEU&&(e.ResponseWaitTime<=0&&(e.ResponseWaitTime=3e3),e.RefreshTime<=0&&(e.RefreshTime=3e3)),e.DeviceType===l.k6.CARD_READER&&(e.Model!==l.RG.Nedap&&e.Model!==l.RG.SIMATIC_BARCODE&&e.Model!==l.RG.MORPHO_BIOMETRIC||(e.NodeAddress="0")),e.DeviceType===l.k6.BCU&&(e.Model!==l.RG.AcculoadIII&&e.Model!==l.RG.AcculoadIV&&e.Model!==l.RG.DanLoad&&e.Model!==l.RG.VirtualPreset||(e.NodeAddress="0"),e.SCADAConfiguration=null),void 0!==t&&null!==t&&t.length>0&&""!==t[0].ChannelCode&&(e.AssociatedChannels=t),e}catch(e){console.log("DeviceDetailsComposite:Error occured on filldetails",e)}}CreateCardReaderDevice(e){try{let t=[{key:D.tY,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.tY,KeyCodes:t,Entity:e},i={messageType:"critical",message:["CARDREADERSavedSuccess"],messageResultDetails:[{keyFields:["DEU_CardReaderID"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.mxc,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getCRDeviceDetails(e.Code))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"add",i)})).catch((t=>{this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",i)}))}catch(t){console.log("error",t)}}CreateDEUDevice(e){try{let t=[{key:D.cx,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.cx,KeyCodes:t,Entity:e},i={messageType:"critical",message:["DEUSavedSuccess"],messageResultDetails:[{keyFields:["DEUCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.Npf,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;!0===s.IsSuccess?(i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getDEUDeviceDetails(e.Code)))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"add",i)})).catch((t=>{this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",i)}))}catch(t){console.log("error",t)}}CreateWBDevice(e){try{let t=[{key:D.bW,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.bW,KeyCodes:t,Entity:e},i={messageType:"critical",message:["WeighBridgeSavedSuccess"],messageResultDetails:[{keyFields:["WeighBridgeCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.mnr,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;!0===s.IsSuccess?(i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getWBDeviceDetails(e.Code)))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"add",i)})).catch((t=>{this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",i)}))}catch(t){console.log("error",t)}}UpdateCardReaderDevice(e){try{let t=[{key:D.tY,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.tY,KeyCodes:t,Entity:e},i={messageType:"critical",message:["CARDREADERSavedSuccess"],messageResultDetails:[{keyFields:["DEU_CardReaderID"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.ncs,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getCRDeviceDetails(e.Code))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"update",i)}))}catch(t){console.log("error",t)}}UpdateDEUDevice(e){try{let t=[{key:D.cx,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.cx,KeyCodes:t,Entity:e},i={messageType:"critical",message:["DEUSavedSuccess"],messageResultDetails:[{keyFields:["DEUCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.i0v,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;!0===s.IsSuccess?(i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getDEUDeviceDetails(e.Code)))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"update",i)}))}catch(t){console.log("error",t)}}UpdateWBDevice(e){try{let t=[{key:D.bW,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.bW,KeyCodes:t,Entity:e},i={messageType:"critical",message:["WeighBridgeSavedSuccess"],messageResultDetails:[{keyFields:["WeighBridgeCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.FfA,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;!0===s.IsSuccess?(i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getWBDeviceDetails(e.Code)))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"update",i)}))}catch(t){console.log("error",t)}}UpdateBCUDevice(e){try{let t=[{key:D.wX,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.wX,KeyCodes:t,Entity:e},i={messageType:"critical",message:["BCUSavedSuccess"],messageResultDetails:[{keyFields:["BCUCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.W69,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getBCUDeviceDetails(e.Code))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1})),this.props.onSaved(this.state.modDevice,"update",i)}))}catch(t){console.log("DeviceDetailsComposite:Error occured on updateDevice",t)}}formAttributes(e,t){try{var s=e===l.k6.BCU?g().cloneDeep(this.state.attributeMetaDataList.bcu):e===l.k6.CARD_READER?g().cloneDeep(this.state.attributeMetaDataList.cardreader):e===l.k6.WEIGH_BRIDGE?g().cloneDeep(this.state.attributeMetaDataList.weighbridge):e===l.k6.DEU?g().cloneDeep(this.state.attributeMetaDataList.deu):[],i=[];let n=[];if(s.length>0){i=g().cloneDeep(this.state.modAttributeMetaDataList);const r=e===l.k6.BCU?this.state.bcuAttributeValidationErrors:e===l.k6.CARD_READER?this.state.crAttributeValidationErrors:e===l.k6.WEIGH_BRIDGE?this.state.wbAttributeValidationErrors:e===l.k6.DEU?this.state.deuAttributeValidationErrors:[];let c=void 0===t||null===t||""===t?s[0].TerminalCode:t;var a=g().cloneDeep(this.state.modDevice),o=i.find((e=>e.TerminalCode===c));void 0===o?s.forEach((function(e){if(e.TerminalCode===c){var t=a.Attributes.find((e=>e.TerminalCode===c));void 0!==t&&e.attributeMetaDataList.forEach((function(e){var s=t.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==s&&(e.DefaultValue=s.AttributeValue)})),n.push(e)}})):n.push(o),i=[],i=n,r.forEach((e=>{void 0===[c].find((t=>e.TerminalCode===t))&&Object.keys(e.attributeValidationErrors).forEach((t=>e.attributeValidationErrors[t]=""))})),this.setState({modAttributeMetaDataList:i,attributeValidationErrors:r})}}catch(n){console.log("DeviceDetailsComposite:Error occured on localNodeAttribute",n)}}GetChannel(e){let t={};try{var s=[{key:D.T5,value:e}],i={ShareHolderCode:"",keyDataCode:D.T5,KeyCodes:s};E()(v.uLk,c.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{let s=e.data;if(s.IsSuccess){t=s.EntityResult;let e=g().cloneDeep(this.state.modAssociatedChannel);void 0!==t&&void 0!==t.ChannelCode&&(e=[t],e[0].ChannelType="TCP/IP",e[0].PrevChannelId=e[0].ChannelCode,e[0].IsPrevMultiDrop=s.EntityResult.MultiDrop?"1":"0"),this.setState({modAssociatedChannel:e})}})).catch((e=>{console.log("Error in getting channel information",e)}))}catch(a){console.log("Error in getting channelInfo",a)}}CreateBCUDevice(e){try{let t=[{key:D.wX,value:e.Code}],s={ShareHolderCode:"",keyDataCode:D.wX,KeyCodes:t,Entity:e},i={messageType:"critical",message:["BCUSavedSuccess"],messageResultDetails:[{keyFields:["BCUCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};E()(v.$se,c.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let s=t.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.H8),showAuthenticationLayout:!1},(()=>this.getBCUDeviceDetails(e.Code))):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1}),console.log("Error in CreateDevice:",s.ErrorList)),this.props.onSaved(e,"add",i)})).catch((t=>{this.setState({saveEnabled:c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.H8),showAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",i)}))}catch(t){console.log("error",t)}}getKPIList(e,t){if(!0===c.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.view,I.bL)){let s={PageName:M.AQ,InputParameters:[{key:"DeviceType",value:e},{key:"DeviceCode",value:t}]};E()(v.dxq,c.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({deviceKPIList:t.EntityResult.ListKPIDetails}):(this.setState({deviceKPIList:[]}),console.log("Error in device KPIList:",t.ErrorList))})).catch((e=>{console.log("Error while getting Driver KPIList:",e)}))}}render(){const e=[{fieldName:"DriverInfo_LastUpdated",fieldValue:this.props.deviceType===l.k6.CARD_READER?new Date(this.state.modDevice.LastUpdated).toLocaleDateString()+" "+new Date(this.state.modDevice.LastUpdated).toLocaleTimeString():new Date(this.state.modDevice.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modDevice.LastUpdatedTime).toLocaleTimeString()},{fieldName:"DriverInfo_LastActive",fieldValue:void 0!==this.state.modDevice.LastActive&&null!==this.state.modDevice.LastActive?new Date(this.state.modDevice.LastActive).toLocaleDateString()+" "+new Date(this.state.modDevice.LastActive).toLocaleTimeString():""},{fieldName:"DriverInfo_CreatedTime",fieldValue:this.props.deviceType===l.k6.CARD_READER?new Date(this.state.modDevice.Created).toLocaleDateString()+" "+new Date(this.state.modDevice.Created).toLocaleTimeString():new Date(this.state.modDevice.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modDevice.CreatedTime).toLocaleTimeString()},{fieldName:"SealMasterList_LastUpdatedBy",fieldValue:this.state.modDevice.LastUpdatedBy}];let t=[];this.state.isMarineTransLoading&&t.push("MARINE"),this.state.isRailTransloading&&t.push("RAIL");let s=void 0!==this.props.deviceType&&null!==this.props.deviceType&&""!==this.props.deviceType?this.props.deviceType:this.state.modDevice.DeviceType;return this.state.isReadyToRender?(0,d.jsxs)("div",{children:[(0,d.jsx)(r.A,{children:(0,d.jsx)(p.A,{entityCode:this.state.device.Code,newEntityName:"NewDevice",popUpContents:e})}),(0,d.jsx)(L.A,{KPIList:this.state.deviceKPIList,children:" "}),(0,d.jsx)(r.A,{children:(0,d.jsx)(h,{device:this.state.device,modDevice:this.state.modDevice,modAssociatedChannel:this.state.modAssociatedChannel,onFieldChange:this.handleChange,onChannelFieldChange:this.handleChannelChange,listOptions:{deviceTypeOptions:this.state.deviceTypeOptions,deviceModelOptions:this.state.deviceModelOptions,channelTypeOptions:this.state.channelTypeOptions,channelCodeOptions:this.state.channelCodeOptions,densityUOMOptions:this.state.densityUOMOptions,volumeUOMOptions:this.state.volumeUOMOptions,massUOMOptions:this.state.massUOMOptions,temperatureUOMOptions:this.state.temperatureUOMOptions,pressureUOMOptions:this.state.pressureUOMOptions,transloadingOptions:t},deviceType:s,selectedCardReaderAttributeList:this.state.selectedCardReaderAttributeList,modAttributeMetaDataList:this.state.modAttributeMetaDataList,attributeValidationErrors:this.state.attributeValidationErrors,onAttributeDataChange:this.handleAttributeDataChange,onActiveStatusChange:this.handleActiveStatusChange,validationErrors:this.state.validationErrors,channelValidationErrors:this.state.channelValidationErrors,isMarineTransloading:this.state.isMarineTransLoading,isRailTransloading:this.state.isRailTransloading,isBCU:""!==this.state.device.Code&&this.state.modDevice.DeviceType===l.k6.BCU&&this.state.modDevice.Model.toUpperCase()===l.RG.MSCL.toUpperCase(),handleSkipLocalLoadFetch:this.handleSetBCUSkipLocalLoadFetch,enableSkipLocalLoadFetch:this.state.saveEnabled})}),(0,d.jsx)(r.A,{children:this.props.IsSiteView?(0,d.jsx)(u.E,{isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,handleSave:this.handleSave,handleDelete:this.handleDelete,saveEnabled:this.state.saveEnabled,isDeleteEnabled:this.state.isDeleteEnabled,isBCU:this.state.modDevice.DeviceType===l.k6.BCU&&this.state.modDevice.Model.toUpperCase()===l.RG.MSCL.toUpperCase(),handleSkipLocalLoadFetch:this.handleSetBCUSkipLocalLoadFetch}):(0,d.jsx)(r.A,{children:(0,d.jsx)(T.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})})}),this.state.showAuthenticationLayout?(0,d.jsx)(N.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.device.Code?I.i.add:I.i.modify,functionGroup:I.H8,handleOperation:this.saveDevice,handleClose:this.handleAuthenticationClose}):null]}):(0,d.jsx)(b.A,{message:"Loading"})}}const U=(0,m.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(f)},80432:(e,t,s)=>{s.d(t,{E:()=>n});var i=s(65043),a=s(72711),o=s(67907),l=s(70579);function n(e){let{handleDelete:t,handleSave:s,isDeleteEnabled:n,saveEnabled:r,isEnterpriseNode:c,isBCU:d,handleSkipLocalLoadFetch:h}=e;const[u,p]=(0,i.useState)(!1);return(0,l.jsxs)("div",{children:[(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-lg-12 pr-4 mt-2",style:{textAlign:"right"},children:[(0,l.jsx)(a.Button,{content:e("Loadingarm_Delete"),className:!0===c||!0!==n?"cancelENButton":"cancelButton",disabled:!n||!0===c,onClick:()=>{p(!0)}}),(0,l.jsx)(a.Button,{content:e("Save"),disabled:!r||!0===c,onClick:s})]})})}),(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsxs)(a.Modal,{open:u,size:"small",children:[(0,l.jsx)(a.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(a.Modal.Footer,{children:[(0,l.jsx)(a.Button,{type:"secondary",content:e("Cancel"),onClick:()=>p(!1)}),(0,l.jsx)(a.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{p(!1),t()}})]})]})})]})}n.defaultProps={saveEnabled:!0,isDeleteEnabled:!1}},43503:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var i=s(67907),a=s(72711),o=s(70579);function l(e){let{entityCode:t,newEntityName:s,popUpContents:l}=e;return(0,o.jsx)(i.TranslationConsumer,{children:e=>(0,o.jsx)("div",{className:"headerContainer",children:(0,o.jsxs)("div",{className:"row headerSpacing",children:[(0,o.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,o.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(s):t})}),""!==t&&void 0!==t&&l.length>0?(0,o.jsx)("div",{className:"headerItemRight",children:(0,o.jsx)(a.Popup,{element:(0,o.jsxs)("div",{children:[e(l[0].fieldName)+" ",":"," "+l[0].fieldValue,(0,o.jsx)(a.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,o.jsx)(a.List,{className:"detailsHeaderPopUp",children:l.map((t=>(0,o.jsxs)(a.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}l.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const n=l},9256:(e,t,s)=>{s.d(t,{q:()=>l});s(65043);var i=s(72711),a=s(67907),o=s(70579);function l(e){let{handleBack:t,handleSave:s,handleReset:l,saveEnabled:n}=e;return(0,o.jsx)(a.TranslationConsumer,{children:e=>(0,o.jsxs)("div",{className:"row userActionPosition",children:[(0,o.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,o.jsx)(i.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,o.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,o.jsxs)("div",{style:{float:"right"},children:[(0,o.jsx)(i.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:l}),(0,o.jsx)(i.Button,{content:e("Save"),disabled:!n,onClick:s})]})})]})})}l.defaultProps={saveEnabled:!1}},85800:(e,t,s)=>{s.d(t,{n:()=>r});s(65043);var i=s(72711),a=s(67907),o=s(7523),l=s(35861),n=s(70579);function r(e){let{selectedAttributeList:t,handleCellDataEdit:s,attributeValidationErrors:r}=e;const c=e=>{if("0000-00-00"===e.DefaultValue)return d(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},d=(e,t)=>{var i=new Date(t);t=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+i.getDate()).slice(-2),s(e,t)};return(0,n.jsx)(a.TranslationConsumer,{children:e=>(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,n.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===o.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(r[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==o.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==o.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==o.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==o.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===o.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>s(t,e)})}):t.DataType.toLowerCase()===o.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":c(t),label:e(t.DisplayName),displayFormat:(0,l.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>d(t,e),onTextChange:e=>{d(t,e)},error:e(r[t.Code]),reserveSpace:!1})}):null:(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(r[t.Code]),reserveSpace:!1})}):(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(r[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,s)=>{s.d(t,{$7:()=>f,AN:()=>se,AU:()=>L,Ak:()=>Ve,Ao:()=>i,B6:()=>Y,C4:()=>we,CG:()=>X,Ct:()=>K,Cw:()=>j,EY:()=>T,G$:()=>Ye,G6:()=>Qe,GF:()=>pe,GJ:()=>x,Gj:()=>he,Gl:()=>oe,H9:()=>Ze,HB:()=>be,HP:()=>S,Hr:()=>Te,II:()=>at,IQ:()=>g,Jr:()=>F,Jx:()=>ye,Ki:()=>te,LP:()=>ae,Lv:()=>o,MK:()=>E,MX:()=>ee,Mx:()=>q,N4:()=>ke,NH:()=>me,OF:()=>ze,Ps:()=>B,Q7:()=>Ke,QY:()=>w,SF:()=>l,Sq:()=>Ae,Sw:()=>ne,TQ:()=>$,U7:()=>b,UH:()=>C,UO:()=>le,V_:()=>Ne,Vy:()=>He,W9:()=>ce,WN:()=>y,Wr:()=>a,Ww:()=>Q,XP:()=>Me,Xk:()=>Z,Yb:()=>Ie,Yy:()=>D,Z2:()=>xe,ZN:()=>U,ZO:()=>Re,Zu:()=>Fe,_G:()=>W,_N:()=>h,_u:()=>de,ad:()=>re,al:()=>ge,ao:()=>H,bK:()=>V,bN:()=>m,cf:()=>O,dO:()=>fe,dU:()=>p,dv:()=>n,eE:()=>J,g:()=>A,gG:()=>r,gS:()=>Le,gT:()=>st,gW:()=>z,gZ:()=>$e,go:()=>M,gp:()=>G,hq:()=>Oe,i6:()=>et,ip:()=>ue,k9:()=>v,kI:()=>R,l4:()=>je,l5:()=>I,lA:()=>k,lU:()=>Xe,mD:()=>Ge,mY:()=>P,mq:()=>c,n$:()=>it,n7:()=>u,nZ:()=>Ue,rA:()=>Pe,s$:()=>Be,s8:()=>_e,se:()=>Ee,tA:()=>Se,vK:()=>tt,vs:()=>Ce,w2:()=>Je,w4:()=>ve,wT:()=>d,wY:()=>N,wf:()=>De,wk:()=>ie,xW:()=>_,yM:()=>We,yO:()=>qe});const i="driver",a="carriercompany",o="shareholder",l="baseProduct",n="TRAILER",r="TRAILERCOMPARTMENT",c="terminal",d="customer",h="destination",u="finishedproduct",p="tank",D="marine_vessel",v="marine_trailercompartment",C="supplier",E="vehicle",m="vehicletrailer",y="originterminal",g="bay",R="loadingArm",I="cardreader",A="vehicleprimemover",S="meter",T="SHIPMENT",b="SHIPMENTCOMPARTMENT",L="SHIPMENTDESTINATIONCOMPARTMENT",M="SHIPMENTDETAILS",N="SHIPMENTTRAILERWEIGHBRIDGE",f="SHIPMENTTRAILER",U="SHIPMENTSTATUSTIME",O="MARINEDISPATCH",k="MARINEDISPATCHCOMPARTMENTDETAIL",x="railwagon",j="primemover",P="bcu",w="RAILRECEIPTPLAN",B="RAILRECEIPTWAGONDETAILPLAN",H="RAILUNLOADINGDETAILSFP",G="RAILUNLOADINGDETAILSBP",_="RAILUNLOADINGDETAILSADDITIVE",F="RAILDISPATCHPLAN",V="RAILDISPATCHITEM",W="RAILDISPATCHSTATUSCHANGE",q="RAILDISPATCHWAGON",K="RAILDISPATCHWAGONDETAILPLAN",Z="RAILDISPATCHWAGONWEIGHBRIDGE",Y="RAILDISPATCHWAGONCOMPARTMENT",J="RAILLOADINGDETAILSFP",X="RAILLOADINGDETAILSBP",z="RAILLOADINGDETAILSADDITIVE",Q="marineReceipt",$="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",se="marineLoadingDetailsAdditive",ie="marineLoadingDetailsBP",ae="marineReceiptCompartmentDetail",oe="marineUnloadingDetailsFP",le="marineUnloadingDetailsBP",ne="accessCard",re="LOADINGDETAILSFP",ce="LOADINGDETAILSBP",de="LOADINGDETAILSADDITIVE",he="MARINERECEIPTSTATUSTIME",ue="MARINEDISPATCHSTATUSTIME",pe="RECEIPT",De="UNLOADINGTRANSACTIONS",ve="ORDER",Ce="ORDERITEM",Ee="CONTRACT",me="CONTRACT_ITEM",ye="RECEIPTORIGINTERMINALCOMPARTMENT",ge="GeneralTMUser_CAPTAIN",Re="weighbridge",Ie="deu",Ae="GeneralTMUser_STAFF",Se="GeneralTMUser_VISITOR",Te="PIPELINEHEADER",be="SEALMASTER",Le="PIPELINERECEIPT",Me="ROADSHIPMENTSLOTINFO",Ne="ROADRECEIPTSLOTINFO",fe="MARINESHIPMENTSLOTINFO",Ue="MARINERECEIPTSLOTINFO",Oe="PIPELINEDISPATCH",ke="PIPELINETRANSACTIONS",xe="PIPELINEDISPATCHSTATUSTIME",je="PIPELINERECEIPTSTATUSTIME",Pe="PROCESSCONFIG",we="PRODUCTALLOCATIONITEM",Be="HSEINSPECTIONSHIPMENTRIGIDTRUCK",He="HSEINSPECTIONSHIPMENTTRAILER",Ge="HSEINSPECTIONSHIPMENTPRIMEMOVER",_e="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Fe="HSEINSPECTIONMARINESHIPMENTBARGE",Ve="HSEINSPECTIONMARINESHIPMENTSHIP",We="HSEINSPECTIONSHIPMENTRAILWAGON",qe="HSEINSPECTIONSHIPMENTPIPELINE",Ke="HSEINSPECTIONRECEIPTRIGIDTRUCK",Ze="HSEINSPECTIONRECEIPTTRAILER",Ye="HSEINSPECTIONRECEIPTPRIMEMOVER",Je="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Xe="HSEINSPECTIONMARINERECEIPTBARGE",ze="HSEINSPECTIONMARINERECEIPTSHIP",Qe="HSEINSPECTIONRECEIPTRAILWAGON",$e="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",st="COAMANAGEMENT",it="COACUSTOMER",at="COAASSIGNMENT"},35861:(e,t,s)=>{s.d(t,{F1:()=>n,i7:()=>r,r4:()=>l});var i=s(86178),a=s.n(i),o=(s(15660),s(65043),s(70579));function l(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function n(){let e=window.navigator.userLanguage||window.navigator.language;return a().locale(e),a().localeData().longDateFormat("L")}function r(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=4914.247fc492.chunk.js.map