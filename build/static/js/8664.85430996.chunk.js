"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[8664],{58664:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var r=a(65043),i=a(97508),s=(a(92342),a(14159)),n=a(11981),o=a(65187),l=a(40854),d=a.n(l),c=a(72067),h=a(69062),m=a(93779),p=a(72711),u=a(67907),D=(a(60663),a(728)),v=a(45127),T=a(7523),x=a(70579);D.setLicenseKey(T.yQ);class g extends r.Component{constructor(){super(...arguments),this.state={drawerClassName:"",tankInventory:[],dispatchProductsThroughput:[],dispatchPalette:[],receiptProductsThroughput:[],receiptPalette:[]},this.isDisplayDrawer=()=>{let e=this.state.drawerClassName;e=""===e?"marineDashboardDrawerShow":"",this.setState({drawerClassName:e})}}getDispatchProductsThroughput(){const e=[{key:"Date",value:new Date},{key:"TransactionType",value:"DISPATCH"},{key:m.v6,value:this.props.transportationType}],t={ShareHolderCode:this.props.userDetails.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:e};d()(c.fZx,h.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess)if(null===t.EntityResult)this.setState({dispatchProductsThroughput:t.EntityResult});else{let e=t.EntityResult.ProductThroughputItems,a=[],r=[];e.forEach((e=>{let i={name:e.ProductCode,volQty:e.VolQty,volumeUOM:t.EntityResult.VolumeUOM,massQty:e.MassQty,massUOM:t.EntityResult.MassUOM},s="#"+e.Color;a.push(i),r.push(s)})),this.setState({dispatchProductsThroughput:a,dispatchPalette:r})}else console.log("Error in getProductsThroughput: ",t.ErrorList)})).catch((e=>{console.log("OperatorDashboardDetailsComposite: Error occurred on getProductsThroughput",e)}))}getReceiptProductsThroughput(){const e=[{key:"Date",value:new Date},{key:"TransactionType",value:"RECEIPT"},{key:m.v6,value:this.props.transportationType}],t={ShareHolderCode:this.props.userDetails.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:e};d()(c.fZx,h.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess)if(null===t.EntityResult)this.setState({receiptProductsThroughput:t.EntityResult});else{let e=t.EntityResult.ProductThroughputItems,a=[],r=[];e.forEach((e=>{let i={name:e.ProductCode,volQty:e.VolQty,volumeUOM:t.EntityResult.VolumeUOM,massQty:e.MassQty,massUOM:t.EntityResult.MassUOM},s="#"+e.Color;r.push(s),a.push(i)})),this.setState({receiptProductsThroughput:a,receiptPalette:r})}else console.log("Error in getProductsThroughput: ",t.ErrorList)})).catch((e=>{console.log("OperatorDashboardDetailsComposite: Error occurred on getProductsThroughput",e)}))}getTankInventory(){d()(c.J6s,h.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?this.setState({tankInventory:t.EntityResult}):console.log("Error in getShifts: ",t.ErrorList)})).catch((e=>{console.log("OperatorDashboardDetailsComposite: Error occurred on gerShifts",e)}))}componentDidMount(){this.getTankInventory(),this.getDispatchProductsThroughput(),this.getReceiptProductsThroughput()}render(){const{tankInventory:e,dispatchProductsThroughput:t,dispatchPalette:a,receiptProductsThroughput:r,receiptPalette:i,drawerClassName:s}=this.state;return(0,x.jsx)("div",{children:(0,x.jsx)(u.TranslationConsumer,{children:n=>(0,x.jsxs)("div",{className:"marineDashboardDrawer "+s,children:[(0,x.jsx)("div",{className:"marineDashboardDrawerButton",onClick:this.isDisplayDrawer,children:(0,x.jsx)(p.Icon,{name:""===s?"menu-icon":"close",size:"medium"})}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)("h3",{style:{marginTop:-10,fontWeight:630},children:n("MarineDashboard_ThroughputSummary")}),(0,x.jsx)(p.Divider,{fitted:!0}),(0,x.jsxs)(p.Tab,{children:[(0,x.jsx)(p.Tab.Pane,{className:"marineDashboardThroughputSummaryTab",title:n("MarineDashboard_Loading"),children:null===t?(0,x.jsx)("div",{className:"marineDashboardNoDataAvailable",children:n("MarineDashboard_NoDataAvailable")}):(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"container-fluid",style:{paddingLeft:0},children:(0,x.jsxs)(v.w7,{header:"",style:{height:369},bindingName:"name",binding:"volQty",innerRadius:.9,itemsSource:t,palette:a,plotMargin:"0 100 0 100 ",children:[(0,x.jsx)(v.A,{position:"Outside",offset:3,content:e=>D.format("{val} ",{val:e.item.massQty>0?e.item.massQty.toLocaleString()+" "+e.item.massUOM:e.value.toLocaleString()+" "+e.item.volumeUOM})}),(0,x.jsx)(v.tN,{position:"Bottom"})]})})})}),(0,x.jsx)(p.Tab.Pane,{className:"marineDashboardThroughputSummaryTab",title:n("MarineDashboard_Unloading"),children:null===r?(0,x.jsx)("div",{className:"marineDashboardNoDataAvailable",children:n("MarineDashboard_NoDataAvailable")}):(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"container-fluid",style:{paddingLeft:0},children:(0,x.jsxs)(v.w7,{header:"",style:{height:369},bindingName:"name",binding:"volQty",innerRadius:.9,itemsSource:r,palette:i,plotMargin:"0 100 0 100 ",children:[(0,x.jsx)(v.A,{position:"Outside",content:e=>{try{return D.format("{val} ",{val:e.item.massQty>0?e.item.massQty.toLocaleString()+" "+e.item.massUOM:e.value.toLocaleString()+" "+e.item.volumeUOM})}catch(t){return console.log("error in wjChart.FlexPieDataLabel "+t),D.format("{val} ",{val:e.item.massQty>0?e.item.massQty+" "+e.item.massUOM:e.value+" "+e.item.volumeUOM})}}}),(0,x.jsx)(v.tN,{position:"Bottom"})]})})})})]})]}),(0,x.jsx)(p.Divider,{fitted:!0}),(0,x.jsx)("h3",{style:{marginTop:12,fontWeight:630},children:n("MarineDashboard_CurrentTankInventory")}),(0,x.jsx)(o.A,{children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"marineDashboardThroughputSummaryListTitle",children:n("MarineDashboard_ProductName")}),e.map((e=>(0,x.jsx)("div",{className:"marineDashboardThroughputSummaryListContent",children:e.ProductCode})))]}),(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"marineDashboardThroughputSummaryListTitle",children:n("MarineDashboard_ActiveTank")}),e.map((e=>(0,x.jsx)("div",{className:"marineDashboardThroughputSummaryListContent",children:e.TankCode})))]}),(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"marineDashboardThroughputSummaryListTitle",children:n("MarineDashboard_CurrentStock")}),e.map((e=>{try{return(0,x.jsx)("div",{className:"marineDashboardThroughputSummaryListContent",children:null===e.GrossVolume?"null":e.GrossVolume.toLocaleString()})}catch(t){return console.log("error in List.Content "+t),null}}))]})]})})]})})})}}const j=(0,i.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(g);var S=a(80312),C=a(46100),y=a(53536),b=a.n(y),O=a(44192),f=a(40252);function N(e){let{getRailLiveOrderDetails:t,getRailOrderDetails:a,handleOpen:i,openBoolean:s,hdnFGPrintBOL:n,hdnFGPrintBOD:o,hdnFGShipClose:l,hdnFGRecClose:d,orderDetails:c,orderProductDetails:h,orderloadedPartCommpartmentList:m,orderloadedOtherCommpartmentList:D,getOrderDetails:v,print:g,forceClose:j,transportationType:S,filteredBayDetails:C,btnGoLiveClick:y,btnForwardClick:b,btnBackwardClick:O,ShiftsData:N,CurrentShift:L,DashboardConfig:E,transactionAndDeviceStatus:I,getQueuedTransaction:k,objOrderDetails:R,QueueDetails:M,selectedOption:A,onChangeSelectedOption:w,railOptions:P,heapClick:_,timetaken:F,viewShipmentStatus:H}=e;const[B]=(0,u.useTranslation)();var[G]=(0,r.useState)(!1);function Q(){var e=[],t=Math.floor((L.EndTime-L.StartTime)/1e3/60),a=100/t,r=0,i=t/5,s=new Date(L.StartTime),n=Math.floor(s/1e3/60)%5;0!==n&&(i+=1);for(var o=1;o<=i;o++)1===o?0!==n?((s.getMinutes()+(5-n))%30!==0?e.push((0,x.jsx)("div",{className:"marineGraphTimeShort",style:{borderRight:"solid 1px #D0D0D0",width:(5-n)*a+"%"},children:"\xa0"})):e.push((0,x.jsx)("div",{className:"marineGraphTimeLong",style:{borderRight:"solid 1px #D0D0D0",width:(5-n)*a+"%"},children:"\xa0"})),r+=s.getMinutes()+(10-n)):((s.getMinutes()+5)%30!==0?e.push((0,x.jsx)("div",{className:"marineGraphTimeShort",style:{borderRight:"solid 1px #D0D0D0",width:5*a+"%"},children:"\xa0"})):e.push((0,x.jsx)("div",{className:"marineGraphTimeLong",style:{borderRight:"solid 1px #D0D0D0",width:5*a+"%"},children:"\xa0"})),r+=s.getMinutes()+10):o===i?0!==n?((s.getMinutes()-n)%30!==0?e.push((0,x.jsx)("div",{className:"marineGraphTimeShort",style:{width:n*a+"%"},children:"\xa0"})):e.push((0,x.jsx)("div",{className:"marineGraphTimeLong",style:{width:n*a+"%"},children:"\xa0"})),r+=s.getMinutes()+(5-n)):(s.getMinutes()%30!==0?e.push((0,x.jsx)("div",{className:"marineGraphTimeShort",style:{borderRight:"solid 1px #D0D0D0",width:5*a+"%"},children:"\xa0"})):e.push((0,x.jsx)("div",{className:"marineGraphTimeLong",style:{borderRight:"solid 1px #D0D0D0",width:5*a+"%"},children:"\xa0"})),r+=s.getMinutes()+5):(r%30===0?e.push((0,x.jsx)("div",{className:"marineGraphTimeLong",style:{borderRight:"solid 1px #D0D0D0",width:5*a+"%"},children:"\xa0"})):e.push((0,x.jsx)("div",{className:"marineGraphTimeShort",style:{borderRight:"solid 1px #D0D0D0",width:5*a+"%"},children:"\xa0"})),r+=5);return e}function U(){if(void 0!==C&&0!==C.length){var e=[];for(let r=0;r<C.length;r++){var t="Dashboard_ShipmentReceipt";t="LOADING"===C[r].LoadingType?"Dashboard_Shipments":"UNLOADING"===C[r].LoadingType?"Dashboard_Receipts":"Dashboard_ShipmentReceipt",void 0!==I&&null!==I&&e.push(Y(C[r],r,t,I[r]))}let a={};return a=S===T.LY.ROAD?{width:"77%"}:{width:"86%"},e.push((0,x.jsx)("div",{id:"divShiftBox",className:"marineDashboardDiv11",style:a,children:W()})),e}}function Y(e,t,a,r){return 0!==t?(0,x.jsx)(u.TranslationConsumer,{children:i=>(0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",className:"marineDashboardTable1",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[S===T.LY.RAIL?(0,x.jsxs)("td",{className:"railDashboardLeftTd",children:[(0,x.jsx)("div",{className:"marineDashboardDiv1"}),(0,x.jsx)("div",{id:"divBayWagon"+t,className:"railDashboardShiftmentHtmlSelect1",children:(0,x.jsxs)("select",{value:A[t],onChange:e=>{w(e.target.value,t)},children:[(0,x.jsx)("option",{value:"select",children:i("Dest_Select")}),P[t].map((e=>(0,x.jsx)("option",{value:e.value,children:e.innerHTML})))]})})]}):(0,x.jsxs)("td",{className:"marineDashboardLeftTd",children:[(0,x.jsx)("div",{className:"marineDashboardDiv1"}),(0,x.jsx)("div",{className:"marineDashboardDiv2",children:i(a)})]}),S===T.LY.ROAD?(0,x.jsxs)("td",{className:"roadDashboardTd2",children:[(0,x.jsx)("div",{className:"marineDashboardDiv1"}),(0,x.jsx)("div",{id:"divShipment"+t,className:"marineDashboardDiv3",children:te(r,t)})]}):S===T.LY.RAIL?(0,x.jsxs)("td",{className:"marineDashboardTd2",children:[(0,x.jsx)("div",{className:"marineDashboardDiv1"}),(0,x.jsxs)("div",{id:"divShipment"+t,className:"marineDashboardDiv3",children:[ie(r),"select"!==A[t]?ne(r,A[t]):null]})]}):(0,x.jsxs)("td",{className:"marineDashboardTd2",children:[(0,x.jsx)("div",{className:"marineDashboardDiv1"}),(0,x.jsx)("div",{id:"divShipment"+t,className:"marineDashboardDiv3",children:te(r,t)})]}),S===T.LY.ROAD?(0,x.jsxs)("td",{id:"tdQueue"+t,className:"roadDashboardInQueue",style:{rowspan:"3"},children:[(0,x.jsx)("div",{className:"marineDashboardDiv1"}),$(r)]}):null]}),(0,x.jsxs)("tr",{children:[S===T.LY.RAIL?(0,x.jsx)("td",{className:"railDashboardLeftTd",children:(0,x.jsx)("div",{className:"railDashboardDeviceStatusDiv1",children:i("DeviceList_Status")})}):(0,x.jsx)("td",{className:"marineDashboardLeftTd",children:(0,x.jsx)("div",{className:"marineDashboardDiv2",children:i("DeviceList_Status")})}),S===T.LY.ROAD?(0,x.jsx)("td",{className:"roadDashboardTd2",children:(0,x.jsx)("div",{id:"divDevice"+t,className:"marineDashboardDiv4",children:le(r)})}):(0,x.jsx)("td",{className:"marineDashboardTd2",children:(0,x.jsx)("div",{id:"divDevice"+t,className:"marineDashboardDiv4",children:le(r)})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"marineDashboardLeftTd",children:(0,x.jsx)("div",{className:"marineDashboardDiv9",children:e.Code})}),S===T.LY.ROAD?(0,x.jsx)("td",{className:"roadDashboardTd2",children:(0,x.jsx)("div",{id:"divTimeGraph"+t,className:"marineDashboardDiv10",children:Q()})}):(0,x.jsx)("td",{className:"marineDashboardTd2",children:(0,x.jsx)("div",{id:"divTimeGraph"+t,className:"marineDashboardDiv10",children:Q()})})]})]})})}):(0,x.jsx)(u.TranslationConsumer,{children:i=>(0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",className:"marineDashboardTable1",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[S===T.LY.RAIL?(0,x.jsx)("td",{className:"railDashboardLeftTd",children:(0,x.jsx)("div",{id:"divBayWagon"+t,className:"railDashboardShiftmentHtmlSelect1",children:(0,x.jsxs)("select",{value:A[t],onChange:e=>{w(e.target.value,t)},children:[(0,x.jsx)("option",{value:"select",children:i("Dest_Select")}),P[t].map((e=>(0,x.jsx)("option",{value:e.value,children:e.innerHTML})))]})})}):(0,x.jsx)("td",{className:"marineDashboardLeftTd",children:(0,x.jsx)("div",{className:"marineDashboardDiv2",children:i(a)})}),S===T.LY.ROAD?(0,x.jsx)("td",{className:"roadDashboardTd2",children:(0,x.jsx)("div",{id:"divShipment"+t,className:"marineDashboardDiv3",children:te(r,t)})}):S===T.LY.RAIL?(0,x.jsx)("td",{className:"marineDashboardTd2",children:(0,x.jsxs)("div",{id:"divShipment"+t,className:"marineDashboardDiv3",children:[ie(r,t),"select"!==A[t]?ne(r,A[t]):""]})}):(0,x.jsx)("td",{className:"marineDashboardTd2",children:(0,x.jsx)("div",{id:"divShipment"+t,className:"marineDashboardDiv3",children:te(r,t)})}),S===T.LY.ROAD?(0,x.jsx)("td",{id:"tdQueue"+t,className:"roadDashboardInQueue",style:{rowspan:"3"},children:$(r)}):null]}),(0,x.jsxs)("tr",{children:[S===T.LY.RAIL?(0,x.jsx)("td",{className:"railDashboardLeftTd",children:(0,x.jsx)("div",{className:"railDashboardDeviceStatusDiv1",children:i("DeviceList_Status")})}):(0,x.jsx)("td",{className:"marineDashboardLeftTd",children:(0,x.jsx)("div",{className:"marineDashboardDiv2",children:i("DeviceList_Status")})}),S===T.LY.ROAD?(0,x.jsx)("td",{className:"roadDashboardTd2",children:(0,x.jsx)("div",{id:"divDevice"+t,className:"marineDashboardDiv4",children:le(r)})}):(0,x.jsx)("td",{className:"marineDashboardTd2",children:(0,x.jsx)("div",{id:"divDevice"+t,className:"marineDashboardDiv4",children:le(r)})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"marineDashboardLeftTd",children:(0,x.jsx)("div",{className:"marineDashboardDiv9",children:e.Code})}),S===T.LY.ROAD?(0,x.jsx)("td",{className:"roadDashboardTd2",children:(0,x.jsx)("div",{id:"divTimeGraph"+t,className:"marineDashboardDiv10",children:Q()})}):(0,x.jsx)("td",{className:"marineDashboardTd2",children:(0,x.jsx)("div",{id:"divTimeGraph"+t,className:"marineDashboardDiv10",children:Q()})})]})]})})})}function W(){var e=[],t=K();if(0!==t.length)for(var a=100/Math.floor((L.EndTime-L.StartTime)/1e3/60),r=0;r<t.length;r++){var i=t[r];if(i.StartTime>L.StartTime&&i.StartTime<L.EndTime){var s=(Math.floor((i.StartTime-L.StartTime)/1e3/60)+.8)*a;e.push((0,x.jsx)("div",{className:"marineDashboardShiftLines1",style:{left:s+"%"}}))}if(i.EndTime>L.StartTime&&i.EndTime<L.EndTime)s=(Math.floor((L.EndTime-i.EndTime)/1e3/60)-.5)*a,e.push((0,x.jsx)("div",{className:"marineDashboardShiftLines2",style:{right:s+"%"}}));L.StartTime>i.StartTime&&L.EndTime<i.EndTime&&e.push((0,x.jsx)("div",{className:"marineDashboardShiftLines3"}))}return e}function z(){var e=[],t=K();if(0!==t.length)for(var a=100/Math.floor((L.EndTime-L.StartTime)/1e3/60),r=0;r<t.length;r++){var i=t[r];if(i.StartTime>L.StartTime&&i.StartTime<L.EndTime){var s=(Math.floor((i.StartTime-L.StartTime)/1e3/60)+.8)*a;e.push((0,x.jsx)("div",{className:"marineDashboardShiftName1",style:{left:s+"%"},children:100-s>10?"| "+B("Dashboard_Shift")+" : "+i.Name:"|"}))}if(i.EndTime>L.StartTime&&i.EndTime<L.EndTime)s=(Math.floor((L.EndTime-i.EndTime)/1e3/60)-.5)*a,e.push((0,x.jsx)("div",{className:"marineDashboardShiftName2",style:{right:s+"%"},children:100-s>10?B("Dashboard_Shift")+" : "+i.Name+" |":"|"}));L.StartTime>i.StartTime&&L.EndTime<i.EndTime&&e.push((0,x.jsx)("div",{className:"marineDashboardShiftName3",children:"| Shift : ".concat(i.Name," ")}))}return e}function K(){var e=[],t=null;if(null!==N&&""!==N){for(var a=0;a<N.length;a++){var r={Name:N[a].Name,StartTime:N[a].StartTime,EndTime:N[a].EndTime};r.StartTime.setDate(L.StartTime.getDate()),r.StartTime.setMonth(L.StartTime.getMonth()),r.StartTime.setYear(L.StartTime.getFullYear()),r.EndTime.setDate(L.StartTime.getDate()),r.EndTime.setMonth(L.StartTime.getMonth()),r.EndTime.setYear(L.StartTime.getFullYear()),r.StartTime>r.EndTime&&(r.EndTime.setDate(L.StartTime.getDate()+1),t=r),e.push(r)}if(N.length>0){var i={Name:N[0].Name,StartTime:new Date(N[0].StartTime),EndTime:new Date(N[0].EndTime)};i.EndTime.setDate(i.EndTime.getDate()+1),i.StartTime.setDate(i.StartTime.getDate()+1),e.push(i)}if(null!==t){var s={Name:t.Name,StartTime:new Date(t.StartTime),EndTime:new Date(t.EndTime)};s.EndTime.setDate(s.EndTime.getDate()-1),s.StartTime.setDate(s.StartTime.getDate()-1),e.push(s);var n={Name:t.Name,StartTime:new Date(t.StartTime),EndTime:new Date(t.EndTime)};n.EndTime.setDate(n.EndTime.getDate()+1),n.StartTime.setDate(n.StartTime.getDate()+1),e.push(n)}}return e}function V(){return{...S===T.LY.ROAD?(0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",id:"tblFooter",className:"roadTimeGraphHtml",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"timeGraphHtmlTd1",style:{width:"13%"},children:(0,x.jsxs)("div",{style:{float:"right"},children:[(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"spanGoLive",name:"redo",size:"medium",onClick:y})}),"\xa0",(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"btnBackward",name:"caret-left",size:"medium",onClick:O})})]})}),(0,x.jsx)("td",{className:"timeGraphHtmlTd2",style:{width:"82.5%"},children:(0,x.jsx)("div",{id:"divFooter",className:"timeGraphHtmlDiv1",children:Z()})}),(0,x.jsx)("td",{style:{width:"4.5%"},children:(0,x.jsx)("div",{className:"timeGraphHtmlDiv2",children:(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"btnForward",name:"caret-right",size:"medium",onClick:b})})})})]})})}):S===T.LY.RAIL?(0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",id:"tblFooter",className:"timeGraphHtmlTable1",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"timeGraphHtmlTd1",style:{width:"12%"},children:(0,x.jsxs)("div",{style:{float:"right"},children:[(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"spanGoLive",name:"undo",size:"medium",onClick:y})}),"\xa0",(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"btnBackward",name:"caret-left",size:"medium",onClick:O})})]})}),(0,x.jsx)("td",{className:"timeGraphHtmlTd2",children:(0,x.jsx)("div",{id:"divFooter",className:"timeGraphHtmlDiv1",children:Z()})}),(0,x.jsx)("td",{style:{width:"2%"},children:(0,x.jsx)("div",{className:"timeGraphHtmlDiv2",style:{margineLeft:"-4px"},children:(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"btnForward",name:"caret-right",size:"medium",onClick:b})})})})]})})}):(0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",id:"tblFooter",className:"timeGraphHtmlTable1",style:{width:"100%"},children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"timeGraphHtmlTd1",style:{width:"12%"},children:(0,x.jsxs)("div",{style:{float:"right"},children:[(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"spanGoLive",name:"undo",size:"medium",onClick:y})}),"\xa0",(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"btnBackward",name:"caret-left",size:"medium",onClick:O})})]})}),(0,x.jsx)("td",{className:"timeGraphHtmlTd2",style:{width:"88%"},children:(0,x.jsx)("div",{id:"divFooter",className:"timeGraphHtmlDiv1",children:Z()})}),(0,x.jsx)("td",{style:{width:"2%"},children:(0,x.jsx)("div",{className:"timeGraphHtmlDiv2",children:(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{id:"btnForward",name:"caret-right",size:"medium",onClick:b})})})})]})})})}}function Z(){var e=[];try{var t=Math.floor((L.EndTime-L.StartTime)/1e3/60),a=100/t,r=0,i=t/5,s=new Date(L.StartTime),n=new Date(L.StartTime),o=n.getMinutes()%5;0!==o&&(i+=1);var l=parseInt(s.getMinutes()%30);0!==l&&s.setMinutes(s.getMinutes()-parseInt(l));for(var d=1;d<=i;d++)1===d?0===l?(e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%",textIndent:"50%"},children:("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)})),r+=5):0!==o?((n.getMinutes()+(5-o))%30!==0?e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:(5-o)*a+"%"}})):(s.setMinutes(s.getMinutes()+30),e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:(5-o)*a+"%",textIndent:"50%"},children:("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)}))),r+=n.getMinutes()+(10-o)):((n.getMinutes()+5)%30!==0?e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%"}})):(s.setMinutes(s.getMinutes()+30),e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%",textIndent:"50%"},children:("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)}))),r+=n.getMinutes()+10):d===i?0!==o?((n.getMinutes()-o)%30!==0||s.setMinutes(s.getMinutes()+30),e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:o*a+"%"}})),r+=n.getMinutes()+(5-o)):(n.getMinutes()%30!==0?e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%"}})):(s.setMinutes(s.getMinutes()+30),e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%",textIndent:"50%"},children:("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)}))),r+=n.getMinutes()+5):(r%30===0?(s.setMinutes(s.getMinutes()+30),e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%",textIndent:"50%"},children:("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)}))):e.push((0,x.jsx)("div",{className:"marineFooterTimeDiv1",style:{width:5*a+"%"}})),r+=5);return e.push((0,x.jsx)("table",{width:"100%",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{align:"left",children:L.StartTime.getDate()+"-"+(L.StartTime.getMonth()+1)+"-"+L.StartTime.getFullYear()}),(0,x.jsx)("td",{align:"right",children:L.EndTime.getDate()+"-"+(L.EndTime.getMonth()+1)+"-"+L.EndTime.getFullYear()})]})})})),e}catch(c){return console.log("error in timeGraphHtmlComposition "+c),e}}function J(){for(var e=[],t=0;t<C.length;t++)0!==t?e.push((0,x.jsxs)("div",{id:"divCompartment"+t,className:"MarineDashboardCompartmentsDiv1",children:[(0,x.jsx)("div",{className:"MarineDashboardCompartmentsDiv2"}),(0,x.jsx)("div",{className:"MarineDashboardCompartmentsDiv3",children:q(R[t])})]})):e.push((0,x.jsx)("div",{id:"divCompartment"+t,className:"MarineDashboardCompartmentsDiv1",children:(0,x.jsx)("div",{className:"MarineDashboardCompartmentsDiv3",children:q(R[t])})}));return e}function q(e){var t=[];try{if(void 0===e||null===e){if(S===T.LY.MARINE)for(var a=0;a<E.NoOfMarineCompartments;a++)t.push((0,x.jsxs)("div",{className:"marineDashboardCompartmentDiv",children:[(0,x.jsx)("div",{className:"filled"}),(0,x.jsx)("span",{className:"LiveCompartmentFont",children:a+1})]}));else for(var r=0;r<E.NoOfCompartments;r++)t.push((0,x.jsxs)("div",{className:"roadDashboardCompartmentDiv",children:[(0,x.jsx)("div",{className:"filled"}),(0,x.jsx)("span",{className:"LiveCompartmentFont",children:r+1})]}));t.push((0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",width:"100%",children:(0,x.jsx)("tbody",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("td",{align:"left",className:"LiveCompartmentFont",children:B("Dashboard_ActiveTransctions")})})})}))}else{for(var i=0;i<e.CompartmentInfoList.length;i++){var s=e.CompartmentInfoList[i],n=s.LoadedQty/s.PlannedQty*100;n=(e.IsShipment?n:100-n)+"%";var o=e.IsShipment?1:0,l={},d=null==s.Product?"transparent":"#"+s.Color;switch(s.Status){case"EMPTY":case"UNLOAD_NOTSTARTED":case"LOADING":case"PART_FILLED":case"INTERRUPTED":case"PART_UNLOADED":case"UNLOADING":case"FORCE_COMPLETED":case"COMPLETED":case"DECANTED":l={cursor:"pointer",backgroundColor:"transparent",backgroundImage:"linear-gradient(135deg, transparent 24%, "+d+" 25%, "+d+" 26%, transparent 27%, transparent 74%, "+d+" 75%, "+d+" 76%, transparent 77%, transparent)",backgroundSize:"10px 10px"};break;case"OVER_FILLED":l={borderTop:"1px solid #EE3124",cursor:"pointer",backgroundColor:"transparent",backgroundImage:"linear-gradient(135deg, transparent 24%,"+d+" 25%, "+d+" 26%, transparent 27%, transparent 74%, "+d+" 75%, "+d+" 76%, transparent 77%, transparent)",backgroundSize:"10px 10px"};break;case"OVER_UNLOADED":l={borderBootom:"1px solid #EE3124",cursor:"pointer",backgroundColor:"transparent",backgroundImage:"linear-gradient(135deg, transparent 24%, "+d+" 25%, rgba(0, 0, 0, .3) 26%, transparent 27%, transparent 74%, "+d+" 75%, "+d+" 76%, transparent 77%, transparent)",backgroundSize:"10px 10px"};break;default:l={}}t.push((0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"marineDashboardCompartmentDiv",children:[(0,x.jsx)(p.Popup,{className:"popup-theme-wrap operatorDBPopup",style:{width:160,padding:15},element:(0,x.jsx)("div",{style:l,className:"filled",children:(0,x.jsx)("div",{className:"filling",style:{bottom:"0",backgroundColor:null==s.Product?"transparent":"#"+s.Color,height:n+""}})}),hoverable:!1,on:"click",children:ee(s.Code,s.Customer,s.SFL.toLocaleString()+" "+e.UOM,s.PlannedQty.toLocaleString()+" "+e.UOM,s.LoadedQty.toLocaleString()+" "+e.UOM,o)}),(0,x.jsx)("span",{className:"LiveCompartmentFont",children:s.Code})]})}))}t.push((0,x.jsx)(u.TranslationConsumer,{children:t=>(0,x.jsx)("table",{cellSpacing:"0",cellPadding:"0",width:"100%",className:"LiveCompartmentFont",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{style:{fontWeight:"bold"},children:[(0,x.jsx)("td",{align:"left",children:e.IsShipment?t("RoadDashboard_CurrentShipment"):t("RoadDashboard_CurrentReceipt")}),(0,x.jsx)("td",{align:"right",children:t(S===T.LY.ROAD?"DriverInfo_Code":"CaptainInfo_Code")+"- "+(null==e.Driver?"      ":e.Driver)})]}),(0,x.jsxs)("tr",{style:{fontWeight:"bold"},children:[(0,x.jsxs)("td",{align:"left",children:[e.Code," "]}),(0,x.jsx)("td",{align:"right",children:t(S===T.LY.ROAD?"Vehicle_Code":S===T.LY.RAIL?"Wagon_Code":"Vessel_Code")+"- "+e.Vehicle})]})]})})}))}return t}catch(c){return console.log("error in getCompartmentsHTMLComposition"+c),""}}function $(e){try{if(void 0!==e){var t=[],a=e.QueueCount>3?3:e.QueueCount;if(a>0){var r=15*a+"px";parseInt(r),parseInt(a-1);"3px";for(var i=a%2,s=[],n=0;n<a;n++)0===n?s.push((0,x.jsx)("div",{className:"roadDashboardDiv1"})):n===a-1?s.push((0,x.jsx)("div",{className:"roadDashboardDiv2"})):s.push((0,x.jsx)("div",{className:"roadDashboardDiv3"}));"1px";for(var o=[],l=0;l<a;l++)0===i&&1===l?o.push((0,x.jsx)("div",{className:"roadDashboardDiv8"})):o.push((0,x.jsx)("div",{className:"roadDashboardDiv9"}));e.QueueCount>3&&o.push((0,x.jsx)("div",{className:"roadDashboardDiv10"})),t.push((0,x.jsxs)("div",{className:"roadDashboardDiv4",children:[(0,x.jsx)("div",{className:"roadDashboardDiv5",children:"\xa0"}),(0,x.jsx)("div",{className:"roadDashboardDiv6"}),(0,x.jsx)("div",{className:"roadDashboardDiv7"}),(0,x.jsx)("div",{style:{display:"inline-block",height:r,marginTop:"1px",float:"left",width:"20px"},children:s}),(0,x.jsx)(p.Popup,{style:{padding:15},className:"popup-theme-wrap operatorDBPopup",element:(0,x.jsx)("div",{style:{display:"inline-block",height:"1px",marginTop:"1px",float:"left",width:"60px",cursor:"pointer"},onClick:()=>{k(e.BayCode)},children:o}),hoverable:!1,on:"click",children:X()})]}))}else t.push((0,x.jsxs)("div",{className:"roadDashboardDiv11",children:[(0,x.jsx)("div",{className:"roadDashboardDiv12",children:"\xa0"}),(0,x.jsx)("div",{className:"roadDashboardDiv13"}),(0,x.jsx)("div",{className:"roadDashboardDiv14",children:(0,x.jsx)(p.Icon,{root:"building",name:"close-circled",size:"small",className:"roadDashboardDiv15"})})]}));return t}}catch(d){return console.log("error in getQueueHTML "+d),""}}function X(){var e=[];if(null!==M&&M.length>0){e.push((0,x.jsx)("div",{className:"roadDashboardQueuedTitle",children:(0,x.jsx)("h4",{children:B("RoadDashboard_Total_in_queue")+" - "+M.length})}));for(var t=[],a=0;a<M.length;a++)a!==M.length-1&&M.length>1?t.push((0,x.jsxs)("div",{className:"marineDashboardQueuedTransactionsDiv2",style:{left:195*a+"px",height:"130px"},children:[(0,x.jsx)("div",{style:{marginBottom:"10px"},children:"".concat(B("RoadDashboard_QueueTranNo")," -  ").concat(M[a].TransactionCode)}),(0,x.jsx)("div",{style:{marginBottom:"10px"},children:B("RoadDashboard_Driver_Code")+" - "+(null===M[a].Driver?"     - ":M[a].Driver)}),(0,x.jsx)("div",{style:{marginBottom:"10px"},children:"".concat(B("RoadDashboard_Vehicle_Code")," - ").concat(M[a].vehicle)})]})):t.push((0,x.jsxs)("div",{className:"marineDashboardQueuedTransactionsDiv3",style:{left:195*a+"px"},children:[(0,x.jsx)("div",{style:{marginBottom:"10px"},children:"".concat(B("RoadDashboard_QueueTranNo")," - ").concat(M[a].TransactionCode)}),(0,x.jsx)("div",{style:{marginBottom:"10px"},children:B("RoadDashboard_Driver_Code")+" - "+(null===M[a].Driver?"     - ":M[a].Driver)}),(0,x.jsx)("div",{style:{marginBottom:"10px"},children:"".concat(B("RoadDashboard_Vehicle_Code")," - ").concat(M[a].vehicle)})]}));e.push((0,x.jsxs)("div",{style:{width:195*M.length+"px",height:"130px"},children:[(0,x.jsx)("div",{children:(0,x.jsx)("span",{style:{font:"normal bold 18px Arial"}})}),(0,x.jsx)("div",{style:{fontSize:"13px"},children:t})]}))}return e}function ee(e,t,a,r,i,s){return(0,x.jsxs)("div",{className:"marineDashboardCompartmentLiveDetailsDiv",children:[(0,x.jsxs)("div",{className:"marineDashboardCompartmentHoverDetailsDiv1",children:[(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan1",children:B("MarineDashboard_Compartment")+" - "+e}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan2",children:B(1===s?"MarineDashboard_Customer":"MarineDashboard_Supplier")+" : "+t}),(0,x.jsx)("br",{})]}),(0,x.jsxs)("div",{className:"marineDashboardCompartmentHoverDetailsDiv2",children:[(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan3",children:B("MarineDashboard_SFL")+" : "+a}),(0,x.jsx)("br",{})]}),(0,x.jsxs)("div",{className:"marineDashboardCompartmentHoverDetailsDiv2",children:[(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan3",children:B("MarineDashboard_Planned_Quantity")+" : "}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan1",children:r}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan3",children:B("MarineDashboard_Current_Quantity")+" : "}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"marineDashboardCompartmentHoverDetailsSpan1",children:i}),(0,x.jsx)("br",{})]})]})}function te(e,t){try{if(void 0!==e){for(var a=[],r=[],C=100/Math.floor((L.EndTime-L.StartTime)/1e3/60),y=0;y<e.TransactionAuditList.length;y++){let P=e.TransactionAuditList[y];var b=0,O="";null!=P.StartTime&&(O=new Date(P.StartTime));var N=null;if(null!=P.EndTime&&(N=new Date(P.EndTime)),O>L.StartTime)b=Math.floor((O-L.StartTime)/1e3/60)*C;var E=0;null!=N?N<L.EndTime&&O<L.StartTime?E=C*((N-L.StartTime)/1e3/60):N>L.EndTime&&O<L.StartTime?E=100:O>L.StartTime&&N<L.EndTime?E=C*((N-O)/1e3/60):N>L.EndTime&&O>L.StartTime&&(E=C*((L.EndTime-O)/1e3/60)):E=O<L.StartTime?100:C*((L.EndTime-O)/1e3/60);let _="Bay_"+t+"Transaction_"+y;if(0===P.TransactionType||1===P.TransactionType){if((0===F||P.TotalTime<=F&&75!==F||75===F&&P.TotalTime>60)&&(0===H||1===H&&P.IsCompleted||2===H&&3===P.EndIndicator||3===H&&P.HasAlarmOccured)){var I={};1===P.StartIndicator&&O>L.StartTime?I={borderTopLeftRadius:"12px",borderBottomLeftRadius:"12px"}:2===P.StartIndicator?I={}:3===P.StartIndicator&&O<L.StartTime&&(I={borderLeftColor:"red",borderLeftWidth:"10px",borderLeftStyle:"solid"}),1!==P.EndIndicator||null===N||N>L.EndTime?2===P.StartIndicator||3!==P.EndIndicator||null===N||N>L.EndTime||(I.borderRightColor="red",I.borderRightWidth="10px",I.borderRightStyle="solid"):(I.borderTopRightRadius="12px",I.borderBottomRightRadius="12px");var k=P.HasAlarmOccured?"marineDashboardShipmentDiv2Red":"marineDashboardShipmentDiv2",R=null===N?"LiveShipmentBar":"ShipmentBar",M=null===N?{zIndex:"1",width:E+"%",borderBottom:"dashed 1px #D0D0D0",position:"absolute",left:b+"%"}:{zIndex:"1",width:E+"%",cursor:"pointer",borderBottom:"dashed 1px #D0D0D0",position:"absolute",left:b+"%"},A=[];A.push((0,x.jsx)("div",{className:"marineDashboardShipmentDiv4",children:O<L.StartTime||null===N||N>L.EndTime?"":("0"+N.getHours()).slice(-2)+":"+("0"+N.getMinutes()).slice(-2)})),r.push((0,x.jsx)("div",{children:(0,x.jsx)(p.Popup,{position:"top left",hoverable:!1,open:s.key===_&&s.value,element:(0,x.jsxs)("div",{id:_,className:P.HasAlarmOccured?"failureship ":"shipment ","data-toggle":"popover",style:M,onClick:()=>{v(P.TransactionCode,0===P.TransactionType?"Dispatch":1===P.TransactionType?"Receipt":"",P.TotalTime),i(_,!0)},children:[(0,x.jsx)("div",{className:"marineDashboardShipmentDiv1",children:O<L.StartTime||null==N||N>L.EndTime?"":P.TransactionCode}),(0,x.jsx)("div",{className:R,style:I}),(0,x.jsxs)("div",{className:k,children:[(0,x.jsx)("div",{className:"marineDashboardShipmentDiv3",children:O<L.StartTime||null==N||N>L.EndTime?"":("0"+O.getHours()).slice(-2)+":"+("0"+O.getMinutes()).slice(-2)}),A]})]}),on:"click",children:null!==c&&null!==c.CompartmentInfoList?(0,x.jsx)(u.TranslationConsumer,{children:e=>(0,x.jsxs)("div",{className:"operatorOrder",onMouseEnter:()=>{i(_,!0)},onMouseLeave:()=>{i(_,!1)},style:{width:m.length<4?"720px":4===m.length?"800px":"930px"},children:[(0,x.jsxs)("div",{className:"operatorOrderButtonColumn",children:[(0,x.jsx)("div",{className:"operatorOrderForceClose "+("CLOSED"!==c.Status&&"LOADING"!==c.Status&&"UNLOADING"!==c.Status&&(0===c.TransactionType&&l||1===c.TransactionType&&d)?"operatorOrderForceCloseEnable":"operatorOrderForceCloseDisable"),onClick:()=>{"CLOSED"!==c.Status&&"LOADING"!==c.Status&&"UNLOADING"!==c.Status&&(0===c.TransactionType&&l||1===c.TransactionType&&d)&&j(c.Code,0===c.TransactionType?"Dispatch":1===c.TransactionType?"Receipt":"")},children:e("OperatorDashboard_OrderForceClosure")}),(0,x.jsx)("div",{className:"operatorOrderPrint "+("CLOSED"===c.Status&&(0===c.TransactionType&&n||1===c.TransactionType&&o)?"operatorOrderPrintClosed":"operatorOrderPrintOpen"),onClick:()=>{"CLOSED"===c.Status&&(0===c.TransactionType&&n||1===c.TransactionType&&o)&&g(c.Code,0===c.TransactionType?"Dispatch":1===c.TransactionType?"Receipt":"")},children:0===c.TransactionType?e("OperatorDashboard_OrderPrintBOL"):e("OperatorDashboard_OrderPrintBOD")})]}),(0,x.jsxs)("div",{className:"operatorOrdertransactionInfo",style:S===T.LY.ROAD?{paddingBottom:0}:{},children:[(0,x.jsxs)("div",{style:{fontWeight:"bold"},children:[0===c.TransactionType?"Shipment":1===c.TransactionType?"Receipt":""," No - "+c.Code]}),(0,x.jsx)(p.Divider,{}),(0,x.jsxs)("div",{style:{borderBottom:"1px dashed #A0A0A0",paddingBottom:15,marginBottom:15},children:[S===T.LY.ROAD?(0,x.jsxs)("div",{style:{marginBottom:5},children:[e("OperatorDashboard_OrderDriverCode")+" - ",(0,x.jsx)("span",{style:{fontWeight:"bold"},children:null===c.Driver?"- ":c.Driver})]}):(0,x.jsx)("div",{}),(0,x.jsxs)("div",{children:[e(S===T.LY.ROAD?"Vehicle_Code":S===T.LY.RAIL?"Wagon_Code":"OperatorDashboard_OrderVesselCode")+" - ",(0,x.jsx)("span",{style:{fontWeight:"bold"},children:c.Vehicle})]})]}),(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:e("OperatorDashboard_OrderStatus")+":"}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:e("OperatorDashboard_OrderAlarmsOccured")+":"}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:e("OperatorDashboard_OrderTimeTakne")+":"})]}),(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",children:c.Status}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",style:c.AlarmCount>0?{color:"red"}:{},children:c.AlarmCount.toLocaleString()}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",children:c.TotalTime.toLocaleString()+" "+e("OperatorDashboard_OrderMin")})]})]}),(0,x.jsx)(p.Divider,{direction:"vertical"})]}),(0,x.jsxs)("div",{className:"operatorOrderProductAndCompartmentDetails",children:[(0,x.jsx)("div",{className:"operatorOrderProductAndCompartmentDetailsTitle",style:D.length>0?{paddingTop:2,paddingBottom:12}:{},children:e("OperatorDashboard_OrderProductAndCompartment")}),(0,x.jsxs)("div",{style:{display:"flex"},children:[(0,x.jsx)("div",{className:"operatorOrderProduct",children:h.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)("div",{style:{color:t,marginBottom:5},children:[(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"left",marginTop:2,marginLeft:3,backgroundColor:t}}),(0,x.jsx)("div",{style:{textAlign:"center"},children:e.Product}),(0,x.jsx)("div",{style:{fontWeight:"bold"},children:e.LoadedQty.toLocaleString()+" "+c.UOM})]})}))}),(0,x.jsxs)("div",{className:"operatorOrderCompartmentDetails",children:[(0,x.jsx)("div",{style:{borderBottom:"1px dashed #A0A0A0",paddingBottom:8,marginBottom:8},children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle"}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderProduct")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderPlanned")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderActual")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:0===c.TransactionType?e("OperatorDashboard_OrderCustomer"):e("OperatorDashboard_OrderSupplier")})]}),m.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Code}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"right",backgroundColor:t}})}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.PlannedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.LoadedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Customer})]})}))]})}),D.length>0?(0,x.jsx)("div",{children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle"}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderProduct")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderPlanned")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderActual")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:0===c.TransactionType?e("OperatorDashboard_OrderCustomer"):e("OperatorDashboard_OrderSupplier")})]}),D.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Code}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"right",backgroundColor:t}})}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.PlannedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.LoadedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Customer})]})}))]})}):(0,x.jsx)("div",{})]})]})]})]})}):(0,x.jsx)("div",{className:"operatorOrder",children:(0,x.jsx)(f.A,{message:"Loading",loadingClass:"operatorOrderLoader"})})})}))}}else if(2===P.TransactionType)b=O>L.StartTime?C*((O-L.StartTime)/1e3/60):0,a=ae(a,P.StartTotalizer,P.EndTotalizer,P.Quantity,O,b);else{var w=[];null!==N&&w.push((0,x.jsx)("div",{className:"marineDashboardShipmentDiv8",children:O<L.StartTime||null===N||N>L.EndTime?"":("0"+N.getHours()).slice(-2)+":"+("0"+N.getMinutes()).slice(-2)})),r.push((0,x.jsxs)("div",{id:_,className:"marineDashboardShipmentDiv5",style:{width:E+"%",left:b+"%"},children:[(0,x.jsx)("span",{className:"LiveCompartmentFont",children:"Inactive"}),(0,x.jsxs)("div",{className:"marineDashboardShipmentDiv6",children:[(0,x.jsx)("div",{className:"marineDashboardShipmentDiv7",children:O<L.StartTime||null===N||N>L.EndTime?"":("0"+O.getHours()).slice(-2)+":"+("0"+O.getMinutes()).slice(-2)}),w]})]}))}}for(var P=0;P<a.length;P++)r.push((0,x.jsx)("span",{className:"marineDashboardShipmentSpan1",style:{left:a[P].Gap+"%"},children:(0,x.jsx)(p.Popup,{style:{padding:15},className:"popup-theme-wrap",element:(0,x.jsx)(p.Icon,{root:"common",name:"tint",size:"small"}),hoverable:!1,on:"click",children:re(a[P].leakInfo)})}));return r}}catch(_){return console.log("error in getShipmentHTML"+_),""}}function ae(e,t,a,r,i,s){for(var n=!1,o=0;o<e.length;o++){var l=e[o];if(l.StartTime.getHours()===i.getHours()&&l.StartTime.getMinutes()===i.getMinutes()){l.leakInfo=l.leakInfo+";"+t+","+a+","+r,n=!0;break}}if(!1===n){var d={StartTime:i,Gap:s,leakInfo:t+","+a+","+r};e.push(d)}return e}function re(e){try{for(var t=[],a=e.split(";"),r=0;r<a.length;r++){var i=a[r].split(","),s=parseFloat(i[2]),n=i[2].substr(s.toString().length);r!==a.length-1&&a.length>1?t.push((0,x.jsxs)("div",{className:"dashboardLeakageHoverDiv1",style:{left:195*r+"px"},children:[(0,x.jsx)("div",{style:{marginTop:"5px"},children:B("RoadDashboard_Start_Totalizer")+" : "+i[0].toLocaleString()}),(0,x.jsx)("div",{className:"dashboardLeakageHoverDiv3",children:B("RoadDashboard_End_Totalizer")+" : "+i[1].toLocaleString()}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"dashboardLeakageHoverDiv4",children:B("RoadDashboard_Total_Leakage_Quantity")}),(0,x.jsx)("div",{className:"dashboardLeakageHoverDiv5",children:s.toLocaleString()+n})]})]})):t.push((0,x.jsxs)("div",{className:"dashboardLeakageHoverDiv2",style:{left:195*r+"px"},children:[(0,x.jsx)("div",{style:{marginTop:"5px"},children:B("RoadDashboard_Start_Totalizer")+" : "+i[0].toLocaleString()}),(0,x.jsx)("div",{className:"dashboardLeakageHoverDiv3",children:B("RoadDashboard_End_Totalizer")+" : "+i[1].toLocaleString()}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"dashboardLeakageHoverDiv4",children:B("RoadDashboard_Total_Leakage_Quantity")}),(0,x.jsx)("div",{className:"dashboardLeakageHoverDiv5",children:s.toLocaleString()+n})]})]}))}return(0,x.jsxs)("div",{style:{marginRight:"10px",color:"#707070",width:195*a.length+"px",height:"130px"},children:[(0,x.jsxs)("div",{style:{height:"40px",borderBottom:"1px solid grey",marginLeft:"15px"},children:[(0,x.jsx)("span",{children:(0,x.jsx)(p.Icon,{root:"common",name:"tint",size:"small"})}),(0,x.jsx)("div",{style:{font:"normal bold 14px Arial",padding:"5px 5px 0 0",float:"left"},children:B("RoadDashboard_Leakage")})]}),(0,x.jsx)("div",{style:{fontSize:"13px"},children:t})]})}catch(o){return console.log("error in showConsolidateLeakageHover"+o),""}}function ie(e,r){try{if(void 0!==e&&null!==e){for(var i=[],s=100/Math.floor((L.EndTime-L.StartTime)/1e3/60),n=[],o=0;o<e.TransactionAuditList.length;o++)0!==e.TransactionAuditList[o].TransactionType&&1!==e.TransactionAuditList[o].TransactionType||(0===F||e.TransactionAuditList[o].TotalTime<=F&&75!==F||75===F&&e.TransactionAuditList[o].TotalTime>60)&&(0===H||1===H&&e.TransactionAuditList[o].IsCompleted||2===H&&3===e.TransactionAuditList[o].EndIndicator||3===H&&e.TransactionAuditList[o].HasAlarmOccured)&&(n=se(n,e.TransactionAuditList[o]));for(var l=0;l<n.length;l++){let e=n[l];var d=0,v="";null!=e.StartTime&&(v=new Date(e.StartTime));let N=null;if(null!=e.EndTime&&(N=new Date(e.EndTime)),v>L.StartTime)d=Math.floor((v-L.StartTime)/1e3/60)*s;var T=0;if(null!=N?N<L.EndTime&&v<L.StartTime?T=s*((N-L.StartTime)/1e3/60):N>L.EndTime&&v<L.StartTime?T=100:v>L.StartTime&&N<L.EndTime?T=s*((N-v)/1e3/60):N>L.EndTime&&v>L.StartTime&&(T=s*((L.EndTime-v)/1e3/60)):T=v<L.StartTime?100:s*((L.EndTime-v)/1e3/60),e.AuditItems.length>1){var g="Bay_"+r+"Heap_"+o;i.push((0,x.jsxs)("div",{id:g,className:"heap railDashboardShiftmentHtmlDiv1",style:{width:T+"%",left:d+"%"},onClick:()=>{_(e,r)},children:[(0,x.jsx)("div",{className:"railDashboardShiftmentHtmlDiv2"}),(0,x.jsx)("div",{className:"HeapBar"}),(0,x.jsx)("div",{className:"railDashboardShiftmentHtmlDiv3",children:(0,x.jsx)("div",{className:"railDashboardShiftmentHtmlDiv4"})})]}))}else{var j="Bay_"+r+"Transaction_"+o,S=null===N?{zIndex:"1",width:T+"%",borderBottom:"dashed 1px #D0D0D0",position:"absolute",left:d+"%"}:{zIndex:"1",width:T+"%",cursor:"pointer",borderBottom:"dashed 1px #D0D0D0",position:"absolute",left:d+"%"},C={};1===e.AuditItems[0].StartIndicator&&v>L.StartTime?C={borderTopLeftRadius:"12px",borderBottomLeftRadius:"12px"}:2===e.AuditItems[0].StartIndicator?C={}:3===e.AuditItems[0].StartIndicator&&v<L.StartTime&&(C={borderLeftColor:"red",borderLeftWidth:"10px",borderLeftStyle:"solid"}),1!==e.AuditItems[0].EndIndicator||null==N||N>L.EndTime?2===e.AuditItems[0].StartIndicator||3!==e.AuditItems[0].EndIndicator||null==N||N>L.EndTime||(C.borderRightColor="red",C.borderRightWidth="10px",C.borderRightStyle="solid"):(C.borderTopRightRadius="12px",C.borderBottomRightRadius="12px");var y=e.AuditItems[0].HasAlarmOccured?"railDashboardShiftmentHtmlDiv6Red":"railDashboardShiftmentHtmlDiv6",b=null==N?"LiveShipmentBar":"ShipmentBar",O=[];null!=N&&O.push((0,x.jsx)("div",{className:"railDashboardShiftmentHtmlDiv8",children:v<L.StartTime||null==N||N>L.EndTime?"":("0"+N.getHours()).slice(-2)+":"+("0"+N.getMinutes()).slice(-2)}));let s=0===e.AuditItems[0].TransactionType?"DISPATCH":"RECEIPT";i.push((0,x.jsx)(p.Popup,{position:"top left",hoverable:!1,className:"operatorOrderDetails",element:(0,x.jsxs)("div",{id:j,className:e.AuditItems[0].HasAlarmOccured?"failureship ":"shipment ","data-toggle":"popover",style:S,onClick:()=>{try{let r=e.AuditItems[0].TransactionCode.split("::");null===N?t(r[0],s,r[1],e.AuditItems[0].BCUPoint):a(r[0],s,r[1])}catch(r){console.log("error in Popup of RailShipmentHTML",r)}},children:[(0,x.jsx)("div",{className:"railDashboardShiftmentHtmlDiv5",children:v<L.StartTime||null==N||N>L.EndTime?"":e.AuditItems[0].TransactionCode}),(0,x.jsx)("div",{className:b,style:C}),(0,x.jsxs)("div",{className:y,children:[(0,x.jsx)("div",{className:"railDashboardShiftmentHtmlDiv7",children:v<L.StartTime||null==N||N>L.EndTime?"":("0"+v.getHours()).slice(-2)+":"+("0"+v.getMinutes()).slice(-2)}),O]})]}),on:"click",children:null!==c&&null!==c.CompartmentInfoList?(0,x.jsx)(u.TranslationConsumer,{children:t=>(0,x.jsxs)("div",{className:"operatorRailOrder",children:[(0,x.jsxs)("div",{className:"operatorRailOrdertransactionInfo",children:[(0,x.jsxs)("div",{style:{fontWeight:"bold"},children:["DISPATCH"===c.railTransactionType?"Shipment":"Receipt"," No - "+c.Code]}),(0,x.jsx)(p.Divider,{}),(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:t("OperatorDashboard_OrderAlarmsOccured")+":"}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:t("OperatorDashboard_OrderTimeTakne")+":"})]}),(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",style:c.AlarmCount>0?{color:"red"}:{},children:c.AlarmCount.toLocaleString()}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",children:e.AuditItems[0].TotalTime.toLocaleString()+" "+t("OperatorDashboard_OrderMin")})]})]}),(0,x.jsx)(p.Divider,{direction:"vertical"})]}),(0,x.jsxs)("div",{className:"operatorOrderProductAndCompartmentDetails",children:[(0,x.jsx)("div",{className:"operatorOrderProductAndCompartmentDetailsTitle",style:D.length>0?{paddingTop:2,paddingBottom:12}:{},children:t("OperatorDashboard_OrderProductAndWagon")}),(0,x.jsx)("div",{className:"operatorOrderProduct",style:D.length>0?{height:175}:{},children:h.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)("div",{style:{color:t,marginBottom:5},children:[(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"left",marginTop:2,marginLeft:3,backgroundColor:t}}),(0,x.jsx)("div",{style:{marginLeft:-3},children:e.Product}),(0,x.jsx)("div",{style:{fontWeight:"bold"},children:e.LoadedQty.toLocaleString()+" "+c.UOM})]})}))}),(0,x.jsxs)("div",{className:"operatorOrderCompartmentDetails",children:[(0,x.jsx)("div",{style:{borderBottom:"1px dashed #A0A0A0",paddingBottom:8,marginBottom:8},children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:""}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderProduct")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderPlanned")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderActual")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderStatus")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:"DISPATCH"===c.railTransactionType?t("OperatorDashboard_OrderCustomer"):t("OperatorDashboard_OrderSupplier")})]}),m.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Code}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"right",backgroundColor:t}})}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.PlannedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.LoadedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Status}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Customer})]})}))]})}),D.length>0?(0,x.jsx)("div",{children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:""}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderProduct")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderPlanned")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:t("OperatorDashboard_OrderActual")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:"DISPATCH"===c.railTransactionType?t("OperatorDashboard_OrderCustomer"):t("OperatorDashboard_OrderSupplier")})]}),D.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Code}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"right",backgroundColor:t}})}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.PlannedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.LoadedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Customer})]})}))]})}):(0,x.jsx)("div",{})]})]})]})}):(0,x.jsx)("div",{className:"operatorOrder",children:(0,x.jsx)(f.A,{message:"Loading",loadingClass:"operatorOrderLoader"})})}))}}return i}}catch(N){return console.log("error in getRailShipmentHTML"+N),""}}function se(e,t){var a=!1,r=-1,i=new Date(t.StartTime),s=null==t.EndTime?null:new Date(t.EndTime);if(i<L.EndTime)if(e.length>0){for(var n=0;n<e.length;n++){var o=new Date(e[n].StartTime),l=null==e[n].EndTime?null:new Date(e[n].EndTime);if(i<=o){if(null==s){e[n].EndTime=null,e[n].StartTime=t.StartTime,a=!0,r=n;break}if(null!=s&&s>o){e[n].StartTime=t.StartTime,null!=l&&s>l&&(e[n].EndTime=t.EndTime),a=!0,r=n;break}}else{if(null==l){a=!0,r=n;break}if(i<l){a=!0,r=n,(null==s||s>l)&&(e[n].EndTime=t.EndTime);break}}}if(a)e[r].AuditItems.push(t);else{var d={StartTime:t.StartTime,EndTime:t.EndTime,AuditItems:[t]};e.push(d)}}else{var c={StartTime:t.StartTime,EndTime:t.EndTime,AuditItems:[t]};e.push(c)}return e}function ne(e,r){try{if(void 0!==e&&null!==e){var i={};e.TransactionAuditList.forEach((e=>{e.TransactionCode===r&&(i=e)}));var s=100/Math.floor((L.EndTime-L.StartTime)/1e3/60),n=0,o="";null!=i.StartTime&&(o=new Date(i.StartTime));var l=null;if(null!=i.EndTime&&(l=new Date(i.EndTime)),o>L.StartTime)n=Math.floor((o-L.StartTime)/1e3/60)*s;var d=0;null!=l?l<L.EndTime&&o<L.StartTime?d=s*((l-L.StartTime)/1e3/60):l>L.EndTime&&o<L.StartTime?d=100:o>L.StartTime&&l<L.EndTime?d=s*((l-o)/1e3/60):l>L.EndTime&&o>L.StartTime&&(d=s*((L.EndTime-o)/1e3/60)):d=o<L.StartTime?100:s*((L.EndTime-o)/1e3/60);var v={zIndex:"1",width:d+"%",cursor:"pointer",borderBottom:"dashed 1px #D0D0D0",position:"absolute",left:n+"%"},T={};1===i.StartIndicator&&o>L.StartTime?T={borderTopLeftRadius:"12px",borderBottomLeftRadius:"12px"}:2===i.StartIndicator?T={}:3===i.StartIndicator&&o<L.StartTime&&(T={borderLeftColor:"red",borderLeftWidth:"10px",borderLeftStyle:"solid"}),1!==i.StartIndicator||null==l||l>L.EndTime?2===i.StartIndicator||3!==i.StartIndicator||null==l||l>L.EndTime||(T.borderRightColor="red",T.borderRightWidth="10px",T.borderRightStyle="solid"):(T.borderTopRightRadius="12px",T.borderBottomRightRadius="12px");var g=i.HasAlarmOccured?"#FBD5D2":"transparent",j=null==l?"LiveShipmentBar":"ShipmentBar",S=[];null!=l&&S.push((0,x.jsx)("div",{className:"railDashboardTransactionHTMLDiv4",children:o<L.StartTime||null==l||l>L.EndTime?"":("0"+l.getHours()).slice(-2)+":"+("0"+l.getMinutes()).slice(-2)}));let C=0===i.TransactionType?"DISPATCH":"RECEIPT";return(0,x.jsx)("div",{children:(0,x.jsx)(p.Popup,{position:"top left",hoverable:!1,className:"operatorOrderDetails",on:"click",element:(0,x.jsxs)("div",{className:i.HasAlarmOccured?"Heapfailureship ":"Heapshipment ","data-toggle":"popover",style:v,onClick:()=>{try{let e=i.TransactionCode.split("::");null===l?t(e[0],C,e[1],i.BCUPoint):a(e[0],C,e[1])}catch(e){console.log("error in Popup of TransactionHTML",e)}},children:[(0,x.jsx)("div",{className:"railDashboardTransactionHTMLDiv1",children:o<L.StartTime||null==l||l>L.EndTime?"":i.TransactionCode}),(0,x.jsx)("div",{className:j,style:T}),(0,x.jsxs)("div",{className:"railDashboardTransactionHTMLDiv2",style:{backgroundColor:g},children:[(0,x.jsx)("div",{className:"railDashboardTransactionHTMLDiv3",children:o<L.StartTime||null==l||l>L.EndTime?"":("0"+o.getHours()).slice(-2)+":"+("0"+o.getMinutes()).slice(-2)}),S]})]}),children:null!==c&&null!==c.CompartmentInfoList?(0,x.jsx)(u.TranslationConsumer,{children:e=>(0,x.jsxs)("div",{className:"operatorRailOrder",children:[(0,x.jsxs)("div",{className:"operatorRailOrdertransactionInfo",children:[(0,x.jsxs)("div",{style:{fontWeight:"bold"},children:["DISPATCH"===c.railTransactionType?"Shipment":"Receipt"," No - "+c.Code]}),(0,x.jsx)(p.Divider,{}),(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:e("OperatorDashboard_OrderAlarmsOccured")+":"}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoTitle",children:e("OperatorDashboard_OrderTimeTakne")+":"})]}),(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",style:c.AlarmCount>0?{color:"red"}:{},children:c.AlarmCount.toLocaleString()}),(0,x.jsx)("div",{className:"operatorOrdertransactionInfoContent",children:i.TotalTime.toLocaleString()+" "+e("OperatorDashboard_OrderMin")})]})]}),(0,x.jsx)(p.Divider,{direction:"vertical"})]}),(0,x.jsxs)("div",{className:"operatorOrderProductAndCompartmentDetails",children:[(0,x.jsx)("div",{className:"operatorOrderProductAndCompartmentDetailsTitle",style:D.length>0?{paddingTop:2,paddingBottom:12}:{},children:e("OperatorDashboard_OrderProductAndWagon")}),(0,x.jsx)("div",{className:"operatorOrderProduct",style:D.length>0?{height:175}:{},children:h.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)("div",{style:{color:t,marginBottom:5},children:[(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"left",marginTop:2,marginLeft:3,backgroundColor:t}}),(0,x.jsx)("div",{style:{marginLeft:-3},children:e.Product}),(0,x.jsx)("div",{style:{fontWeight:"bold"},children:e.LoadedQty.toLocaleString()+" "+c.UOM})]})}))}),(0,x.jsxs)("div",{className:"operatorOrderCompartmentDetails",children:[(0,x.jsx)("div",{style:{borderBottom:"1px dashed #A0A0A0",paddingBottom:8,marginBottom:8},children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:""}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderProduct")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderPlanned")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderActual")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderStatus")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:"DISPATCH"===c.railTransactionType?e("OperatorDashboard_OrderCustomer"):e("OperatorDashboard_OrderSupplier")})]}),m.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Code}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"right",backgroundColor:t}})}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.PlannedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.LoadedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Status}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Customer})]})}))]})}),D.length>0?(0,x.jsx)("div",{children:(0,x.jsxs)(p.List,{horizontal:!0,children:[(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:""}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderProduct")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderPlanned")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:e("OperatorDashboard_OrderActual")}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListTitle",children:"DISPATCH"===c.railTransactionType?e("OperatorDashboard_OrderCustomer"):e("OperatorDashboard_OrderSupplier")})]}),D.map((e=>{let t=""!==e.Color?"#"+e.Color:"#000000";return(0,x.jsxs)(p.List.Content,{children:[(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Code}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:(0,x.jsx)("div",{className:"operatorOrderCircle",style:{float:"right",backgroundColor:t}})}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.PlannedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.LoadedQty.toLocaleString()+" "+c.UOM}),(0,x.jsx)("div",{className:"operatorOrderCompartmentDetailsListContent",children:e.Customer})]})}))]})}):(0,x.jsx)("div",{})]})]})]})}):(0,x.jsx)("div",{className:"operatorOrder",children:(0,x.jsx)(f.A,{message:"Loading",loadingClass:"operatorOrderLoader"})})})})}}catch(C){console.log("error in getTransactionHTML "+C)}}function oe(e,t){var a=!1,r=-1,i=null==t.StartTime?null:new Date(t.StartTime),s=null==t.EndTime?null:new Date(t.EndTime);if(e.length>0){for(var n=0;n<e.length;n++){var o=new Date(e[n].StartTime),l=null==e[n].EndTime?null:new Date(e[n].EndTime);if(i<=o){if(null==t.EndTime){e[n].EndTime=null,e[n].StartTime=t.StartTime,a=!0,r=n;break}if(null!=s&&s>o){e[n].StartTime=t.StartTime,null!=l&&s>l&&(e[n].EndTime=t.EndTime),a=!0,r=n;break}}else{if(null==l){a=!0,r=n;break}if(i<l){a=!0,r=n,(null==s||s>l)&&(e[n].EndTime=t.EndTime);break}}}if(a)e[r].DeviceInfo+=";"+t.DeviceCode+","+(null==i?"--":i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear()+"  "+("0"+i.getHours()).slice(-2)+":"+("0"+i.getMinutes()).slice(-2))+","+(null==s?"--":s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear()+"  "+("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2));else{var d={StartTime:t.StartTime,EndTime:t.EndTime,DeviceInfo:t.DeviceCode+","+(null==i?"--":i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear()+"  "+("0"+i.getHours()).slice(-2)+":"+("0"+i.getMinutes()).slice(-2))+","+(null==s?"--":s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear()+"  "+("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2))};e.push(d)}}else{var c={StartTime:t.StartTime,EndTime:t.EndTime,DeviceInfo:t.DeviceCode+","+(null==i?"--":i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear()+"  "+("0"+i.getHours()).slice(-2)+":"+("0"+i.getMinutes()).slice(-2))+","+(null==s?"--":s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear()+"  "+("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2))};e.push(c)}return e}function le(e){if(void 0!==e&&null!==e){var t=[],a=100/Math.floor((L.EndTime-L.StartTime)/1e3/60),r=[];t.push((0,x.jsxs)("div",{className:"marineDashboardDeviceHtmlDiv5",children:[(0,x.jsx)("div",{className:"marineDashboardDeviceHtmlDiv6",children:"\xa0"}),(0,x.jsx)("div",{className:"marineDashboardDeviceHtmlDiv7"}),(0,x.jsx)("div",{className:"marineDashboardDeviceHtmlDiv8",children:"\xa0"})]}));for(var i=0;i<e.DeviceHealthAuditList.length;i++)r=oe(r,e.DeviceHealthAuditList[i]);for(var s=0;s<r.length;s++){var n=0,o=r[s],l=null;null!=o.StartTime&&(l=new Date(o.StartTime));var d=null;null!=o.EndTime&&(d=new Date(o.EndTime));var c=Math.floor((l-L.StartTime)/1e3/60);L.StartTime<l&&(n=c*a);var h=0;null!=d?d<L.EndTime&&l<L.StartTime?h=a*((d-L.StartTime)/1e3/60):d>L.EndTime&&l<L.StartTime?h=100:l>L.StartTime&&d<L.EndTime?h=a*((d-l)/1e3/60):d>L.EndTime&&l>L.StartTime&&(h=a*((L.EndTime-l)/1e3/60)):h=l<L.StartTime?100:a*((L.EndTime-l)/1e3/60);var m=null==o.EndTime||d>L.EndTime?"circle_red_right":"circle_green_right",u=G?"circleRedHover":"circleRed";t.push((0,x.jsxs)("div",{className:"marineDashboardDeviceHtmlDiv1",style:{width:h+"%",left:n+"%"},children:[(0,x.jsx)("div",{className:"marineDashboardDeviceHtmlDiv2",children:"\xa0"}),(0,x.jsx)(p.Popup,{className:"operatorDBPopup",element:(0,x.jsxs)("div",{className:"marineDashboardDeviceHtmlDiv3",children:[(0,x.jsx)("div",{className:u,"data-toggle":"popover"}),(0,x.jsx)("div",{className:m,"data-toggle":"popover",style:{cursor:"pointer"}})]}),hoverable:!1,on:"click",children:de(o.DeviceInfo)}),(0,x.jsx)("div",{className:"marineDashboardDeviceHtmlDiv4",children:"\xa0"})]}))}return t}}function de(e){var t=[];try{for(var a=e.split(";"),r=0;r<a.length;r++){for(var i=a[r].split(","),s=[],n=0;n<i.length;n++)s.push((0,x.jsx)("td",{children:i[n]}));t.push((0,x.jsx)("tr",{children:s}))}return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"marineDashboardDeviceStatusHoverDiv1",children:(0,x.jsx)("div",{style:{paddingTop:"5px"},children:(0,x.jsx)("span",{children:B("MarineDashboard_Device_Status")})})}),(0,x.jsx)("div",{style:{paddingTop:"5px"},children:(0,x.jsx)("table",{cellSpacing:"1",cellPadding:"1",width:"300px",className:"marineDashboardDeviceStatusHoverTable1",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{style:{fontWeight:"bold"},children:[(0,x.jsx)("td",{children:B("MarineDashboard_Device")}),(0,x.jsx)("td",{children:B("MarineDashboard_Stopped_Time")}),(0,x.jsx)("td",{children:B("MarineDashboard_Started_Time")})]}),t]})})})]})}catch(o){return console.log("error in deviceStatusHover",o),""}}return(0,x.jsx)(u.TranslationConsumer,{children:e=>(0,x.jsx)("div",{children:S===T.LY.RAIL?(0,x.jsxs)("div",{children:[(0,x.jsx)("table",{style:{width:"99%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"railDashboardIdentification",children:(0,x.jsx)("table",{style:{width:"100%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{width:"12%"},children:(0,x.jsx)("div",{style:{width:"100%",height:"15px"}})}),(0,x.jsx)("td",{className:"railTableIdentification",children:(0,x.jsx)("div",{id:"divShiftNames",style:{width:"100%",height:"15px"},children:z()})}),(0,x.jsx)("td",{style:{width:"1.2%"},children:(0,x.jsx)("div",{style:{width:"100%",height:"15px"}})})]})})})}),(0,x.jsx)("td",{style:{width:"1%",verticalAlign:"top"}})]})})}),(0,x.jsx)("div",{className:"railTableResults",children:(0,x.jsx)("table",{id:"tblResults",style:{width:"100%"},children:(0,x.jsx)("tbody",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("td",{className:"railDivResults",children:(0,x.jsx)("div",{id:"divResults",children:U()})})})})})}),(0,x.jsx)("table",{style:{width:"100%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{width:"99%",position:"relative"},children:(0,x.jsx)("div",{id:"divFooterTime",children:V()})}),(0,x.jsx)("td",{})]})})})]}):S===T.LY.ROAD?(0,x.jsxs)("div",{children:[(0,x.jsx)("table",{style:{width:"99%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"truckDashboardIdentification",children:(0,x.jsx)("table",{style:{width:"100%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{width:"12%"},children:(0,x.jsx)("div",{style:{width:"100%",height:"15px"}})}),(0,x.jsx)("td",{className:"truckTableIdentification",children:(0,x.jsx)("div",{id:"divShiftNames",style:{width:"100%",height:"15px"},children:z()})}),(0,x.jsx)("td",{style:{width:"11.3%"},children:(0,x.jsx)("div",{id:"divQueueListHeader",className:"truckDivQueueListHeader",children:"| "+e("RoadDashboard_InQueue")})})]})})})}),(0,x.jsx)("td",{style:{width:"20%",verticalAlign:"top"},children:(0,x.jsx)("div",{id:"divLiveCompHeader",className:"truckDivLiveCompHeader",children:"| "+e("Dashboard_Live_Comp_Header")})})]})})}),(0,x.jsx)("div",{className:"truckTableResults",children:(0,x.jsx)("table",{id:"tblResults",style:{width:"100%"},children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"truckDivResults",children:(0,x.jsx)("div",{id:"divResults",children:U()})}),(0,x.jsx)("td",{style:{width:"20%",verticalAlign:"top"},children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{id:"divcompartments",children:J()})})})]})})})}),(0,x.jsx)("table",{style:{width:"100%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{width:"80%",position:"relative"},children:(0,x.jsx)("div",{id:"divFooterTime",children:V()})}),(0,x.jsx)("td",{})]})})})]}):(0,x.jsxs)("div",{children:[(0,x.jsx)("table",{style:{width:"99%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"marineDashboardFrameTd1",children:(0,x.jsx)("table",{style:{width:"100%"},cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{style:{width:"12%"},children:(0,x.jsx)("div",{style:{width:"100%",height:"15px"}})}),(0,x.jsx)("td",{className:"marineDashboardFrameTd2",children:(0,x.jsx)("div",{id:"divShiftNames",style:{width:"100%",height:"15px"},children:z()})}),(0,x.jsx)("td",{style:{width:"2.1%"},children:(0,x.jsx)("div",{style:{width:"100%",height:"15px"}})})]})})})}),(0,x.jsx)("td",{className:"marineDashboardFrameTd3",children:(0,x.jsx)("div",{id:"divLiveCompHeader",className:"marineDashboardFrameDiv1",children:"| "+e("Dashboard_Live_Comp_Header")})})]})})}),(0,x.jsx)("div",{className:"marineDashboardFrameDiv2",children:(0,x.jsx)("table",{id:"tblResults",style:{width:"100%"},children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"marineDashboardFrameTd4",children:(0,x.jsx)("div",{id:"divResults",children:U()})}),(0,x.jsx)("td",{style:{verticalAlign:"top"},children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{id:"divcompartments",children:J()})})})]})})})}),(0,x.jsx)("table",{width:"99%",cellPadding:"0",cellSpacing:"0",children:(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"marineDashboardFrameTd5",children:(0,x.jsx)("div",{id:"divFooterTime",children:V()})}),(0,x.jsx)("td",{})]})})})]})})})}N.defaultProps={objOrderDetails:null};class L extends r.Component{constructor(){super(...arguments),this.state={isPopupOpen:{key:null,value:!1},hdnFGPrintBOL:null,hdnFGPrintBOD:null,hdnFGShipClose:null,hdnFGRecClose:null,openReceipt:!1,reason:"",transactionCode:"",transactionType:"",validationErrors:h.Th(O.RU),marineReceiptBtnCloseOK:!1,marineOrderDetails:null,marineOrderProductDetails:[],marineOrderloadedPartCommpartmentList:[],marineOrderloadedOtherCommpartmentList:[],CurrentShift:{},timeScaleDuration:4,marineTimeScaleDuration:12,modFilter:{},isFilterOpen:!1,selectList:[],webServiceName:"TMDashboardGet.asmx",filteredBayDetails:[],modFilteredBayDetails:[],BayDetails:[],buttonGroup:[{content:"View All",type:"primary"},{content:"Completed",type:"secondary"},{content:"Interrupted",type:"secondary"},{content:"With Alarms",type:"secondary"}],DashboardConfig:{TimeDuration:4,MassUOM:"Kg",VolUOM:"L",RefreshRate:6e4,RefreshRateOfCompartments:6e4,NoOfCompartments:10,NoOfMarineCompartments:30,PurgeInterval:48},ShiftsData:[],transactionAndDeviceStatus:[],timetaken:0,graphDuration:0,viewShipmentStatus:0,isLive:!0,QueueDetails:[],queueHoverHtml:[],objOrderDetails:[],selectedOption:[],railOptions:[]},this.getTransactionAndDeviceStatus=e=>{const{transportationType:t,userDetails:a,tokenDetails:r}=this.props,{isLive:i,marineTimeScaleDuration:s,timeScaleDuration:n,DashboardConfig:o}=this.state;let l={};try{if(i){let e=new Date,a=new Date;t===T.LY.MARINE?a.setHours(a.getHours()-s):a.setHours(a.getHours()-n),l={StartTime:a,EndTime:e},this.setState({CurrentShift:l})}else l.StartTime=new Date(this.state.CurrentShift.EndTime),l.EndTime=new Date(this.state.CurrentShift.EndTime),t===T.LY.MARINE?l.StartTime.setHours(l.StartTime.getHours()-s):l.StartTime.setHours(l.StartTime.getHours()-n),this.setState({CurrentShift:l});let p=[];e.forEach((e=>{p.push(e.Code)}));const u={ShareHolderCode:a.EntityResult.PrimaryShareholder,keyDataCode:m.v6,Entity:{BayCodes:p,EndTime:l.EndTime,StartTime:l.StartTime,TransportationType:t}};d()(c.KPB,h.tW(u,r.tokenInfo)).then((e=>{const t=e.data;if(t.IsSuccess){let e=t.EntityResult;this.setState({transactionAndDeviceStatus:e})}else console.log("Error in getTransactionAndDeviceStatus:",t.ErrorList)})).catch((e=>{console.log("Error while getting transaction and device status",e)})),i&&(this.shipmentsDataTimer=setTimeout((()=>this.getTransactionAndDeviceStatus(e)),parseInt(o.RefreshRate)))}catch(p){console.log("error in getTransactionAndDeviceStatus "+p)}},this.getRailOrderDetails=(e,t,a)=>{const{userDetails:r,tokenDetails:i}=this.props,s=[{key:"TransactionCode",value:e},{key:"TransactionType",value:t},{key:"WagonCode",value:a}],n={ShareHolderCode:r.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:s};d()(c.Ba8,h.tW(n,i.tokenInfo)).then((e=>{let a=e.data.EntityResult,r=[],i=[],s=[],n=a.CompartmentInfoList.length,o=parseInt(n/2)+n%2;for(let t=0;t<n;t++)null!=a.CompartmentInfoList[t].Product&&(r=this.addProductDetailsObject(r,a.CompartmentInfoList[t]));for(let t=0;t<o;t++)null!=a.CompartmentInfoList[t].Product&&i.push(a.CompartmentInfoList[t]);for(let t=o;t<n;t++)null!=a.CompartmentInfoList[t].Product&&s.push(a.CompartmentInfoList[t]);a.railTransactionType=t,this.setState({marineOrderDetails:a,marineOrderProductDetails:r,marineOrderloadedPartCommpartmentList:i,marineOrderloadedOtherCommpartmentList:s})})).catch((e=>{console.log("Error while getting OrderDetails: ",e)}))},this.getRailLiveOrderDetails=(e,t,a,r)=>{const{userDetails:i,tokenDetails:s}=this.props,n=[{key:"TransactionCode",value:e},{key:"TransactionType",value:t},{key:"WagonCode",value:a},{key:"BCUPoint",value:r}],o={ShareHolderCode:i.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:n};d()(c.$mf,h.tW(o,s.tokenInfo)).then((e=>{let a=e.data.EntityResult,r=[],i=[],s=[],n=a.CompartmentInfoList.length,o=parseInt(n/2)+n%2;for(let t=0;t<n;t++)null!=a.CompartmentInfoList[t].Product&&(r=this.addProductDetailsObject(r,a.CompartmentInfoList[t]));for(let t=0;t<o;t++)null!=a.CompartmentInfoList[t].Product&&i.push(a.CompartmentInfoList[t]);for(let t=o;t<n;t++)null!=a.CompartmentInfoList[t].Product&&s.push(a.CompartmentInfoList[t]);a.railTransactionType=t,this.setState({marineOrderDetails:a,marineOrderProductDetails:r,marineOrderloadedPartCommpartmentList:i,marineOrderloadedOtherCommpartmentList:s})})).catch((e=>{console.log("Error while getting OrderDetails: ",e)}))},this.getMarineOrderDetails=(e,t,a)=>{const{userDetails:r,transportationType:i,tokenDetails:s}=this.props,n=[{key:"TransactionCode",value:e},{key:"TransactionType",value:t.toUpperCase()}],o={ShareHolderCode:r.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:n};let l="MARINE"===i.toUpperCase()?c.Z95:"ROAD"===i.toUpperCase()?c.ZWT:"";d()(l,h.tW(o,s.tokenInfo)).then((e=>{let s=e.data.EntityResult,n=[],o=[],l=[],d=s.CompartmentInfoList.length,c=parseInt(d/2)+d%2;for(let t=0;t<d;t++)null!=s.CompartmentInfoList[t].Product&&(n=this.addProductDetailsObject(n,s.CompartmentInfoList[t]));for(let t=0;t<c;t++)null!=s.CompartmentInfoList[t].Product&&o.push(s.CompartmentInfoList[t]);for(let t=c;t<d;t++)null!=s.CompartmentInfoList[t].Product&&l.push(s.CompartmentInfoList[t]);s.TransactionType="Dispatch"===t?0:1,s.TotalTime=a,this.setState({marineOrderDetails:s,marineOrderProductDetails:n,marineOrderloadedPartCommpartmentList:o,marineOrderloadedOtherCommpartmentList:l,hdnFGPrintBOL:h.ab(r.EntityResult.FunctionsList,S.i.modify,i===T.LY.MARINE?S.$K:S.PD),hdnFGPrintBOD:h.ab(r.EntityResult.FunctionsList,S.i.modify,i===T.LY.MARINE?S.nS:S.Pb),hdnFGShipClose:h.ab(r.EntityResult.FunctionsList,S.i.modify,i===T.LY.MARINE?S.P8:S.d4),hdnFGRecClose:h.ab(r.EntityResult.FunctionsList,S.i.modify,i===T.LY.MARINE?S.dv:S.Fy)})})).catch((e=>{console.log("Error while getting MarineOrderDetails : ",e)}))},this.print=(e,t)=>{const{transportationType:a,userDetails:r,tokenDetails:i}=this.props,l=[{key:"TransportationType",value:a.toUpperCase()},{key:"TransactionType",value:t.toUpperCase()},{key:"Code",value:e}],m={ShareHolderCode:r.EntityResult.PrimaryShareholder,KeyCodes:l};let p={messageType:"critical",message:"Dispatch"===t?"OperatorDashboard_OrderPrintBOLSuccessfully":"OperatorDashboard_OrderPrintBODSuccessfully",messageResultDetails:[{keyFields:["DISPATCH"===this.state.transactionType?"MarineShipmentList_ShipmentCode":"Marine_ReceiptCompDetail_ShipmentNumber"],keyValues:[e],isSuccess:!1,errorMessage:""}]};d()(c.aSL,h.tW(m,i.tokenInfo)).then((e=>{const a=e.data;p.messageType=a.IsSuccess?"success":"critical",p.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess||(p.message="Dispatch"===t?"OperatorDashboard_OrderPrintBOLfailed":"OperatorDashboard_OrderPrintBODfailed",p.messageResultDetails[0].errorMessage=a.ErrorList[0]),(0,s.toast)((0,x.jsx)(o.A,{children:(0,x.jsx)(n.A,{notificationMessage:p})}),{autoClose:"success"===p.messageType&&1e4})})).catch((e=>{p.messageResultDetails[0].errorMessage=e,console.log("Error while getting OrderDetails: ",e)}))},this.handleOpen=(e,t)=>{this.setState({isPopupOpen:{key:t?e:null,value:t}})},this.forceClose=(e,t)=>{this.setState({openReceipt:!0,transactionCode:e,transactionType:t.toUpperCase(),isPopupOpen:{key:null,value:!1}})},this.getQueuedTransaction=e=>{const{userDetails:t,tokenDetails:a}=this.props,r=[{key:"BayCode",value:e}],i={ShareHolderCode:t.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:r};d()(c.yjb,h.tW(i,a.tokenInfo)).then((e=>{const t=e.data;t.IsSuccess&&this.setState({QueueDetails:t.EntityResult})})).catch((e=>{console.log("Error while getting QueuedTransaction",e)}))},this.getAlarmList=e=>{const{userDetails:t,tokenDetails:a}=this.props,r={ShareHolderCode:t.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:[{key:"OrderCode",value:"mjtest668"},{key:"TransactionType",value:"DISPATCH"}]};d()(c.gHW,h.tW(r,a.tokenInfo)).then((e=>{e.data.IsSuccess})).catch((e=>{console.log("Error while getting AlarmList",e)}))},this.timerStop=()=>{this.shipmentsDataTimer&&clearTimeout(this.shipmentsDataTimer),this.liveCompartmentsTimer&&clearTimeout(this.liveCompartmentsTimer)},this.onSelectChange=e=>{let{modFilter:t}=this.state,{selectList:a}=this.state,r=[];a.forEach((t=>{e.findIndex((function(e){return e===t}))>-1&&r.push(t)})),t.selectList=r,this.setState({modFilter:t})},this.onCheckChange=e=>{let t=b().cloneDeep(this.state.modFilter);e?(t.selectList=this.state.selectList,this.setState({modFilter:t})):(t.selectList=[],this.setState({modFilter:t}))},this.onTimeTakenChange=e=>{let{modFilter:t}=this.state;t.timeTaken=e,this.setState({modFilter:t})},this.onGraphDurationChange=e=>{let{modFilter:t}=this.state;t.graphDuration=e,this.setState({modFilter:t})},this.clearRailSelect=()=>{let e=b().cloneDeep(this.state.selectedOption),t=b().cloneDeep(this.state.railOptions);e.forEach(((a,r)=>{e[r]="select",t[r]=[]})),this.setState({railOptions:t,selectedOption:e})},this.handleApply=()=>{this.timerStop(),this.clearRailSelect();let{buttonGroup:e,modFilter:t,modFilteredBayDetails:a}=this.state,r=0,i=0,s=[];if(1!==t.timeTaken&&(r=t.timeTaken),e.forEach(((e,t)=>{"primary"===e.type&&(i=t)})),t.selectList.forEach(((e,t)=>{a.forEach((t=>{e===t.Code&&s.push(t)}))})),this.props.transportationType===T.LY.MARINE){var n=this.state.modFilter.graphDuration;this.setState({timetaken:r,marineTimeScaleDuration:n,viewShipmentStatus:i,isFilterOpen:!1,filteredBayDetails:s},(()=>{this.getLiveOrdersForBays(s),this.getTransactionAndDeviceStatus(s)}))}else{var o=this.state.modFilter.graphDuration;this.setState({timetaken:r,timeScaleDuration:o,viewShipmentStatus:i,isFilterOpen:!1,filteredBayDetails:s},(()=>{this.getLiveOrdersForBays(s),this.getTransactionAndDeviceStatus(s)}))}},this.openFilter=()=>{this.setState({isFilterOpen:!0})},this.btnGoLiveClick=()=>{this.state.isLive||(document.getElementById("spanGoLive").style.cursor="pointer",this.setState({isLive:!0},(()=>{this.getTransactionAndDeviceStatus(this.state.filteredBayDetails)}))),this.clearRailSelect()},this.btnBackwardClick=()=>{try{var e=this.state.CurrentShift,{DashboardConfig:t}=this.state,a=new Date;a.setHours(a.getHours()-parseInt(t.PurgeInterval));var r=new Date(e.StartTime);r.setMinutes(r.getMinutes()-30),a<r&&(this.setState({isLive:!1}),document.getElementById("btnBackward").style.cursor="pointer",e.StartTime.setMinutes(e.StartTime.getMinutes()-30),e.EndTime.setMinutes(e.EndTime.getMinutes()-30),this.setState({CurrentShift:e}),this.shipmentsDataTimer&&clearTimeout(this.shipmentsDataTimer),this.getTransactionAndDeviceStatus(this.state.filteredBayDetails)),this.clearRailSelect()}catch(i){console.log("error in btnBackwardClick",i)}},this.btnForwardClick=()=>{if(!this.state.isLive){var e=this.state.CurrentShift,t=new Date,a=new Date(e.EndTime);a.setMinutes(a.getMinutes()+30),a<t&&(this.setState({isLive:!1}),document.getElementById("btnForward").style.cursor="pointer",e.StartTime.setMinutes(e.StartTime.getMinutes()+30),e.EndTime.setMinutes(e.EndTime.getMinutes()+30),this.setState({CurrentShift:e}),this.shipmentsDataTimer&&clearTimeout(this.shipmentsDataTimer),this.getTransactionAndDeviceStatus(this.state.filteredBayDetails))}this.clearRailSelect()},this.onChangeSelectedOption=(e,t)=>{let a=b().cloneDeep(this.state.selectedOption);a[t]=e,this.setState({selectedOption:a})},this.heapClick=(e,t)=>{let a=b().cloneDeep(this.state.railOptions);a[t]=[];for(var r=0;r<e.AuditItems.length;r++){var i={};i.innerHTML=e.AuditItems[r].TransactionCode,i.value=e.AuditItems[r].TransactionCode,a[t].push(i)}this.setState({railOptions:a})}}GetCurrentShift(){let e=new Date,t=new Date,{transportationType:a}=this.props,{marineTimeScaleDuration:r,timeScaleDuration:i}=this.state;a===T.LY.MARINE?t.setHours(t.getHours()-r):t.setHours(t.getHours()-i);let s={StartTime:t,EndTime:e};this.setState({CurrentShift:s})}getShifts(){const{tokenDetails:e}=this.props;d()(c.G1W,h.Jm(e.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess){let e=t.EntityResult;if(null!==e&&void 0!==e)for(var a=0;a<e.length;a++)25===e[a].StartTime.length?e[a].StartTime=new Date(Date.parse(e[a].StartTime.slice(0,-6))):e[a].StartTime=new Date(Date.parse(e[a].StartTime)),25===e[a].EndTime.length?e[a].EndTime=new Date(Date.parse(e[a].EndTime.slice(0,-6))):e[a].EndTime=new Date(Date.parse(e[a].EndTime));this.setState({ShiftsData:e})}else console.log("Error in getShifts:",t.ErrorList)})).catch((e=>{console.log("OperatorDashboardDetailsComposite:Error occurred on getShifts",e)}))}getBayDetails(){const{transportationType:e,userDetails:t,tokenDetails:a}=this.props,r=[{key:m.v6,value:e}],i={ShareHolderCode:t.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:r};d()(c.ZXZ,h.tW(i,a.tokenInfo)).then((t=>{const a=t.data;if(a.IsSuccess){let r=a.EntityResult,i=t.data;this.setState({filteredBayDetails:r,BayDetails:i,modFilteredBayDetails:r},(()=>{this.getLiveOrdersForBays(r);let t=[],a=e===T.LY.MARINE?b().cloneDeep(C._F):b().cloneDeep(C.xK);Array.isArray(r)&&r.forEach((e=>{t.push(e.Code)})),a.selectList=t,this.setState({selectList:t,modFilter:a}),this.getTransactionAndDeviceStatus(r),this.getTransactionAudit(r),this.getDeviceStatus(r)}))}})).catch((e=>{console.log("Error while getting BayDetails",e)}))}getTransactionAudit(e){var t=[];const{CurrentShift:a}=this.state;e.forEach((e=>{t.push(e.Code)}));const r={ShareHolderCode:this.props.userDetails.EntityResult.PrimaryShareholder,keyDataCode:m.v6,Entity:{BayCodes:t,EndTime:a.EndTime,StartTime:a.StartTime,TransportationType:this.props.transportationType}};d()(c.muW,h.tW(r,this.props.tokenDetails.tokenInfo)).then((e=>{e.data.IsSuccess})).catch((e=>{console.log("Error while getting transactionAudit")}))}getDeviceStatus(e){const{userDetails:t,transportationType:a,tokenDetails:r}=this.props,{CurrentShift:i}=this.state;let s=[];e.forEach((e=>{s.push(e.Code)}));const n={ShareHolderCode:t.EntityResult.PrimaryShareholder,keyDataCode:m.v6,Entity:{BayCodes:s,EndTime:i.EndTime,StartTime:i.StartTime,TransportationType:a}};d()(c.nSb,h.tW(n,r.tokenInfo)).then((e=>{e.data.IsSuccess})).catch((e=>{console.log("Error while getting DeviceStatus",e)}))}getSpurDetails(){const{transportationType:e,tokenDetails:t}=this.props;d()(c.FF6,h.Jm(t.tokenInfo)).then((t=>{const a=t.data;if(a.IsSuccess){let r=a.EntityResult,i=t.data,s=[],n=[],o=[];void 0!==r&&null!==r&&r.forEach((e=>{s.push(e.Code),n.push("select"),o.push([])}));let l=e===T.LY.MARINE?b().cloneDeep(C._F):b().cloneDeep(C.xK);l.selectList=s,this.setState({filteredBayDetails:r,modFilteredBayDetails:r,BayDetails:i,selectList:s,modFilter:l,selectedOption:n,railOptions:o},(()=>{this.getLiveOrdersForBays(r),this.getTransactionAndDeviceStatus(r),this.getTransactionAudit(r),this.getDeviceStatus(r)}))}})).catch((e=>{console.log("Error while getting spurDetails",e)}))}getLiveOrdersForBays(e){const{userDetails:t,transportationType:a,tokenDetails:r}=this.props,{DashboardConfig:i}=this.state;let s=[];try{e.forEach((e=>{s.push(e.Code)}));const n=[{key:m.v6,value:a}],o={ShareHolderCode:t.EntityResult.PrimaryShareholder,keyDataCode:m.v6,KeyCodes:n,Entity:s};d()(c.U87,h.tW(o,r.tokenInfo)).then((e=>{const t=e.data;t.IsSuccess?this.setState({objOrderDetails:t.EntityResult}):this.setState({objOrderDetails:[]})})).catch((e=>{console.log("Error while getting LiveOrdersForBays",e)})),this.liveCompartmentsTimer=setTimeout((()=>this.getLiveOrdersForBays(e)),parseInt(i.RefreshRateOfCompartments))}catch(n){console.log("error in getLiveOrdersForBays",n)}}addProductDetailsObject(e,t){for(var a=!1,r=0;r<e.length;r++)if(e[r].Product===t.Product){a=!0,e[r].LoadedQty+=t.LoadedQty;break}if(!a){var i={Product:t.Product,Color:t.Color,LoadedQty:t.LoadedQty};e.push(i)}return e}forceCloseOK(){const{transportationType:e,userDetails:t,tokenDetails:a}=this.props,{transactionCode:r,transactionType:i,reason:l}=this.state;this.setState({marineReceiptBtnCloseOK:!0}),setTimeout((()=>{this.setState({marineReceiptBtnCloseOK:!1})}),1800);const m=[{key:"TransactionCode",value:r},{key:"TransactionType",value:i},{key:"TransportationType",value:e.toUpperCase()}],p={ShareHolderCode:t.EntityResult.PrimaryShareholder,KeyCodes:m,Entity:{Reason:l}};let u={messageType:"success",message:"DISPATCH"===this.state.transactionType?"OperatorDashboard_OrderShipmentForceClosureSuccessfull":"OperatorDashboard_OrderReceiptForceClosureSuccessfull",messageResultDetails:[{keyFields:["DISPATCH"===this.state.transactionType?"MarineShipmentList_ShipmentCode":"Marine_ReceiptCompDetail_ShipmentNumber"],keyValues:[r],isSuccess:!0,errorMessage:""}]};this.onFieldChange("Reason",l)&&d()(c._MK,h.tW(p,a.tokenInfo)).then((e=>{const t=e.data;this.setState({openReceipt:!1,reason:""}),!0===t.IsSuccess?(this.shipmentsDataTimer&&clearTimeout(this.shipmentsDataTimer),this.getTransactionAndDeviceStatus(this.state.filteredBayDetails)):(u.messageType="critical",u.message="DISPATCH"===this.state.transactionType?"OperatorDashboard_OrderShipmentForceClosurefailed":"OperatorDashboard_OrderReceiptForceClosurefailed",u.messageResultDetails[0].isSuccess=!1,u.messageResultDetails[0].errorMessage=t.ErrorList[0]),(0,s.toast)((0,x.jsx)(o.A,{children:(0,x.jsx)(n.A,{notificationMessage:u})}),{autoClose:"success"===u.messageType&&1e4})})).catch((e=>{console.log("Error while getting OrderDetails: ",e)}))}renderModal(){const{openReceipt:e,validationErrors:t,marineReceiptBtnCloseOK:a}=this.state;return(0,x.jsx)(u.TranslationConsumer,{children:r=>(0,x.jsxs)(p.Modal,{onClose:()=>this.setState({openReceipt:!1}),size:"small",open:e,closeOnDimmerClick:!1,children:[(0,x.jsxs)(p.Modal.Content,{children:[(0,x.jsx)("div",{className:"ViewMarineReceiptCloseHeader",children:(0,x.jsxs)("b",{children:[" ","DISPATCH"===this.state.transactionType?r("OperatorDashboard_OrderDispatchForceClosureHeader"):r("OperatorDashboard_OrderReceiptForceClosureHeader")]})}),(0,x.jsx)("div",{children:(0,x.jsx)(p.Input,{fluid:!0,value:this.state.reason,indicator:"required",onChange:e=>this.onFieldChange("Reason",e),label:r("ViewMarineReceiptList_Reason"),error:r(t.Reason)})})]}),(0,x.jsxs)(p.Modal.Footer,{children:[(0,x.jsx)(p.Button,{type:"secondary",size:"small",content:r("ViewMarineReceiptList_Cancel"),onClick:()=>this.setState({openReceipt:!1,validationErrors:[],reason:""})}),(0,x.jsx)(p.Button,{type:"primary",size:"small",content:r("ViewMarineReceiptList_Ok"),onClick:()=>{this.forceCloseOK()},disabled:a})]})]})})}onFieldChange(e,t){try{const a=b().cloneDeep(this.state.validationErrors);if(this.setState({reason:t}),void 0!==O.RU[e])return a[e]=h.jr(O.RU[e],t),this.setState({validationErrors:a}),""===a.Reason||void 0===a.Reason}catch(a){console.log("MarineReceiptDetailsComposite:Error occured on handleChange",a)}}componentDidMount(){var e=this.props.transportationType===T.LY.MARINE?b().cloneDeep(C._F):b().cloneDeep(C.xK);this.setState({modFilter:e}),this.props.transportationType===T.LY.RAIL?this.getSpurDetails():this.getBayDetails(),this.getShifts()}componentWillMount(){this.GetCurrentShift()}componentWillUnmount(){this.timerStop()}handleReset(){var e=this.state.modFilteredBayDetails;this.toggleButton(0);var t=this.props.transportationType===T.LY.MARINE?b().cloneDeep(C._F):b().cloneDeep(C.xK);t.selectList=this.state.selectList,this.props.transportationType===T.LY.MARINE?this.setState({modFilter:t,timeTaken:t.timeTaken,marineTimeScaleDuration:t.graphDuration,viewShipmentStatus:0,isFilterOpen:!1,filteredBayDetails:e},(()=>{this.getLiveOrdersForBays(e),this.getTransactionAndDeviceStatus(e)})):this.setState({modFilter:t,timeTaken:t.timeTaken,timeScaleDuration:t.graphDuration,viewShipmentStatus:0,isFilterOpen:!1,filteredBayDetails:e},(()=>{this.getLiveOrdersForBays(e),this.getTransactionAndDeviceStatus(e)}))}toggleButton(e,t){const a=this.state.buttonGroup;a.forEach(((t,r)=>{a[r].type=e!==r?"secondary":"primary"})),this.setState({buttonGroup:a})}getCurrentShifts(e){var t=[],a=null;const{ShiftsData:r}=this.state;for(var i=0;i<r.length;i++){var s={Name:r[i].Name,StartTime:r[i].StartTime,EndTime:r[i].EndTime};s.StartTime.setDate(e.StartTime.getDate()),s.StartTime.setMonth(e.StartTime.getMonth()),s.StartTime.setYear(e.StartTime.getFullYear()),s.EndTime.setDate(e.StartTime.getDate()),s.EndTime.setMonth(e.StartTime.getMonth()),s.EndTime.setYear(e.StartTime.getFullYear()),s.StartTime>s.EndTime&&(s.EndTime.setDate(e.StartTime.getDate()+1),a=s),t.push(s)}if(r.length>0){var n={Name:r[0].Name,StartTime:new Date(r[0].StartTime),EndTime:new Date(r[0].EndTime)};n.EndTime.setDate(n.EndTime.getDate()+1),n.StartTime.setDate(n.StartTime.getDate()+1),t.push(n)}if(null!==a){var o={Name:a.Name,StartTime:new Date(a.StartTime),EndTime:new Date(a.EndTime)};o.EndTime.setDate(o.EndTime.getDate()-1),o.StartTime.setDate(o.StartTime.getDate()-1),t.push(o);var l={Name:a.Name,StartTime:new Date(a.StartTime),EndTime:new Date(a.EndTime)};l.EndTime.setDate(l.EndTime.getDate()+1),l.StartTime.setDate(l.StartTime.getDate()+1),t.push(l)}return t}render(){return(0,x.jsxs)("div",{children:[this.renderModal(),(0,x.jsx)(o.A,{children:(0,x.jsx)(u.TranslationConsumer,{children:e=>(0,x.jsxs)("div",{className:"row",style:{paddingTop:"10px",paddingBottom:"15px"},children:[(0,x.jsx)(j,{transportationType:this.props.transportationType}),(0,x.jsx)("div",{className:"marineDashboardHeader",children:this.props.transportationType===T.LY.MARINE?e("MarineDashboard_LoadingUnloadingOverview"):this.props.transportationType===T.LY.ROAD?e("TruckDashboard_LoadingUnloadingOverview"):e("RailDashboard_LoadingUnloadingOverview")}),(0,x.jsxs)("div",{className:"marineDashboardFilter",children:[(0,x.jsx)(p.Button,{content:e("MarineDashboard_FilterOptions"),onClick:this.openFilter}),(0,x.jsxs)(p.Modal,{className:"dashboardFilterModal",onClose:()=>this.setState({isFilterOpen:!1}),open:this.state.isFilterOpen,closeOnDimmerClick:!0,closeOnDocumentClick:!0,style:{width:"50%"},closeIcon:!0,children:[(0,x.jsxs)(p.Modal.Content,{children:[(0,x.jsxs)("div",{className:"berthFilter",children:[this.props.transportationType===T.LY.MARINE?(0,x.jsx)("span",{className:"filterOrderStatus",children:e("MarineDispatchManualEntry_Bay")}):this.props.transportationType===T.LY.RAIL?(0,x.jsx)("span",{className:"filterOrderStatus",children:e("OperatorDashboard_Spur")}):(0,x.jsx)("span",{className:"filterOrderStatus",children:e("OperatorDashboard_Bay")}),(0,x.jsx)("div",{className:"berthSelectFilter",children:(0,x.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),options:h.Zj(this.state.selectList),multiple:!0,value:this.state.modFilter.selectList,onChange:e=>this.onSelectChange(e)})}),(0,x.jsx)("div",{className:"berthCheckboxFilter",children:(0,x.jsx)(p.Checkbox,{label:e("Common_All"),checked:Array.isArray(this.state.modFilter.selectList)&&this.state.modFilter.selectList.length===this.state.selectList.length,onChange:e=>this.onCheckChange(e)})})]}),(0,x.jsx)(p.Slider,{label:e("OperatorDashboard_TimeTaken"),value:this.state.modFilter.timeTaken,step:15,max:75,style:{width:"700px",marginLeft:"10px",marginTop:"5px"},fluid:!0,onChange:e=>this.onTimeTakenChange(e)}),(0,x.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,x.jsx)("div",{style:{textAlign:"end",width:"90px"},children:"|"}),(0,x.jsxs)("div",{className:"timeTakenSliderDescription",children:[(0,x.jsx)("div",{className:"timeTakenDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"timeTakenDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"timeTakenDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"timeTakenDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"timeTakenDescriptionItem",children:"|"})]})]}),(0,x.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,x.jsx)("div",{className:"timeTakenDescriptionText",children:e("OperatorDashboard_ViewAll")}),(0,x.jsxs)("div",{style:{display:"flex",width:"calc(100% - 105px)"},children:[(0,x.jsx)("div",{className:"timeTakenDescriptionTextItem",children:e("OperatorDashboard_TimeTakenOne")}),(0,x.jsx)("div",{className:"timeTakenDescriptionTextItem",children:e("OperatorDashboard_TimeTakenTwo")}),(0,x.jsx)("div",{className:"timeTakenDescriptionTextItem",children:e("OperatorDashboard_TimeTakenThree")}),(0,x.jsx)("div",{className:"timeTakenDescriptionTextItem",children:e("OperatorDashboard_TimeTakenFour")}),(0,x.jsx)("div",{className:"timeTakenDescriptionTextItem",children:e("OperatorDashboard_TimeTakenFive")})]})]}),(0,x.jsx)(p.Divider,{}),(0,x.jsxs)("span",{className:"row",style:{width:"99%"},children:[(0,x.jsx)("span",{className:"filterOrderStatus",children:e("OperatorDashboard_TransactionStatus")}),(0,x.jsx)(p.Button.Group,{children:this.state.buttonGroup.map(((t,a)=>(0,x.jsx)(p.Button,{size:"small",content:e(t.content),type:t.type,onClick:()=>this.toggleButton(a,t)},a)))})]}),(0,x.jsx)(p.Divider,{}),this.props.transportationType===T.LY.MARINE?(0,x.jsxs)("div",{children:[(0,x.jsx)(p.Slider,{label:e("OperatorDashboard_GraphDuration"),step:6,min:6,max:24,style:{width:"700px",marginLeft:"10px",marginTop:"5px"},fluid:!0,onChange:e=>this.onGraphDurationChange(e),value:this.state.modFilter.graphDuration}),(0,x.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,x.jsx)("div",{className:"graphDurationDescription",children:"|"}),(0,x.jsxs)("div",{className:"marineDurationMarker",children:[(0,x.jsx)("div",{className:"graphDurationDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"graphDurationDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"graphDurationDescriptionItem",children:"|"})]})]}),(0,x.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,x.jsx)("div",{className:"graphDurationDescriptionText",children:e("OperatorDashboard_GraphDurationOne")}),(0,x.jsxs)("div",{className:"marineDurationDesc",children:[(0,x.jsx)("div",{className:"graphDurationDescriptionTextItem",children:e("OperatorDashboard_GraphDurationTwo")}),(0,x.jsx)("div",{className:"graphDurationDescriptionTextItem",children:e("OperatorDashboard_GraphDurationThree")}),(0,x.jsx)("div",{className:"graphDurationDescriptionTextItem",children:e("OperatorDashboard_GraphDurationFour")})]})]})]}):(0,x.jsxs)("div",{children:[(0,x.jsx)(p.Slider,{label:e("OperatorDashboard_GraphDuration"),step:1,min:2,max:4,style:{width:"700px",marginLeft:"10px",marginTop:"5px"},fluid:!0,onChange:e=>this.onGraphDurationChange(e),value:this.state.modFilter.graphDuration}),(0,x.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,x.jsx)("div",{className:"roadGraphDurationDescription",children:"|"}),(0,x.jsxs)("div",{className:"roadGraphMarkerDesc",children:[(0,x.jsx)("div",{className:"roadGraphDurationDescriptionItem",children:"|"}),(0,x.jsx)("div",{className:"roadGraphDurationDescriptionLastItem",children:"|"})]})]}),(0,x.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,x.jsx)("div",{className:"roadGraphDurationDescriptionText",children:e("OperatorDashboard_OthersGraphDurationOne")}),(0,x.jsxs)("div",{className:"roadGraphDurationDesc",children:[(0,x.jsx)("div",{className:"roadGraphDurationDescriptionTextItem",children:e("OperatorDashboard_OthersGraphDurationTwo")}),(0,x.jsx)("div",{className:"roadGraphDurationDescriptionTextItem",children:e("OperatorDashboard_OthersGraphDurationThree")})]})]})]}),(0,x.jsx)(p.Divider,{})]}),(0,x.jsx)(p.Modal.Footer,{children:(0,x.jsxs)("div",{className:"filterButton",style:{textAlign:"right"},children:[(0,x.jsx)(p.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",size:"small",onClick:()=>this.handleReset()}),(0,x.jsx)(p.Button,{content:e("RoleAdminEdit_Apply"),size:"small",onClick:()=>this.handleApply()})]})})]})]})]})})}),(0,x.jsx)(o.A,{children:(0,x.jsx)(N,{handleOpen:this.handleOpen,openBoolean:this.state.isPopupOpen,hdnFGPrintBOL:this.state.hdnFGPrintBOL,hdnFGPrintBOD:this.state.hdnFGPrintBOD,hdnFGShipClose:this.state.hdnFGShipClose,hdnFGRecClose:this.state.hdnFGRecClose,orderDetails:this.state.marineOrderDetails,orderProductDetails:this.state.marineOrderProductDetails,orderloadedPartCommpartmentList:this.state.marineOrderloadedPartCommpartmentList,orderloadedOtherCommpartmentList:this.state.marineOrderloadedOtherCommpartmentList,getOrderDetails:this.getMarineOrderDetails,getRailLiveOrderDetails:this.getRailLiveOrderDetails,getRailOrderDetails:this.getRailOrderDetails,isLive:this.state.isLive,print:this.print,forceClose:this.forceClose,btnGoLiveClick:this.btnGoLiveClick,btnBackwardClick:this.btnBackwardClick,btnForwardClick:this.btnForwardClick,getQueuedTransaction:this.getQueuedTransaction,transportationType:this.props.transportationType,filteredBayDetails:this.state.filteredBayDetails,ShiftsData:this.state.ShiftsData,CurrentShift:this.state.CurrentShift,DashboardConfig:this.state.DashboardConfig,transactionAndDeviceStatus:this.state.transactionAndDeviceStatus,QueueDetails:this.state.QueueDetails,viewShipmentStatus:this.state.viewShipmentStatus,timetaken:this.state.timetaken,objOrderDetails:this.state.objOrderDetails,selectedOption:this.state.selectedOption,onChangeSelectedOption:this.onChangeSelectedOption,heapClick:this.heapClick,railOptions:this.state.railOptions})}),(0,x.jsx)(o.A,{children:(0,x.jsx)(s.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const E=(0,i.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(L)}}]);
//# sourceMappingURL=8664.85430996.chunk.js.map