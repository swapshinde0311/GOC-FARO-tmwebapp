(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[8055,8149,5841,8222,429],{40510:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var s=i(65043),o=i(80297),a=i(65187),n=i(67907),r=i(70579);function l(e){let{KPIList:t,pageName:i,rowHeight:l,widgetHeight:c,isDraggable:d,isResizable:u,kpiDisplayTopBreakpoint:p}=e;const[h,m]=(0,s.useState)(1),g=s.useRef(null),C=()=>{let e=window.pageYOffset,t=h;if(g.current&&g.current.getBoundingClientRect().top<p)t=0;else{if(0!==e)return;t=1}m(t)};return(0,s.useEffect)((()=>{"undefined"!==typeof window&&window.addEventListener("scroll",C)})),(0,s.useEffect)((()=>()=>{window.removeEventListener("scroll",C)}),[]),(0,r.jsx)("div",{ref:g,children:1===h?(0,r.jsx)(n.TranslationConsumer,{children:e=>(0,r.jsx)("div",{style:{marginTop:"6px"},children:(0,r.jsx)(a.A,{children:(0,r.jsx)(o.A,{kpiList:t,isDraggable:d,isResizable:u,rowHeight:l,widgetHeight:c,pageName:i})})})}):""})}l.defaultProps={kpiDisplayTopBreakpoint:100}},66554:(e,t,i)=>{"use strict";i.d(t,{$:()=>d});var s=i(65043),o=i(72711),a=i(67907),n=i(65187),r=i(69062),l=i(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:c,selectedShareholder:d,onShareholderChange:u,onDelete:p,onAdd:h,popUpContent:m,shrVisible:g,handleBreadCrumbClick:C,addVisible:y,deleteVisible:S}=e;const[k,T]=(0,s.useState)(!1),[R,v]=(0,s.useState)(!1);function f(){t.add&&(m.length>0?v(!1===R):h())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(n.A,{children:[" ",(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsxs)(o.Breadcrumb,{children:[i.parents.map((t=>(0,l.jsx)(o.Breadcrumb.Item,{onClick:()=>{void 0!==C&&null!==C&&C(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(o.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===g?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(o.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:r.Zj(c),onChange:e=>u(e)})})]})})})}),(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsxs)(o.Modal,{open:k,size:"small",children:[(0,l.jsx)(o.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(o.Modal.Footer,{children:[(0,l.jsx)(o.Button,{type:"secondary",content:e("Cancel"),onClick:()=>T(!1)}),(0,l.jsx)(o.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{T(!1),p()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[y?(0,l.jsx)(o.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:f,children:(0,l.jsx)(o.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:R,children:(0,l.jsx)("div",{onMouseLeave:()=>v(!1),children:(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsx)(o.VerticalMenu,{children:(0,l.jsxs)(o.VerticalMenu,{children:[(0,l.jsx)(o.VerticalMenu.Header,{children:e("Common_Create")}),m.map((t=>(0,l.jsx)(o.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,v(!1),void h(e);var e},children:e(t.fieldValue)})))]})})})})}):"",S?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&T(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(o.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};i(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:s,selectedShareholder:o,onShareholderChange:a,onDelete:n,onAdd:r,popUpContent:d,shrVisible:u,handleBreadCrumbClick:p,addVisible:h,deleteVisible:m}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:i,shareholders:s,selectedShareholder:o,onShareholderChange:a,onDelete:n,onAdd:r,popUpContent:d,shrVisible:u,handleBreadCrumbClick:p,addVisible:h,deleteVisible:m})}},62900:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var s=i(65043),o=i(67907),a=i(72711),n=i(72067),r=i(69062),l=i(97508),c=i(44192),d=i(40854),u=i.n(d),p=i(53536),h=i.n(p),m=i(86111),g=i.n(m),C=i(70579);class y extends s.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:r.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const i=h().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(i[e]=r.jr(c.Qh[e],t),this.setState({validationErrors:i,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var i=!0;return i&&(i=Object.values(t).every((function(e){return""===e}))),i},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,i=g().lib.WordArray.random(16),s=g().PBKDF2(t,i,{keySize:8,iterations:100}),o=g().lib.WordArray.random(16),a=g().AES.encrypt(e,s,{iv:o,padding:g().pad.Pkcs7,mode:g().mode.CBC}),l=i.toString()+o.toString()+a.toString();u()(n.KrY+"?encryptedPassword="+encodeURIComponent(l),r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=r.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,C.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,C.jsx)(o.TranslationConsumer,{children:e=>(0,C.jsxs)(a.Modal,{open:!0,size:"mini",children:[(0,C.jsxs)(a.Modal.Content,{children:[(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,C.jsx)("h4",{children:e("User_Authentication")})}),(0,C.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,C.jsx)(a.Icon,{root:"common",name:"close"})})]}),(0,C.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,C.jsx)("div",{className:"col col-lg-12",children:(0,C.jsx)("label",{children:(0,C.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,C.jsx)("div",{className:"col col-lg-12",children:(0,C.jsx)(a.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,C.jsxs)(a.Modal.Footer,{children:[(0,C.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,C.jsx)(a.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const S=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(y)},19380:(e,t,i)=>{"use strict";i.d(t,{A:()=>R});var s=i(65043),o=i(728),a=i(62672),n=i(27976),r=i(44063),l=i(39078),c=i(48546),d=i(82967),u=i(11201),p=i(43439),h=(i(60663),i(48385)),m=i(72711),g=i(67907),C=i(65187),y=i(53536),S=(i(90837),i(70579));const k=e=>{const[t,i]=(0,s.useState)(null),[k]=(0,g.useTranslation)(),T=t=>new o.CollectionView(e.sourceData,{pageSize:t}),[R,v]=(0,s.useState)(T(e.rowsPerPage)),f=s.createRef(),x=s.createRef(),D=s.createRef(),E=s.createRef(),j=s.useRef(),w=s.useRef(e.selectionRequired?[]:null);let b=null;const P=t=>{try{if(N(),e.onRowClick&&t.addEventListener(t.hostElement,"click",(i=>{let s=t.hitTest(i);if(s.target.closest(".wj-cell")&&![...s.target.closest(".wj-cell").classList].includes("wj-group")&&s.cellType===a.CellType.Cell){const i=t.rows[s.row].dataItem;e.onRowClick(i)}})),t.selectionMode=o.asEnum("None",a.SelectionMode),t.select(-1,-1),i(t),e.selectionRequired){b=new u.Selector(t,{itemChecked:(i,s)=>{e.singleSelection&&t.rows.filter((e=>e.isSelected&&1===w.current.filter((t=>y.isEqual(t,e.dataItem))).length)).forEach((e=>{e.isSelected=!1})),e.onSelectionHandle(t.rows.filter((e=>e.isSelected)).map((e=>e.dataItem)))},showCheckAll:!e.singleSelection});let i=b.column.grid;b.column=i.rowHeaders.columns[0],i.headersVisibility=a.HeadersVisibility.All,i.selectionMode=o.asEnum("None",a.SelectionMode)}}catch(s){console.log("Error in gridInitialized: "+s)}};(0,s.useEffect)((()=>{try{if(null!=f){let e=f.current.control;x.current.control.grid=e}v(T(e.rowsPerPage))}catch(t){console.log("Error in grid update:",t)}}),[e.sourceData]),(0,s.useEffect)((()=>{try{t&&e.selectionRequired&&(w.current.length=0,w.current.push(...e.selectedItems),t.rows.forEach((t=>{1===e.selectedItems.filter((e=>y.isEqual(e,t.dataItem))).length?t.isSelected=!0:t.isSelected=!1})),t.refresh())}catch(i){console.log("Error in pre-selecting rows:",i)}}),[e.selectedItems]),(0,s.useEffect)((()=>{try{if(localStorage.getItem(e.parentComponent+"GridState")&&"null"!==localStorage.getItem(e.parentComponent+"GridState")&&t){let s=JSON.parse(localStorage.getItem(e.parentComponent+"GridState")),a=t;a.columns.forEach((e=>{let t=s.columns.filter((t=>t.binding===e.binding));e.visible=t.length>0?t[0].visible:e.visible})),D.current.control.filterDefinition=s.filterDefinition,a.collectionView.deferUpdate((()=>{a.collectionView.sortDescriptions.clear();for(let e=0;e<s.sortDescriptions.length;e++){let t=s.sortDescriptions[e];a.collectionView.sortDescriptions.push(new o.SortDescription(t.property,t.ascending))}}));for(let e=0;e<s.groupDescriptions.length;e++)a.collectionView.groupDescriptions.push(new o.PropertyGroupDescription(s.groupDescriptions[e])),a.columns.filter((t=>t.binding===s.groupDescriptions[e]))[0].visible=!1;if(sessionStorage.getItem(e.parentComponent+"GridState")&&"null"!==sessionStorage.getItem(e.parentComponent+"GridState")){let t=JSON.parse(sessionStorage.getItem(e.parentComponent+"GridState"));a.collectionView.moveToPage(a.collectionView.pageCount-1>=t.pageIndex?t.pageIndex:a.collectionView.pageCount-1),x&&(x.current.control.text=t.searchText)}i(a),t.refresh()}}catch(s){console.log("Error in restoring local storage settings: ",s)}}),[R]),(0,s.useEffect)((()=>{try{t&&j.current&&e.columnPickerRequired&&(j.current.itemsSource=t.columns,j.current.checkedMemberPath="visible",j.current.displayMemberPath="header",j.current.lostFocus.addHandler((()=>{(0,o.hidePopup)(j.current.hostElement)})))}catch(i){console.log("Error in initializing column picker properties:",i)}}),[j.current]),(0,s.useEffect)((()=>()=>{e.columnPickerRequired&&j.current&&(0,o.hidePopup)(j.current.hostElement)}),[]);const G=()=>{try{let s=t;s.itemsSource.pageSize=e.sourceData.length,i(s),p.FlexGridXlsxConverter.saveAsync(t,{includeColumnHeaders:!0,includeCellStyles:!1,formatItem:null},e.exportFileName),s.itemsSource.pageSize=e.rowsPerPage,i(s)}catch(s){console.log("Error in export grid to excel:",s)}},I=(t,i)=>{if(void 0!==i&&null!==i){if("boolean"===typeof t||"Active"===i.Name)return t?(0,S.jsx)(m.Icon,{name:"check",size:"small",color:"green"}):(0,S.jsx)(m.Icon,{name:"close",size:"small",color:"red"});if(""===t||null===t||void 0===t)return t;if(("TerminalCodes"===i.Name||"1"===i.PopOver)&&null!==t)return(s=t).split(",").length>e.terminalsToShow?(0,S.jsx)(m.Popup,{className:"popup-theme-wrap",on:"hover",element:s.split(",").length,children:(0,S.jsx)(m.Card,{children:(0,S.jsx)(m.Card.Content,{children:s})})}):s;if(void 0!==i.DataType&&"DateTime"===i.DataType)return new Date(t).toLocaleDateString()+" "+new Date(t).toLocaleTimeString();if(void 0!==i.DataType&&"Date"===i.DataType)return new Date(t).toLocaleDateString();if(void 0!==i.DataType&&"Time"===i.DataType)return new Date(t).toLocaleTimeString()}var s;return t},A=()=>{try{if(t&&D.current){let i={columns:t.columns.map((e=>({binding:e.binding,visible:e.visible}))),filterDefinition:D.current.control.filterDefinition,sortDescriptions:t.collectionView.sortDescriptions.map((e=>({property:e.property,ascending:e.ascending}))),groupDescriptions:t.collectionView.groupDescriptions.map((e=>e.propertyName?e.propertyName:null))};if(t.collectionView.groupDescriptions&&t.collectionView.groupDescriptions.length>0){[...document.getElementsByClassName("wj-column-selector-group")].forEach((e=>{e.parentNode.parentNode.classList.add("wj-grouped-checkbox")}))}let s={pageIndex:t.collectionView.pageIndex,searchText:x.current.control.text};localStorage.setItem(e.parentComponent+"GridState",JSON.stringify(i)),sessionStorage.setItem(e.parentComponent+"GridState",JSON.stringify(s))}}catch(i){console.log("Error in saving grid state")}},N=()=>{let e=o.culture.FlexGridFilter,t=l.Operator;o.culture.FlexGridFilter.header=k("WijmoGridFilterHeader"),o.culture.FlexGridFilter.ascending="\u2191 "+k("WijmoGridFilterAscending"),o.culture.FlexGridFilter.descending="\u2193 "+k("WijmoGridFilterDescending"),o.culture.FlexGridFilter.apply=k("RoleAdminEdit_Apply"),o.culture.FlexGridFilter.clear=k("OrderCreate_btnClear"),o.culture.FlexGridFilter.conditions=k("WijmoGridFilterCondition"),o.culture.FlexGridFilter.values=k("WijmoGridFilterValue"),o.culture.FlexGridFilter.search=k("LoadingDetailsView_SearchGrid"),o.culture.FlexGridFilter.selectAll=k("WijmoGridFilterSelectAll"),o.culture.FlexGridFilter.and=k("WijmoGridFilterAnd"),o.culture.FlexGridFilter.or=k("WijmoGridFilterOr"),o.culture.FlexGridFilter.cancel=k("AccessCardInfo_Cancel"),e.stringOperators=[{name:k("WijmoGridFilterUnset"),op:null},{name:k("WijmoGridFilterEqual"),op:t.EQ},{name:k("WijmoGridFilterNotEqual"),op:t.NE},{name:k("WijmoGridFilterBeginsWith"),op:t.BW},{name:k("WijmoGridFilterEndsWith"),op:t.EW},{name:k("WijmoGridFilterContains"),op:t.CT},{name:k("WijmoGridFilterDoesNotContain"),op:t.NC}],e.numberOperators=[{name:k("WijmoGridFilterUnset"),op:null},{name:k("WijmoGridFilterEqual"),op:t.EQ},{name:k("WijmoGridFilterNotEqual"),op:t.NE},{name:k("WijmoGridFilterGreaterThan"),op:t.GT},{name:k("WijmoGridFilterLessThan"),op:t.LT},{name:k("WijmoGridFilterGreaterThanOrEqual"),op:t.GE},{name:k("WijmoGridFilterLessThanOrEqual"),op:t.LE}],e.dateOperators=[{name:k("WijmoGridFilterUnset"),op:null},{name:k("WijmoGridFilterEqual"),op:t.EQ},{name:k("WijmoGridFilterDateEarlierThan"),op:t.LT},{name:k("WijmoGridFilterDateLaterThan"),op:t.GT}],e.booleanOperators=[{name:k("WijmoGridFilterUnset"),op:null},{name:k("WijmoGridFilterEqual"),op:t.EQ},{name:k("WijmoGridFilterNotEqual"),op:t.NE}]},L=e=>{try{if(window.screen.width<1024&&e.WidthPx&&""!==e.WidthPx)return parseInt(e.WidthPx)}catch(t){console.log("Error in width:",t)}return e.WidthPercentage.includes("*")?e.WidthPercentage:parseInt(e.WidthPercentage)};return(0,S.jsx)("div",{className:"pl-1",children:(0,S.jsx)(C.A,{children:(0,S.jsx)(g.TranslationConsumer,{children:i=>(0,S.jsxs)(s.Fragment,{children:[(0,S.jsxs)("div",{className:"row pl-0",children:[(0,S.jsx)("div",{className:"col-10 col-sm-12 col-md-5 col-lg-6",children:(0,S.jsx)(c.q,{class:"ui single-input",ref:x,placeholder:i("LoadingDetailsView_SearchGrid")})}),(0,S.jsx)("div",{className:"col-10 col-sm-12 col-md-7 col-lg-6",children:(0,S.jsxs)("div",{style:{float:"right"},children:[e.columnPickerRequired?(0,S.jsxs)(m.Button,{id:"colPicker",actionType:"button",type:"primary",onClick:e=>(e=>{try{let i=j.current.hostElement;i.offsetHeight?((0,o.hidePopup)(i,!0,!0),t.focus()):((0,o.showPopup)(i,e.target,o.PopupPosition.Below,!0,!1),j.current.focus()),j.current.focus(),e.preventDefault()}catch(i){console.log("Error in Column Picker click event:",i)}})(e),children:[(0,S.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridColumnPicker")}),(0,S.jsx)("div",{style:{display:"inline-block"},children:(0,S.jsx)(m.Icon,{name:"caret-down",className:"btnIcon",size:"small"})})]}):null,e.exportRequired?(0,S.jsxs)(m.Button,{actionType:"button",type:"primary",className:"mt-3 mt-md-0",onClick:G,children:[(0,S.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridExport")}),(0,S.jsx)("div",{style:{display:"inline-block",marginLeft:"0.2rem"},children:(0,S.jsx)("span",{className:"icon-Xls",style:{fontSize:"17px",position:"absolute",top:"3px"}})})]}):null]})})]}),(0,S.jsxs)("div",{className:"tableScroll",children:[e.columnGroupingRequired?(0,S.jsx)(h.u,{className:"group-panel",grid:t,placeholder:i("WijmoGridGroupPanelPlaceholder")}):null,(0,S.jsx)(C.A,{children:(0,S.jsxs)(n.MC,{ref:f,autoGenerateColumns:!1,alternatingRowStep:0,autoRowHeights:!0,headersVisibility:"Column",itemsSource:R,selectionMode:o.asEnum("None",a.SelectionMode),initialized:P,virtualizationThreshold:[0,1e4],onUpdatedView:A,children:[(0,S.jsx)(r.M,{ref:D}),e.columns.map((t=>(0,S.jsx)(n.aK,{header:i(t.Name),binding:t.Name,width:L(t),minWidth:100,isReadOnly:!0,wordWrap:!0,align:"left",children:(0,S.jsx)(n.Gw,{cellType:"Cell",template:i=>(0,S.jsx)("span",{style:null!=e.conditionalRowStyleCheck&&e.conditionalRowStyleCheck(i.item)?{...e.conditionalRowStyles}:null,children:I(i.item[t.Name],t)})})},t.Name)))]})}),e.columnPickerRequired?(0,S.jsx)("div",{className:"column-picker-div",children:(0,S.jsx)(d.qF,{className:"column-picker",initialized:t=>(t=>{e.columnPickerRequired&&(j.current=t)})(t)})}):null]}),(0,S.jsx)("div",{className:"row",children:(0,S.jsx)(d.Ne,{ref:E,className:"ml-auto mr-auto mt-3",headerFormat:i("WijmoGridPagingTemplate"),byPage:!0,cv:R})})]})})})})};k.defaultProps={sourceData:[],columns:[],exportRequired:!0,exportFileName:"Grid.xlsx",selectionRequired:!1,columnPickerRequired:!1,columnGroupingRequired:!1,rowsPerPage:10,terminalsToShow:2,singleSelection:!1,selectedItems:[]};const T=k,R=e=>(0,S.jsx)(T,{sourceData:e.data,columns:e.columns,exportRequired:e.exportRequired,exportFileName:e.exportFileName,columnPickerRequired:e.columnPickerRequired,selectionRequired:e.selectionRequired,columnGroupingRequired:e.columnGroupingRequired,conditionalRowStyleCheck:e.conditionalRowStyleCheck,conditionalRowStyles:e.conditionalRowStyles,rowsPerPage:e.rowsPerPage,onSelectionHandle:e.onSelectionHandle,onRowClick:e.onRowClick,parentComponent:e.parentComponent,terminalsToShow:e.terminalsToShow,singleSelection:e.singleSelection,selectedItems:e.selectedItems})},10429:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var s=i(65043),o=i(69062),a=i(40854),n=i.n(a),r=i(72067),l=i(72711),c=i(67907),d=i(70579);function u(e){let{tankGroup:t,modTankGroup:i,validationErrors:s,onFieldChange:a,onActiveStatusChange:n,listOptions:r,isEnterpriseNode:u,handleSelectTankCode:p,onTerminalChange:h}=e;return(0,d.jsx)(c.TranslationConsumer,{children:e=>(0,d.jsx)("div",{className:"detailsContainer",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Input,{fluid:!0,value:i.Code,indicator:"required",disabled:""!==t.Code,onChange:e=>a("Code",e),label:e("TankGroupInfo_Code"),error:e(s.Code),reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Input,{fluid:!0,value:i.Name,onChange:e=>a("Name",e),label:e("TankGroupInfo_Name"),error:e(s.Name),reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Input,{fluid:!0,value:i.Description,label:e("TankInfo_Description"),onChange:e=>a("Description",e),error:e(s.Description),reserveSpace:!1})}),u?(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("TerminalCodes"),value:i.TerminalCode,options:r.terminalCode,onChange:e=>{h(e)},indicator:"required",error:e(s.TerminalCode),reserveSpace:!1,disabled:""!==t.Code,search:!0,noResultsMessage:e("noResultsMessage")})}):"",(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("TankGroupInfo_BaseProduct"),value:i.BaseProductCode,options:r.baseProduct,onChange:e=>{a("BaseProductCode",e)},indicator:"required",error:e(s.BaseProductCode),reserveSpace:!1,search:!0,disabled:i.TankCollection.length>0||i.MeterCollection.length>0,noResultsMessage:e("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("BaseProductList_Status"),value:i.Active,options:[{text:e("ViewShipment_Ok"),value:!0},{text:e("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>n(e),error:e(s.Active),reserveSpace:!1,search:!0,disabled:!0,noResultsMessage:e("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Input,{fluid:!0,value:i.Remarks,onChange:e=>a("Remarks",e),label:e("BaseProductList_Remarks"),error:e(s.Remarks),indicator:i.Active!==t.Active?"required":"",reserveSpace:!1})}),""!==t.Code?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,d.jsx)("div",{children:e("TankGroupInfo_AssociatedTank")}),(0,d.jsx)("div",{className:"associatedTank-wrap",children:i.TankCollection.map((t=>(0,d.jsx)("div",{className:"associatedTank-wrap-list",children:(0,d.jsxs)("label",{children:[(0,d.jsx)("span",{children:t}),t===i.ActiveTankCode?(0,d.jsx)(l.Badge,{className:"badge-TankGroup",color:"green",children:e("TankGroupInfo_Active")}):(0,d.jsx)("a",{href:"#/",onClick:()=>p(t),className:"tankGroupAnchorTag",children:e("TankGroupInfo_TankActivate")})]})})))})]}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(l.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("TankGroupInfo_AssociatedMeter"),value:i.MeterCollection,options:o.Zj(i.MeterCollection),reserveSpace:!1,disabled:!0,search:!0,noResultsMessage:e("noResultsMessage"),multiple:!0})})]}):""]})})})}u.defaultProps={listOptions:{baseProduct:[],terminalCode:[]},isEnterpriseNode:!1};var p=i(9256),h=i(97508),m=i(46100),g=i(44192),C=(i(38726),i(65187)),y=i(43503),S=i(93779),k=i(40252),T=i(53536),R=i.n(T),v=i(80312),f=i(14159),x=i(11981),D=i(40510),E=i(39424),j=i(62900);class w extends s.Component{constructor(){super(...arguments),this.state={tankGroup:R().cloneDeep(m.$r),modTankGroup:{},validationErrors:o.Th(g.aH),isReadyToRender:!1,saveEnabled:!1,baseProductOptions:[],terminalOptions:[],tankGroupKPIList:[],showAuthenticationLayout:!1},this.handleChange=(e,t)=>{try{const i=R().cloneDeep(this.state.modTankGroup);i[e]=t,this.setState({modTankGroup:i});const s=R().cloneDeep(this.state.validationErrors);void 0!==g.aH[e]&&(s[e]=o.jr(g.aH[e],t),this.setState({validationErrors:s}))}catch(i){console.log("TankGroupDetailsComposite:Error occured on handleChange",i)}},this.handleTerminalChange=e=>{try{const t=R().cloneDeep(this.state.modTankGroup),i={...this.state.validationErrors};t.TerminalCode=e,i.TerminalCode="",this.setState({modTankGroup:t,validationErrors:i}),this.getBaseProducts(e)}catch(t){console.log("TankGroupDetailsComposite:Error occured on handleTerminalChange",t)}},this.handleActiveStatusChange=e=>{try{let t=R().cloneDeep(this.state.modTankGroup);t.Active=e,t.Active!==this.state.tankGroup.Active&&(t.Remarks=""),this.setState({modTankGroup:t})}catch(t){console.log(t)}},this.handleSelectTankCode=e=>{try{let s=R().cloneDeep(this.state.modTankGroup),a={messageType:"critical",message:"TankGroupInfo_TankActivateSuccess",messageResultDetails:[{keyFields:["TankGroupInfo_Code"],keyValues:[s.Code],isSuccess:!1,errorMessage:""}]};var t=[{key:S.JQ,value:s.Code},{key:S.E7,value:e},{key:S.uw,value:""!==s.TerminalCode?s.TerminalCode:null}],i={keyDataCode:S.JQ,KeyCodes:t};n()(r.yCM,o.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;a.messageType=t.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?this.getTankGroup({Common_Code:s.Code,TerminalCode:s.TerminalCode}):a.messageResultDetails[0].errorMessage=t.ErrorList[0],(0,f.toast)((0,d.jsx)(C.A,{children:(0,d.jsx)(x.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})}))}catch(s){console.log(s)}},this.handleSave=()=>{try{let e=R().cloneDeep(this.state.modTankGroup);if(this.validateSave(e)){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showAuthenticationLayout:e},(()=>{!1===e&&this.saveTankGroup()}))}}catch(e){console.log("TankGroupDetailsComposite:Error occured on handleSave",e)}},this.saveTankGroup=()=>{this.setState({saveEnabled:!1});let e=R().cloneDeep(this.state.modTankGroup);""===this.state.tankGroup.Code?this.createTankGroup(e):this.updateTankGroup(e)},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})},this.handleReset=()=>{try{const{validationErrors:e}={...this.state},t=R().cloneDeep(this.state.tankGroup);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modTankGroup:{...t},selectedCompRow:[],validationErrors:e})}catch(e){console.log("TankGroupDetailsComposite:Error occured on handleReset",e)}}}componentDidMount(){try{o.pJ(this.props.userDetails.EntityResult.IsArchived),this.getTankGroup(this.props.selectedRow),this.props.userDetails.EntityResult.IsEnterpriseNode?this.getTerminal():this.getBaseProducts("")}catch(e){console.log("TankGroupDetailsComposite:Error occured on componentDidMount",e)}}componentWillReceiveProps(e){try{if(""!==this.state.tankGroup.Code&&void 0===e.selectedRow.Common_Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo){this.getTankGroup(e.selectedRow);let t={...this.state.validationErrors};Object.keys(t).forEach((e=>{t[e]=""})),this.setState({validationErrors:t})}}catch(t){console.log("TankGroupDetailsComposite:Error occured on componentWillReceiveProps",t)}}getTankGroup(e){if(void 0!==e.Common_Code){var t=[{key:S.JQ,value:e.Common_Code},{key:S.uw,value:""!==e.TerminalCode?e.TerminalCode:null}],i={keyDataCode:S.JQ,KeyCodes:t};n()(r.gWP,o.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isReadyToRender:!0,tankGroup:R().cloneDeep(t.EntityResult),modTankGroup:R().cloneDeep(t.EntityResult),saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.KQ)},(()=>{this.getKPIList(t.EntityResult.Code),this.props.userDetails.EntityResult.IsEnterpriseNode&&this.getBaseProducts(t.EntityResult.TerminalCode)})):(this.setState({tankGroup:R().cloneDeep(m.$r),modTankGroup:R().cloneDeep(m.$r),isReadyToRender:!0}),console.log("Error in getTankGroup:",t.ErrorList))})).catch((t=>{console.log("Error while getting TankGroup:",t,e)}))}else this.setState({tankGroup:R().cloneDeep(m.$r),modTankGroup:R().cloneDeep(m.$r),isReadyToRender:!0,tankGroupKPIList:[],saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.KQ)})}getBaseProducts(e){n()(r.Odh+"?TerminalCode="+e,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=o.Zj(t.EntityResult);this.setState({baseProductOptions:e})}}else console.log("Error in getBaseProducts:",t.ErrorList)})).catch((e=>{console.log("Error while getting BaseProducts:",e)}))}getTerminal(){n()(r.Oqv,o.tW(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=o.Zj(t.EntityResult);this.setState({terminalOptions:e})}}else console.log("Error in getTerminal:",t.ErrorList)})).catch((e=>{console.log("Error while getting Terminal:",e)}))}validateSave(e){const t={...this.state.validationErrors};return Object.keys(g.aH).forEach((function(i){void 0!==e[i]&&(t[i]=o.jr(g.aH[i],e[i]))})),this.props.userDetails.EntityResult.IsEnterpriseNode&&(null===e.TerminalCode||""===e.TerminalCode?t.TerminalCode="TankGroupInfo_TerminalRequired":t.TerminalCode=""),this.setState({validationErrors:t}),Object.values(t).every((function(e){return""===e}))}createTankGroup(e){let t=[{key:S.JQ,value:e.Code}],i={keyDataCode:S.JQ,KeyCodes:t,Entity:e},s={messageType:"critical",message:"TankGroupInfo_SavedStatus",messageResultDetails:[{keyFields:["TankGroupInfo_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};n()(r.Ss9,o.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{let i=t.data;s.messageType=i.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.KQ),showAuthenticationLayout:!1},(()=>this.getTankGroup({Common_Code:e.Code,TerminalCode:e.TerminalCode}))):(s.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.KQ),showAuthenticationLayout:!1}),console.log("Error in createTankGroup:",i.ErrorList)),this.props.onSaved(this.state.modTankGroup,"add",s)})).catch((e=>{this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.KQ),showAuthenticationLayout:!1}),s.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modTankGroup,"add",s)}))}updateTankGroup(e){let t=[{key:S.JQ,value:e.Code}],i={keyDataCode:S.JQ,KeyCodes:t,Entity:e},s={messageType:"critical",message:"TankGroupInfo_SavedStatus",messageResultDetails:[{keyFields:["TankGroupInfo_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};n()(r.b2q,o.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{let i=t.data;s.messageType=i.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.KQ),showAuthenticationLayout:!1},(()=>this.getTankGroup({Common_Code:e.Code,TerminalCode:e.TerminalCode}))):(s.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.KQ),showAuthenticationLayout:!1}),console.log("Error in updateTankGroup:",i.ErrorList)),this.props.onSaved(this.state.modTankGroup,"update",s)})).catch((e=>{this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.KQ),showAuthenticationLayout:!1}),s.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modTankGroup,"modify",s)}))}getKPIList(e){if(!0===o.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.view,v.bL)){let t={PageName:E.Ph,InputParameters:[{key:"TankGroupCode",value:e}]};n()(r.dxq,o.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({tankGroupKPIList:t.EntityResult.ListKPIDetails}):(this.setState({tankGroupKPIList:[]}),console.log("Error in tank group KPIList:",t.ErrorList))})).catch((e=>{console.log("Error while getting tank group KPIList:",e)}))}}render(){const e={baseProduct:this.state.baseProductOptions,terminalCode:this.state.terminalOptions},t=[{fieldName:"BaseProductInfo_LastUpdated",fieldValue:new Date(this.state.modTankGroup.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modTankGroup.LastUpdatedTime).toLocaleTimeString()},{fieldName:"BaseProductInfo_Created",fieldValue:new Date(this.state.modTankGroup.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modTankGroup.CreatedTime).toLocaleTimeString()}];return this.state.isReadyToRender?(0,d.jsxs)("div",{children:[(0,d.jsx)(C.A,{children:(0,d.jsx)(y.A,{entityCode:this.state.tankGroup.Code,newEntityName:"TankGroupInfo_NewTankGroup",popUpContents:t})}),(0,d.jsx)(D.A,{KPIList:this.state.tankGroupKPIList,children:" "}),(0,d.jsx)(C.A,{children:(0,d.jsx)(u,{tankGroup:this.state.tankGroup,modTankGroup:this.state.modTankGroup,validationErrors:this.state.validationErrors,onFieldChange:this.handleChange,listOptions:e,onActiveStatusChange:this.handleActiveStatusChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,handleSelectTankCode:this.handleSelectTankCode,onTerminalChange:this.handleTerminalChange})}),(0,d.jsx)(C.A,{children:(0,d.jsx)(p.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),this.state.showAuthenticationLayout?(0,d.jsx)(j.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.tankGroup.Code?v.i.add:v.i.modify,functionGroup:v.KQ,handleOperation:this.saveTankGroup,handleClose:this.handleAuthenticationClose}):null]}):(0,d.jsx)(k.A,{message:"Loading"})}}const b=(0,h.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(w)},87055:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var s=i(65043),o=i(66554),a=i(19380),n=i(70579);function r(e){let{tableData:t,columnDetails:i,pageSize:s,exportRequired:o,exportFileName:r,columnPickerRequired:l,columnGroupingRequired:c,terminalsToShow:d,selectionRequired:u,onSelectionChange:p,onRowClick:h,parentComponent:m}=e;return(0,n.jsx)(a.A,{data:t,columns:i,rowsPerPage:s,exportRequired:o,exportFileName:r,columnPickerRequired:l,columnGroupingRequired:c,terminalsToShow:d,selectionRequired:u,onSelectionHandle:p,onRowClick:h,parentComponent:m})}var l=i(10429),c=i(40854),d=i.n(c),u=i(72067),p=i(14159),h=(i(92342),i(97508)),m=(i(63973),i(11981)),g=i(69062),C=i(65187),y=i(93779),S=i(40252),k=i(80297),T=i(39424),R=i(80312),v=i(62900);class f extends s.Component{constructor(){super(...arguments),this.state={isDetails:!1,isReadyToRender:!1,isDetailsModified:!1,operationsVisibilty:{add:!1,delete:!1,shareholder:!1},selectedRow:{},selectedItems:[],data:{},tankGroupKPIList:[],showAuthenticationLayout:!1},this.componentName="TankGroupComponent",this.componentWillUnmount=()=>{this.clearStorage(),window.removeEventListener("beforeunload",this.clearStorage)},this.clearStorage=()=>{sessionStorage.removeItem(this.componentName+"GridState")},this.handleAdd=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,e.add=!1,e.shareholder=!1,this.setState({isDetails:!0,selectedRow:{},operationsVisibilty:e})}catch(t){console.log("TankGroupComposite:Error occured on handleAdd",t)}},this.savedEvent=(e,t,i)=>{try{const o={...this.state.operationsVisibilty};if("success"===i.messageType&&(o.add=g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,R.KQ),o.delete=g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,R.KQ),this.setState({isDetailsModified:!0,operationsVisibilty:o})),"success"===i.messageType&&"add"===t){var s=[{Common_Code:e.Code,TerminalCode:e.TerminalCode}];this.setState({selectedItems:s})}(0,p.toast)((0,n.jsx)(C.A,{children:(0,n.jsx)(m.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}catch(o){console.log("TankGroupComposite:Error occured on savedEvent",o)}},this.handleBack=()=>{try{var{operationsVisibilty:e}={...this.state};e.add=g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,R.KQ),e.delete=!1,this.setState({isDetails:!1,selectedRow:{},selectedItems:[],isReadyToRender:!1}),this.getTankGroupList(),this.getKPIList()}catch(t){console.log("TankGroupComposite:Error occured on Back click",t)}},this.handleRowClick=e=>{try{var{operationsVisibilty:t}={...this.state};t.add=g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,R.KQ),t.delete=g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,R.KQ),this.setState({isDetails:!0,selectedRow:e,selectedItems:[e],operationsVisibilty:t})}catch(i){console.log("TankGroupComposite:Error occured on Row click",i)}},this.handleSelection=e=>{try{var{operationsVisibilty:t}={...this.state};t.delete=e.length>0&&g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,R.KQ),this.setState({selectedItems:e,operationsVisibilty:t})}catch(i){console.log("TankGroupComposite:Error occured on handleSelection",i)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})},this.authenticateDelete=()=>{try{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showAuthenticationLayout:e}),!1===e&&this.handleDelete()}catch(e){console.log("TankGroupComposite : Error in authenticateDelete")}},this.handleDelete=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,this.setState({operationsVisibilty:e});for(var t=[],i=0;i<this.state.selectedItems.length;i++){var s=this.state.selectedItems[i].Common_Code,o=this.state.selectedItems[i].TerminalCode,a={KeyCodes:[{Key:y.JQ,Value:s},{Key:y.uw,Value:""!==o?o:null}]};t.push(a)}d()(u.tYd,g.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data,s=i.isSuccess;null!==i.ResultDataList&&void 0!==i.ResultDataList&&(s=i.ResultDataList.filter((function(e){return!e.IsSuccess})).length!==i.ResultDataList.length);var o=g.Cy(i,"TankGroupInfo_DeletionStatus",["TankGroupCode"]);s?(this.setState({isReadyToRender:!1,showAuthenticationLayout:!1}),this.getTankGroupList(),this.getKPIList(),e.delete=!1,this.setState({selectedItems:[],operationsVisibilty:e,selectedRow:{}})):(e.delete=!0,this.setState({operationsVisibilty:e,showAuthenticationLayout:!1})),o.messageResultDetails.forEach((e=>{e.keyFields.length>0&&(e.keyFields[0]="TankGroupInfo_Code")})),(0,p.toast)((0,n.jsx)(C.A,{children:(0,n.jsx)(m.A,{notificationMessage:o})}),{autoClose:"success"===o.messageType&&1e4})})).catch((e=>{console.log("Error occured while deleting:"+e);var{operationsVisibilty:t}={...this.state};t.delete=!0,this.setState({operationsVisibilty:t,showAuthenticationLayout:!1})}))}catch(r){console.log("TankGroupComposite:Error occured on handleDelet",r)}}}componentDidMount(){try{g.pJ(this.props.userDetails.EntityResult.IsArchived);var{operationsVisibilty:e}={...this.state};e.add=g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,R.KQ),this.setState({operationsVisibilty:e}),this.getTankGroupList(),this.getKPIList()}catch(t){console.log("TankGroupComposite:Error occured on componentDidMount",t)}}getTankGroupList(){d()(u.FcB,g.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({data:t.EntityResult,isReadyToRender:!0}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in getTankGroupList:",t.ErrorList))})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting TankGroupList:",e)})),window.addEventListener("beforeunload",this.clearStorage)}getKPIList(){if(!0===g.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.view,R.bL)){var e={message:"",messageType:"critical",messageResultDetails:[]};let t={PageName:T.eg,InputParameters:[]};d()(u.dxq,g.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data;!0===i.IsSuccess?this.setState({tankGroupKPIList:i.EntityResult.ListKPIDetails}):(this.setState({tankGroupKPIList:[]}),console.log("Error in tank group KPIList:",i.ErrorList),e.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:i.ErrorList[0]})),e.messageResultDetails.length>0&&(0,p.toast)((0,n.jsx)(C.A,{children:(0,n.jsx)(m.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4})})).catch((e=>{console.log("Error while getting tank group KPIList:",e)}))}}render(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(C.A,{children:(0,n.jsx)(o.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,shareholders:this.props.userDetails.EntityResult.ShareholderList,onDelete:this.authenticateDelete,onAdd:this.handleAdd,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),!0===this.state.isDetails?(0,n.jsx)(C.A,{children:(0,n.jsx)(l.default,{selectedRow:this.state.selectedRow,onBack:this.handleBack,onSaved:this.savedEvent},"TankGroupDetails")}):this.state.isReadyToRender?(0,n.jsxs)("div",{children:[(0,n.jsx)(C.A,{children:(0,n.jsx)("div",{className:"kpiSummaryContainer",children:(0,n.jsx)(k.A,{kpiList:this.state.tankGroupKPIList,pageName:"TankGroup"})})}),(0,n.jsx)(C.A,{children:(0,n.jsx)(r,{tableData:this.state.data.Table,columnDetails:this.state.data.Column,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,exportRequired:!0,exportFileName:"TankGroupList",columnPickerRequired:!0,terminalsToShow:this.props.userDetails.EntityResult.PageAttibutes.NoOfTerminalsToShow,selectionRequired:!0,columnGroupingRequired:!0,onSelectionChange:this.handleSelection,onRowClick:this.handleRowClick,parentComponent:this.componentName})})]}):(0,n.jsx)(S.A,{message:"Loading"}),this.state.showAuthenticationLayout?(0,n.jsx)(v.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:R.i.remove,functionGroup:R.KQ,handleClose:this.handleAuthenticationClose,handleOperation:this.handleDelete}):null,(0,n.jsx)(C.A,{children:(0,n.jsx)(p.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const x=(0,h.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(f)},43503:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});i(65043);var s=i(67907),o=i(72711),a=i(70579);function n(e){let{entityCode:t,newEntityName:i,popUpContents:n}=e;return(0,a.jsx)(s.TranslationConsumer,{children:e=>(0,a.jsx)("div",{className:"headerContainer",children:(0,a.jsxs)("div",{className:"row headerSpacing",children:[(0,a.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,a.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(i):t})}),""!==t&&void 0!==t&&n.length>0?(0,a.jsx)("div",{className:"headerItemRight",children:(0,a.jsx)(o.Popup,{element:(0,a.jsxs)("div",{children:[e(n[0].fieldName)+" ",":"," "+n[0].fieldValue,(0,a.jsx)(o.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,a.jsx)(o.List,{className:"detailsHeaderPopUp",children:n.map((t=>(0,a.jsxs)(o.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}n.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const r=n},9256:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});i(65043);var s=i(72711),o=i(67907),a=i(70579);function n(e){let{handleBack:t,handleSave:i,handleReset:n,saveEnabled:r}=e;return(0,a.jsx)(o.TranslationConsumer,{children:e=>(0,a.jsxs)("div",{className:"row userActionPosition",children:[(0,a.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,a.jsx)(s.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,a.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,a.jsxs)("div",{style:{float:"right"},children:[(0,a.jsx)(s.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:n}),(0,a.jsx)(s.Button,{content:e("Save"),disabled:!r,onClick:i})]})})]})})}n.defaultProps={saveEnabled:!1}},80312:(e,t,i)=>{"use strict";i.d(t,{$3:()=>U,$H:()=>se,$J:()=>he,$K:()=>ge,$V:()=>jt,$b:()=>Tt,$p:()=>B,AE:()=>x,Al:()=>O,B2:()=>st,By:()=>xt,CW:()=>gt,DA:()=>l,Ee:()=>qe,FO:()=>P,Fy:()=>Le,G9:()=>it,H8:()=>ee,Hq:()=>rt,Ig:()=>N,Iu:()=>y,JI:()=>ct,JJ:()=>te,JU:()=>Q,Jz:()=>Qe,KQ:()=>ne,Kk:()=>Ze,Kw:()=>et,LP:()=>bt,LR:()=>d,Lg:()=>$,Mg:()=>Te,Mm:()=>L,N1:()=>Y,Nm:()=>m,No:()=>ce,Ow:()=>W,P2:()=>a,P8:()=>Se,PD:()=>Ge,PE:()=>u,PG:()=>z,PP:()=>ht,Pb:()=>Ae,QB:()=>R,QC:()=>Z,RE:()=>at,RO:()=>$e,Rc:()=>yt,Rl:()=>Rt,Rx:()=>Ct,TI:()=>S,Tm:()=>me,Ug:()=>X,Ur:()=>_e,V9:()=>c,VK:()=>_,VL:()=>pe,VQ:()=>re,WD:()=>Fe,Wf:()=>j,YO:()=>I,YY:()=>Pe,Yb:()=>Ce,Yg:()=>Ue,Z9:()=>pt,ZE:()=>dt,ZU:()=>T,_N:()=>St,_S:()=>wt,_d:()=>Pt,aS:()=>q,aZ:()=>ut,au:()=>fe,b0:()=>Et,bL:()=>Oe,c2:()=>Me,d4:()=>Ne,dB:()=>C,dD:()=>Be,dK:()=>K,dY:()=>G,de:()=>p,dv:()=>we,eQ:()=>r,f3:()=>Re,fF:()=>F,fL:()=>kt,fN:()=>ft,fk:()=>w,fl:()=>ye,fr:()=>v,go:()=>o,h:()=>ue,hD:()=>E,hE:()=>b,hh:()=>Xe,hk:()=>ae,hz:()=>mt,i:()=>s,j2:()=>nt,jN:()=>H,je:()=>g,jx:()=>M,kL:()=>Ye,ke:()=>We,km:()=>le,l0:()=>oe,l6:()=>Ke,lz:()=>A,m0:()=>k,nS:()=>De,nk:()=>lt,nn:()=>f,np:()=>J,oh:()=>ot,op:()=>ze,pt:()=>Ve,qk:()=>de,qp:()=>ke,r6:()=>Ee,rQ:()=>je,rj:()=>V,rp:()=>n,t3:()=>vt,tM:()=>Ie,to:()=>It,ts:()=>tt,uH:()=>ve,uy:()=>Je,w1:()=>be,x5:()=>ie,xz:()=>D,y_:()=>He,yu:()=>h,yx:()=>Dt,z8:()=>xe,z_:()=>Gt});const s={view:"view",add:"add",modify:"modify",remove:"remove"},o="carriercompany",a="driver",n="customer",r="trailer",l="originterminal",c="destination",d="primemover",u="vehicle",p="shipmentbycompartment",h="shipmentbyproduct",m="ViewShipmentStatus",g="vessel",C="order",y="OrderForceClose",S="contract",k="receiptplanbycompartment",T="ViewMarineShipment",R="MarineShipmentByCompartment",v="ViewMarineReceipt",f="supplier",x="finishedproduct",D="RailDispatch",E="RailReceipt",j="RailRoute",w="RailWagon",b="CloseRailDispatch",P="PrintRailBOL",G="PrintRailFAN",I="RailDispatchLoadSpotAssignment",A="RailDispatchProductAssignment",N="ViewRailDispatch",L="ViewRailLoadingDetails",F="CloseRailReceipt",V="PrintRailBOD",M="PrintRailRAN",O="ViewRailReceipt",B="ViewRailUnLoadingDetails",q="SMS",W="UnAccountedTransactionTank",_="UnAccountedTransactionMeter",K="PipelineDispatch",U="PipelineReceipt",H="PipelineDispatchManualEntry",Q="PipelineReceiptManualEntry",z="LookUpData",J="HSEInspection",$="HSEInspectionConfig",Y="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",se="LeakageManualEntry",oe="Terminal",ae="SlotInformation",ne="TankGroup",re="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",ue="AccessCard",pe="ResetPin",he="SlotConfiguration",me="PrintMarineFAN",ge="PrintMarineBOL",Ce="ViewMarineLoadingDetails",ye="ViewMarineShipmentAuditTrail",Se="CloseMarineShipment",ke="IssueCard",Te="ActivateCard",Re="RevokeCard",ve="AutoIDAssociation",fe="MarineReceiptByCompartment",xe="PrintMarineRAN",De="PrintMarineBOD",Ee="ViewMarineUnloadingDetails",je="ViewMarineReceiptAuditTrail",we="CloseMarineReceipt",be="WeekendConfig",Pe="EODAdmin",Ge="PrintBOL",Ie="PrintFAN",Ae="PrintBOD",Ne="CloseShipment",Le="CloseReceipt",Fe="CONTRACTFORCECLOSE",Ve="Captain",Me="OverrideShipmentSequence",Oe="KPIInformation",Be="Language",qe="WebPortalUserMap",We="BayGroup",_e="PipelineHeaderSiteView",Ke="TankMonitor",Ue="PersonAdmin",He="ProductReconciliationReports",Qe="ReportConfiguration",ze="EXECONFIGURATION",Je="ShareholderAllocation",$e="NotificationGroup",Ye="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",st="TANKSHAREHOLDERPRIMEFUNCTION",ot="ROLEADMIN",at="ShiftConfig",nt="PrinterConfiguration",rt="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",ut="PipelineMeterSiteView",pt="RailSiteView",ht="MarineSiteView",mt="LoadingDetails",gt="UnloadingDetails",Ct="RoadHSEInspection",yt="RoadHSEInspectionConfig",St="MarineHSEInspection",kt="MarineHSEInspectionConfig",Tt="RailHSEInspection",Rt="RailHSEInspectionConfig",vt="PipelineHSEInspection",ft="PipelineHSEInspectionConfig",xt="PrintRAN",Dt="ViewReceiptStatus",Et="customerrecipe",jt="COAParameter",wt="COATemplate",bt="COAManagement",Pt="COACustomer",Gt="COAAssignment",It="ProductForecastConfiguration"},93779:(e,t,i)=>{"use strict";i.d(t,{$A:()=>G,$L:()=>lt,$Q:()=>Be,Ae:()=>be,BX:()=>ae,Bl:()=>me,Bv:()=>ye,Bw:()=>Z,Cb:()=>b,Cg:()=>j,DN:()=>at,D_:()=>nt,Dm:()=>I,E7:()=>J,EW:()=>N,FN:()=>oe,FR:()=>a,FY:()=>mt,GA:()=>qe,GT:()=>T,Ge:()=>Ae,HB:()=>ne,JQ:()=>z,KJ:()=>ee,Kz:()=>K,Ln:()=>_,M$:()=>_e,O5:()=>tt,Of:()=>Re,Oo:()=>it,Pk:()=>Ce,Pm:()=>Y,Q5:()=>ct,QK:()=>Ke,QV:()=>Ze,QZ:()=>dt,Qu:()=>ie,RX:()=>je,Rb:()=>q,Rp:()=>f,SP:()=>g,T5:()=>Fe,UB:()=>S,UT:()=>l,Ui:()=>H,VA:()=>B,Vk:()=>fe,Wb:()=>xe,Wv:()=>ve,X3:()=>ze,Y4:()=>W,Yl:()=>st,Zx:()=>$,_B:()=>Se,_C:()=>w,_R:()=>ge,_j:()=>de,_n:()=>s,aM:()=>F,aW:()=>Oe,bW:()=>O,c4:()=>ot,cD:()=>r,c_:()=>D,cx:()=>M,dL:()=>ut,eE:()=>le,eS:()=>He,eT:()=>v,f:()=>A,f7:()=>he,fR:()=>ue,g1:()=>ce,gN:()=>Je,gO:()=>U,iH:()=>rt,ij:()=>et,j1:()=>E,jC:()=>ke,je:()=>pe,jz:()=>re,ll:()=>Xe,mM:()=>k,mO:()=>ht,mW:()=>Le,ml:()=>C,mm:()=>Ye,nB:()=>te,nT:()=>Ne,np:()=>Ie,oA:()=>x,oG:()=>Qe,oV:()=>X,ok:()=>u,oy:()=>c,pL:()=>Pe,pe:()=>We,pw:()=>Ue,qF:()=>n,qQ:()=>pt,qp:()=>p,s0:()=>R,sA:()=>we,st:()=>se,tY:()=>L,uw:()=>Q,v6:()=>o,vL:()=>Ve,vf:()=>Ge,wH:()=>$e,wO:()=>Te,wX:()=>V,x4:()=>De,xf:()=>h,xy:()=>d,yI:()=>y,yV:()=>P,yz:()=>m,zL:()=>Ee,zf:()=>Me});const s="CarrierCode",o="TransportationType",a="ShareHolderCode",n="DriverCode",r="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",u="VehicleCode",p="DestinationCode",h="FinishedProductCode",m="ShipmentCode",g="OrderCode",C="ReceiptCode",y="MarineDispatchCode",S="MarineReceiptCode",k="SupplierCode",T="ContractCode",R="RailDispatchCode",v="RailReceiptCode",f="RailRouteCode",x="WagonCode",D="CompartmentCode",E="SMSConfigurationCode",j="PipelineDispatchCode",w="PipelineReceiptCode",b="EmailConfigurationCode",P="BaseProductCode",G="LocationCode",I="SiteViewType",A="EntityCode",N="EntityType",L="CardReaderCode",F="AccessCardCode",V="BcuCode",M="DeuCode",O="WeighBridgeCode",B="Weight",q="OutOfToleranceAllowed",W="LoadingArmCode",_="TransportationType",K="BayCode",U="TransactionNumber",H="BatchNumber",Q="TerminalCode",z="TankGroupCode",J="TankCode",$="MeterCode",Y="ShipmentType",Z="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",se="ProductCategoryType",oe="Reason",ae="SealMasterCode",ne="Reason",re="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",ue="AdjustedPlanQuantity",pe="ForceComplete",he="DispatchStatus",me="HolidayDate",ge="ActionID",Ce="EODTimePrev",ye="TerminalAction",Se="EODTime",ke="MonthStartDay",Te="CaptainCode",Re="GeneralTMUserType",ve="GeneralTMUserCode",fe="IsPriority",xe="ActualTerminalCode",De="ShipmentBondNo",Ee="ReceiptBondNo",je="DeviceType",we="DeviceCode",be="BayGroup",Pe="PipelineHeaderCode",Ge="ExchangePartner",Ie="PersonID",Ae="UserName",Ne="PipelinePlanCode",Le="PipelinePlanType",Fe="ChannelCode",Ve="ProcessName",Me="ReconciliationCode",Oe="NotificationGroupCode",Be="NotificationGroupStatus",qe="NotificationGroupDesc",We="NotificationResSource",_e="NotificationResMsgCode",Ke="NotificationOrigResSource",Ue="NotificationOrigResMsgCode",He="NotificationMessageCode",Qe="PositionType",ze="ExchangeAgreementCode",Je="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Ye="RequestorShareholder",Ze="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",st="PrinterName",ot="LocationType",at="ForceClosureReason",nt="TransactionType",rt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ut="COAManagementFinishedProductCode",pt="COASeqNumber",ht="ForecastDate",mt="ForecastTanks"},50477:()=>{}}]);
//# sourceMappingURL=8055.caf2e05f.chunk.js.map