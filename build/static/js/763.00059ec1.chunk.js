"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[763],{36001:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var n=a(65043),s=a(69062),o=a(40854),l=a.n(o),i=a(72067),r=a(9256),c=a(97508),d=a(53536),h=a.n(d),u=a(65187),g=a(14159),m=a(11981),C=(a(92342),a(46100)),p=a(72711),f=a(67907),A=a(78374),k=a(70579);function T(e){let{AtgAttributeConfigurationData:t,modATGTankInfo:a,onFieldChange:n,tankObj:s,handleCellCheck:o,handleCellDataEdit:l,handleCellParameterDataEdit:i}=e;console.log(t);const r=e=>(console.log(e.rowData),(0,k.jsx)(p.Input,{fluid:!0,value:t[e.rowIndex][e.field].Point,onChange:t=>l(t,e),reserveSpace:!1})),c=e=>(0,k.jsx)(p.Input,{fluid:!0,value:t[e.rowIndex][e.field].Parameter,onChange:t=>i(t,e),reserveSpace:!1}),d=e=>{const t=e;return"number"===typeof t?t.toLocaleString():t},h=e=>(0,k.jsx)(p.Checkbox,{className:"forceCompleteChkBox",checked:e.value,onChange:t=>{o(e,t)}});return(0,k.jsx)(f.TranslationConsumer,{children:e=>(0,k.jsxs)("div",{className:"detailsContainer",children:[(0,k.jsx)("div",{className:"row",children:(0,k.jsx)("div",{className:"col-12",children:(0,k.jsx)("h3",{children:s.Code+" - "+e("AtgConfiguration_Title")})})}),(0,k.jsxs)("div",{className:"row marginRightZero tableScroll",children:[(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsx)(p.Input,{fluid:!0,value:a.TankCode,indicator:"required",disabled:""!==a.TankCode,label:e("TankTransaction_TankCode"),reserveSpace:!1})}),(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsx)(p.Input,{fluid:!0,value:s.Name,label:e("TankInfo_Name"),disabled:!0,reserveSpace:!1})}),(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsx)(p.Input,{fluid:!0,value:s.TankGroupCode,label:e("AtgConfigure_TankGroup"),disabled:!0,reserveSpace:!1})}),(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsx)(p.Input,{fluid:!0,value:s.Description,label:e("TankInfo_Description"),disabled:!0,reserveSpace:!1})}),(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsx)(p.Input,{fluid:!0,value:s.BaseProductCode,label:e("AtgConfigure_BaseProduct"),disabled:!0,reserveSpace:!1})}),(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("AtgConfigure_TankStatus"),value:s.Active,options:[{text:e("ViewShipment_Ok"),value:!0},{text:e("ViewShipmentStatus_Inactive"),value:!1}],reserveSpace:!1,search:!0,disabled:!0,noResultsMessage:e("noResultsMessage")})}),(0,k.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,k.jsx)("div",{class:"ui input-label",children:(0,k.jsx)("span",{className:"input-label-message",children:e("AtgConfigure_EnableTankScan")})}),(0,k.jsx)("div",{className:"input-wrap ",style:{marginLeft:"8rem",marginTop:"-1.3rem"},children:(0,k.jsx)(p.Checkbox,{field:"EnableTankScan",onChange:e=>n("EnableTankScan",e),checked:null===a.EnableTankScan?"":a.EnableTankScan},"EnableTankScan")})]}),(0,k.jsx)("div",{children:(0,k.jsxs)(A.bQ,{data:t,scrollable:!0,scrollHeight:"320px",children:[(0,k.jsx)(A.bQ.Column,{className:"compColHeight",field:"TankAttributeDescription",header:e("AtgConfigure_Atg_Data_Description")},"TankAttributeDescription"),(0,k.jsx)(A.bQ.Column,{className:"compColHeight",field:"TankAttributeUOM",header:e("AtgConfigure_UOM")},"TankAttributeUOM"),(0,k.jsx)(A.bQ.Column,{className:"compColHeight",field:"Parameter",renderer:e=>d(e.rowData.Parameter.Point),editable:!0,customEditRenderer:r,header:e("AtgConfigure_PointName")},"Parameter"),(0,k.jsx)(A.bQ.Column,{className:"compColHeight",field:"Parameter",renderer:e=>d(e.rowData.Parameter.Parameter),editable:!0,customEditRenderer:c,header:e("AtgConfigure_ParameterName")},"Parameter"),(0,k.jsx)(A.bQ.Column,{className:"compColHeight colminWidth",field:"EnableScan",header:e("AtgConfigure_EnableScan"),renderer:h},"EnableScan")]})})]})]})})}T.defaultProps={isEnterpriseNode:!1};class b extends n.Component{constructor(){super(...arguments),this.state={TankInfo:h().cloneDeep(C.wX),modATGTankInfo:{},AtgAttributeConfigurationData:{},saveEnabled:!0},this.handleChange=(e,t)=>{try{const a=h().cloneDeep(this.state.modATGTankInfo);a[e]=t,this.setState({modATGTankInfo:a})}catch(a){console.log("TruckReceiptDetailsComposite:Error occured on handleChange",a)}},this.handleCellCheck=(e,t)=>{try{let a=h().cloneDeep(this.state.AtgAttributeConfigurationData);a[e.rowIndex].EnableScan=t,this.setState({AtgAttributeConfigurationData:a})}catch(a){console.log("Error in handleCellcheck",a)}},this.handleSave=()=>{try{this.setState({saveEnabled:!0});let e=this.fillDetails();this.UpdateATGConfiguration(e)}catch(e){console.log("PipelineReceiptDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{let e=h().cloneDeep(this.state.TankInfo);this.setState({modATGTankInfo:e,AtgAttributeConfigurationData:e.AtgAttributeConfigurationData})}catch(e){console.log("ATGInterfaceDetailsComposite:Error occured on handleReset",e)}},this.handleCellDataEdit=(e,t)=>{try{let a=h().cloneDeep(this.state.AtgAttributeConfigurationData);a[t.rowIndex][t.field].Point=e,this.setState({AtgAttributeConfigurationData:a})}catch(a){console.log("BayDetailsComposite:Error occured on handleCellDataEdit",a)}},this.handleCellParameterDataEdit=(e,t)=>{try{let a=h().cloneDeep(this.state.AtgAttributeConfigurationData);a[t.rowIndex][t.field].Parameter=e,this.setState({AtgAttributeConfigurationData:a})}catch(a){console.log("BayDetailsComposite:Error occured on handleCellDataEdit",a)}},this.UpdateATGConfiguration=e=>{let t=h().cloneDeep(this.state.modATGTankInfo);var a={messageType:"critical",message:"ATG_Details_Saved_Success",messageResultDetails:[{keyFields:["AtgConfigure_TankCode"],keyValues:[t.TankCode],isSuccess:!1,errorMessage:""}]},n={Entity:e};l()(i.Yfo,s.tW(n,this.props.tokenDetails.tokenInfo)).then((e=>{var n=e.data;a.messageType=n.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=n.IsSuccess,!0===n.IsSuccess?this.setState({modATGTankInfo:t},(()=>{this.GetTankATGConfiguration({TankCode:t.TankCode})})):(a.messageResultDetails[0].errorMessage=n.ErrorList[0],this.setState({saveEnabled:!0}),console.log("Error in updatePipelineReceipt:",n.ErrorList)),(0,g.toast)((0,k.jsx)(u.A,{children:(0,k.jsx)(m.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{this.setState({saveEnabled:!0}),a.messageResultDetails[0].errorMessage=e,(0,g.toast)((0,k.jsx)(u.A,{children:(0,k.jsx)(m.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})),this.setState({modATGTankInfo:this.state.modATGTankInfo})}}componentDidMount(){try{s.pJ(this.props.userDetails.EntityResult.IsArchived),console.log(this.props.tankObj),this.GetTankATGConfiguration(this.props.tankObj.Code)}catch(e){console.log("ATGInterfaceConfigurationDetailsComposite:Error occured on componentDidMount",e)}}GetTankATGConfiguration(e){try{l()(i.Zz9+"?TankCode="+e,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=t.EntityResult.AtgAttributeConfigurationData;for(let t=0;t<e.length;t++)e[t].Parameter.Parameter=e[t].Parameter.Parameter,e[t].Parameter.Point=e[t].Parameter.Point;this.setState({modATGTankInfo:t.EntityResult,TankInfo:t.EntityResult,AtgAttributeConfigurationData:e})}else console.log("Error in GetTankATGConfiguration:",t.ErrorList)})).catch((e=>{console.log("Error while getting GetTankATGConfiguration:",e)}))}catch(t){console.log("Error while getting GetTankATGConfiguration:",t)}}fillDetails(){try{let e=h().cloneDeep(this.state.modATGTankInfo),t=h().cloneDeep(this.state.AtgAttributeConfigurationData),a=[];return Array.isArray(t)&&t.forEach((e=>{a.push(e)})),e.AtgAttributeConfigurationData=a,e}catch(e){console.log("ATGInterfaceDetailsComposite:Error occured on fillAttributeDetails",e)}}render(){return(0,k.jsxs)("div",{children:[(0,k.jsx)(T,{modATGTankInfo:this.state.modATGTankInfo,AtgAttributeConfigurationData:this.state.AtgAttributeConfigurationData,tankObj:this.props.tankObj,handleCellCheck:this.handleCellCheck,handleCellDataEdit:this.handleCellDataEdit,handleCellParameterDataEdit:this.handleCellParameterDataEdit,onFieldChange:this.handleChange}),(0,k.jsx)(u.A,{children:(0,k.jsx)(r.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),(0,k.jsx)(u.A,{children:(0,k.jsx)(g.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const D=(0,c.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(b)},9256:(e,t,a)=>{a.d(t,{q:()=>l});a(65043);var n=a(72711),s=a(67907),o=a(70579);function l(e){let{handleBack:t,handleSave:a,handleReset:l,saveEnabled:i}=e;return(0,o.jsx)(s.TranslationConsumer,{children:e=>(0,o.jsxs)("div",{className:"row userActionPosition",children:[(0,o.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,o.jsx)(n.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,o.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,o.jsxs)("div",{style:{float:"right"},children:[(0,o.jsx)(n.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:l}),(0,o.jsx)(n.Button,{content:e("Save"),disabled:!i,onClick:a})]})})]})})}l.defaultProps={saveEnabled:!1}}}]);
//# sourceMappingURL=763.00059ec1.chunk.js.map