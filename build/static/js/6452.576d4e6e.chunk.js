"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[6452,6001,8382,735,3116,3235,5973,8354],{76452:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var a=i(65043),s=i(69062),r=i(40854),l=i.n(r),o=i(72067),n=i(65187),d=i(43503),c=i(9256),u=i(40252),p=i(72711),h=i(67907),E=i(85800),m=i(70579);function I(e){let{pipelineHeader:t,modPipelineHeader:i,validationErrors:a,onFieldChange:s,onActiveStatusChange:r,listOptions:l,modAttributeMetaDataList:o,attributeValidationErrors:d,onAttributeDataChange:c,isEnterpriseNode:u}=e;const I=(e,t)=>{let i=[];return i=e.find((e=>e.TerminalCode===t)),i.attributeValidationErrors};return(0,m.jsx)(h.TranslationConsumer,{children:e=>(0,m.jsxs)("div",{className:"detailsContainer",children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.Code,indicator:"required",disabled:""!==t.Code,onChange:e=>s("Code",e),label:e("PipeLineHeaderInfo_Code"),error:e(a.Code),reserveSpace:!1})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.Name,indicator:"required",onChange:e=>s("Name",e),label:e("PipeLineHeaderInfo_Name"),error:e(a.Name),reserveSpace:!1})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),value:i.PipelineHeaderType,label:e("PipeLineHeaderInfo_Type"),indicator:"required",options:l.pipelineHeaderTypeOptions,onChange:e=>{s("PipelineHeaderType",e)},error:e(a.PipelineHeaderType),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.PointName,onChange:e=>s("PointName",e),indicator:"required",label:e("PipeLineHeaderInfo_PointName"),error:e(a.PointName),reserveSpace:!1})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.OuterDiameter,onChange:e=>s("OuterDiameter",e),label:e("PipeLineHeaderInfo_OuterDiameter"),error:e(a.OuterDiameter),reserveSpace:!1})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),indicator:null!==i.OuterDiameter&&""!==i.OuterDiameter?"required":"",value:i.OuterDiameterUOM,label:e("PipeLineHeaderInfo_OuterDiameterUOM"),options:l.lengthUOMOptions,onChange:e=>{s("OuterDiameterUOM",e)},error:e(a.OuterDiameterUOM),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.WallThickness,onChange:e=>s("WallThickness",e),label:e("PipeLineHeaderInfo_PipeThickness"),error:e(a.WallThickness),reserveSpace:!1})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),value:i.WallThicknessUOM,indicator:null!==i.WallThickness&&""!==i.WallThickness?"required":"",label:e("PipeLineHeaderInfo_PipeThicknessUOM"),options:l.lengthUOMOptions,onChange:e=>{s("WallThicknessUOM",e)},error:e(a.WallThicknessUOM),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.TypicalFlowRatePerHour,onChange:e=>s("TypicalFlowRatePerHour",e),label:e("PipeLineHeaderInfo_ProductFlowRate"),error:e(a.TypicalFlowRatePerHour),reserveSpace:!1})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),value:i.FlowRateUOM,indicator:null!==i.TypicalFlowRatePerHour&&""!==i.TypicalFlowRatePerHour?"required":"",label:e("PipeLineHeaderInfo_ProductFlowRateUOM"),options:l.volumeUOMOptions,onChange:e=>{s("FlowRateUOM",e)},error:e(a.FlowRateUOM),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),value:i.AssociatedMeterCodes,label:e("Associated_Meters"),options:l.pipelineMeterList,onChange:e=>{s("AssociatedMeterCodes",e)},error:e(a.AssociatedMeterCodes),reserveSpace:!1,search:!0,multiple:!0,noResultsMessage:e("noResultsMessage")})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("PipeLineHeaderInfo_Status"),value:i.Active,options:[{text:e("PipeLineHeaderInfo_Active"),value:!0},{text:e("PipeLineHeaderInfo_Inactive"),value:!1}],onChange:e=>r(e),error:e(a.Active),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,m.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,m.jsx)(p.Input,{fluid:!0,value:i.Description,onChange:e=>s("Description",e),label:e("PipeLineHeaderInfo_Remarks"),error:e(a.Description),indicator:i.Active!==t.Active?"required":"",reserveSpace:!1})})]}),o.length>0?o.map((t=>(0,m.jsx)(n.A,{children:(0,m.jsx)(p.Accordion,{children:(0,m.jsx)(p.Accordion.Content,{className:"attributeAccordian",title:u?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,m.jsx)(E.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:c,attributeValidationErrors:I(d,t.TerminalCode)})})})}))):null]})})}I.defaultProps={listOptions:{pipelineHeaderTypeOptions:[],volumeUOMOptions:[],lengthUOMOptions:[],pipelineMeterList:[]}};var T=i(46100),D=i(44192),C=(i(38726),i(97508)),A=i(93779),P=i(53536),S=i.n(P),N=i(80312),L=i(15417),R=i(62900);class v extends a.Component{constructor(){super(...arguments),this.state={pipelineHeader:S().cloneDeep(T.VC),modPipelineHeader:{},validationErrors:s.Th(D.mY),isReadyToRender:!1,saveEnabled:!1,attributeValidationErrors:[],modAttributeMetaDataList:[],pipelineHeaderTypeOptions:[],lengthUOMOptions:[],volumeUOMOptions:[],pipelineMeterList:[],showAuthenticationLayout:!1,tempPipelineHeader:{}},this.handleChange=(e,t)=>{try{const i=S().cloneDeep(this.state.modPipelineHeader);i[e]=t,this.setState({modPipelineHeader:i});const a=S().cloneDeep(this.state.validationErrors);void 0!==D.mY[e]&&(a[e]=s.jr(D.mY[e],t),this.setState({validationErrors:a}))}catch(i){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on handleChange",i)}},this.handleActiveStatusChange=e=>{try{let t=S().cloneDeep(this.state.modPipelineHeader);t.Active=e,t.Active!==this.state.pipelineHeader.Active&&(t.Description=""),this.setState({modPipelineHeader:t})}catch(t){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on handleActiveStatusChange",t)}},this.savePipelineHeader=()=>{try{this.setState({saveEnabled:!1});let e=S().cloneDeep(this.state.tempPipelineHeader);""===this.state.pipelineHeader.Code?this.createPipelineHeader(e):this.updatePipelineHeader(e)}catch(e){console.log("pipelineheaderComposite : Error in savePrimeMover")}},this.handleSave=()=>{try{let e=this.fillDetails(),t=s.pI(this.state.modAttributeMetaDataList);if(this.validateSave(e,t)){e=this.convertStringtoDecimal(e,t);let i=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,a=S().cloneDeep(e);this.setState({showAuthenticationLayout:i,tempPipelineHeader:a},(()=>{!1===i&&this.savePipelineHeader()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{const{validationErrors:e}={...this.state},t=S().cloneDeep(this.state.pipelineHeader);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modPipelineHeader:{...t},selectedCompRow:[],validationErrors:e,modAttributeMetaDataList:[]},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?(this.terminalSelectionChange([this.props.selectedTerminal]),this.handleResetAttributeValidationError()):(this.localNodeAttribute(),this.handleResetAttributeValidationError())}))}catch(e){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on handleReset",e)}},this.handleAttributeDataChange=(e,t)=>{try{let i=[],a=S().cloneDeep(this.state.modAttributeMetaDataList),r=a.filter((t=>t.TerminalCode===e.TerminalCode));r.length>0&&Array.isArray(r[0].attributeMetaDataList)&&(i=r[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),i.length>0&&(i[0].DefaultValue=t);const l=S().cloneDeep(this.state.attributeValidationErrors);l.forEach((i=>{i.TerminalCode===e.TerminalCode&&(i.attributeValidationErrors[e.Code]=s.I5(e,t))})),this.setState({attributeValidationErrors:l,modAttributeMetaDataList:a})}catch(i){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on handleAttributeDataChange",i)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}componentDidMount(){try{s.pJ(this.props.userDetails.EntityResult.IsArchived),this.getAttributes(this.props.selectedRow),this.getPipelineHeaderType(),this.getUOMList(),this.getMeterList()}catch(e){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on componentDidMount",e)}}componentWillReceiveProps(e){try{if(""!==this.state.pipelineHeader.Code&&void 0===e.selectedRow.Common_Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo){this.getAttributes(e.selectedRow);let t={...this.state.validationErrors};Object.keys(t).forEach((e=>{t[e]=""})),this.setState({validationErrors:t})}}catch(t){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on componentWillReceiveProps",t)}}getAttributes(e){try{l()(o.fKH,s.tW([L.Hr],this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data;!0===i.IsSuccess?this.setState({attributeMetaDataList:S().cloneDeep(i.EntityResult.PIPELINEHEADER),attributeValidationErrors:s.Fl(i.EntityResult.PIPELINEHEADER)},(()=>this.getPipelineHeader(e))):console.log("Error in getAttributes:")}))}catch(t){console.log("Error while getAttributes:",t)}}getPipelineHeader(e){if(T.VC.PipelineHeaderType="BOTH",void 0!==e.Common_Code){var t=[{key:A.pL,value:e.Common_Code},{key:A.uw,value:""!==this.props.selectedTerminal?this.props.selectedTerminal:null}],i={keyDataCode:A.pL,KeyCodes:t};l()(o.WQk,s.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isReadyToRender:!0,pipelineHeader:S().cloneDeep(t.EntityResult),modPipelineHeader:S().cloneDeep(t.EntityResult),saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.modify,N.Ur)&&!this.props.userDetails.EntityResult.IsEnterpriseNode},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?this.terminalSelectionChange([this.props.selectedTerminal]):this.localNodeAttribute()})):(this.setState({pipelineHeader:S().cloneDeep(T.VC),modPipelineHeader:S().cloneDeep(T.VC),isReadyToRender:!0}),console.log("Error in getPipelineHeader:",t.ErrorList))})).catch((t=>{console.log("Error while getting PipelineHeader:",t,e)}))}else this.setState({pipelineHeader:S().cloneDeep(T.VC),modPipelineHeader:S().cloneDeep(T.VC),isReadyToRender:!0,modAttributeMetaDataList:[],saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.add,N.Ur)},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode||this.localNodeAttribute()}))}getPipelineHeaderType(){l()(o.qEO,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=[];null!==t.EntityResult&&(Object.keys(t.EntityResult).forEach((i=>e.push({text:i,value:t.EntityResult[i]}))),this.setState({pipelineHeaderTypeOptions:e}))}else console.log("Error in getPipelineHeaderType:",t.ErrorList)})).catch((e=>{console.log("Error while getPipelineHeaderType:",e)}))}getUOMList(){l()(o.WFM,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult){let e=[],i=t.EntityResult.FLOWRATE_VOLUME,a=t.EntityResult.FLOWRATE_MASS;i.forEach((t=>{e.push({text:t,value:t})})),a.forEach((t=>{e.push({text:t,value:t})}));let s=t.EntityResult.LENGTH,r=[];s.forEach((e=>{r.push({text:e,value:e})})),this.setState({volumeUOMOptions:e,lengthUOMOptions:r})}}else console.log("Error in getUOM:",t.ErrorList)})).catch((e=>{console.log("Error while getting getUOM:",e)}))}getMeterList(){l()(o.BSR,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=s.Zj(t.EntityResult);this.setState({pipelineMeterList:e})}}else console.log("Error in getMeterList:",t.ErrorList)})).catch((e=>{console.log("Error while getMeterList:",e)}))}fillDetails(){try{let e=S().cloneDeep(this.state.modPipelineHeader);return null!==e.OuterDiameter&&""!==e.OuterDiameter&&(e.OuterDiameter=e.OuterDiameter.toLocaleString()),null!==e.WallThickness&&""!==e.WallThickness&&(e.WallThickness=e.WallThickness.toLocaleString()),null!==e.TypicalFlowRatePerHour&&""!==e.TypicalFlowRatePerHour&&(e.TypicalFlowRatePerHour=e.TypicalFlowRatePerHour.toLocaleString()),null!==e.OuterDiameter&&""!==e.OuterDiameter||(e.OuterDiameterUOM=null),null!==e.WallThickness&&""!==e.WallThickness||(e.WallThicknessUOM=null),null!==e.TypicalFlowRatePerHour&&""!==e.TypicalFlowRatePerHour||(e.FlowRateUOM=null),this.setState({modPipelineHeader:e}),e}catch(e){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on fillDetails",e)}}validateSave(e,t){try{const r={...this.state.validationErrors};Object.keys(D.mY).forEach((function(t){void 0!==e[t]&&(r[t]=s.jr(D.mY[t],e[t]))})),e.Active!==this.state.pipelineHeader.Active&&(null!==e.Description&&""!==e.Description||(r.Description="BaseProductInfo_EnterRemarks")),null!==e.OuterDiameter&&""!==e.OuterDiameter&&(null!==e.OuterDiameterUOM&&""!==e.OuterDiameterUOM||(r.OuterDiameterUOM="PipelineHeader_UOM_Required")),null!==e.WallThickness&&""!==e.WallThickness&&(null!==e.WallThicknessUOM&&""!==e.WallThicknessUOM||(r.WallThicknessUOM="PipelineHeader_UOM_Required")),null!==e.TypicalFlowRatePerHour&&""!==e.TypicalFlowRatePerHour&&(null!==e.FlowRateUOM&&""!==e.FlowRateUOM||(r.FlowRateUOM="PipelineHeader_UOM_Required"));var i=S().cloneDeep(this.state.attributeValidationErrors);t.forEach((e=>{i.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=s.I5(e,e.DefaultValue)}))}))})),this.setState({validationErrors:r,attributeValidationErrors:i});var a=!0;return i.forEach((e=>{if(!a)return a;a=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),a&&(a=Object.values(r).every((function(e){return""===e}))),a}catch(r){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on validateSave",r)}}convertStringtoDecimal(e,t){try{return null!==e.OuterDiameter&&""!==e.OuterDiameter&&(e.OuterDiameter=s.bo(e.OuterDiameter)),null!==e.WallThickness&&""!==e.WallThickness&&(e.WallThickness=s.bo(e.WallThickness)),null!==e.TypicalFlowRatePerHour&&""!==e.TypicalFlowRatePerHour&&(e.TypicalFlowRatePerHour=s.bo(e.TypicalFlowRatePerHour)),t=s.SC(t),e.Attributes=s.Gh(t),e}catch(i){console.log("convertStringtoDecimal error Pipline Header Details",i)}}createPipelineHeader(e){let t=[{key:A.pL,value:e.Code}],i={keyDataCode:A.pL,KeyCodes:t,Entity:e},a={messageType:"critical",message:"PipeLineHeaderInfo_AddUpdateStatus",messageResultDetails:[{keyFields:["PipeLineHeaderInfo_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};l()(o.qLS,s.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{let i=t.data;a.messageType=i.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.modify,N.Ur),showAuthenticationLayout:!1},(()=>this.getPipelineHeader({Common_Code:e.Code}))):(a.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.add,N.Ur),showAuthenticationLayout:!1}),console.log("Error in createPipelineHeader:",i.ErrorList)),this.props.onSaved(this.state.modPipelineHeader,"add",a)})).catch((e=>{this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.add,N.Ur),showAuthenticationLayout:!1}),a.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modPipelineHeader,"add",a)}))}updatePipelineHeader(e){let t=[{key:A.pL,value:e.Code}],i={keyDataCode:A.pL,KeyCodes:t,Entity:e},a={messageType:"critical",message:"PipeLineHeaderInfo_AddUpdateStatus",messageResultDetails:[{keyFields:["PipeLineHeaderInfo_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};l()(o.f6i,s.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{let i=t.data;a.messageType=i.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.modify,N.Ur),showAuthenticationLayout:!1},(()=>this.getPipelineHeader({Common_Code:e.Code}))):(a.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.modify,N.Ur),showAuthenticationLayout:!1}),console.log("Error in update PipelineHeader:",i.ErrorList)),this.props.onSaved(this.state.modPipelineHeader,"update",a)})).catch((e=>{this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,N.i.modify,N.Ur),showAuthenticationLayout:!1}),a.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modPipelineHeader,"modify",a)}))}localNodeAttribute(){try{var e=S().cloneDeep(this.state.attributeMetaDataList);Array.isArray(e)&&e.length>0&&this.terminalSelectionChange([e[0].TerminalCode])}catch(t){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on localNodeAttribute",t)}}terminalSelectionChange(e){try{if(void 0!==e&&null!==e){let r=[];var t=[],i=[];t=S().cloneDeep(this.state.attributeMetaDataList),i=S().cloneDeep(this.state.modAttributeMetaDataList);const l=S().cloneDeep(this.state.attributeValidationErrors);var a=S().cloneDeep(this.state.modPipelineHeader);e.forEach((e=>{var s=i.find((t=>t.TerminalCode===e));void 0===s?t.forEach((function(t){if(t.TerminalCode===e){var i=a.Attributes.find((t=>t.TerminalCode===e));void 0!==i&&t.attributeMetaDataList.forEach((function(e){var t=i.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),r.push(t)}})):r.push(s)})),i=[],i=r,i=s.nQ(i),l.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modAttributeMetaDataList:i,attributeValidationErrors:l})}}catch(r){console.log("PipelineHeaderSiteViewDetailsComposite:Error occured on terminalSelectionChange",r)}}handleResetAttributeValidationError(){try{var e=S().cloneDeep(this.state.attributeMetaDataList);this.setState({attributeValidationErrors:s.Fl(e)})}catch(t){console.log("handleAttributeValidationError:Error occured on handleReset",t)}}render(){const e={pipelineHeaderTypeOptions:this.state.pipelineHeaderTypeOptions,volumeUOMOptions:this.state.volumeUOMOptions,lengthUOMOptions:this.state.lengthUOMOptions,pipelineMeterList:this.state.pipelineMeterList},t=[{fieldName:"PipeLineHeaderInfo_LastUpdated",fieldValue:new Date(this.state.modPipelineHeader.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modPipelineHeader.LastUpdatedTime).toLocaleTimeString()},{fieldName:"PipeLineHeaderInfo_CreatedTime",fieldValue:new Date(this.state.modPipelineHeader.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modPipelineHeader.CreatedTime).toLocaleTimeString()},{fieldName:"PipeLineHeaderInfo_LastActive",fieldValue:void 0!==this.state.modPipelineHeader.LastActive&&null!==this.state.modPipelineHeader.LastActive?new Date(this.state.modPipelineHeader.LastActive).toLocaleDateString()+" "+new Date(this.state.modPipelineHeader.LastActive).toLocaleTimeString():""}];return this.state.isReadyToRender?(0,m.jsxs)("div",{children:[(0,m.jsx)(n.A,{children:(0,m.jsx)(d.A,{entityCode:this.state.pipelineHeader.Code,newEntityName:"PipeLineHeaderInfo_NewPipeLineHeader",popUpContents:t})}),(0,m.jsx)(n.A,{children:(0,m.jsx)(I,{pipelineHeader:this.state.pipelineHeader,modPipelineHeader:this.state.modPipelineHeader,listOptions:e,validationErrors:this.state.validationErrors,onFieldChange:this.handleChange,onActiveStatusChange:this.handleActiveStatusChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,attributeValidationErrors:this.state.attributeValidationErrors,modAttributeMetaDataList:this.state.modAttributeMetaDataList,onAttributeDataChange:this.handleAttributeDataChange})}),(0,m.jsx)(n.A,{children:(0,m.jsx)(c.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),this.state.showAuthenticationLayout?(0,m.jsx)(R.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.pipelineHeader.Code?N.i.add:N.i.modify,functionGroup:N.Ur,handleOperation:this.savePipelineHeader,handleClose:this.handleAuthenticationClose}):null]}):(0,m.jsx)(u.A,{message:"Loading"})}}const g=(0,C.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(v)},43503:(e,t,i)=>{i.d(t,{A:()=>o});i(65043);var a=i(67907),s=i(72711),r=i(70579);function l(e){let{entityCode:t,newEntityName:i,popUpContents:l}=e;return(0,r.jsx)(a.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(i):t})}),""!==t&&void 0!==t&&l.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(s.Popup,{element:(0,r.jsxs)("div",{children:[e(l[0].fieldName)+" ",":"," "+l[0].fieldValue,(0,r.jsx)(s.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(s.List,{className:"detailsHeaderPopUp",children:l.map((t=>(0,r.jsxs)(s.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}l.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const o=l},9256:(e,t,i)=>{i.d(t,{q:()=>l});i(65043);var a=i(72711),s=i(67907),r=i(70579);function l(e){let{handleBack:t,handleSave:i,handleReset:l,saveEnabled:o}=e;return(0,r.jsx)(s.TranslationConsumer,{children:e=>(0,r.jsxs)("div",{className:"row userActionPosition",children:[(0,r.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,r.jsx)(a.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,r.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,r.jsxs)("div",{style:{float:"right"},children:[(0,r.jsx)(a.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:l}),(0,r.jsx)(a.Button,{content:e("Save"),disabled:!o,onClick:i})]})})]})})}l.defaultProps={saveEnabled:!1}},85800:(e,t,i)=>{i.d(t,{n:()=>n});i(65043);var a=i(72711),s=i(67907),r=i(7523),l=i(35861),o=i(70579);function n(e){let{selectedAttributeList:t,handleCellDataEdit:i,attributeValidationErrors:n}=e;const d=e=>{if("0000-00-00"===e.DefaultValue)return c(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},c=(e,t)=>{var a=new Date(t);t=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),i(e,t)};return(0,o.jsx)(s.TranslationConsumer,{children:e=>(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,o.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===r.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,o.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,o.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>i(t,e),error:e(n[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==r.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==r.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===r.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,o.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,o.jsx)(a.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>i(t,e)})}):t.DataType.toLowerCase()===r.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,o.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,o.jsx)(a.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":d(t),label:e(t.DisplayName),displayFormat:(0,l.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>c(t,e),onTextChange:e=>{c(t,e)},error:e(n[t.Code]),reserveSpace:!1})}):null:(0,o.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,o.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>i(t,e),error:e(n[t.Code]),reserveSpace:!1})}):(0,o.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,o.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>i(t,e),error:e(n[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,i)=>{i.d(t,{$7:()=>M,AN:()=>ie,AU:()=>g,Ak:()=>We,Ao:()=>a,B6:()=>J,C4:()=>je,CG:()=>Q,Ct:()=>Y,Cw:()=>U,EY:()=>R,G$:()=>Je,G6:()=>Xe,GF:()=>he,GJ:()=>w,Gj:()=>ue,Gl:()=>re,H9:()=>Ke,HB:()=>ve,HP:()=>L,Hr:()=>Re,II:()=>st,IQ:()=>A,Jr:()=>G,Jx:()=>Ce,Ki:()=>te,LP:()=>se,Lv:()=>r,MK:()=>T,MX:()=>ee,Mx:()=>q,N4:()=>be,NH:()=>De,OF:()=>$e,Ps:()=>k,Q7:()=>Ye,QY:()=>j,SF:()=>l,Sq:()=>Ne,Sw:()=>oe,TQ:()=>z,U7:()=>v,UH:()=>I,UO:()=>le,V_:()=>Oe,Vy:()=>Ve,W9:()=>de,WN:()=>C,Wr:()=>s,Ww:()=>X,XP:()=>He,Xk:()=>K,Yb:()=>Se,Yy:()=>E,Z2:()=>we,ZN:()=>y,ZO:()=>Pe,Zu:()=>Ge,_G:()=>B,_N:()=>u,_u:()=>ce,ad:()=>ne,al:()=>Ae,ao:()=>V,bK:()=>W,bN:()=>D,cf:()=>f,dO:()=>Me,dU:()=>h,dv:()=>o,eE:()=>Z,g:()=>N,gG:()=>n,gS:()=>ge,gT:()=>it,gW:()=>$,gZ:()=>ze,go:()=>H,gp:()=>F,hq:()=>fe,i6:()=>et,ip:()=>pe,k9:()=>m,kI:()=>P,l4:()=>Ue,l5:()=>S,lA:()=>b,lU:()=>Qe,mD:()=>Fe,mY:()=>x,mq:()=>d,n$:()=>at,n7:()=>p,nZ:()=>ye,rA:()=>xe,s$:()=>ke,s8:()=>_e,se:()=>Te,tA:()=>Le,vK:()=>tt,vs:()=>Ie,w2:()=>Ze,w4:()=>me,wT:()=>c,wY:()=>O,wf:()=>Ee,wk:()=>ae,xW:()=>_,yM:()=>Be,yO:()=>qe});const a="driver",s="carriercompany",r="shareholder",l="baseProduct",o="TRAILER",n="TRAILERCOMPARTMENT",d="terminal",c="customer",u="destination",p="finishedproduct",h="tank",E="marine_vessel",m="marine_trailercompartment",I="supplier",T="vehicle",D="vehicletrailer",C="originterminal",A="bay",P="loadingArm",S="cardreader",N="vehicleprimemover",L="meter",R="SHIPMENT",v="SHIPMENTCOMPARTMENT",g="SHIPMENTDESTINATIONCOMPARTMENT",H="SHIPMENTDETAILS",O="SHIPMENTTRAILERWEIGHBRIDGE",M="SHIPMENTTRAILER",y="SHIPMENTSTATUSTIME",f="MARINEDISPATCH",b="MARINEDISPATCHCOMPARTMENTDETAIL",w="railwagon",U="primemover",x="bcu",j="RAILRECEIPTPLAN",k="RAILRECEIPTWAGONDETAILPLAN",V="RAILUNLOADINGDETAILSFP",F="RAILUNLOADINGDETAILSBP",_="RAILUNLOADINGDETAILSADDITIVE",G="RAILDISPATCHPLAN",W="RAILDISPATCHITEM",B="RAILDISPATCHSTATUSCHANGE",q="RAILDISPATCHWAGON",Y="RAILDISPATCHWAGONDETAILPLAN",K="RAILDISPATCHWAGONWEIGHBRIDGE",J="RAILDISPATCHWAGONCOMPARTMENT",Z="RAILLOADINGDETAILSFP",Q="RAILLOADINGDETAILSBP",$="RAILLOADINGDETAILSADDITIVE",X="marineReceipt",z="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",ie="marineLoadingDetailsAdditive",ae="marineLoadingDetailsBP",se="marineReceiptCompartmentDetail",re="marineUnloadingDetailsFP",le="marineUnloadingDetailsBP",oe="accessCard",ne="LOADINGDETAILSFP",de="LOADINGDETAILSBP",ce="LOADINGDETAILSADDITIVE",ue="MARINERECEIPTSTATUSTIME",pe="MARINEDISPATCHSTATUSTIME",he="RECEIPT",Ee="UNLOADINGTRANSACTIONS",me="ORDER",Ie="ORDERITEM",Te="CONTRACT",De="CONTRACT_ITEM",Ce="RECEIPTORIGINTERMINALCOMPARTMENT",Ae="GeneralTMUser_CAPTAIN",Pe="weighbridge",Se="deu",Ne="GeneralTMUser_STAFF",Le="GeneralTMUser_VISITOR",Re="PIPELINEHEADER",ve="SEALMASTER",ge="PIPELINERECEIPT",He="ROADSHIPMENTSLOTINFO",Oe="ROADRECEIPTSLOTINFO",Me="MARINESHIPMENTSLOTINFO",ye="MARINERECEIPTSLOTINFO",fe="PIPELINEDISPATCH",be="PIPELINETRANSACTIONS",we="PIPELINEDISPATCHSTATUSTIME",Ue="PIPELINERECEIPTSTATUSTIME",xe="PROCESSCONFIG",je="PRODUCTALLOCATIONITEM",ke="HSEINSPECTIONSHIPMENTRIGIDTRUCK",Ve="HSEINSPECTIONSHIPMENTTRAILER",Fe="HSEINSPECTIONSHIPMENTPRIMEMOVER",_e="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Ge="HSEINSPECTIONMARINESHIPMENTBARGE",We="HSEINSPECTIONMARINESHIPMENTSHIP",Be="HSEINSPECTIONSHIPMENTRAILWAGON",qe="HSEINSPECTIONSHIPMENTPIPELINE",Ye="HSEINSPECTIONRECEIPTRIGIDTRUCK",Ke="HSEINSPECTIONRECEIPTTRAILER",Je="HSEINSPECTIONRECEIPTPRIMEMOVER",Ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Qe="HSEINSPECTIONMARINERECEIPTBARGE",$e="HSEINSPECTIONMARINERECEIPTSHIP",Xe="HSEINSPECTIONRECEIPTRAILWAGON",ze="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",it="COAMANAGEMENT",at="COACUSTOMER",st="COAASSIGNMENT"},35861:(e,t,i)=>{i.d(t,{F1:()=>o,i7:()=>n,r4:()=>l});var a=i(86178),s=i.n(a),r=(i(15660),i(65043),i(70579));function l(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function o(){let e=window.navigator.userLanguage||window.navigator.language;return s().locale(e),s().localeData().longDateFormat("L")}function n(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=6452.576d4e6e.chunk.js.map