(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[7909,5841,8222],{66554:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(65043),i=s(72711),o=s(67907),n=s(65187),l=s(69062),d=s(70579);function r(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:r,selectedShareholder:c,onShareholderChange:h,onDelete:m,onAdd:u,popUpContent:p,shrVisible:y,handleBreadCrumbClick:C,addVisible:g,deleteVisible:v}=e;const[S,k]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!1);function E(){t.add&&(p.length>0?x(!1===b):u())}return(0,d.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,d.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,d.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,d.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,d.jsxs)(n.A,{children:[" ",(0,d.jsx)(o.TranslationConsumer,{children:e=>(0,d.jsxs)(i.Breadcrumb,{children:[s.parents.map((t=>(0,d.jsx)(i.Breadcrumb.Item,{onClick:()=>{void 0!==C&&null!==C&&C(t.itemCode,s.parents)},children:e(t.localizedKey)},t.itemCode))),(0,d.jsx)(i.Breadcrumb.Item,{children:e(s.localizedKey)},s.itemCode)]})})]})}),(0,d.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,d.jsx)(o.TranslationConsumer,{children:e=>(0,d.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===y?"":(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,d.jsx)("div",{className:"opSelect",children:(0,d.jsx)(i.Select,{placeholder:e("Common_Shareholder"),value:c,disabled:!t.shareholder,options:l.Zj(r),onChange:e=>h(e)})})]})})})}),(0,d.jsx)(o.TranslationConsumer,{children:e=>(0,d.jsxs)(i.Modal,{open:S,size:"small",children:[(0,d.jsx)(i.Modal.Content,{children:(0,d.jsx)("div",{children:(0,d.jsx)("b",{children:e("Confirm_Delete")})})}),(0,d.jsxs)(i.Modal.Footer,{children:[(0,d.jsx)(i.Button,{type:"secondary",content:e("Cancel"),onClick:()=>k(!1)}),(0,d.jsx)(i.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{k(!1),m()}})]})]})})]})}),(0,d.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,d.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[g?(0,d.jsx)(i.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,d.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:E,children:(0,d.jsx)(i.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:b,children:(0,d.jsx)("div",{onMouseLeave:()=>x(!1),children:(0,d.jsx)(o.TranslationConsumer,{children:e=>(0,d.jsx)(i.VerticalMenu,{children:(0,d.jsxs)(i.VerticalMenu,{children:[(0,d.jsx)(i.VerticalMenu.Header,{children:e("Common_Create")}),p.map((t=>(0,d.jsx)(i.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,x(!1),void u(e);var e},children:e(t.fieldValue)})))]})})})})}):"",v?(0,d.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&k(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,d.jsx)(i.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}r.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};s(38726);function c(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:a,selectedShareholder:i,onShareholderChange:o,onDelete:n,onAdd:l,popUpContent:c,shrVisible:h,handleBreadCrumbClick:m,addVisible:u,deleteVisible:p}=e;return(0,d.jsx)(r,{operationsVisibilty:t,breadcrumbItem:s,shareholders:a,selectedShareholder:i,onShareholderChange:o,onDelete:n,onAdd:l,popUpContent:c,shrVisible:h,handleBreadCrumbClick:m,addVisible:u,deleteVisible:p})}},62900:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var a=s(65043),i=s(67907),o=s(72711),n=s(72067),l=s(69062),d=s(97508),r=s(44192),c=s(40854),h=s.n(c),m=s(53536),u=s.n(m),p=s(86111),y=s.n(p),C=s(70579);class g extends a.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:l.Th(r.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const s=u().cloneDeep(this.state.validationErrors);void 0!==r.Qh[e]&&(s[e]=l.jr(r.Qh[e],t),this.setState({validationErrors:s,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var s=!0;return s&&(s=Object.values(t).every((function(e){return""===e}))),s},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,s=y().lib.WordArray.random(16),a=y().PBKDF2(t,s,{keySize:8,iterations:100}),i=y().lib.WordArray.random(16),o=y().AES.encrypt(e,a,{iv:i,padding:y().pad.Pkcs7,mode:y().mode.CBC}),d=s.toString()+i.toString()+o.toString();h()(n.KrY+"?encryptedPassword="+encodeURIComponent(d),l.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(r){this.setState({authenticationResponse:r,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=l.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,C.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,C.jsx)(i.TranslationConsumer,{children:e=>(0,C.jsxs)(o.Modal,{open:!0,size:"mini",children:[(0,C.jsxs)(o.Modal.Content,{children:[(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,C.jsx)("h4",{children:e("User_Authentication")})}),(0,C.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,C.jsx)(o.Icon,{root:"common",name:"close"})})]}),(0,C.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,C.jsx)("div",{className:"col col-lg-12",children:(0,C.jsx)("label",{children:(0,C.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,C.jsx)("div",{className:"col col-lg-12",children:(0,C.jsx)(o.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,C.jsxs)(o.Modal.Footer,{children:[(0,C.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,C.jsx)(o.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const v=(0,d.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(g)},46649:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(65043),i=s(46100),o=s(97508),n=s(65187),l=s(40252),d=s(72711),r=s(78374),c=s(67907),h=s(35861),m=s(70579);function u(e){let{modWeekendHolidays:t,handleAdd:s,handleSave:a,handleReset:i,handleRemove:o,onFieldChange:n,holidaysList:l,saveEnabled:u,onDateChange:p,onSelectChange:y,selectItems:C,handleHolidaySave:g,pageSize:v,handleHolidayReset:S,holidaysSaveEnabled:k,addEnabled:b,removeEnabled:x}=e;const[E]=(0,c.useTranslation)();return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-6 col-md-12 col-lg-6",children:(0,m.jsxs)("div",{className:"weekend",children:[(0,m.jsxs)("div",{className:"detailsContainer",children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col col-md-8 col-lg-6 col col-xl-9",children:(0,m.jsx)("h3",{children:E("WeekendHolidayConfig_Weekend")})})}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Sunday,onChange:e=>n("Sunday",e),label:E("WeekendHolidayConfig_Sunday")})}),(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Monday,onChange:e=>n("Monday",e),label:E("WeekendHolidayConfig_Monday")})}),(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Tuesday,onChange:e=>n("Tuesday",e),label:E("WeekendHolidayConfig_Tuesday")})}),(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Wednesday,onChange:e=>n("Wednesday",e),label:E("WeekendHolidayConfig_Wednesday")})}),(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Thursday,onChange:e=>n("Thursday",e),label:E("WeekendHolidayConfig_Thursday")})}),(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Friday,onChange:e=>n("Friday",e),label:E("WeekendHolidayConfig_Friday")})}),(0,m.jsx)("div",{className:"col-12 col-md-3 col-lg-5",style:{marginTop:20},children:(0,m.jsx)(d.Checkbox,{checked:t.Saturday,onChange:e=>n("Saturday",e),label:E("WeekendHolidayConfig_Saturday")})})]})]}),(0,m.jsx)("div",{className:"weekendButton",children:(0,m.jsxs)("div",{className:"col col-lg-12",style:{textAlign:"right"},children:[(0,m.jsx)(d.Button,{content:E("WeekendHolidayConfig_WeekendReset"),className:"cancelButton",onClick:i}),(0,m.jsx)(d.Button,{content:E("WeekendHolidayConfig_WeekendSave"),disabled:!u,onClick:a})]})})]})}),(0,m.jsx)("div",{className:"col-6 col-md-12 col-lg-6",children:(0,m.jsxs)("div",{className:"holidays",children:[(0,m.jsx)("div",{className:"detailsContainer",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col col-md-8 col-lg-6 col col-xl-12",children:(0,m.jsx)("h3",{children:E("WeekendHolidayConfig_Holiday")})}),(0,m.jsx)("div",{className:"col col-md-12 col-lg-12 col-xl-12",children:(0,m.jsxs)("div",{className:"compartmentIconContainer",children:[(0,m.jsxs)("div",{onClick:b?s:"",className:"compartmentIcon",style:{marginTop:"-4rem"},children:[(0,m.jsx)("div",{children:(0,m.jsx)(d.Icon,{root:"common",name:"badge-plus",size:"medium"})}),(0,m.jsx)("div",{className:"margin_l10",children:(0,m.jsx)("h5",{className:"font14",children:E("WeekendHolidayConfig_Add")})})]}),(0,m.jsxs)("div",{onClick:x?o:"",className:"compartmentIcon margin_l30",style:{marginTop:"-4rem"},children:[(0,m.jsx)("div",{children:(0,m.jsx)(d.Icon,{root:"common",name:"delete",size:"medium"})}),(0,m.jsx)("div",{className:"margin_l10",children:(0,m.jsx)("h5",{className:"font14",children:E("TerminalHolidays_Remove")})})]})]})}),(0,m.jsx)("div",{className:"col-12 detailsTable",children:(0,m.jsxs)(r.bQ,{data:l,selectionMode:"multiple",selection:C,onSelectionChange:y,rows:v,children:[(0,m.jsx)(r.bQ.Column,{className:"compColHeight weekendDatePicker",header:E("Holiday"),field:"holiday",renderer:e=>(e=>(0,m.jsx)(d.DatePicker,{fluid:!0,displayFormat:(0,h.F1)(),value:""!==e.rowData.holiday?e.rowData.holiday:"",disabled:void 0===e.rowData.new,disablePast:!0,reserveSpace:!1,onChange:t=>{p(e,t)}}))(e)},"holiday"),(0,m.jsx)(r.bQ.Pagination,{})]})})]})}),(0,m.jsx)("div",{className:"weekendButton",children:(0,m.jsxs)("div",{className:"col col-lg-12",style:{textAlign:"right"},children:[(0,m.jsx)(d.Button,{content:E("WeekendHolidayConfig_HolidayReset"),className:"cancelButton",onClick:S}),(0,m.jsx)(d.Button,{content:E("WeekendHolidayConfig_HolidaySave"),disabled:!k,onClick:g})]})})]})})]})})}u.defaultProps={pageSize:8,tableData:[],selectedItems:[]};var p=s(66554),y=s(72067),C=s(40854),g=s.n(C),v=s(69062),S=s(11981),k=s(53536),b=s.n(k),x=s(14159),E=(s(92342),s(93779)),R=s(80312),D=s(62900);class f extends a.Component{constructor(){super(...arguments),this.state={modWeekendHolidays:b().cloneDeep(i.YU),WeekendHolidays:b().cloneDeep(i.YU),weekendHolidaysLoaded:!1,holidaysListLoaded:!1,isReadyToRender:!1,saveEnabled:!1,addEnabled:!1,removeEnabled:!1,holidaysList:[],tempHolidaysList:[],addHolidaysList:[],removeHolidaysList:[],selectItems:[],newHoliday:1,holidaysSaveEnabled:!1,operationsVisibilty:{},showWeekendAuthenticationLayout:!1,showHolidayAuthenticationLayout:!1},this.onSelectChange=e=>{try{var{removeEnabled:t,holidaysSaveEnabled:s,addEnabled:a}={...this.state};t=e.length>0&&v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,R.w1),s=a||t,this.setState({selectItems:e,removeEnabled:t,holidaysSaveEnabled:s})}catch(i){console.log("WeekendAndHolidayComposite:Error occurred on onSelectChange",i)}},this.handleAdd=()=>{try{var e=b().cloneDeep(this.state.holidaysList),t=b().cloneDeep(this.state.newHoliday),s=1;e.forEach((e=>{var t=e.row;if(null!==t&&""!==t&&void 0!==t&&!isNaN(parseInt(t))){let e=parseInt(t);e>=s&&(s=e+1)}})),e.unshift({holiday:"",new:t,row:s}),this.setState({holidaysList:e,newHoliday:t+1})}catch(a){console.log("WeekendAndHolidayComposite:Error occurred on onSelectChange",a)}},this.savedEvent=e=>{try{(0,x.toast)((0,m.jsx)(n.A,{children:(0,m.jsx)(S.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4})}catch(t){console.log("WeekendAndHolidayComposite: Error occured on savedEvent",t)}},this.handleReset=()=>{try{var e=b().cloneDeep(this.state.WeekendHolidays);this.setState({modWeekendHolidays:e})}catch(t){console.log("WeekendAndHolidayComposite:Error occured on handleCancel")}},this.handleHolidayReset=()=>{try{var e=b().cloneDeep(this.state.tempHolidaysList);this.setState({holidaysList:e,selectItems:[]})}catch(t){console.log("WeekendAndHolidayComposite:Error occured on handleCancel")}},this.saveWeekendConfig=()=>{try{this.handleAuthenticationClose(),this.setState({saveEnabled:!1});var e=b().cloneDeep(this.state.modWeekendHolidays),t=this.props.userDetails.EntityResult.PrimaryShareholder,s={messageType:"critical",message:"WeekendHolidayConfig_status",messageResultDetails:[]},a={ShareholderCode:t,Entity:e,KeyCodes:[]};g()(y.FO_,v.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;s.messageType=t.IsSuccess?"success":"critical",t.IsSuccess?(s.message="TerminalHolidays_WeekendUpdated",this.GetWeekEnds()):(s.message=t.ErrorList[0],this.setState({saveEnabled:!0})),this.savedEvent(s)}))}catch(i){this.savedEvent(s),this.setState({saveEnabled:!0}),console.log("weekendHoliday Composite : Error in saveWeekendHoliday")}},this.handleSaveWeekendConfig=()=>{try{this.setState({saveEnabled:!1}),this.saveWeekendConfig()}catch(e){console.log("weekend holiday Composite : Error in handleSaveWeekendConfig")}},this.handleSave=()=>{try{this.handleAuthenticationClose();let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showWeekendAuthenticationLayout:e},(()=>{!1===e&&this.handleSaveWeekendConfig()}))}catch(e){this.setState({saveEnabled:!0}),console.log("WeekendAndHolidayComposite:Error occurred on handleSave")}},this.saveHolidays=()=>{try{this.handleAuthenticationClose();var e=b().cloneDeep(this.state.holidaysList),t=b().cloneDeep(this.state.removeHolidaysList),s=b().cloneDeep(this.state.addHolidaysList),a=this.props.userDetails.EntityResult.PrimaryShareholder,i={messageType:"critical",message:"WeekendHolidayConfig_status",messageResultDetails:[]},o=!1;if(e.forEach((e=>{void 0!==e.new&&(""===e.holiday?(i.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:"WeekendHolidayAddExistEmpty"}),o=!0):s.push(new Date(e.holiday).getFullYear()+"/"+(new Date(e.holiday).getMonth()+1)+"/"+new Date(e.holiday).getDate()))})),o)return void this.savedEvent(i);if(0===t.length&&0===s.length)return i.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:"WeekendHolidayNoOperation"}),void this.savedEvent(i);this.setState({holidaysSaveEnabled:!1});var n=!1,l=[];s.forEach((e=>{var t=[{Key:E.Bl,value:e}],s={ShareholderCode:a,KeyCodes:t},o=this,d=new Promise((function(t,a){g()(y.c5i,v.tW(s,o.props.userDetails.tokenInfo)).then((s=>{var a=s.data;n=n||a.IsSuccess,t(),a.IsSuccess?i.messageResultDetails.push({keyFields:["TerminalHolidays_HolidayAddSuccess"],keyValues:[e],isSuccess:a.IsSuccess,errorMessage:""}):i.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:a.IsSuccess,errorMessage:a.ErrorList[0]})}))}));l.push(d)})),t.forEach((e=>{var t=[{Key:E.Bl,value:new Date(e).getFullYear()+"/"+(new Date(e).getMonth()+1)+"/"+new Date(e).getDate()}],s={ShareholderCode:a,KeyCodes:t},o=this,d=new Promise((function(t,a){g()(y.Uku,v.tW(s,o.props.userDetails.tokenInfo)).then((s=>{var a=s.data;n=n||a.IsSuccess,t(),a.IsSuccess?i.messageResultDetails.push({keyFields:["TerminalHolidays_HolidayCancelSuccess"],keyValues:[new Date(e).getFullYear()+"/"+(new Date(e).getMonth()+1)+"/"+new Date(e).getDate()],isSuccess:a.IsSuccess,errorMessage:""}):i.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:a.IsSuccess,errorMessage:a.ErrorList[0]})}))}));l.push(d)})),Promise.all(l).then((()=>{i.messageType=n?"success":"critical",this.savedEvent(i),this.setState({removeHolidaysList:[],addHolidaysList:[]}),this.GetHolidays()}))}catch(d){this.setState({holidaysSaveEnabled:!0}),console.log("WeekendAndHolidayComposite:Error occurred on handleHolidaySave")}},this.handleHolidaySaveConfig=()=>{try{this.setState({holidaysSaveEnabled:!1}),this.saveHolidays()}catch(e){console.log("weekend holiday Composite : Error in handleHolidaySaveConfig")}},this.handleHolidaySave=()=>{try{this.handleAuthenticationClose();let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showHolidayAuthenticationLayout:e},(()=>{!1===e&&this.handleHolidaySaveConfig()}))}catch(e){console.log("WeekendAndHolidayComposite:Error occurred on handleHolidaySave")}},this.handleRemove=()=>{try{var e=b().cloneDeep(this.state.selectItems),t=b().cloneDeep(this.state.holidaysList),s=b().cloneDeep(this.state.removeHolidaysList);e.forEach((e=>{t=t.filter((t=>t.row!==e.row)),void 0===e.new&&s.push(e.holiday)})),this.setState({holidaysList:t,removeHolidaysList:s,selectItems:[]})}catch{console.log("WeekendAndHolidayComposite:Error occurred on handleRemove")}},this.onDateChange=(e,t)=>{try{var s=b().cloneDeep(this.state.holidaysList);s[e.rowIndex].holiday=t,this.setState({holidaysList:s})}catch(a){console.log("WeekendAndHolidayComposite:Error occurred on onDateChange",a)}},this.handleChange=(e,t)=>{try{const s=b().cloneDeep(this.state.modWeekendHolidays);s[e]=t,this.setState({modWeekendHolidays:s})}catch(s){console.log("WeekendAndHolidayComposite:Error occurred on handleChange",s)}},this.handleAuthenticationClose=()=>{this.setState({showHolidayAuthenticationLayout:!1,showWeekendAuthenticationLayout:!1})},this.handleOperation=()=>this.state.showWeekendAuthenticationLayout?this.handleSaveWeekendConfig:this.state.showHolidayAuthenticationLayout?this.handleHolidaySaveConfig:void 0,this.onShareholderChange=()=>{}}componentDidMount(){try{v.pJ(this.props.userDetails.EntityResult.IsArchived);var{saveEnabled:e,addEnabled:t,removeEnabled:s,holidaysSaveEnabled:a}={...this.state};if(!v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.view,R.w1)){return void this.savedEvent({messageType:"critical",message:"BSI_WeekendHolidayConfigSecurityError",messageResultDetails:[]})}e=v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.modify,R.w1),t=v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,R.w1),a=(s=v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,R.w1))||t,this.setState({saveEnabled:e,addEnabled:t,removeEnabled:s,holidaysSaveEnabled:a}),this.GetWeekEnds(),this.GetHolidays()}catch(i){console.log("WeekendAndHolidayComposite:Error occurred on componentDidMount",i)}}GetWeekEnds(){try{var e=this.props.userDetails.EntityResult.PrimaryShareholder,t={ShareholderCode:e,KeyCodes:[]};g()(y.d23,v.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;t.IsSuccess?this.setState({modWeekendHolidays:t.EntityResult,weekendHolidays:t.EntityResult,weekendHolidaysLoaded:!0,saveEnabled:v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.modify,R.w1)}):(this.setState({modWeekendHolidays:[],weekendHolidays:[],weekendHolidaysLoaded:!0,saveEnabled:!1}),console.log("Error in GetWeekEnds:",t.ErrorList)),this.checkReadyToRender()}))}catch(s){this.setState({modWeekendHolidays:[],weekendHolidays:[],weekendHolidaysLoaded:!0,saveEnabled:!0}),console.log("WeekendAndHolidayComposite:Error occurred on GetWeekEnds",s),this.checkReadyToRender()}}GetHolidays(){try{var e=this.props.userDetails.EntityResult.PrimaryShareholder,t={ShareholderCode:e,KeyCodes:[]};g()(y.Awd,v.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(t.IsSuccess){var s=[],a=0;t.EntityResult.forEach((e=>{s.push({holiday:new Date(e),row:a}),a++})),this.setState({holidaysListLoaded:!0,holidaysSaveEnabled:v.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.modify,R.w1),holidaysList:s,tempHolidaysList:s})}else this.setState({holidaysListLoaded:!0,holidaysSaveEnabled:!1,holidaysList:[],tempHolidaysList:[]});this.checkReadyToRender()}))}catch(s){this.setState({holidaysListLoaded:!1,holidaysSaveEnabled:!0,holidaysList:[],tempHolidaysList:[]}),console.log("WeekendAndHolidayComposite:Error occurred on GetHolidays",s),this.checkReadyToRender()}}checkReadyToRender(){try{this.state.holidaysListLoaded&&this.state.weekendHolidaysLoaded&&this.setState({isReadyToRender:!0})}catch(e){console.log("WeekendAndHolidayComposite:Error occurred on checkReadyToRender",e)}}render(){return(0,m.jsxs)("div",{children:[(0,m.jsx)(n.A,{children:(0,m.jsx)(p.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,shareholders:this.props.userDetails.EntityResult.ShareholderList,selectedShareholder:this.state.selectedShareholder,onShareholderChange:this.onShareholderChange,addVisible:!1,deleteVisible:!1,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),this.state.isReadyToRender?(0,m.jsx)(n.A,{children:(0,m.jsx)(u,{modWeekendHolidays:this.state.modWeekendHolidays,holidaysList:this.state.holidaysList,handleAdd:this.handleAdd,handleSave:this.handleSave,handleReset:this.handleReset,handleHolidayReset:this.handleHolidayReset,handleRemove:this.handleRemove,onFieldChange:this.handleChange,onDateChange:this.onDateChange,onSelectChange:this.onSelectChange,saveEnabled:this.state.saveEnabled,selectItems:this.state.selectItems,handleHolidaySave:this.handleHolidaySave,holidaysSaveEnabled:this.state.holidaysSaveEnabled,addEnabled:this.state.addEnabled,removeEnabled:this.state.removeEnabled})}):(0,m.jsx)(l.A,{message:"Loading"}),(0,m.jsx)(n.A,{children:(0,m.jsx)(x.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})}),this.state.showHolidayAuthenticationLayout||this.state.showWeekendAuthenticationLayout?(0,m.jsx)(D.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:R.i.modify,functionGroup:R.w1,handleOperation:this.handleOperation(),handleClose:this.handleAuthenticationClose}):null]})}}const j=(0,o.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(f)},80312:(e,t,s)=>{"use strict";s.d(t,{$3:()=>z,$H:()=>ae,$J:()=>ue,$K:()=>ye,$V:()=>jt,$b:()=>kt,$p:()=>B,AE:()=>R,Al:()=>F,B2:()=>at,By:()=>Rt,CW:()=>yt,DA:()=>d,Ee:()=>Oe,FO:()=>H,Fy:()=>We,G9:()=>st,H8:()=>ee,Hq:()=>lt,Ig:()=>L,Iu:()=>g,JI:()=>rt,JJ:()=>te,JU:()=>q,Jz:()=>qe,KQ:()=>ne,Kk:()=>Ze,Kw:()=>et,LP:()=>At,LR:()=>c,Lg:()=>$,Mg:()=>ke,Mm:()=>W,N1:()=>J,Nm:()=>p,No:()=>re,Ow:()=>_,P2:()=>o,P8:()=>ve,PD:()=>Pe,PE:()=>h,PG:()=>Q,PP:()=>ut,Pb:()=>Ne,QB:()=>b,QC:()=>Z,RE:()=>ot,RO:()=>$e,Rc:()=>gt,Rl:()=>bt,Rx:()=>Ct,TI:()=>v,Tm:()=>pe,Ug:()=>X,Ur:()=>Ue,V9:()=>r,VK:()=>U,VL:()=>me,VQ:()=>le,WD:()=>Ie,Wf:()=>j,YO:()=>T,YY:()=>He,Yb:()=>Ce,Yg:()=>ze,Z9:()=>mt,ZE:()=>ct,ZU:()=>k,_N:()=>vt,_S:()=>wt,_d:()=>Ht,aS:()=>O,aZ:()=>ht,au:()=>Ee,b0:()=>ft,bL:()=>Fe,c2:()=>Ve,d4:()=>Le,dB:()=>C,dD:()=>Be,dK:()=>G,dY:()=>P,de:()=>m,dv:()=>we,eQ:()=>l,f3:()=>be,fF:()=>I,fL:()=>St,fN:()=>Et,fk:()=>w,fl:()=>ge,fr:()=>x,go:()=>i,h:()=>he,hD:()=>f,hE:()=>A,hh:()=>Xe,hk:()=>oe,hz:()=>pt,i:()=>a,j2:()=>nt,jN:()=>K,je:()=>y,jx:()=>V,kL:()=>Je,ke:()=>_e,km:()=>de,l0:()=>ie,l6:()=>Ge,lz:()=>N,m0:()=>S,nS:()=>De,nk:()=>dt,nn:()=>E,np:()=>Y,oh:()=>it,op:()=>Qe,pt:()=>Me,qk:()=>ce,qp:()=>Se,r6:()=>fe,rQ:()=>je,rj:()=>M,rp:()=>n,t3:()=>xt,tM:()=>Te,to:()=>Tt,ts:()=>tt,uH:()=>xe,uy:()=>Ye,w1:()=>Ae,x5:()=>se,xz:()=>D,y_:()=>Ke,yu:()=>u,yx:()=>Dt,z8:()=>Re,z_:()=>Pt});const a={view:"view",add:"add",modify:"modify",remove:"remove"},i="carriercompany",o="driver",n="customer",l="trailer",d="originterminal",r="destination",c="primemover",h="vehicle",m="shipmentbycompartment",u="shipmentbyproduct",p="ViewShipmentStatus",y="vessel",C="order",g="OrderForceClose",v="contract",S="receiptplanbycompartment",k="ViewMarineShipment",b="MarineShipmentByCompartment",x="ViewMarineReceipt",E="supplier",R="finishedproduct",D="RailDispatch",f="RailReceipt",j="RailRoute",w="RailWagon",A="CloseRailDispatch",H="PrintRailBOL",P="PrintRailFAN",T="RailDispatchLoadSpotAssignment",N="RailDispatchProductAssignment",L="ViewRailDispatch",W="ViewRailLoadingDetails",I="CloseRailReceipt",M="PrintRailBOD",V="PrintRailRAN",F="ViewRailReceipt",B="ViewRailUnLoadingDetails",O="SMS",_="UnAccountedTransactionTank",U="UnAccountedTransactionMeter",G="PipelineDispatch",z="PipelineReceipt",K="PipelineDispatchManualEntry",q="PipelineReceiptManualEntry",Q="LookUpData",Y="HSEInspection",$="HSEInspectionConfig",J="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",se="SiteView",ae="LeakageManualEntry",ie="Terminal",oe="SlotInformation",ne="TankGroup",le="Tank",de="SealMaster",re="TankEODEntry",ce="UnmatchedLocalTransactions",he="AccessCard",me="ResetPin",ue="SlotConfiguration",pe="PrintMarineFAN",ye="PrintMarineBOL",Ce="ViewMarineLoadingDetails",ge="ViewMarineShipmentAuditTrail",ve="CloseMarineShipment",Se="IssueCard",ke="ActivateCard",be="RevokeCard",xe="AutoIDAssociation",Ee="MarineReceiptByCompartment",Re="PrintMarineRAN",De="PrintMarineBOD",fe="ViewMarineUnloadingDetails",je="ViewMarineReceiptAuditTrail",we="CloseMarineReceipt",Ae="WeekendConfig",He="EODAdmin",Pe="PrintBOL",Te="PrintFAN",Ne="PrintBOD",Le="CloseShipment",We="CloseReceipt",Ie="CONTRACTFORCECLOSE",Me="Captain",Ve="OverrideShipmentSequence",Fe="KPIInformation",Be="Language",Oe="WebPortalUserMap",_e="BayGroup",Ue="PipelineHeaderSiteView",Ge="TankMonitor",ze="PersonAdmin",Ke="ProductReconciliationReports",qe="ReportConfiguration",Qe="EXECONFIGURATION",Ye="ShareholderAllocation",$e="NotificationGroup",Je="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",st="ShareholderAgreement",at="TANKSHAREHOLDERPRIMEFUNCTION",it="ROLEADMIN",ot="ShiftConfig",nt="PrinterConfiguration",lt="CustomerAgreement",dt="BaySCADAConfiguration",rt="RailReceiptUnloadSpotAssignment",ct="STAFF_VISITOR",ht="PipelineMeterSiteView",mt="RailSiteView",ut="MarineSiteView",pt="LoadingDetails",yt="UnloadingDetails",Ct="RoadHSEInspection",gt="RoadHSEInspectionConfig",vt="MarineHSEInspection",St="MarineHSEInspectionConfig",kt="RailHSEInspection",bt="RailHSEInspectionConfig",xt="PipelineHSEInspection",Et="PipelineHSEInspectionConfig",Rt="PrintRAN",Dt="ViewReceiptStatus",ft="customerrecipe",jt="COAParameter",wt="COATemplate",At="COAManagement",Ht="COACustomer",Pt="COAAssignment",Tt="ProductForecastConfiguration"},93779:(e,t,s)=>{"use strict";s.d(t,{$A:()=>P,$L:()=>dt,$Q:()=>Be,Ae:()=>Ae,BX:()=>oe,Bl:()=>pe,Bv:()=>ge,Bw:()=>Z,Cb:()=>A,Cg:()=>j,DN:()=>ot,D_:()=>nt,Dm:()=>T,E7:()=>Y,EW:()=>L,FN:()=>ie,FR:()=>o,FY:()=>pt,GA:()=>Oe,GT:()=>k,Ge:()=>Ne,HB:()=>ne,JQ:()=>Q,KJ:()=>ee,Kz:()=>G,Ln:()=>U,M$:()=>Ue,O5:()=>tt,Of:()=>be,Oo:()=>st,Pk:()=>Ce,Pm:()=>J,Q5:()=>rt,QK:()=>Ge,QV:()=>Ze,QZ:()=>ct,Qu:()=>se,RX:()=>je,Rb:()=>O,Rp:()=>E,SP:()=>y,T5:()=>Ie,UB:()=>v,UT:()=>d,Ui:()=>K,VA:()=>B,Vk:()=>Ee,Wb:()=>Re,Wv:()=>xe,X3:()=>Qe,Y4:()=>_,Yl:()=>at,Zx:()=>$,_B:()=>ve,_C:()=>w,_R:()=>ye,_j:()=>ce,_n:()=>a,aM:()=>I,aW:()=>Fe,bW:()=>F,c4:()=>it,cD:()=>l,c_:()=>D,cx:()=>V,dL:()=>ht,eE:()=>de,eS:()=>Ke,eT:()=>x,f:()=>N,f7:()=>ue,fR:()=>he,g1:()=>re,gN:()=>Ye,gO:()=>z,iH:()=>lt,ij:()=>et,j1:()=>f,jC:()=>Se,je:()=>me,jz:()=>le,ll:()=>Xe,mM:()=>S,mO:()=>ut,mW:()=>We,ml:()=>C,mm:()=>Je,nB:()=>te,nT:()=>Le,np:()=>Te,oA:()=>R,oG:()=>qe,oV:()=>X,ok:()=>h,oy:()=>r,pL:()=>He,pe:()=>_e,pw:()=>ze,qF:()=>n,qQ:()=>mt,qp:()=>m,s0:()=>b,sA:()=>we,st:()=>ae,tY:()=>W,uw:()=>q,v6:()=>i,vL:()=>Me,vf:()=>Pe,wH:()=>$e,wO:()=>ke,wX:()=>M,x4:()=>De,xf:()=>u,xy:()=>c,yI:()=>g,yV:()=>H,yz:()=>p,zL:()=>fe,zf:()=>Ve});const a="CarrierCode",i="TransportationType",o="ShareHolderCode",n="DriverCode",l="CustomerCode",d="TrailerCode",r="OriginTerminalCode",c="PrimeMoverCode",h="VehicleCode",m="DestinationCode",u="FinishedProductCode",p="ShipmentCode",y="OrderCode",C="ReceiptCode",g="MarineDispatchCode",v="MarineReceiptCode",S="SupplierCode",k="ContractCode",b="RailDispatchCode",x="RailReceiptCode",E="RailRouteCode",R="WagonCode",D="CompartmentCode",f="SMSConfigurationCode",j="PipelineDispatchCode",w="PipelineReceiptCode",A="EmailConfigurationCode",H="BaseProductCode",P="LocationCode",T="SiteViewType",N="EntityCode",L="EntityType",W="CardReaderCode",I="AccessCardCode",M="BcuCode",V="DeuCode",F="WeighBridgeCode",B="Weight",O="OutOfToleranceAllowed",_="LoadingArmCode",U="TransportationType",G="BayCode",z="TransactionNumber",K="BatchNumber",q="TerminalCode",Q="TankGroupCode",Y="TankCode",$="MeterCode",J="ShipmentType",Z="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",se="FPTransactionID",ae="ProductCategoryType",ie="Reason",oe="SealMasterCode",ne="Reason",le="OperationName",de="FPTransactionID",re="ProductCategoryType",ce="CompartmentSeqNoInVehicle",he="AdjustedPlanQuantity",me="ForceComplete",ue="DispatchStatus",pe="HolidayDate",ye="ActionID",Ce="EODTimePrev",ge="TerminalAction",ve="EODTime",Se="MonthStartDay",ke="CaptainCode",be="GeneralTMUserType",xe="GeneralTMUserCode",Ee="IsPriority",Re="ActualTerminalCode",De="ShipmentBondNo",fe="ReceiptBondNo",je="DeviceType",we="DeviceCode",Ae="BayGroup",He="PipelineHeaderCode",Pe="ExchangePartner",Te="PersonID",Ne="UserName",Le="PipelinePlanCode",We="PipelinePlanType",Ie="ChannelCode",Me="ProcessName",Ve="ReconciliationCode",Fe="NotificationGroupCode",Be="NotificationGroupStatus",Oe="NotificationGroupDesc",_e="NotificationResSource",Ue="NotificationResMsgCode",Ge="NotificationOrigResSource",ze="NotificationOrigResMsgCode",Ke="NotificationMessageCode",qe="PositionType",Qe="ExchangeAgreementCode",Ye="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Je="RequestorShareholder",Ze="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",st="ShiftName",at="PrinterName",it="LocationType",ot="ForceClosureReason",nt="TransactionType",lt="CustomerRecipeCode",dt="COATemplateCode",rt="COAManagementCode",ct="COAParameterCode",ht="COAManagementFinishedProductCode",mt="COASeqNumber",ut="ForecastDate",pt="ForecastTanks"},35861:(e,t,s)=>{"use strict";s.d(t,{F1:()=>l,i7:()=>d,r4:()=>n});var a=s(86178),i=s.n(a),o=(s(15660),s(65043),s(70579));function n(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function l(){let e=window.navigator.userLanguage||window.navigator.language;return i().locale(e),i().localeData().longDateFormat("L")}function d(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}},50477:()=>{}}]);
//# sourceMappingURL=7909.5aeed1fc.chunk.js.map