"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[9647,9158,6001,6777,8382,735,3116,3920,3235,5973,8354],{40510:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(65043),s=a(80297),r=a(65187),o=a(67907),n=a(70579);function l(e){let{KPIList:t,pageName:a,rowHeight:l,widgetHeight:d,isDraggable:c,isResizable:h,kpiDisplayTopBreakpoint:u}=e;const[p,C]=(0,i.useState)(1),m=i.useRef(null),f=()=>{let e=window.pageYOffset,t=p;if(m.current&&m.current.getBoundingClientRect().top<u)t=0;else{if(0!==e)return;t=1}C(t)};return(0,i.useEffect)((()=>{"undefined"!==typeof window&&window.addEventListener("scroll",f)})),(0,i.useEffect)((()=>()=>{window.removeEventListener("scroll",f)}),[]),(0,n.jsx)("div",{ref:m,children:1===p?(0,n.jsx)(o.TranslationConsumer,{children:e=>(0,n.jsx)("div",{style:{marginTop:"6px"},children:(0,n.jsx)(r.A,{children:(0,n.jsx)(s.A,{kpiList:t,isDraggable:c,isResizable:h,rowHeight:l,widgetHeight:d,pageName:a})})})}):""})}l.defaultProps={kpiDisplayTopBreakpoint:100}},49647:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var i=a(65043),s=a(69062),r=a(40854),o=a.n(r),n=a(72067),l=a(65187),d=a(43503),c=a(9256),h=a(40252),u=a(72711),p=a(67907),C=a(24904),m=a(85800),f=a(7523),E=a(70579);function g(e){let{captain:t,modCaptain:a,validationErrors:i,onFieldChange:r,listOptions:o,onActiveStatusChange:n,isEnterpriseNode:d,onAllTerminalsChange:c,modAttributeMetaDataList:h,attributeValidationErrors:g,onShareholderChange:S,onAttributeDataChange:T,userType:A,onImageChange:I,handleCheckIn:D,handleCheckOut:b,handleCheckInCheckOutHistory:y,staffAttributeValidationErrors:L,modStaffAttributeMetaDataList:v,onStaffAttributeDataChange:N,visitorAttributeValidationErrors:R,modVisitorAttributeMetaDataList:M,onVisitorAttributeDataChange:V}=e;const O=(e,t)=>{let a=[];return a=e.find((e=>e.TerminalCode===t)),a.attributeValidationErrors};return(0,E.jsx)(p.TranslationConsumer,{children:e=>(0,E.jsxs)("div",{className:"detailsContainer",children:[A===f.Xq.StaffVisitor?(0,E.jsx)("div",{className:"row",children:(0,E.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[(0,E.jsx)(u.InputLabel,{label:e("StaffOrVisitor_Image")}),void 0!==a&&void 0!==a.GeneralTMUserImage&&null!==a.GeneralTMUserImage&&a.GeneralTMUserImage.length>0?(0,E.jsx)("img",{height:"100",width:"100",alt:"",src:"data:image/jpg;base64,"+a.GeneralTMUserImage}):(0,E.jsx)("img",{alt:"",height:"100",width:"100"}),(0,E.jsx)("br",{}),(0,E.jsx)("input",{type:"file",accept:"image/*",name:"image",id:"file",onChange:I})]})}):"",(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:a.Code,indicator:"required",disabled:""!==t.Code,onChange:e=>r("Code",e),label:A===f.Xq.Captain?e("CaptainInfo_Code"):e("Staff_visitor_code"),error:e(i.Code),reserveSpace:!1})}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:a.Name,indicator:"required",onChange:e=>r("Name",e),label:A===f.Xq.Captain?e("CaptainInfo_CaptainName"):e("Staff_visitor_name"),error:e(i.Name),reserveSpace:!1})}),A===f.Xq.StaffVisitor?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Select,{fluid:!0,placeholder:e("Common_Select"),value:a.UserType,label:e("Staff_VisitorType"),indicator:"required",options:[{text:f.Hg.Staff,value:f.Hg.Staff},{text:f.Hg.Visitor,value:f.Hg.Visitor}],onChange:e=>{r("UserType",e)},error:e(i.UserType),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),disabled:""!==t.Code})}):"",A===f.Xq.Captain?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Select,{fluid:!0,placeholder:e("Common_Select"),value:a.ShareholderCodes,label:e("Shareholder_Captain"),indicator:"required",options:o.shareholders,onChange:e=>{r("ShareholderCodes",e)},error:e(i.ShareholderCodes),multiple:!0,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}):"",A===f.Xq.Captain?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Select,{fluid:!0,placeholder:"Select",value:a.LanguageCode,label:e("CaptainInfo_Language"),indicator:"required",options:o.languageOptions,onChange:e=>r("LanguageCode",e),error:e(i.LanguageCode),reserveSpace:!1,search:!0,onResultsMessage:e("noResultsMessage")})}):"",(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:null===a.Phone?"":a.Phone,onChange:e=>r("Phone",e),label:e("CaptainInfo_Phone"),error:e(i.Phone),reserveSpace:!1})}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:null===a.Mobile?"":a.Mobile,onChange:e=>r("Mobile",e),label:e("CaptainInfo_Mobile"),error:e(i.Mobile),reserveSpace:!1})}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:null===a.MailID?"":a.MailID,onChange:e=>r("MailID",e),label:e("CaptainInfo_EMail"),error:e(i.MailID),reserveSpace:!1})}),A===f.Xq.StaffVisitor?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:null===o.locationCode?"":o.locationCode,label:e("StaffVisitor_Location"),disabled:!0,reserveSpace:!1})}):"",A===f.Xq.StaffVisitor?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:null===o.swipetime?"":o.swipetime,label:e("StaffVisitor_SwipeTime"),disabled:!0,reserveSpace:!1})}):"",(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("CaptainInfo_Status"),value:a.Active,options:[{text:e("CaptainInfo_Active"),value:!0},{text:e("CaptainInfo_Inactive"),value:!1}],onChange:e=>n(e),error:e(i.Active),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Input,{fluid:!0,value:a.Remarks,onChange:e=>r("Remarks",e),label:e("CaptainInfo_Remarks"),error:e(i.Remarks),indicator:a.Active!==t.Active?"required":"",reserveSpace:!1})}),d&&A===f.Xq.Captain?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(C.y,{terminalList:o.terminalCodes,selectedTerminal:a.TerminalCodes,error:e(i.TerminalCodes),onFieldChange:r,onCheckChange:c})}):"",d&&A===f.Xq.StaffVisitor?(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsx)(u.Select,{fluid:!0,placeholder:e("Common_Select"),value:a.TerminalCodes,label:e("TerminalCodes"),options:s.Zj(o.terminalCodes),multiple:!0,disabled:!0,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}):""]}),h.length>0?h.map((t=>(0,E.jsx)(l.A,{children:(0,E.jsx)(u.Accordion,{children:(0,E.jsx)(u.Accordion.Content,{className:"attributeAccordian",title:d?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,E.jsx)(m.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:T,attributeValidationErrors:O(g,t.TerminalCode)})})})}))):null,v.length>0?v.map((t=>(0,E.jsx)(l.A,{children:(0,E.jsx)(u.Accordion,{children:(0,E.jsx)(u.Accordion.Content,{className:"attributeAccordian",title:d?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,E.jsx)(m.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:N,attributeValidationErrors:O(L,t.TerminalCode)})})})}))):null,M.length>0?M.map((t=>(0,E.jsx)(l.A,{children:(0,E.jsx)(u.Accordion,{children:(0,E.jsx)(u.Accordion.Content,{className:"attributeAccordian",title:d?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,E.jsx)(m.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:V,attributeValidationErrors:O(R,t.TerminalCode)})})})}))):null,A===f.Xq.StaffVisitor?(0,E.jsx)("div",{className:"row",children:(0,E.jsxs)("div",{className:"col col-md-8 col-lg-9 col col-xl-12",style:{textAlign:"right"},children:[(0,E.jsx)("br",{}),(0,E.jsx)(u.Button,{type:"primary",onClick:D,disabled:""===t.Code||d&&Array.isArray(a.TerminalCodes)&&a.TerminalCodes.length>0,content:e("StaffVisitor_checkIn")}),(0,E.jsx)(u.Button,{type:"primary",onClick:b,disabled:""===t.Code||d&&Array.isArray(a.TerminalCodes)&&a.TerminalCodes.length>0,content:e("StaffVisitor_checkOut")}),(0,E.jsx)(u.Button,{type:"primary",onClick:y,disabled:""===t.Code||d&&Array.isArray(a.TerminalCodes)&&a.TerminalCodes.length>0,content:e("Staff_Visitor_Audit_Trail")})]})}):""]})})}g.defaultProps={listOptions:{languageOptions:[],shareholders:[],terminalCodes:[]},isEnterpriseNode:!1};var S=a(46100),T=a(44192),A=(a(38726),a(97508)),I=a(93779),D=a(53536),b=a.n(D),y=a(80312),L=a(15417),v=a(78374),N=a(14159),R=a(11981),M=a(40510),V=a(39424),O=a(62900);class k extends i.Component{constructor(){super(...arguments),this.state={captain:b().cloneDeep(S.Kz),modCaptain:{},validationErrors:s.Th(T.B1),isReadyToRender:!1,saveEnabled:!1,attributeValidationErrors:[],modAttributeMetaDataList:[],languageOptions:[],attributeMetaDataList:[],isCheckInCheckOutHistoryShow:!1,checkInCheckOutHistory:[],staffAttributeMetaDataList:[],staffAttributeValidationErrors:[],visitorAttributeMetaDataList:[],visitorAttributeValidationErrors:[],locationCode:"",swipetime:"",modStaffAttributeMetaDataList:[],modVisitorAttributeMetaDataList:[],captainKPIList:[],showAuthenticationLayout:!1,tempCaptain:{}},this.saveCaptain=()=>{try{this.setState({saveEnabled:!1});let e=b().cloneDeep(this.state.tempCaptain);""===this.state.captain.Code?this.createTMUser(e):this.updateCaptain(e)}catch(e){console.log("PrimeMoversComposite : Error in savePrimeMover")}},this.handleSave=()=>{try{let e=b().cloneDeep(this.state.modCaptain),t=s.pI(this.state.modAttributeMetaDataList),a=s.pI(this.state.modStaffAttributeMetaDataList),i=s.pI(this.state.modVisitorAttributeMetaDataList);if(this.validateSave(e,t,a,i)){e=this.fillAttributeData(e,t,a,i);let s=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,r=b().cloneDeep(e);this.setState({showAuthenticationLayout:s,tempCaptain:r},(()=>{!1===s&&this.saveCaptain()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("CaptainDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{const{validationErrors:e}={...this.state},t=b().cloneDeep(this.state.captain);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modCaptain:{...t},selectedCompRow:[],validationErrors:e,modAttributeMetaDataList:[],modStaffAttributeMetaDataList:[],modVisitorAttributeMetaDataList:[]},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?(this.props.userType===f.Xq.Captain?this.terminalSelectionChange(t.TerminalCodes):t.UserType===f.Hg.Staff?this.terminalSelectionChangeOnStaffAttribute(t.TerminalCodes):t.UserType===f.Hg.Visitor&&this.terminalSelectionChangeOnVisitorAttribute(t.TerminalCodes),this.handleResetAttributeValidationError()):(this.props.userType===f.Xq.Captain?this.localNodeAttribute():t.UserType===f.Hg.Staff?this.localNodeStaffAttribute():t.UserType===f.Hg.Visitor&&this.localNodeVisitorAttribute(),this.handleResetAttributeValidationError())}))}catch(e){console.log("CaptainDetailsComposite:Error occured on handleReset",e)}},this.handleChange=(e,t)=>{try{const a=b().cloneDeep(this.state.modCaptain);a[e]=t,this.setState({modCaptain:a});const i=b().cloneDeep(this.state.validationErrors);void 0!==T.B1[e]&&(i[e]=s.jr(T.B1[e],t),this.setState({validationErrors:i})),"TerminalCodes"===e?this.props.userType===f.Xq.Captain?this.terminalSelectionChange(t):a.UserType===f.Hg.Staff?this.terminalSelectionChangeOnStaffAttribute(t):a.UserType===f.Hg.Visitor&&this.terminalSelectionChangeOnVisitorAttribute(t):"UserType"===e&&(this.props.userDetails.EntityResult.IsEnterpriseNode?t===f.Hg.Staff?this.terminalSelectionChangeOnStaffAttribute(a.TerminalCodes):t===f.Hg.Visitor&&this.terminalSelectionChangeOnVisitorAttribute(a.TerminalCodes):t===f.Hg.Staff?this.localNodeStaffAttribute():t===f.Hg.Visitor&&this.localNodeVisitorAttribute(),this.handleResetAttributeValidationError())}catch(a){console.log("CaptainDetailsComposite:Error occured on handleChange",a)}},this.handleAllTerminalsChange=e=>{try{var t=[...this.props.terminalCodes],a=b().cloneDeep(this.state.modCaptain);a.TerminalCodes=e?[...t]:[],this.setState({modCaptain:a}),this.props.userType===f.Xq.Captain?this.terminalSelectionChange(a.TerminalCodes):""!==a.UserType&&a.UserType===f.Hg.Staff?this.terminalSelectionChangeOnStaffAttribute(a.TerminalCodes):""!==a.UserType&&a.UserType===f.Hg.Visitor&&this.terminalSelectionChangeOnVisitorAttribute(a.TerminalCodes)}catch(i){console.log("CaptainDetailsComposite:Error occured on handleAllTerminasChange",i)}},this.handleActiveStatusChange=e=>{try{let t=b().cloneDeep(this.state.modCaptain);t.Active=e,t.Active!==this.state.captain.Active&&(t.Remarks=""),this.setState({modCaptain:t})}catch(t){console.log(t)}},this.handleAttributeDataChange=(e,t)=>{try{let a=[],i=b().cloneDeep(this.state.modAttributeMetaDataList),r=i.filter((t=>t.TerminalCode===e.TerminalCode));r.length>0&&Array.isArray(r[0].attributeMetaDataList)&&(a=r[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),a.length>0&&(a[0].DefaultValue=t);const o=b().cloneDeep(this.state.attributeValidationErrors);o.forEach((a=>{a.TerminalCode===e.TerminalCode&&(a.attributeValidationErrors[e.Code]=s.I5(e,t))})),this.setState({attributeValidationErrors:o,modAttributeMetaDataList:i})}catch(a){console.log("CaptainDetailsComposite:Error occured on handleAttributeDataChange",a)}},this.handleStaffAttributeDataChange=(e,t)=>{try{let a=[],i=b().cloneDeep(this.state.modStaffAttributeMetaDataList),r=i.filter((t=>t.TerminalCode===e.TerminalCode));r.length>0&&Array.isArray(r[0].attributeMetaDataList)&&(a=r[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),a.length>0&&(a[0].DefaultValue=t);const o=b().cloneDeep(this.state.staffAttributeValidationErrors);o.forEach((a=>{a.TerminalCode===e.TerminalCode&&(a.attributeValidationErrors[e.Code]=s.I5(e,t))})),this.setState({staffAttributeValidationErrors:o,modStaffAttributeMetaDataList:i})}catch(a){console.log("CaptainDetailsComposite:Error occured on handleStaffAttributeDataChange",a)}},this.handleVisitorAttributeDataChange=(e,t)=>{try{let a=[],i=b().cloneDeep(this.state.modVisitorAttributeMetaDataList),r=i.filter((t=>t.TerminalCode===e.TerminalCode));r.length>0&&Array.isArray(r[0].attributeMetaDataList)&&(a=r[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),a.length>0&&(a[0].DefaultValue=t);const o=b().cloneDeep(this.state.visitorAttributeValidationErrors);o.forEach((a=>{a.TerminalCode===e.TerminalCode&&(a.attributeValidationErrors[e.Code]=s.I5(e,t))})),this.setState({visitorAttributeValidationErrors:o,modVisitorAttributeMetaDataList:i})}catch(a){console.log("CaptainDetailsComposite:Error occured on handleVisitorAttributeDataChange",a)}},this.handleImageChange=e=>{try{var t=b().cloneDeep(this.state.modCaptain);if(e.target.files[0].type.includes("image")&&e.target.files[0].size<=512e3){let a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onloadend=()=>{t.GeneralTMUserImage=a.result.split(";base64,")[1],this.setState({modCaptain:t})}}else console.log("wrong type of image"),e.target.value=null,t.GeneralTMUserImage=null,this.setState({modCaptain:t})}catch(a){console.log("CaptainDetailsComposite:Error occured on handleImageChange",a)}},this.handleCheckIn=()=>{try{var e=b().cloneDeep(this.state.modCaptain);let t={messageType:"critical",message:"StaffVisitor_CheckedInStatus",messageResultDetails:[{keyFields:e.UserType===f.Hg.Staff?["StaffVisitorList_StaffCode"]:["StaffVisitorList_VisitorCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};o()(n.G4L+"?StaffVisitorCode="+e.Code+"&UserType="+e.UserType+"&IsCheckIn="+!0,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var a=e.data;if(t.messageType=a.IsSuccess?"success":"critical",t.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){if(void 0!==a.EntityResult.SwipeTime&&""!==a.EntityResult.SwipeTime)var i=new Date(a.EntityResult.SwipeTime).toLocaleDateString()+" "+new Date(a.EntityResult.SwipeTime).toLocaleTimeString();this.setState({locationCode:a.EntityResult.LocationCode,swipetime:i})}else t.messageResultDetails[0].errorMessage=a.ErrorList[0];(0,N.toast)((0,E.jsx)(l.A,{children:(0,E.jsx)(R.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4})}))}catch(t){console.log("CaptainDetailsComposite:Error occured on handleCheckIn",t)}},this.handleCheckOut=()=>{try{var e=b().cloneDeep(this.state.modCaptain);let t={messageType:"critical",message:"StaffVisitor_CheckedOutStatus",messageResultDetails:[{keyFields:e.UserType===f.Hg.Staff?["StaffVisitorList_StaffCode"]:["StaffVisitorList_VisitorCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};o()(n.G4L+"?StaffVisitorCode="+e.Code+"&UserType="+e.UserType+"&IsCheckIn="+!1,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var a=e.data;if(t.messageType=a.IsSuccess?"success":"critical",t.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){if(void 0!==a.EntityResult.SwipeTime&&""!==a.EntityResult.SwipeTime)var i=new Date(a.EntityResult.SwipeTime).toLocaleDateString()+" "+new Date(a.EntityResult.SwipeTime).toLocaleTimeString();this.setState({locationCode:a.EntityResult.LocationCode,swipetime:i})}else t.messageResultDetails[0].errorMessage=a.ErrorList[0];(0,N.toast)((0,E.jsx)(l.A,{children:(0,E.jsx)(R.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4})}))}catch(t){console.log("CaptainDetailsComposite:Error occured on handleCheckOut",t)}},this.handleCheckInCheckOutHistory=()=>{try{var e=b().cloneDeep(this.state.modCaptain);o()(n.FwE+"?staffVisitorCode="+e.Code+"&staffVisitorType="+e.UserType,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?(t.EntityResult.Table.forEach((e=>{void 0!==e.SwipeTime&&null!==e.SwipeTime&&(e.SwipeTime=new Date(e.SwipeTime).toLocaleDateString()+" "+new Date(e.SwipeTime).toLocaleTimeString())})),this.setState({checkInCheckOutHistory:t.EntityResult.Table,isCheckInCheckOutHistoryShow:!0})):(this.setState({checkInCheckOutHistory:[]}),console.log("Error in handleCheckInCheckOutHistory:",t.ErrorList))}))}catch(t){console.log("CaptainDetailsComposite:Error occured on handleCheckInCheckOutHistory",t)}},this.checkInCheckOutHistory=()=>(0,E.jsx)(p.TranslationConsumer,{children:e=>(0,E.jsxs)(u.Modal,{open:this.state.isCheckInCheckOutHistoryShow,className:"marineModalPrint",children:[(0,E.jsx)(u.Modal.Content,{children:(0,E.jsxs)("div",{className:"col col-lg-12",children:[(0,E.jsx)("h5",{children:this.state.modCaptain.Code}),(0,E.jsx)("div",{className:"col-12 detailsTable",children:(0,E.jsxs)(v.bQ,{data:this.state.checkInCheckOutHistory,children:[(0,E.jsx)(v.bQ.Column,{initialWidth:"20%",className:"compColHeight",field:"LocationCode",header:e("Location_Code")},"LocationCode"),(0,E.jsx)(v.bQ.Column,{initialWidth:"20%",className:"compColHeight",field:"PIN",header:e("DriverList_AccessCard")},"PIN"),(0,E.jsx)(v.bQ.Column,{initialWidth:"30%",className:"compColHeight",field:"SwipeTime",header:e("TemporaryCard_CardSwipeTime")},"SwipeTime"),(0,E.jsx)(v.bQ.Column,{initialWidth:"30%",className:"compColHeight",field:"LastUpdatedBy",header:e("ViewEAAuditTrail_LastUpdatedBy")},"LastUpdatedBy"),Array.isArray(this.state.checkInCheckOutHistory)&&this.state.checkInCheckOutHistory.length>this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize?(0,E.jsx)(v.bQ.Pagination,{}):""]})})]})}),(0,E.jsx)(u.Modal.Footer,{children:(0,E.jsx)(u.Button,{type:"primary",content:e("ReportConfiguration_btnClose"),onClick:()=>{this.setState({isCheckInCheckOutHistoryShow:!1})}})})]})}),this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}componentDidMount(){try{s.pJ(this.props.userDetails.EntityResult.IsArchived),this.getLanguages(),this.getAttributes(this.props.selectedRow)}catch(e){console.log("CaptainDetailsComposite:Error occured on componentDidMount",e)}}componentWillReceiveProps(e){try{if(""!==this.state.captain.Code&&void 0===e.selectedRow.Common_Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo){this.getCaptain(e.selectedRow);let t={...this.state.validationErrors};Object.keys(t).forEach((e=>{t[e]=""})),this.setState({validationErrors:t})}}catch(t){console.log("CaptainDetailsComposite:Error occured on componentWillReceiveProps",t)}}getShareholders(){try{return s.Zj(this.props.userDetails.EntityResult.ShareholderList)}catch(e){console.log("CaptainDetailsComposite:Error occured on getShareholders",e)}}getLanguages(){o()(n.HLD,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=[];null!==t.EntityResult?(Object.keys(t.EntityResult).forEach((a=>e.push({text:t.EntityResult[a],value:a}))),this.setState({languageOptions:e})):console.log("No languages identified.")}else console.log("Error in getLanguages:",t.ErrorList)})).catch((e=>{console.log("Error while getting Languages:",e)}))}getAttributes(e){try{this.props.userType===f.Xq.Captain?o()(n.fKH,s.tW([L.al],this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;!0===a.IsSuccess?this.setState({attributeMetaDataList:b().cloneDeep(a.EntityResult.GeneralTMUser_CAPTAIN),attributeValidationErrors:s.Fl(a.EntityResult.GeneralTMUser_CAPTAIN)},(()=>this.getCaptain(e))):console.log("Error in getAttributes:")})):o()(n.fKH,s.tW([L.Sq,L.tA],this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;!0===a.IsSuccess?this.setState({staffAttributeMetaDataList:b().cloneDeep(a.EntityResult.GeneralTMUser_STAFF),staffAttributeValidationErrors:s.Fl(a.EntityResult.GeneralTMUser_STAFF),visitorAttributeMetaDataList:b().cloneDeep(a.EntityResult.GeneralTMUser_VISITOR),visitorAttributeValidationErrors:s.Fl(a.EntityResult.GeneralTMUser_VISITOR)},(()=>this.getCaptain(e))):console.log("Error in getAttributes:")}))}catch(t){console.log("Error while getAttributes:",t)}}createTMUser(e){let t=[{key:I.wO,value:e.Code}],a={ShareHolderCode:this.props.selectedShareholder,keyDataCode:I.wO,KeyCodes:t,Entity:e},i={messageType:"critical",message:this.props.userType===f.Xq.Captain?"CaptainInfo_AddUpdateSuccessMsg":e.UserType===f.Hg.Staff?"Staff_AddUpdateSuccessMsg":"Visitor_AddUpdateSuccessMsg",messageResultDetails:[{keyFields:this.props.userType===f.Xq.Captain?["CaptainInfo_Code"]:e.UserType===f.Hg.Staff?["StaffVisitorList_StaffCode"]:["StaffVisitorList_VisitorCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};o()(n.Nef,s.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{let a=t.data;i.messageType=a.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess?this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.add,this.props.userType===f.Xq.Captain?y.pt:y.ZE),showAuthenticationLayout:!1},(()=>this.getCaptain({Common_Code:e.Code,StaffVisitor_User_Type:e.UserType}))):(i.messageResultDetails[0].errorMessage=a.ErrorList[0],this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.add,this.props.userType===f.Xq.Captain?y.pt:y.ZE),showAuthenticationLayout:!1}),console.log("Error in createTMUser:",a.ErrorList)),this.props.onSaved(this.state.modCaptain,"add",i)})).catch((e=>{this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.add,this.props.userType===f.Xq.Captain?y.pt:y.ZE),showAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modCaptain,"add",i)}))}terminalSelectionChange(e){try{if(void 0!==e&&null!==e){let r=[];var t=[],a=[];t=b().cloneDeep(this.state.attributeMetaDataList),a=b().cloneDeep(this.state.modAttributeMetaDataList);const o=b().cloneDeep(this.state.attributeValidationErrors);var i=b().cloneDeep(this.state.modCaptain);e.forEach((e=>{var s=a.find((t=>t.TerminalCode===e));void 0===s?t.forEach((function(t){if(t.TerminalCode===e){var a=i.Attributes.find((t=>t.TerminalCode===e));void 0!==a&&t.attributeMetaDataList.forEach((function(e){var t=a.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),r.push(t)}})):r.push(s)})),a=[],a=r,a=s.nQ(a),o.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modAttributeMetaDataList:a,attributeValidationErrors:o})}}catch(r){console.log("CaptainDetailsComposite:Error occured on terminalSelectionChange",r)}}terminalSelectionChangeOnStaffAttribute(e){try{if(void 0!==e&&null!==e){let r=[];var t=[],a=[];t=b().cloneDeep(this.state.staffAttributeMetaDataList),a=b().cloneDeep(this.state.modStaffAttributeMetaDataList);const o=b().cloneDeep(this.state.staffAttributeValidationErrors);var i=b().cloneDeep(this.state.modCaptain);e.forEach((e=>{var s=a.find((t=>t.TerminalCode===e));void 0===s?t.forEach((function(t){if(t.TerminalCode===e){var a=i.Attributes.find((t=>t.TerminalCode===e));void 0!==a&&t.attributeMetaDataList.forEach((function(e){var t=a.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),r.push(t)}})):r.push(s)})),a=[],a=r,a=s.nQ(a),o.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modStaffAttributeMetaDataList:a,staffAttributeValidationErrors:o,modVisitorAttributeMetaDataList:[]})}}catch(r){console.log("CaptainDetailsComposite:Error occured on terminalSelectionChangeOnStaffAttribute",r)}}terminalSelectionChangeOnVisitorAttribute(e){try{if(void 0!==e&&null!==e){let r=[];var t=[],a=[];t=b().cloneDeep(this.state.visitorAttributeMetaDataList),a=b().cloneDeep(this.state.modVisitorAttributeMetaDataList);const o=b().cloneDeep(this.state.visitorAttributeValidationErrors);var i=b().cloneDeep(this.state.modCaptain);e.forEach((e=>{var s=a.find((t=>t.TerminalCode===e));void 0===s?t.forEach((function(t){if(t.TerminalCode===e){var a=i.Attributes.find((t=>t.TerminalCode===e));void 0!==a&&t.attributeMetaDataList.forEach((function(e){var t=a.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),r.push(t)}})):r.push(s)})),a=[],a=r,a=s.nQ(a),o.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modVisitorAttributeMetaDataList:a,visitorAttributeValidationErrors:o,modStaffAttributeMetaDataList:[]})}}catch(r){console.log("CaptainDetailsComposite:Error occured on terminalSelectionChangeOnVisitorAttribute",r)}}localNodeAttribute(){try{var e=b().cloneDeep(this.state.attributeMetaDataList);Array.isArray(e)&&e.length>0&&this.terminalSelectionChange([e[0].TerminalCode])}catch(t){console.log("CaptainDetailsComposite:Error occured on localNodeAttribute",t)}}localNodeStaffAttribute(){try{var e=b().cloneDeep(this.state.staffAttributeMetaDataList);e.length>0&&this.terminalSelectionChangeOnStaffAttribute([e[0].TerminalCode])}catch(t){console.log("CaptainDetailsComposite:Error occured on localNodeStaffAttribute",t)}}localNodeVisitorAttribute(){try{var e=b().cloneDeep(this.state.visitorAttributeMetaDataList);e.length>0&&this.terminalSelectionChangeOnVisitorAttribute([e[0].TerminalCode])}catch(t){console.log("CaptainDetailsComposite:Error occured on localNodeVisitorAttribute",t)}}getCaptain(e){if(S.Kz.LanguageCode=this.props.userDetails.EntityResult.UICulture,S.Kz.ShareholderCode=this.props.selectedShareholder,this.props.userType===f.Xq.Captain&&(S.Kz.UserType=f.Xq.Captain,S.Kz.TerminalCodes=1===this.props.terminalCodes.length?[...this.props.terminalCodes]:[]),void 0!==e.Common_Code){var t=[{key:I.Wv,value:e.Common_Code},{key:I.Of,value:this.props.userType===f.Xq.Captain?f.Xq.Captain:e.StaffVisitor_User_Type}],a={keyDataCode:I.wO,KeyCodes:t};o()(n.xmt,s.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isReadyToRender:!0,captain:b().cloneDeep(t.EntityResult),modCaptain:b().cloneDeep(t.EntityResult),saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.modify,this.props.userType===f.Xq.Captain?y.pt:y.ZE)},(()=>{this.getKPIList(this.props.selectedShareholder,t.EntityResult.CaptainCode),this.props.userDetails.EntityResult.IsEnterpriseNode?this.props.userType===f.Xq.Captain?this.terminalSelectionChange(t.EntityResult.TerminalCodes):t.EntityResult.UserType===f.Hg.Staff?this.terminalSelectionChangeOnStaffAttribute(t.EntityResult.TerminalCodes):t.EntityResult.UserType===f.Hg.Visitor&&this.terminalSelectionChangeOnVisitorAttribute(t.EntityResult.TerminalCodes):this.props.userType===f.Xq.Captain?this.localNodeAttribute():t.EntityResult.UserType===f.Hg.Staff?this.localNodeStaffAttribute():t.EntityResult.UserType===f.Hg.Visitor&&this.localNodeVisitorAttribute(),this.props.userType!==f.Xq.Captain&&this.getLastCheckInCheckOutInfo(t.EntityResult)})):(this.setState({captain:b().cloneDeep(S.Kz),modCaptain:b().cloneDeep(S.Kz),isReadyToRender:!0,modAttributeMetaDataList:[]}),console.log("Error in getCaptain:",t.ErrorList))}))}else this.setState({captain:b().cloneDeep(S.Kz),modCaptain:b().cloneDeep(S.Kz),isReadyToRender:!0,modAttributeMetaDataList:[],saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.add,this.props.userType===f.Xq.Captain?y.pt:y.ZE),locationCode:"",swipetime:"",modStaffAttributeMetaDataList:[],modVisitorAttributeMetaDataList:[],captainKPIList:[]},(()=>{this.props.userType===f.Xq.Captain&&(this.props.userDetails.EntityResult.IsEnterpriseNode?1===this.props.terminalCodes.length?this.terminalSelectionChange(this.props.terminalCodes):this.terminalSelectionChange([]):this.localNodeAttribute())}))}fillAttributeData(e,t,a,i){try{return t=s.SC(t),a=s.SC(a),i=s.SC(i),this.props.userType===f.Xq.Captain?e.Attributes=s.Gh(t):e.UserType===f.Hg.Staff?e.Attributes=s.Gh(a):e.UserType===f.Hg.Visitor&&(e.Attributes=s.Gh(i)),e}catch(r){console.log("CaptainDetailsComposite:Error occured on fillAttributeData",r)}}validateSave(e,t,a,i){const r={...this.state.validationErrors};Object.keys(T.B1).forEach((function(t){void 0!==e[t]&&(r[t]=s.jr(T.B1[t],e[t]))})),this.props.userType===f.Xq.Captain?(null===e.ShareholderCodes||""===e.ShareholderCodes||e.ShareholderCodes.length<1)&&(r.ShareholderCodes="ShareholderList_SelectShareholder"):null!==e.UserType&&""!==e.UserType||(r.UserType="StaffVisitor_selectUserType"),e.Active!==this.state.captain.Active&&(null!==e.Remarks&&""!==e.Remarks||(r.Remarks="CaptainInfo_RemarksRequired"));var o=b().cloneDeep(this.state.attributeValidationErrors),n=b().cloneDeep(this.state.staffAttributeValidationErrors),l=b().cloneDeep(this.state.visitorAttributeValidationErrors);this.props.userType===f.Xq.Captain?t.forEach((e=>{o.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=s.I5(e,e.DefaultValue)}))}))})):e.UserType===f.Hg.Staff?a.forEach((e=>{n.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=s.I5(e,e.DefaultValue)}))}))})):e.UserType===f.Hg.Visitor&&i.forEach((e=>{l.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=s.I5(e,e.DefaultValue)}))}))})),this.setState({validationErrors:r,attributeValidationErrors:o,visitorAttributeValidationErrors:l,staffAttributeValidationErrors:n});var d=!0;return o.forEach((e=>{if(!d)return d;d=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),l.forEach((e=>{if(!d)return d;d=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),n.forEach((e=>{if(!d)return d;d=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),d&&(d=Object.values(r).every((function(e){return""===e}))),d}updateCaptain(e){let t=[{key:I.wO,value:e.Code}],a={keyDataCode:I.wO,KeyCodes:t,Entity:e},i={messageType:"critical",message:this.props.userType===f.Xq.Captain?"CaptainInfo_AddUpdateSuccessMsg":e.UserType===f.Hg.Staff?"Staff_AddUpdateSuccessMsg":"Visitor_AddUpdateSuccessMsg",messageResultDetails:[{keyFields:this.props.userType===f.Xq.Captain?["CaptainInfo_Code"]:e.UserType===f.Hg.Staff?["StaffVisitorList_StaffCode"]:["StaffVisitorList_VisitorCode"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};o()(n.SyO,s.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{let a=t.data;i.messageType=a.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess?this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.modify,this.props.userType===f.Xq.Captain?y.pt:y.ZE),showAuthenticationLayout:!1},(()=>this.getCaptain({Common_Code:e.Code,StaffVisitor_User_Type:e.UserType}))):(i.messageResultDetails[0].errorMessage=a.ErrorList[0],this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.modify,this.props.userType===f.Xq.Captain?y.pt:y.ZE),showAuthenticationLayout:!1}),console.log("Error in update Captain:",a.ErrorList)),this.props.onSaved(this.state.modCaptain,"update",i)})).catch((e=>{this.setState({saveEnabled:s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.modify,this.props.userType===f.Xq.Captain?y.pt:y.ZE),showAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modCaptain,"modify",i)}))}handleResetAttributeValidationError(){try{var e=b().cloneDeep(this.state.attributeMetaDataList),t=b().cloneDeep(this.state.staffAttributeMetaDataList),a=b().cloneDeep(this.state.visitorAttributeMetaDataList);this.setState({attributeValidationErrors:s.Fl(e),staffAttributeValidationErrors:s.Fl(t),visitorAttributeValidationErrors:s.Fl(a)})}catch(i){console.log("handleAttributeValidationError:Error occured on handleReset",i)}}getLastCheckInCheckOutInfo(e){try{o()(n.iR4+"?StaffVisitorCode="+e.Code+"&UserType="+e.UserType,s.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess&&null!==t.EntityResult){if(null!==t.EntityResult.SwipeTime&&void 0!==t.EntityResult.SwipeTime&&""!==t.EntityResult.SwipeTime)var a=new Date(t.EntityResult.SwipeTime).toLocaleDateString()+" "+new Date(t.EntityResult.SwipeTime).toLocaleTimeString();this.setState({locationCode:t.EntityResult.LocationCode,swipetime:a})}}))}catch(t){console.log("CaptainDetailsComposite:Error occured on getLastCheckInCheckOutInfo",t)}}getKPIList(e,t){if(!0===s.ab(this.props.userDetails.EntityResult.FunctionsList,y.i.view,y.bL)){let e={PageName:this.props.userType===f.Xq.Captain?V.eh:V.I7,InputParameters:[{key:"CaptainCode",value:t}]};o()(n.dxq,s.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({captainKPIList:t.EntityResult.ListKPIDetails}):(this.setState({captainKPIList:[]}),console.log("Error in captain KPIList:",t.ErrorList))})).catch((e=>{console.log("Error while getting Captain KPIList:",e)}))}}getFunctionGroupName(){return this.props.userType===f.Xq.Captain?y.pt:y.ZE}render(){const e={shareholders:this.getShareholders(),languageOptions:this.state.languageOptions,terminalCodes:this.props.terminalCodes,locationCode:this.state.locationCode,swipetime:this.state.swipetime},t=[{fieldName:"CaptainInfo_LastUpdated",fieldValue:new Date(this.state.modCaptain.LastUpdated).toLocaleDateString()+" "+new Date(this.state.modCaptain.LastUpdated).toLocaleTimeString()},{fieldName:"CaptainInfo_CreatedTime",fieldValue:new Date(this.state.modCaptain.Created).toLocaleDateString()+" "+new Date(this.state.modCaptain.Created).toLocaleTimeString()},{fieldName:"CaptainInfo_LastActive",fieldValue:void 0!==this.state.modCaptain.LastActive&&null!==this.state.modCaptain.LastActive?new Date(this.state.modCaptain.LastActive).toLocaleDateString()+" "+new Date(this.state.modCaptain.LastActive).toLocaleTimeString():""},{fieldName:"CaptainInfo_LastReported",fieldValue:void 0!==this.state.modCaptain.LastReportTime&&null!==this.state.modCaptain.LastReportTime?new Date(this.state.modCaptain.LastReportTime).toLocaleDateString()+" "+new Date(this.state.modCaptain.LastReportTime).toLocaleTimeString():""}];return this.state.isReadyToRender?(0,E.jsxs)("div",{children:[(0,E.jsx)(l.A,{children:(0,E.jsx)(d.A,{entityCode:this.state.captain.Code,newEntityName:this.props.userType===f.Xq.Captain?"CaptainInfo_NewCaptain":"StaffOrVisitor_NewStaffOrVisitor",popUpContents:t})}),(0,E.jsx)(M.A,{KPIList:this.state.captainKPIList,children:" "}),(0,E.jsx)(l.A,{children:(0,E.jsx)(g,{captain:this.state.captain,modCaptain:this.state.modCaptain,listOptions:e,validationErrors:this.state.validationErrors,onFieldChange:this.handleChange,onActiveStatusChange:this.handleActiveStatusChange,onAllTerminalsChange:this.handleAllTerminalsChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,attributeValidationErrors:this.state.attributeValidationErrors,modAttributeMetaDataList:this.state.modAttributeMetaDataList,onAttributeDataChange:this.handleAttributeDataChange,userType:this.props.userType,onImageChange:this.handleImageChange,handleCheckIn:this.handleCheckIn,handleCheckOut:this.handleCheckOut,handleCheckInCheckOutHistory:this.handleCheckInCheckOutHistory,staffAttributeValidationErrors:this.state.staffAttributeValidationErrors,modStaffAttributeMetaDataList:this.state.modStaffAttributeMetaDataList,onStaffAttributeDataChange:this.handleStaffAttributeDataChange,visitorAttributeValidationErrors:this.state.visitorAttributeValidationErrors,modVisitorAttributeMetaDataList:this.state.modVisitorAttributeMetaDataList,onVisitorAttributeDataChange:this.handleVisitorAttributeDataChange})}),(0,E.jsx)(l.A,{children:(0,E.jsx)(c.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),this.state.showAuthenticationLayout?(0,E.jsx)(O.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.captain.Code?y.i.add:y.i.modify,functionGroup:this.getFunctionGroupName(),handleOperation:this.saveCaptain,handleClose:this.handleAuthenticationClose}):null,this.state.isCheckInCheckOutHistoryShow?this.checkInCheckOutHistory():null]}):(0,E.jsx)(h.A,{message:"Loading"})}}const P=(0,A.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(k)},24904:(e,t,a)=>{a.d(t,{y:()=>n});a(65043);var i=a(67907),s=a(72711),r=a(69062),o=a(70579);function n(e){let{terminalList:t,selectedTerminal:a,validationError:n,onFieldChange:l,onCheckChange:d}=e;return null===a&&(a=[]),(0,o.jsx)(i.TranslationConsumer,{children:e=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)("div",{style:{width:"80%"},children:(0,o.jsx)(s.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("TerminalCodes"),value:a,multiple:!0,options:r.Zj(t),onChange:e=>l("TerminalCodes",e),error:e(n),disabled:0===t.length,reserveSpace:!1})}),(0,o.jsx)("div",{className:"ddlSelectAll",children:(0,o.jsx)(s.Checkbox,{label:e("Common_All"),checked:Array.isArray(a)&&a.length===t.length,onChange:e=>d(e)})})]})})}n.defaultProps={terminalList:[],selectedTerminal:[],validationError:""}},43503:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var i=a(67907),s=a(72711),r=a(70579);function o(e){let{entityCode:t,newEntityName:a,popUpContents:o}=e;return(0,r.jsx)(i.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(a):t})}),""!==t&&void 0!==t&&o.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(s.Popup,{element:(0,r.jsxs)("div",{children:[e(o[0].fieldName)+" ",":"," "+o[0].fieldValue,(0,r.jsx)(s.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(s.List,{className:"detailsHeaderPopUp",children:o.map((t=>(0,r.jsxs)(s.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}o.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const n=o},9256:(e,t,a)=>{a.d(t,{q:()=>o});a(65043);var i=a(72711),s=a(67907),r=a(70579);function o(e){let{handleBack:t,handleSave:a,handleReset:o,saveEnabled:n}=e;return(0,r.jsx)(s.TranslationConsumer,{children:e=>(0,r.jsxs)("div",{className:"row userActionPosition",children:[(0,r.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,r.jsx)(i.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,r.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,r.jsxs)("div",{style:{float:"right"},children:[(0,r.jsx)(i.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:o}),(0,r.jsx)(i.Button,{content:e("Save"),disabled:!n,onClick:a})]})})]})})}o.defaultProps={saveEnabled:!1}},85800:(e,t,a)=>{a.d(t,{n:()=>l});a(65043);var i=a(72711),s=a(67907),r=a(7523),o=a(35861),n=a(70579);function l(e){let{selectedAttributeList:t,handleCellDataEdit:a,attributeValidationErrors:l}=e;const d=e=>{if("0000-00-00"===e.DefaultValue)return c(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},c=(e,t)=>{var i=new Date(t);t=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+i.getDate()).slice(-2),a(e,t)};return(0,n.jsx)(s.TranslationConsumer,{children:e=>(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,n.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===r.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==r.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==r.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===r.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>a(t,e)})}):t.DataType.toLowerCase()===r.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":d(t),label:e(t.DisplayName),displayFormat:(0,o.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>c(t,e),onTextChange:e=>{c(t,e)},error:e(l[t.Code]),reserveSpace:!1})}):null:(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})}):(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(i.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,a)=>{a.d(t,{$7:()=>M,AN:()=>ae,AU:()=>v,Ak:()=>Fe,Ao:()=>i,B6:()=>Z,C4:()=>we,CG:()=>Q,Ct:()=>K,Cw:()=>x,EY:()=>y,G$:()=>Ze,G6:()=>Ye,GF:()=>pe,GJ:()=>P,Gj:()=>he,Gl:()=>re,H9:()=>We,HB:()=>Le,HP:()=>b,Hr:()=>ye,II:()=>st,IQ:()=>T,Jr:()=>q,Jx:()=>Se,Ki:()=>te,LP:()=>se,Lv:()=>r,MK:()=>E,MX:()=>ee,Mx:()=>B,N4:()=>ke,NH:()=>ge,OF:()=>Je,Ps:()=>H,Q7:()=>Ke,QY:()=>w,SF:()=>o,Sq:()=>De,Sw:()=>ne,TQ:()=>$,U7:()=>L,UH:()=>f,UO:()=>oe,V_:()=>Re,Vy:()=>Ue,W9:()=>de,WN:()=>S,Wr:()=>s,Ww:()=>Y,XP:()=>Ne,Xk:()=>W,Yb:()=>Ie,Yy:()=>C,Z2:()=>Pe,ZN:()=>V,ZO:()=>Ae,Zu:()=>qe,_G:()=>X,_N:()=>h,_u:()=>ce,ad:()=>le,al:()=>Te,ao:()=>U,bK:()=>F,bN:()=>g,cf:()=>O,dO:()=>Me,dU:()=>p,dv:()=>n,eE:()=>z,g:()=>D,gG:()=>l,gS:()=>ve,gT:()=>at,gW:()=>J,gZ:()=>$e,go:()=>N,gp:()=>_,hq:()=>Oe,i6:()=>et,ip:()=>ue,k9:()=>m,kI:()=>A,l4:()=>xe,l5:()=>I,lA:()=>k,lU:()=>Qe,mD:()=>_e,mY:()=>j,mq:()=>d,n$:()=>it,n7:()=>u,nZ:()=>Ve,rA:()=>je,s$:()=>He,s8:()=>Ge,se:()=>Ee,tA:()=>be,vK:()=>tt,vs:()=>fe,w2:()=>ze,w4:()=>me,wT:()=>c,wY:()=>R,wf:()=>Ce,wk:()=>ie,xW:()=>G,yM:()=>Xe,yO:()=>Be});const i="driver",s="carriercompany",r="shareholder",o="baseProduct",n="TRAILER",l="TRAILERCOMPARTMENT",d="terminal",c="customer",h="destination",u="finishedproduct",p="tank",C="marine_vessel",m="marine_trailercompartment",f="supplier",E="vehicle",g="vehicletrailer",S="originterminal",T="bay",A="loadingArm",I="cardreader",D="vehicleprimemover",b="meter",y="SHIPMENT",L="SHIPMENTCOMPARTMENT",v="SHIPMENTDESTINATIONCOMPARTMENT",N="SHIPMENTDETAILS",R="SHIPMENTTRAILERWEIGHBRIDGE",M="SHIPMENTTRAILER",V="SHIPMENTSTATUSTIME",O="MARINEDISPATCH",k="MARINEDISPATCHCOMPARTMENTDETAIL",P="railwagon",x="primemover",j="bcu",w="RAILRECEIPTPLAN",H="RAILRECEIPTWAGONDETAILPLAN",U="RAILUNLOADINGDETAILSFP",_="RAILUNLOADINGDETAILSBP",G="RAILUNLOADINGDETAILSADDITIVE",q="RAILDISPATCHPLAN",F="RAILDISPATCHITEM",X="RAILDISPATCHSTATUSCHANGE",B="RAILDISPATCHWAGON",K="RAILDISPATCHWAGONDETAILPLAN",W="RAILDISPATCHWAGONWEIGHBRIDGE",Z="RAILDISPATCHWAGONCOMPARTMENT",z="RAILLOADINGDETAILSFP",Q="RAILLOADINGDETAILSBP",J="RAILLOADINGDETAILSADDITIVE",Y="marineReceipt",$="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",ae="marineLoadingDetailsAdditive",ie="marineLoadingDetailsBP",se="marineReceiptCompartmentDetail",re="marineUnloadingDetailsFP",oe="marineUnloadingDetailsBP",ne="accessCard",le="LOADINGDETAILSFP",de="LOADINGDETAILSBP",ce="LOADINGDETAILSADDITIVE",he="MARINERECEIPTSTATUSTIME",ue="MARINEDISPATCHSTATUSTIME",pe="RECEIPT",Ce="UNLOADINGTRANSACTIONS",me="ORDER",fe="ORDERITEM",Ee="CONTRACT",ge="CONTRACT_ITEM",Se="RECEIPTORIGINTERMINALCOMPARTMENT",Te="GeneralTMUser_CAPTAIN",Ae="weighbridge",Ie="deu",De="GeneralTMUser_STAFF",be="GeneralTMUser_VISITOR",ye="PIPELINEHEADER",Le="SEALMASTER",ve="PIPELINERECEIPT",Ne="ROADSHIPMENTSLOTINFO",Re="ROADRECEIPTSLOTINFO",Me="MARINESHIPMENTSLOTINFO",Ve="MARINERECEIPTSLOTINFO",Oe="PIPELINEDISPATCH",ke="PIPELINETRANSACTIONS",Pe="PIPELINEDISPATCHSTATUSTIME",xe="PIPELINERECEIPTSTATUSTIME",je="PROCESSCONFIG",we="PRODUCTALLOCATIONITEM",He="HSEINSPECTIONSHIPMENTRIGIDTRUCK",Ue="HSEINSPECTIONSHIPMENTTRAILER",_e="HSEINSPECTIONSHIPMENTPRIMEMOVER",Ge="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",qe="HSEINSPECTIONMARINESHIPMENTBARGE",Fe="HSEINSPECTIONMARINESHIPMENTSHIP",Xe="HSEINSPECTIONSHIPMENTRAILWAGON",Be="HSEINSPECTIONSHIPMENTPIPELINE",Ke="HSEINSPECTIONRECEIPTRIGIDTRUCK",We="HSEINSPECTIONRECEIPTTRAILER",Ze="HSEINSPECTIONRECEIPTPRIMEMOVER",ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Qe="HSEINSPECTIONMARINERECEIPTBARGE",Je="HSEINSPECTIONMARINERECEIPTSHIP",Ye="HSEINSPECTIONRECEIPTRAILWAGON",$e="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",at="COAMANAGEMENT",it="COACUSTOMER",st="COAASSIGNMENT"},35861:(e,t,a)=>{a.d(t,{F1:()=>n,i7:()=>l,r4:()=>o});var i=a(86178),s=a.n(i),r=(a(15660),a(65043),a(70579));function o(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function n(){let e=window.navigator.userLanguage||window.navigator.language;return s().locale(e),s().localeData().longDateFormat("L")}function l(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=9647.8c4d6ab6.chunk.js.map