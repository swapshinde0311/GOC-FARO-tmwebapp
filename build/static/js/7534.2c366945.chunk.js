(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[7534,5841,8222,3235,2851],{66554:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var i=s(65043),o=s(72711),r=s(67907),a=s(65187),n=s(69062),l=s(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:c,selectedShareholder:d,onShareholderChange:h,onDelete:u,onAdd:m,popUpContent:p,shrVisible:g,handleBreadCrumbClick:S,addVisible:C,deleteVisible:y}=e;const[R,v]=(0,i.useState)(!1),[D,f]=(0,i.useState)(!1);function x(){t.add&&(p.length>0?f(!1===D):m())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(a.A,{children:[" ",(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)(o.Breadcrumb,{children:[s.parents.map((t=>(0,l.jsx)(o.Breadcrumb.Item,{onClick:()=>{void 0!==S&&null!==S&&S(t.itemCode,s.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(o.Breadcrumb.Item,{children:e(s.localizedKey)},s.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===g?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(o.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:n.Zj(c),onChange:e=>h(e)})})]})})})}),(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)(o.Modal,{open:R,size:"small",children:[(0,l.jsx)(o.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(o.Modal.Footer,{children:[(0,l.jsx)(o.Button,{type:"secondary",content:e("Cancel"),onClick:()=>v(!1)}),(0,l.jsx)(o.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{v(!1),u()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[C?(0,l.jsx)(o.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:x,children:(0,l.jsx)(o.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:D,children:(0,l.jsx)("div",{onMouseLeave:()=>f(!1),children:(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsx)(o.VerticalMenu,{children:(0,l.jsxs)(o.VerticalMenu,{children:[(0,l.jsx)(o.VerticalMenu.Header,{children:e("Common_Create")}),p.map((t=>(0,l.jsx)(o.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,f(!1),void m(e);var e},children:e(t.fieldValue)})))]})})})})}):"",y?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&v(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(o.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};s(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:i,selectedShareholder:o,onShareholderChange:r,onDelete:a,onAdd:n,popUpContent:d,shrVisible:h,handleBreadCrumbClick:u,addVisible:m,deleteVisible:p}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:s,shareholders:i,selectedShareholder:o,onShareholderChange:r,onDelete:a,onAdd:n,popUpContent:d,shrVisible:h,handleBreadCrumbClick:u,addVisible:m,deleteVisible:p})}},62900:(e,t,s)=>{"use strict";s.d(t,{A:()=>y});var i=s(65043),o=s(67907),r=s(72711),a=s(72067),n=s(69062),l=s(97508),c=s(44192),d=s(40854),h=s.n(d),u=s(53536),m=s.n(u),p=s(86111),g=s.n(p),S=s(70579);class C extends i.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:n.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const s=m().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(s[e]=n.jr(c.Qh[e],t),this.setState({validationErrors:s,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var s=!0;return s&&(s=Object.values(t).every((function(e){return""===e}))),s},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,s=g().lib.WordArray.random(16),i=g().PBKDF2(t,s,{keySize:8,iterations:100}),o=g().lib.WordArray.random(16),r=g().AES.encrypt(e,i,{iv:o,padding:g().pad.Pkcs7,mode:g().mode.CBC}),l=s.toString()+o.toString()+r.toString();h()(a.KrY+"?encryptedPassword="+encodeURIComponent(l),n.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=n.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,S.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,S.jsx)(o.TranslationConsumer,{children:e=>(0,S.jsxs)(r.Modal,{open:!0,size:"mini",children:[(0,S.jsxs)(r.Modal.Content,{children:[(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,S.jsx)("h4",{children:e("User_Authentication")})}),(0,S.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,S.jsx)(r.Icon,{root:"common",name:"close"})})]}),(0,S.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,S.jsx)("div",{className:"col col-lg-12",children:(0,S.jsx)("label",{children:(0,S.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,S.jsx)("div",{className:"col col-lg-12",children:(0,S.jsx)(r.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,S.jsxs)(r.Modal.Footer,{children:[(0,S.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,S.jsx)(r.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const y=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(C)},19380:(e,t,s)=>{"use strict";s.d(t,{A:()=>D});var i=s(65043),o=s(728),r=s(62672),a=s(27976),n=s(44063),l=s(39078),c=s(48546),d=s(82967),h=s(11201),u=s(43439),m=(s(60663),s(48385)),p=s(72711),g=s(67907),S=s(65187),C=s(53536),y=(s(90837),s(70579));const R=e=>{const[t,s]=(0,i.useState)(null),[R]=(0,g.useTranslation)(),v=t=>new o.CollectionView(e.sourceData,{pageSize:t}),[D,f]=(0,i.useState)(v(e.rowsPerPage)),x=i.createRef(),E=i.createRef(),N=i.createRef(),j=i.createRef(),b=i.useRef(),w=i.useRef(e.selectionRequired?[]:null);let I=null;const P=t=>{try{if(L(),e.onRowClick&&t.addEventListener(t.hostElement,"click",(s=>{let i=t.hitTest(s);if(i.target.closest(".wj-cell")&&![...i.target.closest(".wj-cell").classList].includes("wj-group")&&i.cellType===r.CellType.Cell){const s=t.rows[i.row].dataItem;e.onRowClick(s)}})),t.selectionMode=o.asEnum("None",r.SelectionMode),t.select(-1,-1),s(t),e.selectionRequired){I=new h.Selector(t,{itemChecked:(s,i)=>{e.singleSelection&&t.rows.filter((e=>e.isSelected&&1===w.current.filter((t=>C.isEqual(t,e.dataItem))).length)).forEach((e=>{e.isSelected=!1})),e.onSelectionHandle(t.rows.filter((e=>e.isSelected)).map((e=>e.dataItem)))},showCheckAll:!e.singleSelection});let s=I.column.grid;I.column=s.rowHeaders.columns[0],s.headersVisibility=r.HeadersVisibility.All,s.selectionMode=o.asEnum("None",r.SelectionMode)}}catch(i){console.log("Error in gridInitialized: "+i)}};(0,i.useEffect)((()=>{try{if(null!=x){let e=x.current.control;E.current.control.grid=e}f(v(e.rowsPerPage))}catch(t){console.log("Error in grid update:",t)}}),[e.sourceData]),(0,i.useEffect)((()=>{try{t&&e.selectionRequired&&(w.current.length=0,w.current.push(...e.selectedItems),t.rows.forEach((t=>{1===e.selectedItems.filter((e=>C.isEqual(e,t.dataItem))).length?t.isSelected=!0:t.isSelected=!1})),t.refresh())}catch(s){console.log("Error in pre-selecting rows:",s)}}),[e.selectedItems]),(0,i.useEffect)((()=>{try{if(localStorage.getItem(e.parentComponent+"GridState")&&"null"!==localStorage.getItem(e.parentComponent+"GridState")&&t){let i=JSON.parse(localStorage.getItem(e.parentComponent+"GridState")),r=t;r.columns.forEach((e=>{let t=i.columns.filter((t=>t.binding===e.binding));e.visible=t.length>0?t[0].visible:e.visible})),N.current.control.filterDefinition=i.filterDefinition,r.collectionView.deferUpdate((()=>{r.collectionView.sortDescriptions.clear();for(let e=0;e<i.sortDescriptions.length;e++){let t=i.sortDescriptions[e];r.collectionView.sortDescriptions.push(new o.SortDescription(t.property,t.ascending))}}));for(let e=0;e<i.groupDescriptions.length;e++)r.collectionView.groupDescriptions.push(new o.PropertyGroupDescription(i.groupDescriptions[e])),r.columns.filter((t=>t.binding===i.groupDescriptions[e]))[0].visible=!1;if(sessionStorage.getItem(e.parentComponent+"GridState")&&"null"!==sessionStorage.getItem(e.parentComponent+"GridState")){let t=JSON.parse(sessionStorage.getItem(e.parentComponent+"GridState"));r.collectionView.moveToPage(r.collectionView.pageCount-1>=t.pageIndex?t.pageIndex:r.collectionView.pageCount-1),E&&(E.current.control.text=t.searchText)}s(r),t.refresh()}}catch(i){console.log("Error in restoring local storage settings: ",i)}}),[D]),(0,i.useEffect)((()=>{try{t&&b.current&&e.columnPickerRequired&&(b.current.itemsSource=t.columns,b.current.checkedMemberPath="visible",b.current.displayMemberPath="header",b.current.lostFocus.addHandler((()=>{(0,o.hidePopup)(b.current.hostElement)})))}catch(s){console.log("Error in initializing column picker properties:",s)}}),[b.current]),(0,i.useEffect)((()=>()=>{e.columnPickerRequired&&b.current&&(0,o.hidePopup)(b.current.hostElement)}),[]);const A=()=>{try{let i=t;i.itemsSource.pageSize=e.sourceData.length,s(i),u.FlexGridXlsxConverter.saveAsync(t,{includeColumnHeaders:!0,includeCellStyles:!1,formatItem:null},e.exportFileName),i.itemsSource.pageSize=e.rowsPerPage,s(i)}catch(i){console.log("Error in export grid to excel:",i)}},k=(t,s)=>{if(void 0!==s&&null!==s){if("boolean"===typeof t||"Active"===s.Name)return t?(0,y.jsx)(p.Icon,{name:"check",size:"small",color:"green"}):(0,y.jsx)(p.Icon,{name:"close",size:"small",color:"red"});if(""===t||null===t||void 0===t)return t;if(("TerminalCodes"===s.Name||"1"===s.PopOver)&&null!==t)return(i=t).split(",").length>e.terminalsToShow?(0,y.jsx)(p.Popup,{className:"popup-theme-wrap",on:"hover",element:i.split(",").length,children:(0,y.jsx)(p.Card,{children:(0,y.jsx)(p.Card.Content,{children:i})})}):i;if(void 0!==s.DataType&&"DateTime"===s.DataType)return new Date(t).toLocaleDateString()+" "+new Date(t).toLocaleTimeString();if(void 0!==s.DataType&&"Date"===s.DataType)return new Date(t).toLocaleDateString();if(void 0!==s.DataType&&"Time"===s.DataType)return new Date(t).toLocaleTimeString()}var i;return t},U=()=>{try{if(t&&N.current){let s={columns:t.columns.map((e=>({binding:e.binding,visible:e.visible}))),filterDefinition:N.current.control.filterDefinition,sortDescriptions:t.collectionView.sortDescriptions.map((e=>({property:e.property,ascending:e.ascending}))),groupDescriptions:t.collectionView.groupDescriptions.map((e=>e.propertyName?e.propertyName:null))};if(t.collectionView.groupDescriptions&&t.collectionView.groupDescriptions.length>0){[...document.getElementsByClassName("wj-column-selector-group")].forEach((e=>{e.parentNode.parentNode.classList.add("wj-grouped-checkbox")}))}let i={pageIndex:t.collectionView.pageIndex,searchText:E.current.control.text};localStorage.setItem(e.parentComponent+"GridState",JSON.stringify(s)),sessionStorage.setItem(e.parentComponent+"GridState",JSON.stringify(i))}}catch(s){console.log("Error in saving grid state")}},L=()=>{let e=o.culture.FlexGridFilter,t=l.Operator;o.culture.FlexGridFilter.header=R("WijmoGridFilterHeader"),o.culture.FlexGridFilter.ascending="\u2191 "+R("WijmoGridFilterAscending"),o.culture.FlexGridFilter.descending="\u2193 "+R("WijmoGridFilterDescending"),o.culture.FlexGridFilter.apply=R("RoleAdminEdit_Apply"),o.culture.FlexGridFilter.clear=R("OrderCreate_btnClear"),o.culture.FlexGridFilter.conditions=R("WijmoGridFilterCondition"),o.culture.FlexGridFilter.values=R("WijmoGridFilterValue"),o.culture.FlexGridFilter.search=R("LoadingDetailsView_SearchGrid"),o.culture.FlexGridFilter.selectAll=R("WijmoGridFilterSelectAll"),o.culture.FlexGridFilter.and=R("WijmoGridFilterAnd"),o.culture.FlexGridFilter.or=R("WijmoGridFilterOr"),o.culture.FlexGridFilter.cancel=R("AccessCardInfo_Cancel"),e.stringOperators=[{name:R("WijmoGridFilterUnset"),op:null},{name:R("WijmoGridFilterEqual"),op:t.EQ},{name:R("WijmoGridFilterNotEqual"),op:t.NE},{name:R("WijmoGridFilterBeginsWith"),op:t.BW},{name:R("WijmoGridFilterEndsWith"),op:t.EW},{name:R("WijmoGridFilterContains"),op:t.CT},{name:R("WijmoGridFilterDoesNotContain"),op:t.NC}],e.numberOperators=[{name:R("WijmoGridFilterUnset"),op:null},{name:R("WijmoGridFilterEqual"),op:t.EQ},{name:R("WijmoGridFilterNotEqual"),op:t.NE},{name:R("WijmoGridFilterGreaterThan"),op:t.GT},{name:R("WijmoGridFilterLessThan"),op:t.LT},{name:R("WijmoGridFilterGreaterThanOrEqual"),op:t.GE},{name:R("WijmoGridFilterLessThanOrEqual"),op:t.LE}],e.dateOperators=[{name:R("WijmoGridFilterUnset"),op:null},{name:R("WijmoGridFilterEqual"),op:t.EQ},{name:R("WijmoGridFilterDateEarlierThan"),op:t.LT},{name:R("WijmoGridFilterDateLaterThan"),op:t.GT}],e.booleanOperators=[{name:R("WijmoGridFilterUnset"),op:null},{name:R("WijmoGridFilterEqual"),op:t.EQ},{name:R("WijmoGridFilterNotEqual"),op:t.NE}]},T=e=>{try{if(window.screen.width<1024&&e.WidthPx&&""!==e.WidthPx)return parseInt(e.WidthPx)}catch(t){console.log("Error in width:",t)}return e.WidthPercentage.includes("*")?e.WidthPercentage:parseInt(e.WidthPercentage)};return(0,y.jsx)("div",{className:"pl-1",children:(0,y.jsx)(S.A,{children:(0,y.jsx)(g.TranslationConsumer,{children:s=>(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)("div",{className:"row pl-0",children:[(0,y.jsx)("div",{className:"col-10 col-sm-12 col-md-5 col-lg-6",children:(0,y.jsx)(c.q,{class:"ui single-input",ref:E,placeholder:s("LoadingDetailsView_SearchGrid")})}),(0,y.jsx)("div",{className:"col-10 col-sm-12 col-md-7 col-lg-6",children:(0,y.jsxs)("div",{style:{float:"right"},children:[e.columnPickerRequired?(0,y.jsxs)(p.Button,{id:"colPicker",actionType:"button",type:"primary",onClick:e=>(e=>{try{let s=b.current.hostElement;s.offsetHeight?((0,o.hidePopup)(s,!0,!0),t.focus()):((0,o.showPopup)(s,e.target,o.PopupPosition.Below,!0,!1),b.current.focus()),b.current.focus(),e.preventDefault()}catch(s){console.log("Error in Column Picker click event:",s)}})(e),children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:s("WijmoGridColumnPicker")}),(0,y.jsx)("div",{style:{display:"inline-block"},children:(0,y.jsx)(p.Icon,{name:"caret-down",className:"btnIcon",size:"small"})})]}):null,e.exportRequired?(0,y.jsxs)(p.Button,{actionType:"button",type:"primary",className:"mt-3 mt-md-0",onClick:A,children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:s("WijmoGridExport")}),(0,y.jsx)("div",{style:{display:"inline-block",marginLeft:"0.2rem"},children:(0,y.jsx)("span",{className:"icon-Xls",style:{fontSize:"17px",position:"absolute",top:"3px"}})})]}):null]})})]}),(0,y.jsxs)("div",{className:"tableScroll",children:[e.columnGroupingRequired?(0,y.jsx)(m.u,{className:"group-panel",grid:t,placeholder:s("WijmoGridGroupPanelPlaceholder")}):null,(0,y.jsx)(S.A,{children:(0,y.jsxs)(a.MC,{ref:x,autoGenerateColumns:!1,alternatingRowStep:0,autoRowHeights:!0,headersVisibility:"Column",itemsSource:D,selectionMode:o.asEnum("None",r.SelectionMode),initialized:P,virtualizationThreshold:[0,1e4],onUpdatedView:U,children:[(0,y.jsx)(n.M,{ref:N}),e.columns.map((t=>(0,y.jsx)(a.aK,{header:s(t.Name),binding:t.Name,width:T(t),minWidth:100,isReadOnly:!0,wordWrap:!0,align:"left",children:(0,y.jsx)(a.Gw,{cellType:"Cell",template:s=>(0,y.jsx)("span",{style:null!=e.conditionalRowStyleCheck&&e.conditionalRowStyleCheck(s.item)?{...e.conditionalRowStyles}:null,children:k(s.item[t.Name],t)})})},t.Name)))]})}),e.columnPickerRequired?(0,y.jsx)("div",{className:"column-picker-div",children:(0,y.jsx)(d.qF,{className:"column-picker",initialized:t=>(t=>{e.columnPickerRequired&&(b.current=t)})(t)})}):null]}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)(d.Ne,{ref:j,className:"ml-auto mr-auto mt-3",headerFormat:s("WijmoGridPagingTemplate"),byPage:!0,cv:D})})]})})})})};R.defaultProps={sourceData:[],columns:[],exportRequired:!0,exportFileName:"Grid.xlsx",selectionRequired:!1,columnPickerRequired:!1,columnGroupingRequired:!1,rowsPerPage:10,terminalsToShow:2,singleSelection:!1,selectedItems:[]};const v=R,D=e=>(0,y.jsx)(v,{sourceData:e.data,columns:e.columns,exportRequired:e.exportRequired,exportFileName:e.exportFileName,columnPickerRequired:e.columnPickerRequired,selectionRequired:e.selectionRequired,columnGroupingRequired:e.columnGroupingRequired,conditionalRowStyleCheck:e.conditionalRowStyleCheck,conditionalRowStyles:e.conditionalRowStyles,rowsPerPage:e.rowsPerPage,onSelectionHandle:e.onSelectionHandle,onRowClick:e.onRowClick,parentComponent:e.parentComponent,terminalsToShow:e.terminalsToShow,singleSelection:e.singleSelection,selectedItems:e.selectedItems})},62851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var i=s(65043),o=s(69062),r=s(40854),a=s.n(r),n=s(72067),l=s(65187),c=s(43503),d=s(9256),h=s(40252),u=s(72711),m=s(67907),p=s(35861),g=s(70579);function S(e){let{user:t,modUser:s,validationErrors:i,onFieldChange:o,listOptions:r,onActiveStatusChange:a,isDisableGroupANDMakeRoleMandatory:n}=e;return(0,g.jsx)(m.TranslationConsumer,{children:e=>(0,g.jsxs)("div",{className:"detailsContainer",children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-12 mt-4",children:(0,g.jsx)("p",{className:"border-bottom-1 pb-2 deviceheaderLabel",children:e("UserInfo_PersonalInformation")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.FirstName,indicator:"required",disabled:""!==t.FirstName,onChange:e=>o("FirstName",e),label:e("UserAdmin_FirstName"),error:e(i.FirstName),reserveSpace:!1})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.LastName,indicator:"required",onChange:e=>o("LastName",e),label:e("UserAdmin_LastName"),error:e(i.LastName),reserveSpace:!1})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,placeholder:"Select",value:s.Culture,label:e("UserInfo_Language"),options:r.languageOptions,onChange:e=>o("Culture",e),error:e(i.Culture),reserveSpace:!1,search:!0,onResultsMessage:e("noResultsMessage")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.Phone,onChange:e=>o("Phone",e),label:e("UserAdmin_PhoneNumber"),error:e(i.Phone),reserveSpace:!1})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.Mobile,onChange:e=>o("Mobile",e),label:e("Cust_Mobile"),error:e(i.Mobile),reserveSpace:!1})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.Email,onChange:e=>o("Email",e),label:e("Cust_Email"),error:e(i.Email),reserveSpace:!1})}),"BSIAdmin"===s.RoleName?(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.ApplicationID,onChange:e=>o("ApplicationID",e),label:e("Cust_ApplicationID"),error:e(i.ApplicationID),reserveSpace:!1})}):null]}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-12 mt-4",children:(0,g.jsx)("p",{className:"border-bottom-1 pb-2 deviceheaderLabel",children:e("UserInfo_Account")})}),"1"===s.DomainName?(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.NewDomainName,onChange:e=>o("NewDomainName",e),label:e("UserInfo_DomainName"),error:e(i.NewDomainName),reserveSpace:!1,disabled:""!==t.FirstName})}):(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,placeholder:"Select",value:s.DomainName,label:e("UserInfo_DomainName"),options:r.domainNameOptions,onChange:e=>o("DomainName",e),error:e(i.DomainName),reserveSpace:!1,search:!0,onResultsMessage:e("noResultsMessage"),disabled:""!==t.FirstName})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.UserAccount,indicator:"required",disabled:""!==t.FirstName,onChange:e=>o("UserAccount",e),label:e("UserInfo_UserAccount"),error:e(i.UserAccount),reserveSpace:!1})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.Description,onChange:e=>o("Description",e),label:e("Cust_Description"),error:e(i.Description),reserveSpace:!1})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,placeholder:"Select",indicator:n?"required":"",value:s.RoleName,label:e("UserAdmin_ExplicitRole"),options:(0,p.r4)(r.roleOptions,e("Common_Select")),onChange:e=>o("RoleName",e),error:e(i.RoleName),reserveSpace:!1,search:!0,onResultsMessage:e("noResultsMessage")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,value:r.inheritedRoles,label:e("UserInfo_InheritedRoles"),options:r.inheritedRolesOptions,reserveSpace:!1,search:!0,onResultsMessage:e("noResultsMessage"),disabled:!0,multiple:!0})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4 checkboxSelect",children:(0,g.jsx)(u.Checkbox,{label:e("UserInfo_ServiceUser"),checked:!!s.IsServiceUser,onChange:e=>o("IsServiceUser",e)})})]}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-12 mt-4",children:(0,g.jsx)("p",{className:"border-bottom-1 pb-2 deviceheaderLabel",children:e("ShareholderListx_HeaderLabel")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,placeholder:"Select",indicator:"required",value:s.PrimaryShareholder,label:e("UserAdmin_PrimaryShareHolder"),options:r.shareholderOptions,onChange:e=>o("PrimaryShareholder",e),error:e(i.PrimaryShareholder),reserveSpace:!1,search:!0,onResultsMessage:e("noResultsMessage")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,placeholder:"Select",value:s.SecondaryShareholders,label:e("UserInfo_SecondaryShareholder"),options:r.secondaryShareholderOptions,onChange:e=>o("SecondaryShareholders",e),error:e(i.SecondaryShareholders),reserveSpace:!1,multiple:!0,search:!0,onResultsMessage:e("noResultsMessage")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("BaseProductList_Status"),value:s.Status,options:[{text:e("ViewShipment_Ok"),value:!0},{text:e("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>a(e),error:e(i.Status),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,g.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,g.jsx)(u.Input,{fluid:!0,value:s.Remarks,onChange:e=>o("Remarks",e),label:e("BaseProductList_Remarks"),error:e(i.Remarks),indicator:s.Status!==t.Status?"required":"",reserveSpace:!1})})]})]})})}S.defaultProps={listOptions:{languageOptions:[],domainNameOptions:[],roleOptions:[],shareholderOptions:[],secondaryShareholderOptions:[],inheritedRolesOptions:[],inheritedRoles:[]}};var C=s(46100),y=s(44192),R=(s(38726),s(97508)),v=s(93779),D=s(53536),f=s.n(D),x=s(80312);class E extends i.Component{constructor(){super(...arguments),this.state={user:f().cloneDeep(C.F2),modUser:{},validationErrors:o.Th(y.Oi),isReadyToRender:!1,saveEnabled:!1,attributeValidationErrors:[],languageOptions:[],domainNameOptions:[],isDisableGroupANDMakeRoleMandatory:!1,roleOptions:[],shareholderOptions:[],secondaryShareholderOptions:[],inheritedRolesOptions:[],inheritedRoles:[]},this.handleChange=(e,t)=>{try{const s=f().cloneDeep(this.state.modUser);s[e]=t;const i=f().cloneDeep(this.state.validationErrors);void 0!==y.Oi[e]&&(i[e]=o.jr(y.Oi[e],t),this.setState({validationErrors:i})),this.setState({modUser:s},(()=>{"PrimaryShareholder"===e&&this.removeSecondaryShareholderItem(t)}))}catch(s){console.log("UserDetailsComposite:Error occured on handleChange",s)}},this.handleActiveStatusChange=e=>{try{let t=f().cloneDeep(this.state.modUser);t.Status=e,t.Status!==this.state.user.Status&&(t.Remarks=""),this.setState({modUser:t})}catch(t){console.log("UserDetailsComposite:Error occured on handleActiveStatusChange",t)}},this.handleSave=()=>{try{this.setState({saveEnabled:!1});let e=this.fillDetails();this.validateSave(e)?""===this.state.user.FirstName?this.createUser(e):this.updateUser(e):this.setState({saveEnabled:!0})}catch(e){console.log("UserDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{const{validationErrors:e}={...this.state},t=f().cloneDeep(this.state.user);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modUser:{...t},selectedCompRow:[],validationErrors:e})}catch(e){console.log("UserDetailsComposite:Error occured on handleReset",e)}}}componentDidMount(){try{o.pJ(this.props.userDetails.EntityResult.IsArchived),this.getLanguages(),this.getDomainNames(),this.getLookUpData(),this.getSecurityRoles(),this.getShareholdersList(),this.getUser(this.props.selectedRow)}catch(e){console.log("UserDetailsComposite:Error occured on componentDidMount",e)}}componentWillReceiveProps(e){try{if(""!==this.state.user.FirstName&&void 0===e.selectedRow.PersonId&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo){this.getUser(e.selectedRow);let t={...this.state.validationErrors};Object.keys(t).forEach((e=>{t[e]=""})),this.setState({validationErrors:t})}}catch(t){console.log("UserDetailsComposite:Error occured on componentWillReceiveProps",t)}}getUser(e){if(C.F2.Culture=this.props.userDetails.EntityResult.UICulture,C.F2.DomainName="0",void 0!==e.PersonId){var t={KeyCodes:[{key:v.np,value:e.PersonId}]};a()(n.cuh,o.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;!0===s.IsSuccess?this.setState({isReadyToRender:!0,user:f().cloneDeep(s.EntityResult),modUser:f().cloneDeep(s.EntityResult),saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.modify,x.Yg)},(()=>{this.removeSecondaryShareholderItem(s.EntityResult.PrimaryShareholder),this.getInheritedRoles(e.PersonId),this.populateNewDomainName()})):(this.setState({user:f().cloneDeep(C.F2),modUser:f().cloneDeep(C.F2),isReadyToRender:!0}),console.log("Error in getUser:",s.ErrorList))})).catch((t=>{console.log("Error while getting User:",t,e)}))}else this.setState({user:f().cloneDeep(C.F2),modUser:f().cloneDeep(C.F2),isReadyToRender:!0,selectedAttributeList:[],saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.add,x.Yg)})}populateNewDomainName(){try{const e=f().cloneDeep(this.state.modUser);e.NewDomainName=e.DomainName,"0"===e.NewDomainName&&(e.NewDomainName="Select"),e.DomainName="1",this.setState({modUser:e})}catch(e){console.log("Error while populateNewDomainName",e)}}getLanguages(){a()(n.HLD,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=[];null!==t.EntityResult?(Object.keys(t.EntityResult).forEach((s=>e.push({text:t.EntityResult[s],value:s}))),this.setState({languageOptions:e})):console.log("No languages identified.")}else console.log("Error in getLanguages:",t.ErrorList)})).catch((e=>{console.log("Error while getting Languages:",e)}))}getDomainNames(){a()(n.tSv,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;let s=[];!0===t.IsSuccess&&null!==t.EntityResult&&Array.isArray(t.EntityResult)?(s=o.Zj(t.EntityResult),s.unshift({text:"Select",value:"0"},{text:"New Domain?",value:"1"}),this.setState({domainNameOptions:s})):(s.push({text:"Select",value:"0"},{text:"New Domain?",value:"1"}),this.setState({domainNameOptions:s}))})).catch((e=>{console.log("Error while getting DomainNames:",e)}))}getLookUpData(){try{a()(n.xAA+"?LookUpTypeCode=Security",o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&this.setState({isDisableGroupANDMakeRoleMandatory:"False"!==t.EntityResult.DisableGroupANDMakeRoleMandatory})}))}catch(e){console.log("UserDetailsComposite:Error occured on getLookUpData",e)}}getSecurityRoles(){a()(n.aDm,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=[];e=o.Zj(t.EntityResult),this.setState({roleOptions:e})}}else console.log("Error in getSecurityRoles:",t.ErrorList)})).catch((e=>{console.log("Error while getSecurityRoles:",e)}))}getShareholdersList(){a()(n.b7s,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult){let e=[],s=[];Object.keys(t.EntityResult).forEach((s=>{e.push({text:t.EntityResult[s],value:s})})),Object.keys(t.EntityResult).forEach((e=>{s.push({text:t.EntityResult[e],value:e})})),this.setState({shareholderOptions:e,secondaryShareholderOptions:s})}}else console.log("Error in getShareholdersList:",t.ErrorList)})).catch((e=>{console.log("Error while getShareholdersList:",e)}))}getInheritedRoles(e){a()(n.MhG+"?personID="+e,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){let e=[];e=o.Zj(t.EntityResult),this.setState({inheritedRolesOptions:e,inheritedRoles:t.EntityResult})}}else console.log("Error in getInheritedRoles:",t.ErrorList)})).catch((e=>{console.log("Error while getInheritedRoles:",e)}))}removeSecondaryShareholderItem(e){try{let t=f().cloneDeep(this.state.shareholderOptions);const s=f().cloneDeep(this.state.modUser);null!==s.SecondaryShareholders&&Array.isArray(s.SecondaryShareholders)&&(s.SecondaryShareholders=s.SecondaryShareholders.filter((function(t){return t!==e}))),this.setState({secondaryShareholderOptions:t.filter((function(t){return t.value!==e})),modUser:s})}catch(t){console.log("removeSecondaryShareholderItem:Error occured on handleChange",t)}}fillDetails(){try{let e=f().cloneDeep(this.state.modUser);return"1"===e.DomainName&&(e.DomainName=e.NewDomainName),"Select"!==e.DomainName&&void 0!==e.DomainName&&""!==e.DomainName||(e.DomainName=0),e}catch(e){console.log("UserDetailsComposite:Error occured on fillDetails",e)}}validateSave(e){try{const t={...this.state.validationErrors};return Object.keys(y.Oi).forEach((function(s){void 0!==e[s]&&(t[s]=o.jr(y.Oi[s],e[s]))})),e.Status!==this.state.user.Status&&(null!==e.Remarks&&""!==e.Remarks||(t.Remarks="BaseProductInfo_EnterRemarks")),this.state.isDisableGroupANDMakeRoleMandatory&&(void 0!==e.RoleName&&null!==e.RoleName&&""!==e.RoleName.toString().trim()||(t.RoleName="UserInfo_RoleRequired")),"bsiadmin"===e.RoleName.toLowerCase()&&(""!==e.Email&&null!==e.Email&&void 0!==e.Email||""!==e.ApplicationID&&null!==e.ApplicationID&&void 0!==e.ApplicationID||(t.Email="ERRMSG_SECURITYUSER_EMAIL_APPLICATIONID_EMPTY",t.ApplicationID="ERRMSG_SECURITYUSER_EMAIL_APPLICATIONID_EMPTY")),this.setState({validationErrors:t}),Object.values(t).every((function(e){return""===e}))}catch(t){console.log("UserDetailsComposite:Error occured on validateSave",t)}}createUser(e){let t={Entity:e},s={messageType:"critical",message:"UserInfo_Savedstatus",messageResultDetails:[{keyFields:["UserAdmin_FirstName"],keyValues:[e.FirstName],isSuccess:!1,errorMessage:""}]};a()(n.MNE,o.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.modify,x.Yg)},(()=>this.getUser({PersonId:t.EntityResult.PersonID}))):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.add,x.Yg)}),console.log("Error in createUser:",t.ErrorList)),this.props.onSaved(t.EntityResult,"add",s)})).catch((e=>{this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.add,x.Yg)}),s.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modUser,"add",s)}))}updateUser(e){let t={Entity:e},s={messageType:"critical",message:"UserInfo_Savedstatus",messageResultDetails:[{keyFields:["UserAdmin_FirstName"],keyValues:[e.FirstName],isSuccess:!1,errorMessage:""}]};a()(n.JtR,o.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{let i=t.data;s.messageType=i.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.modify,x.Yg)},(()=>this.getUser({PersonId:e.PersonID}))):(s.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.modify,x.Yg)}),console.log("Error in updateUser:",i.ErrorList)),this.props.onSaved(this.state.modUser,"update",s)})).catch((e=>{this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,x.i.modify,x.Yg)}),s.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modUser,"modify",s)}))}render(){const e={languageOptions:this.state.languageOptions,domainNameOptions:this.state.domainNameOptions,roleOptions:this.state.roleOptions,shareholderOptions:this.state.shareholderOptions,secondaryShareholderOptions:this.state.secondaryShareholderOptions,inheritedRolesOptions:this.state.inheritedRolesOptions,inheritedRoles:this.state.inheritedRoles},t=[{fieldName:"PipeLineHeaderInfo_LastUpdated",fieldValue:new Date(this.state.modUser.LastUpdated).toLocaleDateString()+" "+new Date(this.state.modUser.LastUpdated).toLocaleTimeString()},{fieldName:"PipeLineHeaderInfo_CreatedTime",fieldValue:new Date(this.state.modUser.CreationTime).toLocaleDateString()+" "+new Date(this.state.modUser.CreationTime).toLocaleTimeString()},{fieldName:"PipeLineHeaderInfo_LastActive",fieldValue:void 0!==this.state.modUser.LastActive&&null!==this.state.modUser.LastActive?new Date(this.state.modUser.LastActive).toLocaleDateString()+" "+new Date(this.state.modUser.LastActive).toLocaleTimeString():""}];return this.state.isReadyToRender?(0,g.jsxs)("div",{children:[(0,g.jsx)(l.A,{children:(0,g.jsx)(c.A,{entityCode:this.state.user.FirstName,newEntityName:"UserInfo_NewUser",popUpContents:t})}),(0,g.jsx)(l.A,{children:(0,g.jsx)(S,{user:this.state.user,modUser:this.state.modUser,listOptions:e,validationErrors:this.state.validationErrors,isDisableGroupANDMakeRoleMandatory:this.state.isDisableGroupANDMakeRoleMandatory,onFieldChange:this.handleChange,onActiveStatusChange:this.handleActiveStatusChange})}),(0,g.jsx)(l.A,{children:(0,g.jsx)(d.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})})]}):(0,g.jsx)(h.A,{message:"Loading"})}}const N=(0,R.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(E)},98620:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var i=s(65043),o=s(97508),r=s(66554),a=s(65187),n=s(40854),l=s.n(n),c=s(69062),d=s(72067),h=s(80312),u=s(40252),m=s(14159),p=(s(92342),s(63973),s(11981)),g=s(19380),S=s(70579);function C(e){let{tableData:t,columnDetails:s,pageSize:i,exportRequired:o,exportFileName:r,columnPickerRequired:a,columnGroupingRequired:n,terminalsToShow:l,selectionRequired:c,onSelectionChange:d,onRowClick:h,parentComponent:u}=e;return(0,S.jsx)(g.A,{data:t,columns:s,rowsPerPage:i,exportRequired:o,exportFileName:r,columnPickerRequired:a,columnGroupingRequired:n,terminalsToShow:l,selectionRequired:c,onSelectionHandle:d,onRowClick:h,parentComponent:u})}var y=s(62851),R=s(93779),v=s(62900);class D extends i.Component{constructor(){super(...arguments),this.state={isDetails:!1,isReadyToRender:!1,isDetailsModified:!1,operationsVisibilty:{add:!1,delete:!1,shareholder:!1},selectedRow:{},selectedItems:[],data:{},showAuthenticationLayout:!1},this.componentName="UserComponent",this.componentWillUnmount=()=>{c.D6(this.componentName+"GridState"),window.removeEventListener("beforeunload",(()=>c.D6(this.componentName+"GridState")))},this.handleAdd=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,e.add=!1,this.setState({isDetails:!0,selectedRow:{},operationsVisibilty:e})}catch(t){console.log("UsersComposite:Error occured on handleAdd",t)}},this.handleBack=()=>{try{var{operationsVisibilty:e}={...this.state};e.add=c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.add,h.Yg),e.delete=!1,this.setState({isDetails:!1,selectedRow:{},selectedItems:[],isReadyToRender:!1}),this.getUserList()}catch(t){console.log("UsersComposite:Error occured on Back click",t)}},this.handleRowClick=e=>{try{var{operationsVisibilty:t}={...this.state};t.add=c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.add,h.Yg),t.delete=c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.remove,h.Yg),this.setState({isDetails:!0,selectedRow:e,selectedItems:[e],operationsVisibilty:t})}catch(s){console.log("UsersComposite:Error occured on Row click",s)}},this.handleSelection=e=>{try{var{operationsVisibilty:t}={...this.state};t.delete=e.length>0&&c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.remove,h.Yg),this.setState({selectedItems:e,operationsVisibilty:t})}catch(s){console.log("UsersComposite:Error occured on handleSelection",s)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})},this.authenticateDelete=()=>{try{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showAuthenticationLayout:e}),!1===e&&this.handleDelete()}catch(e){console.log("UsersComposite : Error in authenticateDelete")}},this.handleDelete=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,this.setState({operationsVisibilty:e});for(var t=[],s=0;s<this.state.selectedItems.length;s++){var i=this.state.selectedItems[s].PersonId,o=this.state.selectedItems[s].FirstName,r={KeyCodes:[{Key:R.np,Value:i},{Key:R.Ge,Value:o}]};t.push(r)}l()(d.icc,c.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data,i=s.isSuccess;null!==s.ResultDataList&&void 0!==s.ResultDataList&&(i=s.ResultDataList.filter((function(e){return!e.IsSuccess})).length!==s.ResultDataList.length);var o=c.Cy(s,"UserInfo_Deletionstatus",["UserName"]);i?(this.setState({isReadyToRender:!1,showAuthenticationLayout:!1}),this.getUserList(),e.delete=!1,this.setState({selectedItems:[],operationsVisibilty:e,selectedRow:{}})):(e.delete=!0,this.setState({operationsVisibilty:e,showAuthenticationLayout:!1})),o.messageResultDetails.forEach((e=>{e.keyFields.length>0&&(e.keyFields[0]="WebPortal_UserName")})),(0,m.toast)((0,S.jsx)(a.A,{children:(0,S.jsx)(p.A,{notificationMessage:o})}),{autoClose:"success"===o.messageType&&1e4})})).catch((e=>{console.log("Error occured while deleting:"+e);var{operationsVisibilty:t}={...this.state};t.delete=!0,this.setState({operationsVisibilty:t,showAuthenticationLayout:!1})}))}catch(n){console.log("UsersComposite:Error occured on handleDelete",n)}},this.savedEvent=(e,t,s)=>{try{const o={...this.state.operationsVisibilty};if("success"===s.messageType&&(o.add=c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.add,h.Yg),o.delete=c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.remove,h.Yg),this.setState({isDetailsModified:!0,operationsVisibilty:o})),"success"===s.messageType&&"add"===t){var i=[{PersonId:e.PersonID,FirstName:e.FirstName}];this.setState({selectedItems:i})}(0,m.toast)((0,S.jsx)(a.A,{children:(0,S.jsx)(p.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}catch(o){console.log("UsersComposite:Error occured on savedEvent",o)}}}componentDidMount(){try{c.pJ(this.props.userDetails.EntityResult.IsArchived),this.getUserList();var{operationsVisibilty:e}={...this.state};e.add=c.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.add,h.Yg),this.setState({operationsVisibilty:e})}catch(t){console.log("UsersComposite:Error occured on componentDidMount",t)}window.addEventListener("beforeunload",(()=>c.D6(this.componentName+"GridState")))}getUserList(){l()(d.iUU,c.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({data:t.EntityResult,isReadyToRender:!0}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in getUserList:",t.ErrorList))})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getUserList:",e)}))}render(){return(0,S.jsxs)("div",{children:[(0,S.jsx)(a.A,{children:(0,S.jsx)(r.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,onDelete:this.authenticateDelete,onAdd:this.handleAdd,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),!0===this.state.isDetails?(0,S.jsx)(a.A,{children:(0,S.jsx)(y.default,{selectedRow:this.state.selectedRow,onBack:this.handleBack,onSaved:this.savedEvent})}):this.state.isReadyToRender?(0,S.jsx)("div",{children:(0,S.jsx)(a.A,{children:(0,S.jsx)(C,{tableData:this.state.data.Table,columnDetails:this.state.data.Column,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,exportRequired:!0,exportFileName:"UserList",columnPickerRequired:!0,terminalsToShow:this.props.userDetails.EntityResult.PageAttibutes.NoOfTerminalsToShow,selectionRequired:!0,columnGroupingRequired:!0,onSelectionChange:this.handleSelection,onRowClick:this.handleRowClick,parentComponent:this.componentName})})}):(0,S.jsx)(u.A,{message:"Loading"}),this.state.showAuthenticationLayout?(0,S.jsx)(v.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:h.i.remove,functionGroup:h.Yg,handleClose:this.handleAuthenticationClose,handleOperation:this.handleDelete}):null,(0,S.jsx)(a.A,{children:(0,S.jsx)(m.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const f=(0,o.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(D)},43503:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});s(65043);var i=s(67907),o=s(72711),r=s(70579);function a(e){let{entityCode:t,newEntityName:s,popUpContents:a}=e;return(0,r.jsx)(i.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(s):t})}),""!==t&&void 0!==t&&a.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(o.Popup,{element:(0,r.jsxs)("div",{children:[e(a[0].fieldName)+" ",":"," "+a[0].fieldValue,(0,r.jsx)(o.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(o.List,{className:"detailsHeaderPopUp",children:a.map((t=>(0,r.jsxs)(o.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}a.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const n=a},9256:(e,t,s)=>{"use strict";s.d(t,{q:()=>a});s(65043);var i=s(72711),o=s(67907),r=s(70579);function a(e){let{handleBack:t,handleSave:s,handleReset:a,saveEnabled:n}=e;return(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsxs)("div",{className:"row userActionPosition",children:[(0,r.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,r.jsx)(i.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,r.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,r.jsxs)("div",{style:{float:"right"},children:[(0,r.jsx)(i.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:a}),(0,r.jsx)(i.Button,{content:e("Save"),disabled:!n,onClick:s})]})})]})})}a.defaultProps={saveEnabled:!1}},80312:(e,t,s)=>{"use strict";s.d(t,{$3:()=>H,$H:()=>ie,$J:()=>me,$K:()=>ge,$V:()=>bt,$b:()=>vt,$p:()=>G,AE:()=>E,Al:()=>V,B2:()=>it,By:()=>Et,CW:()=>gt,DA:()=>l,Ee:()=>qe,FO:()=>P,Fy:()=>Te,G9:()=>st,H8:()=>ee,Hq:()=>nt,Ig:()=>L,Iu:()=>C,JI:()=>ct,JJ:()=>te,JU:()=>Y,Jz:()=>Ye,KQ:()=>ae,Kk:()=>Ze,Kw:()=>et,LP:()=>It,LR:()=>d,Lg:()=>K,Mg:()=>ve,Mm:()=>T,N1:()=>$,Nm:()=>p,No:()=>ce,Ow:()=>_,P2:()=>r,P8:()=>ye,PD:()=>Ae,PE:()=>h,PG:()=>J,PP:()=>mt,Pb:()=>Ue,QB:()=>D,QC:()=>Z,RE:()=>rt,RO:()=>Ke,Rc:()=>Ct,Rl:()=>Dt,Rx:()=>St,TI:()=>y,Tm:()=>pe,Ug:()=>X,Ur:()=>We,V9:()=>c,VK:()=>W,VL:()=>ue,VQ:()=>ne,WD:()=>Fe,Wf:()=>b,YO:()=>k,YY:()=>Pe,Yb:()=>Se,Yg:()=>He,Z9:()=>ut,ZE:()=>dt,ZU:()=>v,_N:()=>yt,_S:()=>wt,_d:()=>Pt,aS:()=>q,aZ:()=>ht,au:()=>xe,b0:()=>jt,bL:()=>Ve,c2:()=>Oe,d4:()=>Le,dB:()=>S,dD:()=>Ge,dK:()=>B,dY:()=>A,de:()=>u,dv:()=>we,eQ:()=>n,f3:()=>De,fF:()=>F,fL:()=>Rt,fN:()=>xt,fk:()=>w,fl:()=>Ce,fr:()=>f,go:()=>o,h:()=>he,hD:()=>j,hE:()=>I,hh:()=>Xe,hk:()=>re,hz:()=>pt,i:()=>i,j2:()=>at,jN:()=>z,je:()=>g,jx:()=>O,kL:()=>$e,ke:()=>_e,km:()=>le,l0:()=>oe,l6:()=>Be,lz:()=>U,m0:()=>R,nS:()=>Ne,nk:()=>lt,nn:()=>x,np:()=>Q,oh:()=>ot,op:()=>Je,pt:()=>Me,qk:()=>de,qp:()=>Re,r6:()=>je,rQ:()=>be,rj:()=>M,rp:()=>a,t3:()=>ft,tM:()=>ke,to:()=>kt,ts:()=>tt,uH:()=>fe,uy:()=>Qe,w1:()=>Ie,x5:()=>se,xz:()=>N,y_:()=>ze,yu:()=>m,yx:()=>Nt,z8:()=>Ee,z_:()=>At});const i={view:"view",add:"add",modify:"modify",remove:"remove"},o="carriercompany",r="driver",a="customer",n="trailer",l="originterminal",c="destination",d="primemover",h="vehicle",u="shipmentbycompartment",m="shipmentbyproduct",p="ViewShipmentStatus",g="vessel",S="order",C="OrderForceClose",y="contract",R="receiptplanbycompartment",v="ViewMarineShipment",D="MarineShipmentByCompartment",f="ViewMarineReceipt",x="supplier",E="finishedproduct",N="RailDispatch",j="RailReceipt",b="RailRoute",w="RailWagon",I="CloseRailDispatch",P="PrintRailBOL",A="PrintRailFAN",k="RailDispatchLoadSpotAssignment",U="RailDispatchProductAssignment",L="ViewRailDispatch",T="ViewRailLoadingDetails",F="CloseRailReceipt",M="PrintRailBOD",O="PrintRailRAN",V="ViewRailReceipt",G="ViewRailUnLoadingDetails",q="SMS",_="UnAccountedTransactionTank",W="UnAccountedTransactionMeter",B="PipelineDispatch",H="PipelineReceipt",z="PipelineDispatchManualEntry",Y="PipelineReceiptManualEntry",J="LookUpData",Q="HSEInspection",K="HSEInspectionConfig",$="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",se="SiteView",ie="LeakageManualEntry",oe="Terminal",re="SlotInformation",ae="TankGroup",ne="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",he="AccessCard",ue="ResetPin",me="SlotConfiguration",pe="PrintMarineFAN",ge="PrintMarineBOL",Se="ViewMarineLoadingDetails",Ce="ViewMarineShipmentAuditTrail",ye="CloseMarineShipment",Re="IssueCard",ve="ActivateCard",De="RevokeCard",fe="AutoIDAssociation",xe="MarineReceiptByCompartment",Ee="PrintMarineRAN",Ne="PrintMarineBOD",je="ViewMarineUnloadingDetails",be="ViewMarineReceiptAuditTrail",we="CloseMarineReceipt",Ie="WeekendConfig",Pe="EODAdmin",Ae="PrintBOL",ke="PrintFAN",Ue="PrintBOD",Le="CloseShipment",Te="CloseReceipt",Fe="CONTRACTFORCECLOSE",Me="Captain",Oe="OverrideShipmentSequence",Ve="KPIInformation",Ge="Language",qe="WebPortalUserMap",_e="BayGroup",We="PipelineHeaderSiteView",Be="TankMonitor",He="PersonAdmin",ze="ProductReconciliationReports",Ye="ReportConfiguration",Je="EXECONFIGURATION",Qe="ShareholderAllocation",Ke="NotificationGroup",$e="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",st="ShareholderAgreement",it="TANKSHAREHOLDERPRIMEFUNCTION",ot="ROLEADMIN",rt="ShiftConfig",at="PrinterConfiguration",nt="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",ht="PipelineMeterSiteView",ut="RailSiteView",mt="MarineSiteView",pt="LoadingDetails",gt="UnloadingDetails",St="RoadHSEInspection",Ct="RoadHSEInspectionConfig",yt="MarineHSEInspection",Rt="MarineHSEInspectionConfig",vt="RailHSEInspection",Dt="RailHSEInspectionConfig",ft="PipelineHSEInspection",xt="PipelineHSEInspectionConfig",Et="PrintRAN",Nt="ViewReceiptStatus",jt="customerrecipe",bt="COAParameter",wt="COATemplate",It="COAManagement",Pt="COACustomer",At="COAAssignment",kt="ProductForecastConfiguration"},93779:(e,t,s)=>{"use strict";s.d(t,{$A:()=>A,$L:()=>lt,$Q:()=>Ge,Ae:()=>Ie,BX:()=>re,Bl:()=>pe,Bv:()=>Ce,Bw:()=>Z,Cb:()=>I,Cg:()=>b,DN:()=>rt,D_:()=>at,Dm:()=>k,E7:()=>Q,EW:()=>L,FN:()=>oe,FR:()=>r,FY:()=>pt,GA:()=>qe,GT:()=>v,Ge:()=>Ue,HB:()=>ae,JQ:()=>J,KJ:()=>ee,Kz:()=>B,Ln:()=>W,M$:()=>We,O5:()=>tt,Of:()=>De,Oo:()=>st,Pk:()=>Se,Pm:()=>$,Q5:()=>ct,QK:()=>Be,QV:()=>Ze,QZ:()=>dt,Qu:()=>se,RX:()=>be,Rb:()=>q,Rp:()=>x,SP:()=>g,T5:()=>Fe,UB:()=>y,UT:()=>l,Ui:()=>z,VA:()=>G,Vk:()=>xe,Wb:()=>Ee,Wv:()=>fe,X3:()=>Je,Y4:()=>_,Yl:()=>it,Zx:()=>K,_B:()=>ye,_C:()=>w,_R:()=>ge,_j:()=>de,_n:()=>i,aM:()=>F,aW:()=>Ve,bW:()=>V,c4:()=>ot,cD:()=>n,c_:()=>N,cx:()=>O,dL:()=>ht,eE:()=>le,eS:()=>ze,eT:()=>f,f:()=>U,f7:()=>me,fR:()=>he,g1:()=>ce,gN:()=>Qe,gO:()=>H,iH:()=>nt,ij:()=>et,j1:()=>j,jC:()=>Re,je:()=>ue,jz:()=>ne,ll:()=>Xe,mM:()=>R,mO:()=>mt,mW:()=>Te,ml:()=>S,mm:()=>$e,nB:()=>te,nT:()=>Le,np:()=>ke,oA:()=>E,oG:()=>Ye,oV:()=>X,ok:()=>h,oy:()=>c,pL:()=>Pe,pe:()=>_e,pw:()=>He,qF:()=>a,qQ:()=>ut,qp:()=>u,s0:()=>D,sA:()=>we,st:()=>ie,tY:()=>T,uw:()=>Y,v6:()=>o,vL:()=>Me,vf:()=>Ae,wH:()=>Ke,wO:()=>ve,wX:()=>M,x4:()=>Ne,xf:()=>m,xy:()=>d,yI:()=>C,yV:()=>P,yz:()=>p,zL:()=>je,zf:()=>Oe});const i="CarrierCode",o="TransportationType",r="ShareHolderCode",a="DriverCode",n="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",h="VehicleCode",u="DestinationCode",m="FinishedProductCode",p="ShipmentCode",g="OrderCode",S="ReceiptCode",C="MarineDispatchCode",y="MarineReceiptCode",R="SupplierCode",v="ContractCode",D="RailDispatchCode",f="RailReceiptCode",x="RailRouteCode",E="WagonCode",N="CompartmentCode",j="SMSConfigurationCode",b="PipelineDispatchCode",w="PipelineReceiptCode",I="EmailConfigurationCode",P="BaseProductCode",A="LocationCode",k="SiteViewType",U="EntityCode",L="EntityType",T="CardReaderCode",F="AccessCardCode",M="BcuCode",O="DeuCode",V="WeighBridgeCode",G="Weight",q="OutOfToleranceAllowed",_="LoadingArmCode",W="TransportationType",B="BayCode",H="TransactionNumber",z="BatchNumber",Y="TerminalCode",J="TankGroupCode",Q="TankCode",K="MeterCode",$="ShipmentType",Z="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",se="FPTransactionID",ie="ProductCategoryType",oe="Reason",re="SealMasterCode",ae="Reason",ne="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",he="AdjustedPlanQuantity",ue="ForceComplete",me="DispatchStatus",pe="HolidayDate",ge="ActionID",Se="EODTimePrev",Ce="TerminalAction",ye="EODTime",Re="MonthStartDay",ve="CaptainCode",De="GeneralTMUserType",fe="GeneralTMUserCode",xe="IsPriority",Ee="ActualTerminalCode",Ne="ShipmentBondNo",je="ReceiptBondNo",be="DeviceType",we="DeviceCode",Ie="BayGroup",Pe="PipelineHeaderCode",Ae="ExchangePartner",ke="PersonID",Ue="UserName",Le="PipelinePlanCode",Te="PipelinePlanType",Fe="ChannelCode",Me="ProcessName",Oe="ReconciliationCode",Ve="NotificationGroupCode",Ge="NotificationGroupStatus",qe="NotificationGroupDesc",_e="NotificationResSource",We="NotificationResMsgCode",Be="NotificationOrigResSource",He="NotificationOrigResMsgCode",ze="NotificationMessageCode",Ye="PositionType",Je="ExchangeAgreementCode",Qe="ProductTransferAgreementCode",Ke="ShareholderAgreementStatus",$e="RequestorShareholder",Ze="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",st="ShiftName",it="PrinterName",ot="LocationType",rt="ForceClosureReason",at="TransactionType",nt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ht="COAManagementFinishedProductCode",ut="COASeqNumber",mt="ForecastDate",pt="ForecastTanks"},35861:(e,t,s)=>{"use strict";s.d(t,{F1:()=>n,i7:()=>l,r4:()=>a});var i=s(86178),o=s.n(i),r=(s(15660),s(65043),s(70579));function a(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function n(){let e=window.navigator.userLanguage||window.navigator.language;return o().locale(e),o().localeData().longDateFormat("L")}function l(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}},50477:()=>{}}]);
//# sourceMappingURL=7534.2c366945.chunk.js.map