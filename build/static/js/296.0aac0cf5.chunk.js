"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[296,6001,8382,735,3116,3235,5973,8354],{296:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(65043),i=a(67907),o=a(72711),r=a(35861),n=a(65187),l=a(85800),c=a(70579);function d(e){let{modAccountedMeterTransaction:t,listOptions:a,validationErrors:s,onFieldChange:d,isEnterpriseNode:u,selectedAttributeList:E,attributeValidationErrors:h,handleCellDataEdit:T}=e;const p=(e,t)=>{let a=[];return a=e.find((e=>e.TerminalCode===t)),a.attributeValidationErrors};return(0,c.jsx)(i.TranslationConsumer,{children:e=>(0,c.jsxs)("div",{className:"detailsContainer",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Reconciliation_Meter"),indicator:"required",value:t.MeterCode,options:a.meterCodeOptions,onChange:e=>d("MeterCode",e),reserveSpace:!1,error:e(s.MeterCode),noResultsMessage:e("noResultsMessage")})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Reconciliation_UnAccountedType"),indicator:"required",options:a.transactionTypeOptions,reserveSpace:!1,onChange:e=>d("UnAccountedTransactionTypeCode",e),value:t.UnAccountedTransactionTypeCode,error:e(s.UnAccountedTransactionTypeCode),noResultsMessage:e("noResultsMessage")})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Vehicle_Transport"),indicator:"required",options:a.transportationTypeOptions,onChange:e=>d("TransportationType",e),value:t.TransportationType,error:e(s.TransportationType),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Reconciliation_QuantityUOM"),indicator:"required",onChange:e=>d("QuantityUOM",e),search:!0,options:a.quantityUOMOptions,reserveSpace:!1,value:t.QuantityUOM,error:e(s.QuantityUOM)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_Quantity"),onChange:e=>d("UnAccountedGrossQuantity",e),reserveSpace:!1,value:t.UnAccountedGrossQuantity,error:e(s.UnAccountedGrossQuantity)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_NetQuantity"),onChange:e=>d("UnAccountedNetQuantity",e),reserveSpace:!1,value:t.UnAccountedNetQuantity,error:e(s.UnAccountedNetQuantity)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_Density"),onChange:e=>d("Density",e),reserveSpace:!1,value:t.Density,error:e(s.Density)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Reconciliation_DensityUOM"),indicator:"required",options:a.densityUOMOptions,reserveSpace:!1,search:!0,onChange:e=>d("DensityUOM",e),value:t.DensityUOM,error:e(s.DensityUOM)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_StartGrossTotalizer"),onChange:e=>d("GrossStartTotalizer",e),reserveSpace:!1,value:t.GrossStartTotalizer,error:e(s.GrossStartTotalizer)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_EndGrossTotalizer"),onChange:e=>d("GrossEndTotalizer",e),reserveSpace:!1,value:t.GrossEndTotalizer,error:e(s.GrossEndTotalizer)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_StartNetTotalizer"),onChange:e=>d("NetStartTotalizer",e),reserveSpace:!1,value:t.NetStartTotalizer,error:e(s.NetStartTotalizer)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,indicator:"required",label:e("Reconciliation_EndNetTotalizer"),onChange:e=>d("NetEndTotalizer",e),reserveSpace:!1,value:t.NetEndTotalizer,error:e(s.NetEndTotalizer)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.DatePicker,{fluid:!0,label:e("Reconciliation_StartTime"),type:"datetime",minuteStep:"5",indicator:"required",onChange:e=>d("TransactionStartTime",e),displayFormat:(0,r.F1)(),reserveSpace:!1,value:null===t.TransactionStartTime?"":t.TransactionStartTime,error:e(s.TransactionStartTime)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.DatePicker,{fluid:!0,label:e("Reconciliation_EndTime"),type:"datetime",minuteStep:"5",indicator:"required",onChange:e=>d("TransactionEndTime",e),displayFormat:(0,r.F1)(),reserveSpace:!1,value:null===t.TransactionEndTime?"":t.TransactionEndTime,error:e(s.TransactionEndTime)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Reconciliation_Tank"),indicator:"required",options:a.tankCodeOptions,reserveSpace:!1,onChange:e=>d("TankCode",e),value:t.TankCode,error:e(s.TankCode)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Input,{fluid:!0,label:e("Reconciliation_Comments"),onChange:e=>d("Comments",e),reserveSpace:!1,value:t.Comments,error:e(s.Comments)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("Reconciliation_BaseProduct"),indicator:"required",options:a.baseProdcutOptions,reserveSpace:!1,onChange:e=>d("BaseProductCode",e),value:t.BaseProductCode,error:e(s.BaseProductCode)})})]}),E.length>0?E.map((t=>(0,c.jsx)(n.A,{children:(0,c.jsx)(o.Accordion,{children:(0,c.jsx)(o.Accordion.Content,{className:"attributeAccordian",title:u?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,c.jsx)(l.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:T,attributeValidationErrors:p(h,t.TerminalCode)})})})}))):null]})})}d.defaultProps={listOptions:{quantityUOMOptions:[],densityUOMOptions:[],meterCodeOptions:[],transactionTypeOptions:[],baseProdcutOptions:[],tankCodeOptions:[],transportationTypeOptions:[]}};var u=a(9256),E=a(69062),h=a(40854),T=a.n(h),p=a(7523),A=a(72067),N=a(9966),I=a(50805),S=a(97508),C=(a(38726),a(43503)),m=a(44192),D=a(80312),y=a(53536),R=a.n(y),v=a(46100),O=a(40252),M=a(15417),L=a(62900);class g extends s.Component{constructor(){super(...arguments),this.state={AccountedMeterTransaction:R().cloneDeep(v.Nv),modAccountedMeterTransaction:R().cloneDeep(v.Nv),emptyAccountedMeterTransaction:R().cloneDeep(v.Nv),isReadyToRender:!0,saveEnabled:!1,meterCodeOptions:[],meterCodeSearchOptions:[],transactionTypeOptions:[],baseProdcutOptions:[],quantityUOMOptions:[],densityUOMOptions:[],tankCodeOptions:[],transportationTypeOptions:[],attributeMetaDataList:[],selectedAttributeList:[],attributeValidationErrors:[],validationErrors:E.Th(m.Je),showAuthenticationLayout:!1,tempAccountedMeterTransaction:{}},this.handleReset=()=>{try{const e={...this.state.validationErrors},t=R().cloneDeep(this.state.AccountedMeterTransaction);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modAccountedMeterTransaction:{...t},validationErrors:e,selectedAttributeList:[]},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?(this.terminalSelectionChange([]),this.handleResetAttributeValidationError()):(this.localNodeAttribute(),this.handleResetAttributeValidationError())}))}catch(e){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on handleReset",e)}},this.componentWillReceiveProps=e=>{try{""!==this.state.AccountedMeterTransaction.MeterCode&&void 0===e.selectedRow.Common_Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo&&this.setState({modAccountedMeterTransaction:v.Nv,AccountedMeterTransaction:v.Nv,saveEnabled:!0,selectedAttributeList:[]},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?(this.terminalSelectionChange([]),this.handleResetAttributeValidationError()):(this.localNodeAttribute(),this.handleResetAttributeValidationError())}))}catch(t){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on componentWillReceiveProps",t)}},this.handleChange=(e,t)=>{try{const a=R().cloneDeep(this.state.modAccountedMeterTransaction),s=R().cloneDeep(this.state.validationErrors);a[e]=t,this.setState({modAccountedMeterTransaction:a}),void 0!==m.Je[e]&&(s[e]=E.jr(m.Je[e],t),this.setState({validationErrors:s}))}catch(a){console.log("CustomerDetailsComposite:Error occured on handleChange",a)}},this.handleAddTransaction=()=>{let e=R().cloneDeep(this.state.tempAccountedMeterTransaction);this.CreateUnAccountedMeterTransaction(e)},this.handleSave=()=>{try{let e=this.fillDetails(),t=E.pI(this.state.selectedAttributeList);if(this.validateSave(t)){e=this.convertStringtoDecimal(e,t);let a=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,s=R().cloneDeep(e);this.setState({showAuthenticationLayout:a,tempAccountedMeterTransaction:s},(()=>{!1===a&&this.handleAddTransaction()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("CustomerDetailsComposite:Error occured on handleSave",e)}},this.handleCellDataEdit=(e,t)=>{try{e.DefaultValue=t,this.setState({attribute:e});const a=R().cloneDeep(this.state.attributeValidationErrors);a.forEach((a=>{a.TerminalCode===e.TerminalCode&&(a.attributeValidationErrors[e.Code]=E.I5(e,t))})),this.setState({attributeValidationErrors:a})}catch(a){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on handleCellDataEdit",a)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}componentDidMount(){try{this.props.onRef(this),E.pJ(this.props.userDetails.EntityResult.IsArchived),this.getAttributes(),this.GetUOMList(),this.GetMeterCode(),this.GetBaseProductsList(),this.GetUnAccountedTransactionTypeList(),this.GetTransportationTypeOptions(),this.GetTankList();let e=R().cloneDeep(this.state.emptyAccountedMeterTransaction);e.ShareholderCode=this.props.selectedShareholder,this.setState({saveEnabled:E.ab(this.props.userDetails.EntityResult.FunctionsList,D.i.add,D.VK),modAccountedMeterTransaction:e})}catch(e){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on componentDidMount",e)}}ReSetData(){this.setState({modAccountedMeterTransaction:R().cloneDeep(v.Nv),saveEnabled:!0})}GetTransportationTypeOptions(){const e=[];for(let t in p.LY)t!==p.LY.PIPELINE&&e.push(t);this.setState({transportationTypeOptions:E.Zj(e)})}GetUOMList(){T()(A.WFM,E.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult){let e=[],a=[];if(Array.isArray(t.EntityResult.VOLUME)&&(e=E.Zj(t.EntityResult.VOLUME)),Array.isArray(t.EntityResult.MASS)){E.Zj(t.EntityResult.MASS).forEach((t=>e.push(t)))}Array.isArray(t.EntityResult.DENSITY)&&(a=E.Zj(t.EntityResult.DENSITY)),this.setState({quantityUOMOptions:e,densityUOMOptions:a})}}else console.log("Error in GetUOMList:",t.ErrorList)})).catch((e=>{console.log("Error while getting GetUOMList:",e)}))}GetMeterCode(){T()(A.ndF,E.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){const e=E.Zj(t.EntityResult);let a=R().cloneDeep(e);a.length>p.bM&&(a=a.slice(0,p.bM)),this.setState({meterCodeOptions:e,meterCodeSearchOptions:a})}}else console.log("Error in getMeterCode:",t.ErrorList)})).catch((e=>{console.log("Error in getMeterCode:",e)}))}GetUnAccountedTransactionTypeList(){T()(A.Fx7,E.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult){var a=t.EntityResult.Meter;let e=[];a.forEach((t=>{e.push({text:t,value:t})})),this.setState({transactionTypeOptions:e})}}else console.log("Error in GetUnAccountedTransactionTypeList:",t.ErrorList)})).catch((e=>{console.log("Error while getting GetUnAccountedTransactionTypeList:",e)}))}GetBaseProductsList(){T()(A.mD_,E.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;let a=[];!0===t.IsSuccess?(null!==t.EntityResult&&Object.keys(t.EntityResult).forEach((e=>{void 0!==t.EntityResult[e]&&Array.isArray(t.EntityResult[e])&&(a=a.concat(E.Zj(t.EntityResult[e])))})),this.setState({baseProdcutOptions:a})):console.log("Error in GetBaseProductsList:",t.ErrorList),this.getAdditivesList(a)})).catch((e=>{console.log("Error while getting GetBaseProductsList:",e)}))}getAdditivesList(e){T()(A.Oyd,E.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;if(!0===a.IsSuccess){if(null!==a.EntityResult&&void 0!==a.EntityResult){E.Zj(a.EntityResult.ALLPROD).forEach((t=>e.push(t))),this.setState({baseProdcutOptions:e})}}else console.log("Error in getAdditivesList:",a.ErrorList)})).catch((e=>{console.log("Error while getting Additives List:",e)}))}validateSave(e){const{modAccountedMeterTransaction:t}=this.state;var a=R().cloneDeep(this.state.validationErrors);Object.keys(m.Je).forEach((function(e){a[e]=E.jr(m.Je[e],t[e])})),this.setState({validationErrors:a});var s=R().cloneDeep(this.state.attributeValidationErrors);e.forEach((e=>{s.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=E.I5(e,e.DefaultValue)}))}))})),this.setState({validationErrors:a,attributeValidationErrors:s});var i=!0;return s.forEach((e=>{if(!i)return i;i=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),i&&(i=Object.values(a).every((function(e){return""===e}))),i}CreateUnAccountedMeterTransaction(e){this.handleAuthenticationClose(),this.setState({saveEnabled:!1});var t={ShareHolderCode:this.props.selectedShareholder,Entity:e},a={messageType:"critical",message:"UnAccountedTransactionMeter_SavedStatus",messageResultDetails:[{keyFields:["meterCodeOptions"],keyValues:[e.MeterCode],isSuccess:!1,errorMessage:""}]};T()(A.$YN,E.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:!1,AccountedMeterTransaction:e}):(a.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:E.ab(this.props.userDetails.EntityResult.FunctionsList,D.i.add,D.VK)}),console.log("Error in createAccountedMeterTransaction:",s.ErrorList)),this.props.onSaved(e,"add",a)})).catch((t=>{this.setState({saveEnabled:E.ab(this.props.userDetails.EntityResult.FunctionsList,D.i.add,D.VK)}),a.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",a)}))}GetTankList(){T()(A.Ibp+"?ShareholderCode="+this.props.selectedShareholder,E.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=[];null!==t.EntityResult&&(e=E.Zj(t.EntityResult)),this.setState({tankCodeOptions:e})}else console.log("Error in GetTankList:",t.ErrorList)})).catch((e=>{console.log("Error while getting GetTankList:",e)}))}fillDetails(){try{let e=R().cloneDeep(this.state.modAccountedMeterTransaction);return e.ShareholderCode=this.props.selectedShareholder,null!==e.Density&&""!==e.Density&&(e.Density=e.Density.toLocaleString()),null!==e.UnAccountedNetQuantity&&""!==e.UnAccountedNetQuantity&&(e.UnAccountedNetQuantity=e.UnAccountedNetQuantity.toLocaleString()),null!==e.UnAccountedGrossQuantity&&""!==e.UnAccountedGrossQuantity&&(e.UnAccountedGrossQuantity=e.UnAccountedGrossQuantity.toLocaleString()),null!==e.GrossStartTotalizer&&""!==e.GrossStartTotalizer&&(e.GrossStartTotalizer=e.GrossStartTotalizer.toLocaleString()),null!==e.GrossEndTotalizer&&""!==e.GrossEndTotalizer&&(e.GrossEndTotalizer=e.GrossEndTotalizer.toLocaleString()),null!==e.NetStartTotalizer&&""!==e.NetStartTotalizer&&(e.NetStartTotalizer=e.NetStartTotalizer.toLocaleString()),null!==e.NetEndTotalizer&&""!==e.NetEndTotalizer&&(e.NetEndTotalizer=e.NetEndTotalizer.toLocaleString()),this.setState({modAccountedMeterTransaction:e}),e}catch(e){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on fillDetails",e)}}getAttributes(){try{T()(A.fKH,E.tW([M.TQ],this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({attributeMetaDataList:R().cloneDeep(t.EntityResult),attributeValidationErrors:E.Fl(t.EntityResult.UNACCOUNTEDMETERTRANSACTION)},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?this.terminalSelectionChange([]):this.localNodeAttribute()})):console.log("UnAccountedTransactionMeterDetailsComposite:Error in getAttributes:")}))}catch(e){console.log("UnAccountedTransactionMeterDetailsComposite:Error while getAttributes:",e)}}convertStringtoDecimal(e,t){try{return null!==e.UnAccountedGrossQuantity&&""!==e.UnAccountedGrossQuantity&&(e.UnAccountedGrossQuantity=E.bo(e.UnAccountedGrossQuantity)),null!==e.UnAccountedNetQuantity&&""!==e.UnAccountedNetQuantity&&(e.UnAccountedNetQuantity=E.bo(e.UnAccountedNetQuantity)),null!==e.Density&&""!==e.Density&&(e.Density=E.bo(e.Density)),null!==e.GrossStartTotalizer&&""!==e.GrossStartTotalizer&&(e.GrossStartTotalizer=E.bo(e.GrossStartTotalizer)),null!==e.GrossEndTotalizer&&""!==e.GrossEndTotalizer&&(e.GrossEndTotalizer=E.bo(e.GrossEndTotalizer)),null!==e.NetStartTotalizer&&""!==e.NetStartTotalizer&&(e.NetStartTotalizer=E.bo(e.NetStartTotalizer)),null!==e.NetEndTotalizer&&""!==e.NetEndTotalizer&&(e.NetEndTotalizer=E.bo(e.NetEndTotalizer)),e=this.fillAttributeDetails(e,t)}catch(a){console.log("UnAccountedTransactionMeterDetailsComposite:convertStringtoDecimal error modAccountedMeterTransaction Details",a)}}fillAttributeDetails(e,t){try{return t=E.SC(t),e.Attributes=[],t.forEach((t=>{let a={ListOfAttributeData:[]};a.TerminalCode=t.TerminalCode,t.attributeMetaDataList.forEach((e=>{a.ListOfAttributeData.push({AttributeCode:e.Code,AttributeValue:e.DefaultValue})})),e.Attributes.push(a)})),this.setState({modAccountedMeterTransaction:e}),e}catch(a){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on fillAttributeDetails",a)}}terminalSelectionChange(e){try{if(void 0!==e&&null!==e){let i=[];var t=[],a=[];t=R().cloneDeep(this.state.attributeMetaDataList),a=R().cloneDeep(this.state.selectedAttributeList);const o=R().cloneDeep(this.state.attributeValidationErrors);var s=R().cloneDeep(this.state.modAccountedMeterTransaction);e.forEach((e=>{var o=a.find((t=>t.TerminalCode===e));void 0===o?t.UNACCOUNTEDMETERTRANSACTION.forEach((function(t){if(t.TerminalCode===e){var a=s.Attributes.find((t=>t.TerminalCode===e));void 0!==a&&t.attributeMetaDataList.forEach((function(e){var t=a.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),i.push(t)}})):i.push(o)})),a=[],a=i,a=E.nQ(a),o.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({selectedAttributeList:a,attributeValidationErrors:o})}}catch(i){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on terminalSelectionChange",i)}}localNodeAttribute(){try{var e=R().cloneDeep(this.state.attributeMetaDataList);Array.isArray(e.UNACCOUNTEDMETERTRANSACTION)&&e.UNACCOUNTEDMETERTRANSACTION.length>0&&this.terminalSelectionChange([e.UNACCOUNTEDMETERTRANSACTION[0].TerminalCode])}catch(t){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on localNodeAttribute",t)}}handleResetAttributeValidationError(){try{var e=R().cloneDeep(this.state.attributeMetaDataList);this.setState({attributeValidationErrors:E.Fl(e.UNACCOUNTEDMETERTRANSACTION)})}catch(t){console.log("UnAccountedTransactionMeterDetailsComposite:Error occured on handleReset",t)}}render(){return this.state.isReadyToRender?(0,c.jsxs)("div",{children:[(0,c.jsx)(n.A,{children:(0,c.jsx)(C.A,{newEntityName:"MeterUnaccountedTransaction_Header"})}),(0,c.jsx)(n.A,{children:(0,c.jsx)(d,{modAccountedMeterTransaction:this.state.modAccountedMeterTransaction,listOptions:{quantityUOMOptions:this.state.quantityUOMOptions,densityUOMOptions:this.state.densityUOMOptions,meterCodeOptions:this.state.meterCodeOptions,transactionTypeOptions:this.state.transactionTypeOptions,baseProdcutOptions:this.state.baseProdcutOptions,tankCodeOptions:this.state.tankCodeOptions,transportationTypeOptions:this.state.transportationTypeOptions},onFieldChange:this.handleChange,validationErrors:this.state.validationErrors,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,attributeValidationErrors:this.state.attributeValidationErrors,selectedAttributeList:this.state.selectedAttributeList,handleCellDataEdit:this.handleCellDataEdit})}),(0,c.jsx)(n.A,{children:(0,c.jsx)(u.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),this.state.showAuthenticationLayout?(0,c.jsx)(L.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:D.i.add,functionGroup:D.VK,handleOperation:this.handleAddTransaction,handleClose:this.handleAuthenticationClose}):null]}):(0,c.jsx)(O.A,{message:"Loading"})}}const b=(0,S.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})),(e=>({userActions:(0,I.zH)(N,e)})))(g)},43503:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var s=a(67907),i=a(72711),o=a(70579);function r(e){let{entityCode:t,newEntityName:a,popUpContents:r}=e;return(0,o.jsx)(s.TranslationConsumer,{children:e=>(0,o.jsx)("div",{className:"headerContainer",children:(0,o.jsxs)("div",{className:"row headerSpacing",children:[(0,o.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,o.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(a):t})}),""!==t&&void 0!==t&&r.length>0?(0,o.jsx)("div",{className:"headerItemRight",children:(0,o.jsx)(i.Popup,{element:(0,o.jsxs)("div",{children:[e(r[0].fieldName)+" ",":"," "+r[0].fieldValue,(0,o.jsx)(i.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,o.jsx)(i.List,{className:"detailsHeaderPopUp",children:r.map((t=>(0,o.jsxs)(i.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}r.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const n=r},9256:(e,t,a)=>{a.d(t,{q:()=>r});a(65043);var s=a(72711),i=a(67907),o=a(70579);function r(e){let{handleBack:t,handleSave:a,handleReset:r,saveEnabled:n}=e;return(0,o.jsx)(i.TranslationConsumer,{children:e=>(0,o.jsxs)("div",{className:"row userActionPosition",children:[(0,o.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,o.jsx)(s.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,o.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,o.jsxs)("div",{style:{float:"right"},children:[(0,o.jsx)(s.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:r}),(0,o.jsx)(s.Button,{content:e("Save"),disabled:!n,onClick:a})]})})]})})}r.defaultProps={saveEnabled:!1}},85800:(e,t,a)=>{a.d(t,{n:()=>l});a(65043);var s=a(72711),i=a(67907),o=a(7523),r=a(35861),n=a(70579);function l(e){let{selectedAttributeList:t,handleCellDataEdit:a,attributeValidationErrors:l}=e;const c=e=>{if("0000-00-00"===e.DefaultValue)return d(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},d=(e,t)=>{var s=new Date(t);t=s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2),a(e,t)};return(0,n.jsx)(i.TranslationConsumer,{children:e=>(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,n.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===o.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==o.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==o.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==o.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==o.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===o.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(s.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>a(t,e)})}):t.DataType.toLowerCase()===o.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(s.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":c(t),label:e(t.DisplayName),displayFormat:(0,r.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>d(t,e),onTextChange:e=>{d(t,e)},error:e(l[t.Code]),reserveSpace:!1})}):null:(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})}):(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,a)=>{a.d(t,{$7:()=>b,AN:()=>ae,AU:()=>M,Ak:()=>Qe,Ao:()=>s,B6:()=>J,C4:()=>He,CG:()=>Y,Ct:()=>q,Cw:()=>G,EY:()=>v,G$:()=>Je,G6:()=>$e,GF:()=>he,GJ:()=>j,Gj:()=>ue,Gl:()=>oe,H9:()=>We,HB:()=>Oe,HP:()=>R,Hr:()=>ve,II:()=>it,IQ:()=>C,Jr:()=>F,Jx:()=>Se,Ki:()=>te,LP:()=>ie,Lv:()=>o,MK:()=>N,MX:()=>ee,Mx:()=>B,N4:()=>Ue,NH:()=>Ie,OF:()=>Ke,Ps:()=>V,Q7:()=>qe,QY:()=>H,SF:()=>r,Sq:()=>ye,Sw:()=>ne,TQ:()=>X,U7:()=>O,UH:()=>A,UO:()=>re,V_:()=>ge,Vy:()=>ke,W9:()=>ce,WN:()=>S,Wr:()=>i,Ww:()=>$,XP:()=>Le,Xk:()=>W,Yb:()=>De,Yy:()=>T,Z2:()=>je,ZN:()=>P,ZO:()=>me,Zu:()=>Fe,_G:()=>_,_N:()=>u,_u:()=>de,ad:()=>le,al:()=>Ce,ao:()=>k,bK:()=>Q,bN:()=>I,cf:()=>f,dO:()=>be,dU:()=>h,dv:()=>n,eE:()=>Z,g:()=>y,gG:()=>l,gS:()=>Me,gT:()=>at,gW:()=>K,gZ:()=>Xe,go:()=>L,gp:()=>w,hq:()=>fe,i6:()=>et,ip:()=>Ee,k9:()=>p,kI:()=>m,l4:()=>Ge,l5:()=>D,lA:()=>U,lU:()=>Ye,mD:()=>we,mY:()=>x,mq:()=>c,n$:()=>st,n7:()=>E,nZ:()=>Pe,rA:()=>xe,s$:()=>Ve,s8:()=>ze,se:()=>Ne,tA:()=>Re,vK:()=>tt,vs:()=>Ae,w2:()=>Ze,w4:()=>pe,wT:()=>d,wY:()=>g,wf:()=>Te,wk:()=>se,xW:()=>z,yM:()=>_e,yO:()=>Be});const s="driver",i="carriercompany",o="shareholder",r="baseProduct",n="TRAILER",l="TRAILERCOMPARTMENT",c="terminal",d="customer",u="destination",E="finishedproduct",h="tank",T="marine_vessel",p="marine_trailercompartment",A="supplier",N="vehicle",I="vehicletrailer",S="originterminal",C="bay",m="loadingArm",D="cardreader",y="vehicleprimemover",R="meter",v="SHIPMENT",O="SHIPMENTCOMPARTMENT",M="SHIPMENTDESTINATIONCOMPARTMENT",L="SHIPMENTDETAILS",g="SHIPMENTTRAILERWEIGHBRIDGE",b="SHIPMENTTRAILER",P="SHIPMENTSTATUSTIME",f="MARINEDISPATCH",U="MARINEDISPATCHCOMPARTMENTDETAIL",j="railwagon",G="primemover",x="bcu",H="RAILRECEIPTPLAN",V="RAILRECEIPTWAGONDETAILPLAN",k="RAILUNLOADINGDETAILSFP",w="RAILUNLOADINGDETAILSBP",z="RAILUNLOADINGDETAILSADDITIVE",F="RAILDISPATCHPLAN",Q="RAILDISPATCHITEM",_="RAILDISPATCHSTATUSCHANGE",B="RAILDISPATCHWAGON",q="RAILDISPATCHWAGONDETAILPLAN",W="RAILDISPATCHWAGONWEIGHBRIDGE",J="RAILDISPATCHWAGONCOMPARTMENT",Z="RAILLOADINGDETAILSFP",Y="RAILLOADINGDETAILSBP",K="RAILLOADINGDETAILSADDITIVE",$="marineReceipt",X="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",ae="marineLoadingDetailsAdditive",se="marineLoadingDetailsBP",ie="marineReceiptCompartmentDetail",oe="marineUnloadingDetailsFP",re="marineUnloadingDetailsBP",ne="accessCard",le="LOADINGDETAILSFP",ce="LOADINGDETAILSBP",de="LOADINGDETAILSADDITIVE",ue="MARINERECEIPTSTATUSTIME",Ee="MARINEDISPATCHSTATUSTIME",he="RECEIPT",Te="UNLOADINGTRANSACTIONS",pe="ORDER",Ae="ORDERITEM",Ne="CONTRACT",Ie="CONTRACT_ITEM",Se="RECEIPTORIGINTERMINALCOMPARTMENT",Ce="GeneralTMUser_CAPTAIN",me="weighbridge",De="deu",ye="GeneralTMUser_STAFF",Re="GeneralTMUser_VISITOR",ve="PIPELINEHEADER",Oe="SEALMASTER",Me="PIPELINERECEIPT",Le="ROADSHIPMENTSLOTINFO",ge="ROADRECEIPTSLOTINFO",be="MARINESHIPMENTSLOTINFO",Pe="MARINERECEIPTSLOTINFO",fe="PIPELINEDISPATCH",Ue="PIPELINETRANSACTIONS",je="PIPELINEDISPATCHSTATUSTIME",Ge="PIPELINERECEIPTSTATUSTIME",xe="PROCESSCONFIG",He="PRODUCTALLOCATIONITEM",Ve="HSEINSPECTIONSHIPMENTRIGIDTRUCK",ke="HSEINSPECTIONSHIPMENTTRAILER",we="HSEINSPECTIONSHIPMENTPRIMEMOVER",ze="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Fe="HSEINSPECTIONMARINESHIPMENTBARGE",Qe="HSEINSPECTIONMARINESHIPMENTSHIP",_e="HSEINSPECTIONSHIPMENTRAILWAGON",Be="HSEINSPECTIONSHIPMENTPIPELINE",qe="HSEINSPECTIONRECEIPTRIGIDTRUCK",We="HSEINSPECTIONRECEIPTTRAILER",Je="HSEINSPECTIONRECEIPTPRIMEMOVER",Ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Ye="HSEINSPECTIONMARINERECEIPTBARGE",Ke="HSEINSPECTIONMARINERECEIPTSHIP",$e="HSEINSPECTIONRECEIPTRAILWAGON",Xe="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",at="COAMANAGEMENT",st="COACUSTOMER",it="COAASSIGNMENT"},35861:(e,t,a)=>{a.d(t,{F1:()=>n,i7:()=>l,r4:()=>r});var s=a(86178),i=a.n(s),o=(a(15660),a(65043),a(70579));function r(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function n(){let e=window.navigator.userLanguage||window.navigator.language;return i().locale(e),i().localeData().longDateFormat("L")}function l(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=296.0aac0cf5.chunk.js.map