"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[5218,5841,8222,3235],{66554:(e,t,a)=>{a.d(t,{$:()=>d});var o=a(65043),s=a(72711),i=a(67907),n=a(65187),r=a(69062),l=a(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:a,shareholders:c,selectedShareholder:d,onShareholderChange:h,onDelete:p,onAdd:C,popUpContent:u,shrVisible:m,handleBreadCrumbClick:T,addVisible:g,deleteVisible:y}=e;const[S,D]=(0,o.useState)(!1),[R,I]=(0,o.useState)(!1);function f(){t.add&&(u.length>0?I(!1===R):C())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(n.A,{children:[" ",(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsxs)(s.Breadcrumb,{children:[a.parents.map((t=>(0,l.jsx)(s.Breadcrumb.Item,{onClick:()=>{void 0!==T&&null!==T&&T(t.itemCode,a.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(s.Breadcrumb.Item,{children:e(a.localizedKey)},a.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===m?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(s.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:r.Zj(c),onChange:e=>h(e)})})]})})})}),(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsxs)(s.Modal,{open:S,size:"small",children:[(0,l.jsx)(s.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(s.Modal.Footer,{children:[(0,l.jsx)(s.Button,{type:"secondary",content:e("Cancel"),onClick:()=>D(!1)}),(0,l.jsx)(s.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{D(!1),p()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[g?(0,l.jsx)(s.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:f,children:(0,l.jsx)(s.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:R,children:(0,l.jsx)("div",{onMouseLeave:()=>I(!1),children:(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsx)(s.VerticalMenu,{children:(0,l.jsxs)(s.VerticalMenu,{children:[(0,l.jsx)(s.VerticalMenu.Header,{children:e("Common_Create")}),u.map((t=>(0,l.jsx)(s.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,I(!1),void C(e);var e},children:e(t.fieldValue)})))]})})})})}):"",y?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&D(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(s.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};a(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:a,shareholders:o,selectedShareholder:s,onShareholderChange:i,onDelete:n,onAdd:r,popUpContent:d,shrVisible:h,handleBreadCrumbClick:p,addVisible:C,deleteVisible:u}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:a,shareholders:o,selectedShareholder:s,onShareholderChange:i,onDelete:n,onAdd:r,popUpContent:d,shrVisible:h,handleBreadCrumbClick:p,addVisible:C,deleteVisible:u})}},85218:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var o=a(65043),s=a(66554),i=a(97508),n=a(40252),r=a(69062),l=a(14159),c=a(11981),d=a(65187),h=a(67907),p=a(78374),C=a(72711),u=a(35861),m=a(7523),T=a(70579);function g(e){let{modMapTransactions:t,validationErrors:a,otherData:o,listOptions:s,onTransactionSearchChange:i,onReceiptSearchChange:n,selectedCompRow:l,handleComRowSelectionChange:c,handleComRowClick:d,selectLocalTransactionRow:g,handleLocalTranRowSelectionChange:y,handleLocalTranRowClick:S,onFieldChange:D,handleCellDataEdit:R,handleGetTanksForMeter:I}=e;const[f]=(0,h.useTranslation)(),M=e=>{if(!1===t.TransLoadBcu&&"Report_BaseProduct"===o.BatchInfoForUI[e.rowIndex].ProductType)return I(o.BatchInfoForUI[e.rowIndex].MeterCode),(e=>(0,T.jsx)(C.Select,{className:"selectDropwdown",value:o.BatchInfoForUI[e.rowIndex][e.field],fluid:!0,options:s.tankCodes,onChange:t=>R(t,e),indicator:"required",reserveSpace:!1,search:!0,noResultsMessage:f("noResultsMessage")}))(e)};return(0,T.jsx)(h.TranslationConsumer,{children:e=>(0,T.jsxs)("div",{className:"detailsContainer",children:[(0,T.jsxs)("div",{className:"row",children:[(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Select,{fluid:!0,indicator:"required",placeholder:e("Common_Select"),label:e("MeterUnaccountedTransaction_Type"),options:s.transactionTypes,value:t.TransactionType,onChange:e=>D("TransactionType",e),reserveSpace:!1,noResultsMessage:e("noResultsMessage")})}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Select,{fluid:!0,indicator:"required",placeholder:e("Common_Select"),label:e("Common_TransactionCode"),options:(0,u.r4)(s.transactionCodes,e("Common_Select")),value:t.TransactionCode,onChange:e=>D("TransactionCode",e),reserveSpace:!1,search:!0,onSearch:i,noResultsMessage:e("noResultsMessage")})}),t.TransportationType===m.LY.ROAD?(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Select,{fluid:!0,indicator:"required",placeholder:e("Common_Select"),label:e("RailDispatchPlanDetail_ShareHolderCode"),options:s.shareholderCodes,value:t.ShareholderCode,onChange:e=>D("ShareholderCode",e),reserveSpace:!1,noResultsMessage:e("noResultsMessage")})}):null,(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Input,{fluid:!0,label:e("RailDispatchLoadSpotAssign_ScheduledDate"),value:""===o.ScheduledDate?"":new Date(o.ScheduledDate).toLocaleDateString(),reserveSpace:!1,disabled:!0})}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Input,{fluid:!0,label:e("Common_TransactionStatus"),value:o.Status,reserveSpace:!1,disabled:!0})}),t.TransportationType===m.LY.ROAD?(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Input,{fluid:!0,label:e("Report_DriverCode"),value:o.DriverCode,reserveSpace:!1,disabled:!0})}):null,t.TransportationType===m.LY.ROAD||t.TransportationType===m.LY.MARINE?(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Input,{fluid:!0,label:t.TransportationType===m.LY.ROAD?e("Vehicle_Code"):e("Vessel_Code"),reserveSpace:!1,value:o.VehicleCode,disabled:!0})}):null]}),o.DispatchReceiptInfoForUI.length>0?(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,T.jsx)("h4",{children:e("PCDET_SHPDetailsPopup_Title")})}),(0,T.jsx)("div",{className:"row",children:(0,T.jsx)("div",{className:"col-12 detailsTable",children:(0,T.jsxs)(p.bQ,{data:o.DispatchReceiptInfoForUI,selectionMode:"single",selection:l,onSelectionChange:c,onCellClick:e=>d(e.rowData),scrollable:!0,scrollHeight:"300px",children:[(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"CompartmentSeqNoInVehicle",header:t.TransportationType===m.LY.ROAD?e("ShipmentProdDetail_CompSeqInVehicle"):e("ViewShipmentStatus_PlannedTripNo")},"CompartmentSeqNoInVehicle"),t.TransportationType===(m.LY.ROAD||m.LY.RAIL)?(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"TrailerCode",header:t.TransportationType===m.LY.ROAD?e("Marine_ShipmentCompDetail_wcTrailerCode"):e("RailWagonConfigurationDetails_RailWagonCode")},"TrailerCode"):null,t.TransportationType===m.LY.RAIL?(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"ShareholderCode",header:e("Report_Shareholder")},"ShareholderCode"):null,(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"FinishedProductCode",header:e("FinishedProductList_Code")},"FinishedProductCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"CustomerOrSupplierCode",header:"RECEIPT"===t.TransactionType?e("Supplier_Code"):e("Customer_Code")},"CustomerOrSupplierCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"DestinationOrOriginTerminalCode",header:"RECEIPT"===t.TransactionType?e("OriginTerminal_Code"):e("ShipmentProdDetail_DestinationCode")},"DestinationOrOriginTerminalCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"PlannedQuantity",header:e("ViewMarineShipmentList_PlannedQuantity")},"PlannedQuantity"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"ActualQuantity",header:"RECEIPT"===t.TransactionType?e("UnLoadingInfo_UnloadQuantity"):e("ShipmentOrder_LoadedQuantity")},"ActualQuantity"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"Status",header:e("ShipmentProdDetail_Status"),renderer:e=>{if(null!==o.DispatchReceiptInfoForUI[e.rowIndex][e.field])return r.cd("RECEIPT"===t.TransactionType?m.vy:m.bw,o.DispatchReceiptInfoForUI[e.rowIndex][e.field])}},"Status")]})})})]}):null,o.LocalTranInfoForUI.length>0?(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,T.jsx)("h4",{children:e("UnmatchedLocalTrans_PageTitle")})}),(0,T.jsx)("div",{className:"row",children:(0,T.jsx)("div",{className:"col-12 detailsTable",children:(0,T.jsxs)(p.bQ,{data:o.LocalTranInfoForUI,selectionMode:"single",selection:g,onSelectionChange:y,onCellClick:e=>S(e.rowData),scrollable:!0,scrollHeight:"300px",search:!0,searchPlaceholder:e("LoadingDetailsView_SearchGrid"),children:[(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"LocationCode",header:t.TransportationType===m.LY.MARINE?e("LocationInfo_BerthCode"):e("Bay_Code")},"LocationCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"BCUCode",header:e("BCU_Code")},"BCUCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"TransactionID",header:e("ViewRailLoadingDetails_TransactionNo")},"TransactionID"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"BatchID",header:e("UnmatchedLocalTrans_BatchNo")},"BatchID"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"VehicleCode",header:t.TransportationType===m.LY.ROAD?e("Vehicle_Code"):e("Vessel_Code")},"VehicleCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"CompartmentNo",header:e("ViewShipmentStatus_SeqNo")},"CompartmentNo"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"ArmNo",header:e("Meter_ArmNo")},"ArmNo"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"LoadNumber",header:e("LocalTransactionsMapping_LoadNumber")},"LoadNumber"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"GrossQuantity",header:e("GrossQuantity")},"GrossQuantity"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"StartTime",header:e("ViewShipmentTrailer_StartTime"),renderer:e=>{if(o.LocalTranInfoForUI[e.rowIndex][e.field])return new Date(o.LocalTranInfoForUI[e.rowIndex][e.field]).toLocaleString()}},"StartTime"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"EndTime",header:e("ViewShipmentTrailer_EndTime"),renderer:e=>{if(o.LocalTranInfoForUI[e.rowIndex][e.field])return new Date(o.LocalTranInfoForUI[e.rowIndex][e.field]).toLocaleString()}},"EndTime")]})})})]}):null,o.BatchInfoForUI.length>0?(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,T.jsx)("h4",{children:e("LocalTransactions_BatchDetails")})}),(0,T.jsx)("div",{className:"row",children:(0,T.jsx)("div",{className:"col-12 detailsTable",children:(0,T.jsxs)(p.bQ,{data:o.BatchInfoForUI,scrollable:!0,scrollHeight:"300px",children:[(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"ProductCode",header:e("ContractInfo_Product")},"ProductCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"ProductType",header:e("ProductType_Title"),renderer:t=>e(o.BatchInfoForUI[t.rowIndex][t.field])},"ProductType"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"MeterCode",header:e("Meter_Code")},"MeterCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"TankCode",header:(0,u.i7)(e("TankCode")),editable:!0,editFieldType:"text",customEditRenderer:e=>M(e)},"TankCode"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"GrossQuantity",header:e("GrossQuantity")},"GrossQuantity"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"NetQuantity",header:e("NetQuantity")},"NetQuantity"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"StartTotalizer",header:e("StartTotalizer")},"StartTotalizer"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"EndTotalizer",header:e("EndTotalizer")},"EndTotalizer"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"Density",header:e("Density")},"Density"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"Pressure",header:e("Pressure")},"Pressure"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"Temperature",header:e("Temperature")},"Temperature"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"StartTime",header:e("StartTime"),renderer:e=>{if(o.BatchInfoForUI[e.rowIndex][e.field])return new Date(o.BatchInfoForUI[e.rowIndex][e.field]).toLocaleString()}},"StartTime"),(0,T.jsx)(p.bQ.Column,{className:"compColHeight",field:"EndTime",header:e("EndTime"),renderer:e=>{if(o.BatchInfoForUI[e.rowIndex][e.field])return new Date(o.BatchInfoForUI[e.rowIndex][e.field]).toLocaleString()}},"EndTime")]})})})]}):null,!0===t.TransLoadBcu&&t.TransLoadSource===m.LY.RAIL?(0,T.jsxs)("div",{className:"row",children:[(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Select,{fluid:!0,indicator:"required",placeholder:e("Common_Select"),label:e("Rail_Receipt_Code"),options:(0,u.r4)(s.receiptCodes,e("Common_Select")),value:t.EntityCode,onChange:e=>D("EntityCode",e),error:e(a.EntityCode),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),onSearch:n})}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Select,{fluid:!0,indicator:"required",placeholder:e("Common_Select"),label:e("RailWagonConfigurationDetails_RailWagonCode"),options:s.railWagonCodes,value:t.WagonCode,onChange:e=>D("WagonCode",e),error:e(a.WagonCode),reserveSpace:!1,noResultsMessage:e("noResultsMessage")})})]}):null,!0===t.TransLoadBcu&&t.TransLoadSource===m.LY.MARINE?(0,T.jsx)("div",{className:"row",children:(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsx)(C.Select,{fluid:!0,indicator:"required",placeholder:e("Common_Select"),label:e("LD_Marine_ReceiptCode"),options:(0,u.r4)(s.receiptCodes,e("Common_Select")),value:t.EntityCode,onChange:e=>D("EntityCode",e),error:e(a.EntityCode),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),onSearch:n})})}):null]})})}var y=a(46100),S=a(40854),D=a.n(S),R=a(72067),I=a(9966),f=a(50805),M=a(44192),E=(a(38726),a(43503)),L=a(93779),P=a(53536),v=a.n(P);class k extends o.Component{constructor(){super(...arguments),this.state={modMapTransactions:v().cloneDeep(y.VQ),validationErrors:r.Th(M.uf),otherData:{ScheduledDate:"",Status:"",IsValidStatus:!0,DriverCode:"",VehicleCode:"",ProductCode:"",LocalTranInfoForUI:[],BatchInfoForUI:[],DispatchReceiptInfoForUI:[]},isReadyToRender:!0,transportationTypeOptions:[],transactionTypeOptions:[],shareholderCodeOptions:[],dispatchReceiptCodeOptions:[],transactionCodeOptions:[],transactionCodeSearchOptions:[],tankCodeOptions:[],selectedCompRow:[],selectLocalTransactionRow:[],receiptCodeOptions:[],receiptCodeSearchOptions:[],railWagonCodeOptions:[],latestMeterCode:"",closeRailShipment:"ViewRailDispatchList_CloseRailShipment",printBOL:"ViewRailDispatchList_PrintBOL",isCloseEnabled:!1,isPrintEnabled:!1,reasonForClosure:"",launchPopup:!1},this.handleReceiptCodeSearchChange=e=>{try{let t=this.state.receiptCodeOptions.filter((t=>t.value.toLowerCase().includes(e.toLowerCase())));t.length>m.bM&&(t=t.slice(0,m.bM)),this.setState({receiptCodeSearchOptions:t})}catch(t){console.log("MapTransactionDetailComposite: Error occurred on handleReceiptCodeSearchChange",t)}},this.handleGetTanksForMeter=e=>{try{if(e===this.state.latestMeterCode)return;this.setState({latestMeterCode:e}),D()(R.oLc+"?meterCode="+e,r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess&&Array.isArray(t.EntityResult)&&this.setState({tankCodeOptions:r.Zj(t.EntityResult)})})).catch((e=>{console.log("Error while getting TanksForMeter:",e)}))}catch(t){console.log("MapTransactionsDetailsConposite:Error occured on TanksForMeter",t)}},this.onTransactionCodeClear=e=>{const t=v().cloneDeep(this.state.modMapTransactions);t.TransactionCode="",this.setState({modMapTransactions:t,isReadyToRender:!0})},this.handleComRowSelectionChange=e=>{try{if(!0!==this.state.otherData.IsValidStatus)return;const t=e[0],a=v().cloneDeep(this.state.modMapTransactions),o=v().cloneDeep(this.state.otherData);void 0!==t?(o.ProductCode=t.FinishedProductCode,this.getLocalTransactions(o,t.Status)):(o.LocalTranInfoForUI=[],o.BatchInfoForUI=[],a.LoadingDetails=[],a.RailMarineTransactions=[],a.TransLoadBcu=!1),this.setState({modMapTransactions:a,otherData:o,selectLocalTransactionRow:[],selectedCompRow:e})}catch(t){console.log("MapTransactionDetailComposite: Error occurred on handleComRowSelectionChange",t)}},this.handleComRowClick=e=>{try{if(!0!==this.state.otherData.IsValidStatus)return;const t=v().cloneDeep(this.state.otherData);t.ProductCode=e.FinishedProductCode,this.setState({selectedCompRow:[e],otherData:t}),this.getLocalTransactions(t,e.Status)}catch(t){console.log("MapTransactionDetailComposite: Error occurred on handleComRowClick",t)}},this.handleLocalTranRowSelectionChange=e=>{try{const t=e[0],a=v().cloneDeep(this.state.modMapTransactions),o=v().cloneDeep(this.state.otherData);void 0!==t?(this.getBCUDeviceDetails(t.BCUCode),this.getBatchDetails(t)):(o.BatchInfoForUI=[],a.LoadingDetails=[],a.RailMarineTransactions=[],a.TransLoadBcu=!1),this.setState({modMapTransactions:a,otherData:o,selectLocalTransactionRow:e})}catch(t){console.log("MapTransactionDetailComposite: Error occurred on handleLocalTranRowSelectionChange",t)}},this.handleLocalTranRowClick=e=>{try{this.getBCUDeviceDetails(e.BCUCode),this.getBatchDetails(e),this.setState({selectLocalTransactionRow:[e]})}catch(t){console.log("MapTransactionDetailComposite: Error occurred on handleLocalTranRowClick",t)}},this.handleChange=(e,t)=>{try{if("TransactionType"!==e||"DISPATCH"!==t&&"SHIPMENT"!==t)"TransactionType"===e&&"RECEIPT"===t&&this.setState({closeRailShipment:"ViewMarineReceiptList_CloseReceipt",printBOL:"ViewRailReceipt_PrintBOD",isCloseEnabled:!1,isPrintEnabled:!1});else{var a="ViewShipment_CloseShipment";"DISPATCH"===t&&(a="ViewRailDispatchList_CloseRailShipment"),this.setState({closeRailShipment:a,printBOL:"ViewRailDispatchList_PrintBOL",isCloseEnabled:!1,isPrintEnabled:!1})}const o=v().cloneDeep(this.state.modMapTransactions),s=v().cloneDeep(this.state.otherData);o[e]=t,"TransactionType"!==e&&"ShareholderCode"!==e||""===o.TransportationType||""===o.TransactionType||""===o.ShareholderCode||(this.getTransactionCodes(o),o.TransactionCode="",s.ScheduledDate="",s.Status="",s.DriverCode="",s.VehicleCode=""),"TransactionCode"===e&&this.setState({isCloseEnabled:!1,isPrintEnabled:!1,launchPopup:!1}),"TransactionCode"===e&&null!==t&&""!==t?o.TransportationType===m.LY.ROAD?"DISPATCH"===o.TransactionType||"SHIPMENT"===o.TransactionType?this.getRoadDispatch(o,s):"RECEIPT"===o.TransactionType&&this.getRoadReceipt(o,s):o.TransportationType===m.LY.RAIL?"DISPATCH"===o.TransactionType?this.getRailDispatch(o,s):"RECEIPT"===o.TransactionType&&this.getRailReceipt(o,s):o.TransportationType===m.LY.MARINE&&("DISPATCH"===o.TransactionType?this.getMarineDispatch(o,s):"RECEIPT"===o.TransactionType&&this.getMarineReceipt(o,s)):(o.TransactionCode="",s.ScheduledDate="",s.Status="",s.DriverCode="",s.VehicleCode=""),"WagonCode"===e&&this.getWagonCodes(o),s.LocalTranInfoForUI=[],s.BatchInfoForUI=[],s.DispatchReceiptInfoForUI=[],o.LoadingDetails=[],o.RailMarineTransactions=[],o.BatchDetailsList=[],this.setState({modMapTransactions:o,otherData:s,selectLocalTransactionRow:[],selectedCompRow:[]})}catch(o){console.log("MapTransactionDetailComposite: Error occurred on handleChange",o)}},this.handleCellDataEdit=(e,t)=>{const a=v().cloneDeep(this.state.otherData);a.BatchInfoForUI[t.rowIndex][t.field]=e,this.setState({otherData:a})},this.handleTransactionCodeSearchChange=e=>{try{this.setState({isCloseEnabled:!1,isPrintEnabled:!1,launchPopup:!1});let t=this.state.transactionCodeOptions.filter((t=>t.value.toLowerCase().includes(e.toLowerCase())));t.length>m.bM&&(t=t.slice(0,m.bM)),this.setState({transactionCodeSearchOptions:t})}catch(t){console.log("MapTransactionDetailComposite: Error occurred on handleTransactionCodeSearchChange",t)}},this.handlePrint=()=>{try{"ROAD"===this.props.transportationType?"SHIPMENT"===this.state.modMapTransactions.TransactionType||"DISPATCH"===this.state.modMapTransactions.TransactionType?this.handleTruckShipmentPrintBOL():this.handleTruckReceiptPrintBOD():"MARINE"===this.props.transportationType?"SHIPMENT"===this.state.modMapTransactions.TransactionType||"DISPATCH"===this.state.modMapTransactions.TransactionType?this.handleMarineShipmentPrintBOL():this.handleMarineReceiptPrintBOD():"RAIL"===this.props.transportationType&&("SHIPMENT"===this.state.modMapTransactions.TransactionType||"DISPATCH"===this.state.modMapTransactions.TransactionType?this.handleRailShipmentPrintBOL():this.handleRailReceiptPrintBOD())}catch(e){console.log("MapTransactionsDetailsConposite:Error occured on handlePrint",e)}},this.matchMapTransactions=()=>{try{const e=v().cloneDeep(this.state.otherData),t=v().cloneDeep(this.state.modMapTransactions);t.TransportationType=this.props.transportationType,t.BatchDetailsList=v().cloneDeep(this.state.otherData.BatchInfoForUI),[t.ActualQuantity,t.QuantityUOM]=this.state.selectedCompRow[0].ActualQuantity.split(" "),t.LoadingDetails[0].CommonInfo.TrailerCode=this.state.selectedCompRow[0].TrailerCode,t.LoadingDetails[0].CommonInfo.CarrierCode=this.state.selectedCompRow[0].CarrierCompanyCode,t.LoadingDetails[0].CommonInfo.ShareHolderCode=t.ShareholderCode,t.LoadingDetails[0].CommonInfo.CompartmentSeqNoInVehicle=this.state.selectedCompRow[0].CompartmentSeqNoInVehicle,t.LoadingDetails[0].IsLocalLoaded=!1,t.LoadingDetails[0].CommonInfo.TransactionType=t.TransactionType,t.LoadingDetails[0].CommonInfo.TransportationType=t.TransportationType,t.TransportationType===m.LY.ROAD&&(t.LoadingDetails[0].CommonInfo.VehicleCode=e.VehicleCode),"DISPATCH"===t.TransactionType?(t.LoadingDetails[0].CommonInfo.ShipmentCode=t.TransactionCode,t.LoadingDetails[0].CommonInfo.ReceiptCode=""):(t.LoadingDetails[0].CommonInfo.ReceiptCode=t.TransactionCode,t.LoadingDetails[0].CommonInfo.ShipmentCode="");for(let o of t.BatchDetailsList)void 0!==o.TankCode&&null!==o.TankCode&&""!==o.TankCode&&(t.LoadingDetails[0].ArrLoadingDetailBP.forEach((e=>{e.BaseProductCode===o.ProductCode&&(e.TankCode=o.TankCode)})),t.LoadingDetails[0].ArrLoadingDetailAdditive.forEach((e=>{e.AdditiveProductCode===o.ProductCode&&(e.TankCode=o.TankCode)})));if(t.TransportationType===m.LY.RAIL&&(t.RailMarineTransactions=this.ConvertLoadingDetailsFromRoadToRail(t.LoadingDetails)),t.TransportationType===m.LY.MARINE&&(t.RailMarineTransactions=this.ConvertLoadingDetailsFromRoadToMarine(t.LoadingDetails)),t.FinishedProductCode=this.state.selectedCompRow[0].FinishedProductCode,t.CompartmentCode=this.state.selectedCompRow[0].CompartmentCode,t.CompartmentSeqNoInVehicle=this.state.selectedCompRow[0].CompartmentSeqNoInVehicle,t.BcuCode=this.state.selectLocalTransactionRow[0].BCUCode,t.BatchID=this.state.selectLocalTransactionRow[0].BatchID,t.TransactionID=this.state.selectLocalTransactionRow[0].TransactionID,!this.validateMatch(t))return;const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[t.TransactionCode],isSuccess:!1,errorMessage:""}]};D()(R.Trs,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var o=e.data;if(a.messageType=o.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=o.IsSuccess,!0===o.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.LocalTranInfoForUI=[],e.BatchInfoForUI=[],this.setState({selectedCompRow:[],selectLocalTransactionRow:[]}),t.TransportationType===m.LY.ROAD?"DISPATCH"===t.TransactionType?this.getRoadDispatch(t,e):"RECEIPT"===t.TransactionType&&this.getRoadReceipt(t,e):t.TransportationType===m.LY.RAIL?"DISPATCH"===t.TransactionType?this.getRailDispatch(t,e):"RECEIPT"===t.TransactionType&&this.getRailReceipt(t,e):t.TransportationType===m.LY.MARINE&&("DISPATCH"===t.TransactionType?this.getMarineDispatch(t,e):"RECEIPT"===t.TransactionType&&this.getMarineReceipt(t,e))}else a.messageResultDetails[0].errorMessage=o.ErrorList[0],console.log("Error in matchMapTransactions:",o.ErrorList);this.props.onNotice(a)})).catch((e=>{a.messageResultDetails[0].errorMessage=e,this.props.onNotice(a)}))}catch(e){console.log("MapTransactionsDetailsConposite:Error occured on matchMapTransactions",e)}},this.handleCloseShipmentReceiptModal=()=>{var e=this.getCloseModalPopupText();return(0,T.jsx)(h.TranslationConsumer,{children:t=>(0,T.jsxs)(C.Modal,{open:this.state.isCloseEnabled,size:"mini",children:[(0,T.jsxs)(C.Modal.Content,{children:[(0,T.jsx)("div",{className:"col col-lg-12",children:(0,T.jsx)("h3",{children:t(e.popupHeaderLabel)+" : "+this.state.modMapTransactions.TransactionCode})}),(0,T.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:(0,T.jsx)("div",{className:"col col-lg-12",children:(0,T.jsx)(C.Input,{fluid:!0,value:this.state.reasonForClosure,label:t("ViewShipment_Reason"),disbaled:!1,reserveSpace:!1,onChange:e=>{this.setState({reasonForClosure:e})}})})})]}),(0,T.jsxs)(C.Modal.Footer,{children:[(0,T.jsx)(C.Button,{type:"primary",content:t("AccessCardInfo_Ok"),onClick:()=>{if(""===this.state.reasonForClosure){let t={messageType:"critical",message:e.msgStatusHeader,messageResultDetails:[{keyFields:[e.keyField],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:e.errorMsg}]};(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4})}else this.setState({isCloseEnabled:!1},(()=>{this.handleShipmentReceiptClose()}))}}),(0,T.jsx)(C.Button,{type:"primary",content:t("Cancel"),onClick:()=>{this.setState({reasonForClosure:"",launchPopup:!1})}})]})]})})}}componentDidMount(){try{r.pJ(this.props.userDetails.EntityResult.IsArchived),this.getTransactionTypes(),this.getShareholders()}catch(e){console.log("MapTransactionsDetail:Error occurred on ",e)}}getTransactionTypes(){const e={shipment:"DISPATCH",receipt:"RECEIPT"},t=[];for(let a in e)t.push({text:e[a],value:e[a]});this.setState({transactionTypeOptions:t})}getShareholders(){const e=r.Zj(this.props.userDetails.EntityResult.ShareholderList),t=v().cloneDeep(this.state.modMapTransactions);t.ShareholderCode=this.props.selectedShareholder,t.TransportationType=this.props.transportationType,this.getTransactionCodes(t),this.setState({modMapTransactions:t,shareholderCodeOptions:e})}getTransactionCodes(e){try{const t={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},a={TransportationType:this.props.transportationType,TransactionType:e.TransactionType,ShareholderCode:e.ShareholderCode};D()(R.o04,r.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{const a=e.data;if(t.messageType=a.IsSuccess?"success":"critical",t.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){if(null===a.EntityResult)console.log("Error in GetDispatchOrReceiptCodes:",a.ErrorList);else if(Array.isArray(a.EntityResult.Table)){const e=[];for(let s of a.EntityResult.Table)e.push(s.Code);const t=r.Zj(e);let o=v().cloneDeep(t);t.length>m.bM&&(o=o.slice(0,m.bM)),this.setState({transactionCodeOptions:t,transactionCodeSearchOptions:o})}}else t.messageResultDetails[0].errorMessage=a.ErrorList[0],console.log("Error in getTransactionCodes:",a.ErrorList)})).catch((e=>{console.log("Error while getting getTransactionCodes:",e)}))}catch(t){console.log("MapTransactionsDetailsConposite:Error occured on getTransactionCodes",t)}}getRoadDispatch(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},o=[{key:L.yz,value:e.TransactionCode}],s={ShareHolderCode:e.ShareholderCode,keyDataCode:L.yz,KeyCodes:o};D()(R.TJ4,r.tW(s,this.props.tokenDetails.tokenInfo)).then((o=>{const s=o.data;if(a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess)if(this.getShipmentStatusOperations(s.EntityResult),e.TransLoadSource=s.EntityResult.TransloadSourceType,t.ScheduledDate=s.EntityResult.ScheduledDate,t.Status=s.EntityResult.Status,t.DriverCode=s.EntityResult.DriverCode,t.VehicleCode=s.EntityResult.VehicleCode,t.DispatchReceiptInfoForUI=[],null!=s.EntityResult.ShipmentCompartments&&s.EntityResult.ShipmentCompartments.length>0){s.EntityResult.ShipmentCompartments.sort(((e,t)=>e.CompartmentSeqNoInVehicle<t.CompartmentSeqNoInVehicle?-1:e.CompartmentSeqNoInVehicle>t.CompartmentSeqNoInVehicle?1:0)).forEach((e=>{const a={ID:"",ShareholderCode:e.ShareholderCode,CarrierCompanyCode:s.EntityResult.CarrierCode,TrailerCode:e.TrailerCode,CompartmentCode:e.CompartmentCode,CompartmentSeqNoInVehicle:e.CompartmentSeqNoInVehicle,FinishedProductCode:e.FinishedProductCode,CustomerOrSupplierCode:"",DestinationOrOriginTerminalCode:"",PlannedQuantity:null===e.Quantity?"0 "+e.QuantityUOM:e.Quantity.toLocaleString()+" "+e.QuantityUOM,ActualQuantity:null===e.LoadedQuantity?"0 "+e.QuantityUOM:e.LoadedQuantity.toLocaleString()+" "+e.QuantityUOM,Status:e.ShipmentCompartmentStatus};s.EntityResult.ShipmentDestinationCompartmentsInfo.forEach((e=>{e.CompartmentCode===a.CompartmentCode&&(a.CustomerOrSupplierCode=e.CustomerCode,a.DestinationOrOriginTerminalCode=e.DestinationCode)})),t.DispatchReceiptInfoForUI.push(a)})),"INTERRUPTED"!==t.Status&&"PARTIALLY_LOADED"!==t.Status&&"QUEUED"!==t.Status?(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_TransactionNotInValidState",this.props.onNotice(a),t.IsValidStatus=!1):t.IsValidStatus=!0,this.setState({modMapTransactions:e,otherData:t})}else a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="LocalTransaction_CompartmentPlanNotAvailable",this.props.onNotice(a);else console.log("Error in getRoadDispatch: ",s.ErrorList)})).catch((t=>{console.log("Error while getting getRoadDispatch: ",t,e.TransactionCode)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on getRoadDispatch",a)}}getCloseModalPopupText(){var e={popupHeaderLabel:"ViewShipment_CloseHeader",msgStatusHeader:"ViewAllShipment_ShipmentClose",errorMsg:"Enter_ReasonForCloseure",keyField:"ShipmentCompDetail_ShipmentNumber"};return"DISPATCH"!==this.state.modMapTransactions.TransactionType&&"SHIPMENT"!==this.state.modMapTransactions.TransactionType||"MARINE"!==this.state.modMapTransactions.TransportationType&&"RAIL"!==this.state.modMapTransactions.TransportationType?"RECEIPT"===this.state.modMapTransactions.TransactionType&&(e.popupHeaderLabel="Receipt_ForceCloseHeader",e.msgStatusHeader="ViewReceipt_CloseStatus",e.errorMsg="Enter_Receipt_ReasonForCloseure",e.keyField="Receipt_Code"):(e.popupHeaderLabel="ViewRailDispatchList_ForceCloseHeader",e.msgStatusHeader="RailDispatch_CloseDispatchStatus",e.errorMsg="ViewRailDispatchList_ReasonForCloseure",e.keyField="ViewRailDispatchDetails_DispatchCode"),e}getRoadReceipt(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},o=[{key:L.ml,value:e.TransactionCode}],s={ShareHolderCode:e.ShareholderCode,keyDataCode:L.ml,KeyCodes:o};D()(R.r$n,r.tW(s,this.props.tokenDetails.tokenInfo)).then((o=>{const s=o.data;if(!0===s.IsSuccess)if(this.getReciptsStatusOperations(s.EntityResult.ReceiptStatus,s.EntityResult.IsVolumeBased),e.TransLoadSource=s.EntityResult.TransloadSourceType,t.ScheduledDate=s.EntityResult.ScheduledDate,t.Status=s.EntityResult.ReceiptStatus,t.DriverCode=s.EntityResult.DriverCode,t.VehicleCode=s.EntityResult.VehicleCode,t.DispatchReceiptInfoForUI=[],null!==s.EntityResult.ReceiptCompartmentsInfo&&s.EntityResult.ReceiptCompartmentsInfo.length>0){s.EntityResult.ReceiptCompartmentsInfo.sort(((e,t)=>e.CompartmentSeqNoInVehicle<t.CompartmentSeqNoInVehicle?-1:e.CompartmentSeqNoInVehicle>t.CompartmentSeqNoInVehicle?1:0)).forEach((e=>{const a={ID:"",ShareholderCode:e.ShareholderCode,CarrierCompanyCode:s.EntityResult.CarrierCode,TrailerCode:e.TrailerCode,CompartmentCode:e.CompartmentCode,CompartmentSeqNoInVehicle:e.CompartmentSeqNoInVehicle,FinishedProductCode:e.FinishedProductCode,CustomerOrSupplierCode:"",DestinationOrOriginTerminalCode:"",PlannedQuantity:null===e.Quantity?"0 "+e.QuantityUOM:e.Quantity.toLocaleString()+" "+e.QuantityUOM,ActualQuantity:null===e.UnLoadedQuantity?"0 "+e.QuantityUOM:e.UnLoadedQuantity.toLocaleString()+" "+e.UnLoadedQuantityUOM,Status:e.ReceiptCompartmentStatus,UnLoadedQuantity:0};s.EntityResult.ReceiptOriginTerminalCompartmentsInfo.forEach((e=>{e.CompartmentCode===a.CompartmentCode&&(a.CustomerOrSupplierCode=e.SupplierCode,a.DestinationOrOriginTerminalCode=e.OriginTerminalCode)})),t.DispatchReceiptInfoForUI.push(a)})),"INTERRUPTED"!==t.Status&&"PARTIALLY_UNLOADED"!==t.Status&&"QUEUED"!==t.Status?(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_TransactionNotInValidState",this.props.onNotice(a),t.IsValidStatus=!1):t.IsValidStatus=!0,this.setState({modMapTransactions:e,otherData:t})}else a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="LocalTransaction_CompartmentPlanNotAvailable",this.props.onNotice(a);else console.log("Error in getRoadReceipt:",s.ErrorList)})).catch((t=>{console.log("Error while getting getRoadReceipt:",t,e.TransactionCode)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on GetRoadReceipt",a)}}getRailDispatch(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},o=[{key:L.s0,value:e.TransactionCode}],s={ShareHolderCode:e.ShareholderCode,keyDataCode:L.s0,KeyCodes:o};D()(R.bDb,r.tW(s,this.props.tokenDetails.tokenInfo)).then((o=>{const s=o.data;if(!0===s.IsSuccess)if(this.GetRailDispatchOperations(s.EntityResult.DispatchStatus),e.TransLoadSource=null,t.ScheduledDate=s.EntityResult.ScheduledDate,t.Status=s.EntityResult.DispatchStatus,t.DispatchReceiptInfoForUI=[],null!==s.EntityResult.DispatchCompartmentPlanList&&s.EntityResult.DispatchCompartmentPlanList.length>0){let a=1;s.EntityResult.DispatchCompartmentPlanList.forEach((e=>{const o={ID:a++,ShareholderCode:e.ShareholderCode,CarrierCompanyCode:e.CarrierCompanyCode,TrailerCode:e.TrailerCode,CompartmentCode:e.CompartmentCode,CompartmentSeqNoInVehicle:e.SequenceNo,FinishedProductCode:e.FinishedProductCode,CustomerOrSupplierCode:"",DestinationOrOriginTerminalCode:"",PlannedQuantity:null===e.PlannedQuantity||null===e.PlanQuantityUOM?"":e.PlannedQuantity.toLocaleString()+" "+e.PlanQuantityUOM,ActualQuantity:null===e.LoadedQuantity||null===e.PlanQuantityUOM?"":e.LoadedQuantity.toLocaleString()+" "+e.LoadedQuantityUOM,Status:e.DispatchCompartmentStatus};s.EntityResult.DispatchCompartmentDetailPlanList.forEach((e=>{e.CompartmentCode===o.CompartmentCode&&(o.CustomerOrSupplierCode=e.CustomerCode,o.DestinationOrOriginTerminalCode=e.DestinationCode)})),t.DispatchReceiptInfoForUI.push(o)})),this.setState({modMapTransactions:e,otherData:t})}else a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_WagonPlanningInDispatchNotAvailable",this.props.onNotice(a);else console.log("Error in getRailDispatch:",s.ErrorList)})).catch((t=>{console.log("Error while getting getRailDispatch:",t,e.TransactionCode)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on getRailDispatch",a)}}getRailReceipt(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},o=[{key:L.eT,value:e.TransactionCode}],s={ShareHolderCode:e.ShareholderCode,keyDataCode:L.eT,KeyCodes:o};D()(R.ffd,r.tW(s,this.props.tokenDetails.tokenInfo)).then((o=>{const s=o.data;!0===s.IsSuccess?(this.GetRailReceiptOperations(s.EntityResult.ReceiptStatus),e.TransLoadSource=null,t.ScheduledDate=s.EntityResult.ScheduledDate,t.Status=s.EntityResult.ReceiptStatus,t.DispatchReceiptInfoForUI=[],null!==s.EntityResult.RailMarineReceiptCompartmentPlanList&&s.EntityResult.RailMarineReceiptCompartmentPlanList.length>0?(s.EntityResult.RailMarineReceiptCompartmentPlanList.forEach((e=>{const a={ID:"",ShareholderCode:e.ShareholderCode,CarrierCompanyCode:e.CarrierCompanyCode,TrailerCode:e.TrailerCode,CompartmentCode:e.CompartmentCode,CompartmentSeqNoInVehicle:e.SequenceNo,FinishedProductCode:e.FinishedProductCode,CustomerOrSupplierCode:"",DestinationOrOriginTerminalCode:"",PlannedQuantity:null===e.PlannedQuantity||null===e.PlanQuantityUOM?"":e.PlannedQuantity.toLocaleString()+" "+e.PlanQuantityUOM,ActualQuantity:null===e.UnloadedQuantity||null===e.UnloadedQuantityUOM?"":e.UnloadedQuantity.toLocaleString()+" "+e.UnloadedQuantityUOM,Status:e.ReceiptCompartmentStatus};s.EntityResult.RailMarineReceiptCompartmentDetailPlanList.forEach((e=>{e.CompartmentCode===a.CompartmentCode&&(a.CustomerOrSupplierCode=e.SupplierCode,a.DestinationOrOriginTerminalCode=e.OriginTerminalCode)})),t.DispatchReceiptInfoForUI.push(a)})),this.setState({modMapTransactions:e,otherData:t})):(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_WagonPlanningInDispatchNotAvailable",this.props.onNotice(a))):console.log("Error in getRailReceipt:",s.ErrorList)})).catch((t=>{console.log("Error while getting getRailReceipt:",t,e.TransactionCode)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on getRailReceipt",a)}}handleShipmentReceiptClose(){try{"ROAD"===this.props.transportationType?"SHIPMENT"===this.state.modMapTransactions.TransactionType||"DISPATCH"===this.state.modMapTransactions.TransactionType?this.handleTruckShipmentClose():this.handleTruckReceiptClose():"MARINE"===this.props.transportationType&&("SHIPMENT"===this.state.modMapTransactions.TransactionType||"DISPATCH"===this.state.modMapTransactions.TransactionType?this.handleMarineShipmentClose():this.handleMarineReceiptClose()),"RAIL"===this.props.transportationType&&("SHIPMENT"===this.state.modMapTransactions.TransactionType||"DISPATCH"===this.state.modMapTransactions.TransactionType?this.handleRailShipmentClose():this.handleRailReceiptClose())}catch(e){console.log("MapTransactionsDetailsConposite:Error occured on handleShipmentReceiptClose",e)}}handleTruckShipmentClose(){try{let a={messageType:"critical",message:"ViewAllShipment_ShipmentClose",messageResultDetails:[{keyFields:[this.state.keyField],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:""}]},o=this.formCloseShipmentRequest();var e=[{key:L.FR,value:this.state.selectedShareholder},{key:L.yz,value:this.state.modMapTransactions.TransactionCode}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:L.yz,KeyCodes:e,Entity:o};D()(R.dWY,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(a.messageType=t.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.Status=m.Mw.CLOSED,this.setState({isPrintEnabled:!0,otherData:e})}else a.messageResultDetails[0].errorMessage=t.ErrorList[0];(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{console.log("Error while shipment close:",e)}))}catch(a){console.log("Error while closing the shipment:",a)}}handleTruckReceiptClose(){try{let a={messageType:"critical",message:"ViewReceipt_CloseSuccess",messageResultDetails:[{keyFields:["ReceiptCode"],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:""}]};var e=[{key:L.FR,value:this.props.selectedShareholder},{key:L.nB,value:this.state.otherData.Status},{key:L.ml,value:this.state.modMapTransactions.TransactionCode},{key:L.qF,value:this.state.otherData.DriverCoderiverCode},{key:L.DN,value:this.state.reasonForClosure}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:L.ml,KeyCodes:e};D()(R.Vkk,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(a.messageType=t.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.Status=m.Mw.CLOSED,this.setState({isPrintEnabled:!0,otherData:e})}else a.messageResultDetails[0].errorMessage=t.ErrorList[0];(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{console.log("Error while shipment close:",e)}))}catch(a){console.log("Error while closing the shipment:",a)}}handleMarineShipmentClose(){try{var e=[{key:L.yI,value:this.state.modMapTransactions.TransactionCode},{key:L.HB,value:this.state.reasonForClosure}],t={keyDataCode:L.yI,KeyCodes:e},a={messageType:"critical",message:"ViewMarineDispatch_CloseShipment_status",messageResultDetails:[{keyFields:["Marine_ShipmentCompDetail_ShipmentNumber"],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:""}]};D()(R.b30,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(a.messageType=t.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.Status=m.Mw.CLOSED,this.setState({isPrintEnabled:!0,otherData:e})}else a.messageResultDetails[0].errorMessage=t.ErrorList[0];(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{console.log("Error while Marine shipment close:",e)}))}catch(o){console.log("Error while closing the Marine shipment:",o)}}handleMarineReceiptClose(){try{var e=[{key:L.UB,value:this.state.modMapTransactions.TransactionCode},{key:L.FN,value:this.state.reasonForClosure}],t={keyDataCode:L.UB,KeyCodes:e},a={messageType:"success",message:"ViewMarineReceipt_CloseReceipt_status",messageResultDetails:[{keyFields:["Marine_ReceiptCompDetail_ShipmentNumber"],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!0,errorMessage:""}]};D()(R.jlu,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(a.messageType=t.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.Status=m.Mw.CLOSED,this.setState({isPrintEnabled:!0,otherData:e})}else a.messageResultDetails[0].errorMessage=t.ErrorList[0];(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{console.log("Error while Marine Receipt close:",e)}))}catch(o){console.log("Error while closing the Marine Receipt:",o)}}handleRailShipmentClose(){try{const e={ShareHolderCode:this.props.selectedShareholder,KeyCodes:[{key:"RailDispatchCode",value:this.state.modMapTransactions.TransactionCode}],Entity:{Reason:this.state.reasonForClosure,DispatchCode:this.state.modMapTransactions.TransactionCode,DispatchStatus:this.state.otherData.Status}},t={messageType:"critical",message:"ViewRailDispatch_CloseDispatch_status",messageResultDetails:[{keyFields:["RailDispatchPlanDetail_DispatchCode"],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:""}]};D()(R.sgw,r.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{var a=e.data;if(t.messageType=a.IsSuccess?"success":"critical",t.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.Status=m.Mw.CLOSED,this.setState({isPrintEnabled:!0,otherData:e})}else t.messageResultDetails[0].errorMessage=a.ErrorList[0];(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4})})).catch((e=>{console.log("Error while Rail shipment close:",e)}))}catch(e){console.log("Error while closing the Rail shipment:",e)}}handleRailReceiptClose(){try{let t=[{key:L.eT,value:this.state.modMapTransactions.TransactionCode}],a={Reason:this.state.reasonForClosure,ReceiptCode:this.state.modMapTransactions.TransactionCode,ReceiptStatus:this.state.otherData.Status};const o={ShareHolderCode:this.props.selectedShareholder,KeyCodes:t,Entity:a};var e={messageType:"success",message:"ViewRailReceipt_CloseReceipt_status",messageResultDetails:[{keyFields:["Receipt_Code"],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!0,errorMessage:""}]};D()(R.wjv,r.tW(o,this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;if(e.messageType=a.IsSuccess?"success":"critical",e.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){const e=v().cloneDeep(this.state.otherData);e.Status=m.Mw.CLOSED,this.setState({isPrintEnabled:!0,otherData:e})}else e.messageResultDetails[0].errorMessage=a.ErrorList[0];(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4})})).catch((e=>{console.log("Error while Rail Receipt close:",e)}))}catch(t){console.log("Error while closing the Rail Receipt:",t)}}formCloseShipmentRequest(){try{let e={topUpDecantApprovalStatus:"",topUpDecantEnabled:"",Remarks:"",listShipmentCompartmentInfo:[],listShipmentLoadingCompData:[]};return e.Remarks=this.state.reasonForClosure,e}catch(e){console.log("Error while forming request for closing the shipment:",e)}}getMarineDispatch(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},o=[{key:L.yI,value:e.TransactionCode}],s={ShareHolderCode:e.ShareholderCode,keyDataCode:L.yI,KeyCodes:o};D()(R.FDo,r.tW(s,this.props.tokenDetails.tokenInfo)).then((o=>{const s=o.data;if(!0===s.IsSuccess)if(this.getMarineShipmentStatusOperations(s.EntityResult.DispatchStatus),a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,e.TransLoadSource=null,t.ScheduledDate=s.EntityResult.ScheduledDate,t.Status=s.EntityResult.DispatchStatus,t.VehicleCode=s.EntityResult.VesselCode,t.DispatchReceiptInfoForUI=[],null!==s.EntityResult.DispatchCompartmentPlanList&&s.EntityResult.DispatchCompartmentPlanList.length>0){let o=1;s.EntityResult.DispatchCompartmentPlanList.forEach((e=>{const a={ID:o++,ShareholderCode:e.ShareholderCode,CarrierCompanyCode:e.CarrierCompanyCode,TrailerCode:e.TrailerCode,CompartmentCode:e.CompartmentCode,CompartmentSeqNoInVehicle:e.CompartmentSeqNoInVehicle,FinishedProductCode:e.FinishedProductCode,CustomerOrSupplierCode:"",DestinationOrOriginTerminalCode:"",PlannedQuantity:null===e.PlannedQuantity||null===e.PlanQuantityUOM?"":e.PlannedQuantity.toLocaleString()+" "+e.PlanQuantityUOM,ActualQuantity:null===e.LoadedQuantity||null===e.PlanQuantityUOM?"":e.LoadedQuantity.toLocaleString()+" "+e.LoadedQuantityUOM,Status:e.DispatchCompartmentStatus};s.EntityResult.DispatchCompartmentDetailPlanList.forEach((e=>{e.CompartmentCode===a.CompartmentCode&&(a.CustomerOrSupplierCode=e.CustomerCode,a.DestinationOrOriginTerminalCode=e.DestinationCode)})),t.DispatchReceiptInfoForUI.push(a)})),"INTERRUPTED"!==t.Status&&"PARTIALLY_LOADED"!==t.Status&&"QUEUED"!==t.Status?(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_TransactionNotInValidState",this.props.onNotice(a),t.IsValidStatus=!1):t.IsValidStatus=!0,this.setState({modMapTransactions:e,otherData:t})}else a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_WagonPlanningInDispatchNotAvailable",this.props.onNotice(a);else console.log("Error in getMarineDispatch:",s.ErrorList)})).catch((t=>{console.log("Error while getting getMarineDispatch:",t,e.TransactionCode)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on getMarineDispatch",a)}}getMarineReceipt(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},o=[{key:L.UB,value:e.TransactionCode}],s={ShareHolderCode:e.ShareholderCode,keyDataCode:L.UB,KeyCodes:o};D()(R.t7V,r.tW(s,this.props.tokenDetails.tokenInfo)).then((o=>{const s=o.data;!0===s.IsSuccess?(this.getMarineReceiptStatusOperations(s.EntityResult.ReceiptStatus),e.TransLoadSource=null,t.ScheduledDate=s.EntityResult.ScheduledDate,t.Status=s.EntityResult.ReceiptStatus,t.VehicleCode=s.EntityResult.VesselCode,t.DispatchReceiptInfoForUI=[],null!==s.EntityResult.RailMarineReceiptCompartmentPlanList&&s.EntityResult.RailMarineReceiptCompartmentPlanList.length>0?(s.EntityResult.RailMarineReceiptCompartmentPlanList.forEach((e=>{const a={ID:"",ShareholderCode:e.ShareholderCode,CarrierCompanyCode:e.CarrierCompanyCode,TrailerCode:e.TrailerCode,CompartmentCode:e.CompartmentCode,CompartmentSeqNoInVehicle:e.CompartmentSeqNoInVehicle,FinishedProductCode:e.FinishedProductCode,CustomerOrSupplierCode:"",DestinationOrOriginTerminalCode:"",PlannedQuantity:null===e.PlannedQuantity||null===e.PlanQuantityUOM?"":e.PlannedQuantity.toLocaleString()+" "+e.PlanQuantityUOM,ActualQuantity:null===e.UnloadedQuantity||null===e.UnloadedQuantityUOM?"":e.UnloadedQuantity.toLocaleString()+" "+e.UnloadedQuantityUOM,Status:e.ReceiptCompartmentStatus};s.EntityResult.RailMarineReceiptCompartmentDetailPlanList.forEach((e=>{e.CompartmentCode===a.CompartmentCode&&(a.CustomerOrSupplierCode=e.SupplierCode,a.DestinationOrOriginTerminalCode=e.OriginTerminalCode)})),t.DispatchReceiptInfoForUI.push(a)})),"INTERRUPTED"!==t.Status&&"PARTIALLY_UNLOADED"!==t.Status&&"QUEUED"!==t.Status?(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_TransactionNotInValidState",this.props.onNotice(a),t.IsValidStatus=!1):t.IsValidStatus=!0,this.setState({modMapTransactions:e,otherData:t})):(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_WagonPlanningInDispatchNotAvailable",this.props.onNotice(a))):console.log("Error in getMarineReceipt:",s.ErrorList)})).catch((t=>{console.log("Error while getting getMarineReceipt:",t,e.TransactionCode)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on getMarineReceipt",a)}}getLocalTransactions(e,t){try{const a={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:""}]},o={TransactionType:this.state.modMapTransactions.TransactionType,TransportationType:this.props.transportationType,ProductCode:e.ProductCode,ShareholderCode:this.state.modMapTransactions.ShareholderCode,LocationCode:"",DispatchReceiptStatus:e.Status,CompartmentStatus:t};D()(R.LUK,r.tW(o,this.props.tokenDetails.tokenInfo)).then((t=>{const o=t.data;a.messageType=o.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=o.IsSuccess,!0===o.IsSuccess?(e.LocalTranInfoForUI=o.EntityResult.Table,this.setState({otherData:e}),0===o.EntityResult.Table.length&&(a.messageType="critical",a.messageResultDetails[0].isSuccess=!1,a.messageResultDetails[0].errorMessage="MapTransactions_NoLocalTransactions",this.props.onNotice(a))):(e.LocalTranInfoForUI=[],a.messageResultDetails[0].errorMessage=o.ErrorList[0],this.setState({otherData:e}),this.props.onNotice(a),console.log("Error in getLocalTransactions:",o.ErrorList))})).catch((e=>{console.log("Error while get LocalTransactions:",e)}))}catch(a){console.log("MapTransactionsDetailsConposite:Error occured on getLocalTransactions",a)}}getBatchDetails(e){try{const t=v().cloneDeep(this.state.modMapTransactions),a=v().cloneDeep(this.state.otherData),o={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[t.TransactionCode],isSuccess:!1,errorMessage:""}]},s=[{key:L.wX,value:e.BCUCode},{key:L.gO,value:e.TransactionID},{key:L.Ui,value:e.BatchID}],i={ShareHolderCode:t.ShareholderCode,KeyCodes:s};D()(R.BKo,r.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{const s=e.data;o.messageType=s.IsSuccess?"success":"critical",o.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?(t.LoadingDetails=s.EntityResult,a.BatchInfoForUI=this.getBatchDetailsForUI(s.EntityResult),this.setState({modMapTransactions:t,otherData:a})):(a.BatchInfoForUI=[],o.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({modMapTransactions:t,otherData:a}),this.props.onNotice(o),console.log("Error in GetLocalTransactions:",s.ErrorList))})).catch((e=>{console.log("Error while getting GetLocalTransactions:",e)}))}catch(t){console.log("MapTransactionsDetailsConposite:Error occured on getBatchDetails",t)}}getBatchDetailsForUI(e){let t=[];try{let a=1;e.forEach((e=>{t.push(this.getBatchInfoFromLoadingDetails(e.LoadingDetailFPinfo,0,a++)),null!==e.ArrLoadingDetailBP&&void 0!==e.ArrLoadingDetailBP&&Array.isArray(e.ArrLoadingDetailBP)&&e.ArrLoadingDetailBP.forEach((e=>{t.push(this.getBatchInfoFromLoadingDetails(e,1,a++))})),null!==e.ArrLoadingDetailAdditive&&void 0!==e.ArrLoadingDetailAdditive&&Array.isArray(e.ArrLoadingDetailAdditive)&&e.ArrLoadingDetailAdditive.forEach((e=>{t.push(this.getBatchInfoFromLoadingDetails(e,2,a++))}))}))}catch(a){console.log("Error while getting GetBatchDetailsForUI:",a)}return t}getBatchInfoFromLoadingDetails(e,t,a){const o={ID:a,ProductCode:"",ProductType:"",TankCode:"",MeterCode:e.MeterCode,GrossQuantity:null===e.GrossQuantity?"0 "+e.QuantityUOM:e.GrossQuantity.toLocaleString()+" "+e.QuantityUOM,NetQuantity:null===e.NetQuantity?"0 "+e.QuantityUOM:e.NetQuantity.toLocaleString()+" "+e.QuantityUOM,StartTotalizer:null===e.StartTotalizer?"":e.StartTotalizer.toLocaleString(),EndTotalizer:null===e.EndTotalizer?"":e.EndTotalizer.toLocaleString(),Density:null===e.ProductDensity?"":e.ProductDensity.toLocaleString()+" "+e.ProductDensityUOM,Pressure:null===e.Pressure?"":e.Pressure.toLocaleString()+" "+e.PressureUOM,Temperature:null===e.Temperature?"":e.Temperature.toLocaleString()+" "+e.TemperatureUOM,StartTime:e.StartTime,EndTime:e.EndTime};switch(t){case 0:o.ProductCode=e.FinishedProductCode,o.ProductType="RailDispatchManualEntry_FinishedProduct";break;case 1:o.ProductCode=e.BaseProductCode,o.ProductType="Report_BaseProduct";break;case 2:o.ProductCode=e.AdditiveProductCode,o.ProductType="ViewShipment_Additive"}return o}getBCUDeviceDetails(e){try{var t=[{key:L.wX,value:e}],a={ShareHolderCode:"",keyDataCode:L.wX,KeyCodes:t};D()(R.T1y,r.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){const e=v().cloneDeep(this.state.modMapTransactions);!0===t.EntityResult.IsTransloading?(e.TransLoadBcu=!0,this.getReceiptCodes(e)):e.TransLoadBcu=!1,this.setState({modMapTransactions:e})}}))}catch(o){console.log("MapTransactionsDetailsComposite: Error while getting getBCUDeviceDetails",o)}}getReceiptCodes(e){try{const t={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]},a={TransportationType:this.props.transportationType,TransactionType:"RECEIPT",ShareholderCode:e.ShareholderCode};D()(R.o04,r.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{const a=e.data;if(t.messageType=a.IsSuccess?"success":"critical",t.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){if(null===a.EntityResult)console.log("Error in getReceiptCodes:",a.ErrorList);else if(Array.isArray(a.EntityResult.Table)){const e=[];a.EntityResult.Table.forEach((t=>{e.push({text:t.Code,value:t.Code})}));let t=v().cloneDeep(e);e.length>m.bM&&(t=t.slice(0,m.bM)),this.setState({receiptCodeOptions:e,receiptCodeSearchOptions:t})}}else t.messageResultDetails[0].errorMessage=a.ErrorList[0],console.log("Error in getReceiptCodes:",a.ErrorList)})).catch((e=>{console.log("Error while getting getReceiptCodes:",e)}))}catch(t){console.log("MapTransactionsDetailsConposite:Error occured on getReceiptCodes",t)}}getReceiptCodeSearchOptions(){let e=v().cloneDeep(this.state.receiptCodeSearchOptions),t=this.state.modMapTransactions.EntityCode;if(null!==t&&""!==t&&void 0!==t){void 0===e.find((e=>e.value.toLowerCase()===t.toLowerCase()))&&e.push({text:t,value:t})}return e}getWagonCodes(e){try{const t=[{key:L.eT,value:e.EntityCode}],a={ShareHolderCode:e.ShareholderCode,keyDataCode:L.eT,KeyCodes:t};D()(R.ffd,r.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess){const e=[];if(Array.isArray(t.EntityResult.RailMarineReceiptCompartmentPlanList))for(let a of t.EntityResult.RailMarineReceiptCompartmentPlanList)e.includes(a.TrailerCode)||e.push(a.TrailerCode);this.setState({railWagonCodeOptions:r.Zj(e)})}else console.log("Error in getRailReceipt:",t.ErrorList)})).catch((t=>{console.log("Error while getting getRailReceipt:",t,e.TransactionCode)}))}catch(t){console.log("MapTransactionsDetailsConposite:Error occured on getWagonCodes",t)}}GetRailDispatchOperations(e){try{const t={ShareHolderCode:this.props.selectedShareholder,KeyCodes:[{key:"RailDispatchStatus",value:e},{key:"DispatchCode",value:this.state.modMapTransactions.TransactionCode}]};D()(R.L0B,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data,a=!1,o=!1;null!==t.EntityResult&&(!0===t.EntityResult.ViewRailDispatch_CloseDispatch&&(a=!0),!0===t.EntityResult.ViewRailDispatch_PrintBOL&&(o=!0)),this.setState({isCloseEnabled:a,isPrintEnabled:o})})).catch((e=>{console.log("Error while getting getRailReceiptStatusOperations:",e)}))}catch(t){console.log(t)}}GetRailReceiptOperations(e){try{var t={Reason:this.state.reasonForClosure,ReceiptCode:this.state.modMapTransactions.TransactionCode,ReceiptStatus:e};D()(R.j49,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data,a=!1,o=!1;null!==t.EntityResult&&(!0===t.EntityResult.ViewRailReceipt_CloseReceipt&&(a=!0),!0===t.EntityResult.ViewRailReceipt_PrintBOD&&(o=!0)),this.setState({isCloseEnabled:a,isPrintEnabled:o})})).catch((e=>{console.log("Error while getting getRailReceiptStatusOperations:",e)}))}catch(a){console.log(a)}}getMarineReceiptStatusOperations(e){try{D()(R.Nex+"?MarineReceiptStatus="+e,r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data,a=!1,o=!1;null!==t.EntityResult&&(!0===t.EntityResult.ViewMarineReceiptList_CloseReceipt&&(a=!0),!0===t.EntityResult.ViewMarineReceiptList_PrintBOD&&(o=!0)),this.setState({isCloseEnabled:a,isPrintEnabled:o})})).catch((e=>{console.log("Error while getting getMarineShipmentStatusOperations:",e)}))}catch(t){console.log(t)}}getMarineShipmentStatusOperations(e){try{D()(R.fB+"?DispatchStatus="+e,r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data,a=!1,o=!1;null!==t.EntityResult&&(!0===t.EntityResult.ViewMarineShipmentList_CloseMarineShipment&&(a=!0),!0===t.EntityResult.ViewMarineShipmentList_PrintBOL&&(o=!0)),this.setState({isCloseEnabled:a,isPrintEnabled:o})})).catch((e=>{console.log("Error while getting getMarineReceiptStatusOperations:",e)}))}catch(t){console.log(t)}}getReciptsStatusOperations(e,t){try{var a=this.props.selectedShareholder;D()(R.rOC+"?receiptStatus="+e+"&IsVolumneBased="+t+"&shareholder="+a,r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data,a=!1,o=!1;null!==t.EntityResult&&(!0===t.EntityResult.ViewReceipt_CloseReceipt&&(a=!0),!0===t.EntityResult.ViewReceipt_PrintBOD&&(o=!0)),this.setState({isCloseEnabled:a,isPrintEnabled:o})})).catch((e=>{console.log("Error while getting getReceiptStatusOperations:",e)}))}catch(o){console.log(o)}}getShipmentStatusOperations(e){try{let t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:0,KeyCodes:null,Entity:e};D()(R.DOP,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data,a=!1,o=!1;null!==t.EntityResult&&(!0===t.EntityResult.ViewShipment_CloseShipment&&(a=!0),!0===t.EntityResult.ViewShipmentStatus_PrintBOL&&(o=!0)),this.setState({isCloseEnabled:a,isPrintEnabled:o})})).catch((e=>{console.log("Error while getting getShipmentStatusOperations:",e)}))}catch(t){console.log(t)}}getTransactionCodeSearchOptions(){let e=v().cloneDeep(this.state.transactionCodeSearchOptions),t=this.state.modMapTransactions.TransactionCode;if(null!==t&&""!==t&&void 0!==t){void 0===e.find((e=>e.value.toLowerCase()===t.toLowerCase()))&&e.push({text:t,value:t})}return e}ConvertLoadingDetailsFromRoadToRail(e){let t=[];try{for(let a of e){let e={IsLocalLoaded:!1,CommonInfo:{},TransactionFPinfo:{},ArrTransactionBP:[],ArrTransactionAdditive:[]};e.CommonInfo.BayCode=a.CommonInfo.BayCode,e.CommonInfo.BCUCode=a.CommonInfo.BCUCode,e.CommonInfo.CarrierCode=a.CommonInfo.CarrierCode,e.CommonInfo.CompartmentCode=a.CommonInfo.CompartmentCode,e.CommonInfo.CompartmentSeqNoInTrailer=a.CommonInfo.CompartmentSeqNoInTrailer,e.CommonInfo.CompartmentSeqNoInVehicle=a.CommonInfo.CompartmentSeqNoInVehicle,e.CommonInfo.DispatchCode=a.CommonInfo.ShipmentCode,e.CommonInfo.GeneralTMUserCode=a.CommonInfo.DriverCode,e.CommonInfo.LoadingType=a.CommonInfo.LoadingDetailsType,e.CommonInfo.OfficerName=a.CommonInfo.DriverCode,e.CommonInfo.ReceiptCode=a.CommonInfo.ReceiptCode,e.CommonInfo.TrailerCode=a.CommonInfo.TrailerCode,e.CommonInfo.TransactionType=a.CommonInfo.TransactionType,e.CommonInfo.TransportationType=a.CommonInfo.TransportationType,e.CommonInfo.VehicleCode=a.CommonInfo.VehicleCode,e.TransactionFPinfo=this.CopyAttributes(a.LoadingDetailFPinfo);for(let t of a.ArrLoadingDetailBP){let o={};o=this.CopyAttributes(t),o.ShareHolderCode=a.CommonInfo.ShareHolderCode,e.ArrTransactionBP.push(o)}for(let t of a.ArrLoadingDetailAdditive){let o={};o=this.CopyAttributes(t),o.ShareHolderCode=a.CommonInfo.ShareHolderCode,e.ArrTransactionAdditive.push(o)}t.push(e)}}catch(a){return null}return t}ConvertLoadingDetailsFromRoadToMarine(e){let t=[];try{for(let a of e){let e={IsLocalLoaded:!1,CommonInfo:{},TransactionFPinfo:{},ArrTransactionBP:[],ArrTransactionAdditive:[]};e.CommonInfo.BayCode=a.CommonInfo.BayCode,e.CommonInfo.BCUCode=a.CommonInfo.BCUCode,e.CommonInfo.CarrierCode=a.CommonInfo.CarrierCode,e.CommonInfo.CompartmentCode=a.CommonInfo.CompartmentCode,e.CommonInfo.CompartmentSeqNoInTrailer=a.CommonInfo.CompartmentSeqNoInTrailer,e.CommonInfo.CompartmentSeqNoInVehicle=a.CommonInfo.CompartmentSeqNoInVehicle,e.CommonInfo.DispatchCode=a.CommonInfo.ShipmentCode,e.CommonInfo.GeneralTMUserCode=a.CommonInfo.DriverCode,e.CommonInfo.LoadingType=a.CommonInfo.LoadingDetailsType,e.CommonInfo.OfficerName=a.CommonInfo.DriverCode,e.CommonInfo.ReceiptCode=a.CommonInfo.ReceiptCode,e.CommonInfo.TrailerCode=a.CommonInfo.TrailerCode,e.CommonInfo.TransactionType=a.CommonInfo.TransactionType,e.CommonInfo.TransportationType=a.CommonInfo.TransportationType,e.CommonInfo.VehicleCode=a.CommonInfo.VehicleCode,e.TransactionFPinfo=this.CopyAttributes(a.LoadingDetailFPinfo);for(let t of a.ArrLoadingDetailBP){let o={};o=this.CopyAttributes(t),o.ShareHolderCode=a.CommonInfo.ShareHolderCode,e.ArrTransactionBP.push(o)}for(let t of a.ArrLoadingDetailAdditive){let o={};o=this.CopyAttributes(t),o.ShareHolderCode=a.CommonInfo.ShareHolderCode,e.ArrTransactionAdditive.push(o)}t.push(e)}}catch(a){return null}return t}CopyAttributes(e){let t={};return t.AdditiveProductCode=e.AdditiveProductCode,t.ArmCode=e.LoadingArmCode,t.Attributes=e.Attributes,t.BaseProductCode=e.BaseProductCode,t.CalculatedGross=e.CalculatedGross,t.CalculatedNet=e.CalculatedNet,t.CalculatedValue=e.CalculatedValue,t.CalculatedValueUOM=e.CalculatedValueUOM,t.EndTime=e.EndTime,t.EndTotalizer=e.EndTotalizer,t.FinishedProductCode=e.FinishedProductCode,t.FlangeNumber=e.FlangeNumber,t.FlowRate=e.FlowRate,t.FlowRateUOM=e.FlowRateUOM,t.GrossMass=e.WeightInVaccum,t.GrossQuantity=e.GrossQuantity,t.InjectorPosition=e.InjectorPosition,t.IsInOffSpec=e.IsInOffSpec,t.KFactorCurrent=e.KFactorCurrent,t.KFactorProved=e.KFactorProved,t.LeakageTotalizer=e.LeakageTotalizer,t.MassUOM=e.WeightInVaccumUOM,t.MeterCode=e.MeterCode,t.NetEndTotalizer=e.NetEndTotalizer,t.NetQuantity=e.NetQuantity,t.PresetQuantity=e.PresetQuantity,t.Pressure=e.Pressure,t.PressureUOM=e.PressureUOM,t.ProductDensity=e.ProductDensity,t.ProductDensityUOM=e.ProductDensityUOM,t.QuantityUOM=e.QuantityUOM,t.ReferenceDensity=e.ProductDensity,t.Remarks=e.Remarks,t.ResetQuantity=e.ResetQuantity,t.StartTime=e.StartTime,t.StartTotalizer=e.StartTotalizer,t.TankCode=e.TankCode,t.Temperature=e.Temperature,t.TemperatureUOM=e.TemperatureUOM,t.TransactionID=e.TransactionID,t.UnitPrice=e.UnitPrice,t.VapourGrossQuantity=e.VapourGrossQuantity,t.VapourNetQuantity=e.VapourNetQuantity,t.VapourUOM=e.VapourUOM,t.VCF=e.VCF,t.WeightInAir=e.WeightInAir,t.WeightInAirUOM=e.WeightInAirUOM,t.WeightInVaccum=e.WeightInVaccum,t.WeightInVaccumUOM=e.WeightInVaccumUOM,t}validateMatch(e){const t=v().cloneDeep(this.state.validationErrors),a=[],o={messageType:"critical",message:"LocalTransaction_MatchTransaction",messageResultDetails:[{keyFields:["Common_TransactionCode"],keyValues:[e.TransactionCode],isSuccess:!1,errorMessage:""}]};if(!0!==e.TransLoadBcu){for(let e of this.state.otherData.BatchInfoForUI)if("Report_BaseProduct"===e.ProductType&&(""===e.TankCode||void 0===e.TankCode||null===e.TankCode))return o.messageResultDetails[0].errorMessage="ERRMSG_TANK_CODE_EMPTY",this.props.onNotice(o),!1;return!0}if(e.TransLoadSource===m.LY.RAIL)a.push("EntityCode"),a.push("WagonCode");else{if(e.TransLoadSource!==m.LY.MARINE)return!0;a.push("EntityCode")}return a.forEach((a=>{void 0!==e[a]&&(t[a]=r.jr(M.uf[a],e[a]))})),this.setState({validationErrors:t}),Object.values(t).every((e=>""===e))}handleTruckShipmentPrintBOL(){var e=[{key:L.FR,value:this.props.selectedShareholder},{key:L.yz,value:this.state.modMapTransactions.TransactionCode}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:L.yz,KeyCodes:e};D()(R.bX0,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.notifyMsg(t)})).catch((e=>{console.log("Error while handleTruckShipmentPrintBOL:",e)}))}handleTruckReceiptPrintBOD(){var e=[{key:L.FR,value:this.props.selectedShareholder},{key:L.nB,value:this.state.otherData.Status},{key:L.ml,value:this.state.modMapTransactions.TransactionCode},{key:L.qF,value:this.state.otherData.DriverCode}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:L.ml,KeyCodes:e};D()(R.x3K,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.notifyMsg(t)})).catch((e=>{console.log("Error while handleTruckShipmentPrintBOD:",e)}))}handleMarineShipmentPrintBOL(){var e=[{key:L.yI,value:this.state.modMapTransactions.TransactionCode}],t={keyDataCode:L.yI,KeyCodes:e};D()(R.jXr,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.notifyMsg(t)})).catch((e=>{console.log("Error while handleMarineShipmentPrintBOL:",e)}))}handleMarineReceiptPrintBOD(){var e=[{key:L.UB,value:this.state.modMapTransactions.TransactionCode}],t={keyDataCode:L.UB,KeyCodes:e};D()(R.P7r,r.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.notifyMsg(t)})).catch((e=>{console.log("Error while handleTruckShipmentPrintBOD:",e)}))}handleRailShipmentPrintBOL(){const e={ShareHolderCode:this.props.selectedShareholder,KeyCodes:[{key:"RailDispatchCode",value:this.state.modMapTransactions.TransactionCode}]};D()(R.lBV,r.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.notifyMsg(t)})).catch((e=>{console.log("Error while handleTruckShipmentPrintBOD:",e)}))}handleRailReceiptPrintBOD(){const e={ShareHolderCode:this.state.selectedShareholder,KeyCodes:[{key:L.eT,value:this.state.modMapTransactions.TransactionCode}]};D()(R.NHY,r.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.notifyMsg(t)})).catch((e=>{console.log("Error while handleMarineShipmentPrintBOL:",e)}))}notifyMsg(e){var t=this.getCloseModalPopupText(),a="PrintBOL_status";"RECEIPT"===this.state.modMapTransactions.TransactionType&&(a="PrintBOD_status");let o={messageType:"critical",message:a,messageResultDetails:[{keyFields:[t.keyField],keyValues:[this.state.modMapTransactions.TransactionCode],isSuccess:!1,errorMessage:""}]};o.messageType=e.IsSuccess?"success":"critical",o.messageResultDetails[0].isSuccess=e.IsSuccess,o.messageResultDetails[0].errorMessage=e.ErrorList[0],(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:o})}),{autoClose:"success"===o.messageType&&1e4})}handleCloseTransaction(){this.setState({launchPopup:!0,reasonForClosure:""})}render(){return(0,T.jsxs)("div",{children:[(0,T.jsx)(d.A,{children:(0,T.jsx)(E.A,{newEntityName:"LocalTransactionsMapping_lblPageTitle"})}),(0,T.jsx)(d.A,{children:(0,T.jsx)(g,{modMapTransactions:this.state.modMapTransactions,validationErrors:this.state.validationErrors,otherData:this.state.otherData,listOptions:{transportationTypes:this.state.transportationTypeOptions,transactionTypes:this.state.transactionTypeOptions,shareholderCodes:this.state.shareholderCodeOptions,dispatchReceiptCodes:this.state.dispatchReceiptCodeOptions,transactionCodes:this.getTransactionCodeSearchOptions(),tankCodes:this.state.tankCodeOptions,receiptCodes:this.getReceiptCodeSearchOptions(),railWagonCodes:this.state.railWagonCodeOptions},transportationType:this.props.transportationType,onTransactionSearchChange:this.handleTransactionCodeSearchChange,onReceiptSearchChange:this.handleReceiptCodeSearchChange,selectedCompRow:this.state.selectedCompRow,handleComRowSelectionChange:this.handleComRowSelectionChange,handleComRowClick:this.handleComRowClick,selectLocalTransactionRow:this.state.selectLocalTransactionRow,handleLocalTranRowSelectionChange:this.handleLocalTranRowSelectionChange,handleLocalTranRowClick:this.handleLocalTranRowClick,onFieldChange:this.handleChange,handleGetTanksForMeter:this.handleGetTanksForMeter,handleCellDataEdit:this.handleCellDataEdit})}),(0,T.jsx)(d.A,{children:(0,T.jsx)(h.TranslationConsumer,{children:e=>(0,T.jsx)("div",{className:"row",children:(0,T.jsxs)("div",{className:"col",style:{textAlign:"right"},children:[(0,T.jsx)(C.Button,{content:e("LocalTransaction_MatchTransaction"),disabled:0===this.state.otherData.BatchInfoForUI.length,onClick:()=>this.matchMapTransactions()}),(0,T.jsx)(C.Button,{content:e(this.state.closeRailShipment),className:"",disabled:!this.state.isCloseEnabled,onClick:()=>this.handleCloseTransaction()}),(0,T.jsx)(C.Button,{content:e(this.state.printBOL),disabled:!this.state.isPrintEnabled,onClick:()=>this.handlePrint()})]})})})}),this.state.launchPopup?this.handleCloseShipmentReceiptModal():null]})}}const O=(0,i.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})),(e=>({userActions:(0,f.zH)(I,e)})))(k);a(92342),a(63973);class N extends o.Component{constructor(){super(...arguments),this.state={isReadyToRender:!1,operationsVisibility:{add:!1,delete:!1,shareholder:!1},selectedShareholder:""},this.notifyEvent=e=>{try{(0,l.toast)((0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4})}catch(t){console.log("MapTransactionsComposite: Error occurred on savedEvent",t)}}}componentDidMount(){try{r.pJ(this.props.userDetails.EntityResult.IsArchived),this.setState({isReadyToRender:!0,selectedShareholder:this.props.userDetails.EntityResult.PrimaryShareholder})}catch(e){console.log("MapTransactionsComposite:Error occurred on componentDidMount",e)}}render(){return(0,T.jsxs)("div",{children:[(0,T.jsx)(d.A,{children:(0,T.jsx)(s.$,{operationsVisibility:this.state.operationsVisibility,breadcrumbItem:this.props.activeItem,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick,deleteVisible:!1})}),this.state.isReadyToRender?(0,T.jsx)(O,{transportationType:this.props.activeItem.itemProps.transportationType,Key:"MapTransactionsDetail",onNotice:this.notifyEvent,selectedShareholder:this.state.selectedShareholder}):(0,T.jsx)(n.A,{message:"Loading"}),(0,T.jsx)(d.A,{children:(0,T.jsx)(l.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const x=(0,i.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(N)},43503:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var o=a(67907),s=a(72711),i=a(70579);function n(e){let{entityCode:t,newEntityName:a,popUpContents:n}=e;return(0,i.jsx)(o.TranslationConsumer,{children:e=>(0,i.jsx)("div",{className:"headerContainer",children:(0,i.jsxs)("div",{className:"row headerSpacing",children:[(0,i.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,i.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(a):t})}),""!==t&&void 0!==t&&n.length>0?(0,i.jsx)("div",{className:"headerItemRight",children:(0,i.jsx)(s.Popup,{element:(0,i.jsxs)("div",{children:[e(n[0].fieldName)+" ",":"," "+n[0].fieldValue,(0,i.jsx)(s.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,i.jsx)(s.List,{className:"detailsHeaderPopUp",children:n.map((t=>(0,i.jsxs)(s.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}n.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const r=n},93779:(e,t,a)=>{a.d(t,{$A:()=>N,$L:()=>lt,$Q:()=>Be,Ae:()=>ke,BX:()=>ie,Bl:()=>ue,Bv:()=>ge,Bw:()=>Z,Cb:()=>k,Cg:()=>P,DN:()=>it,D_:()=>nt,Dm:()=>x,E7:()=>Y,EW:()=>A,FN:()=>se,FR:()=>i,FY:()=>ut,GA:()=>_e,GT:()=>D,Ge:()=>we,HB:()=>ne,JQ:()=>K,KJ:()=>ee,Kz:()=>W,Ln:()=>H,M$:()=>He,O5:()=>tt,Of:()=>Re,Oo:()=>at,Pk:()=>Te,Pm:()=>X,Q5:()=>ct,QK:()=>We,QV:()=>Ze,QZ:()=>dt,Qu:()=>ae,RX:()=>Pe,Rb:()=>_,Rp:()=>f,SP:()=>m,T5:()=>je,UB:()=>y,UT:()=>l,Ui:()=>G,VA:()=>B,Vk:()=>fe,Wb:()=>Me,Wv:()=>Ie,X3:()=>Ke,Y4:()=>Q,Yl:()=>ot,Zx:()=>J,_B:()=>ye,_C:()=>v,_R:()=>me,_j:()=>de,_n:()=>o,aM:()=>j,aW:()=>Fe,bW:()=>F,c4:()=>st,cD:()=>r,c_:()=>E,cx:()=>U,dL:()=>ht,eE:()=>le,eS:()=>Ge,eT:()=>I,f:()=>w,f7:()=>Ce,fR:()=>he,g1:()=>ce,gN:()=>Ye,gO:()=>q,iH:()=>rt,ij:()=>et,j1:()=>L,jC:()=>Se,je:()=>pe,jz:()=>re,ll:()=>$e,mM:()=>S,mO:()=>Ct,mW:()=>be,ml:()=>T,mm:()=>Xe,nB:()=>te,nT:()=>Ae,np:()=>xe,oA:()=>M,oG:()=>ze,oV:()=>$,ok:()=>h,oy:()=>c,pL:()=>Oe,pe:()=>Qe,pw:()=>qe,qF:()=>n,qQ:()=>pt,qp:()=>p,s0:()=>R,sA:()=>ve,st:()=>oe,tY:()=>b,uw:()=>z,v6:()=>s,vL:()=>Ve,vf:()=>Ne,wH:()=>Je,wO:()=>De,wX:()=>V,x4:()=>Ee,xf:()=>C,xy:()=>d,yI:()=>g,yV:()=>O,yz:()=>u,zL:()=>Le,zf:()=>Ue});const o="CarrierCode",s="TransportationType",i="ShareHolderCode",n="DriverCode",r="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",h="VehicleCode",p="DestinationCode",C="FinishedProductCode",u="ShipmentCode",m="OrderCode",T="ReceiptCode",g="MarineDispatchCode",y="MarineReceiptCode",S="SupplierCode",D="ContractCode",R="RailDispatchCode",I="RailReceiptCode",f="RailRouteCode",M="WagonCode",E="CompartmentCode",L="SMSConfigurationCode",P="PipelineDispatchCode",v="PipelineReceiptCode",k="EmailConfigurationCode",O="BaseProductCode",N="LocationCode",x="SiteViewType",w="EntityCode",A="EntityType",b="CardReaderCode",j="AccessCardCode",V="BcuCode",U="DeuCode",F="WeighBridgeCode",B="Weight",_="OutOfToleranceAllowed",Q="LoadingArmCode",H="TransportationType",W="BayCode",q="TransactionNumber",G="BatchNumber",z="TerminalCode",K="TankGroupCode",Y="TankCode",J="MeterCode",X="ShipmentType",Z="ShipmentStatus",$="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ae="FPTransactionID",oe="ProductCategoryType",se="Reason",ie="SealMasterCode",ne="Reason",re="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",he="AdjustedPlanQuantity",pe="ForceComplete",Ce="DispatchStatus",ue="HolidayDate",me="ActionID",Te="EODTimePrev",ge="TerminalAction",ye="EODTime",Se="MonthStartDay",De="CaptainCode",Re="GeneralTMUserType",Ie="GeneralTMUserCode",fe="IsPriority",Me="ActualTerminalCode",Ee="ShipmentBondNo",Le="ReceiptBondNo",Pe="DeviceType",ve="DeviceCode",ke="BayGroup",Oe="PipelineHeaderCode",Ne="ExchangePartner",xe="PersonID",we="UserName",Ae="PipelinePlanCode",be="PipelinePlanType",je="ChannelCode",Ve="ProcessName",Ue="ReconciliationCode",Fe="NotificationGroupCode",Be="NotificationGroupStatus",_e="NotificationGroupDesc",Qe="NotificationResSource",He="NotificationResMsgCode",We="NotificationOrigResSource",qe="NotificationOrigResMsgCode",Ge="NotificationMessageCode",ze="PositionType",Ke="ExchangeAgreementCode",Ye="ProductTransferAgreementCode",Je="ShareholderAgreementStatus",Xe="RequestorShareholder",Ze="LenderShareholder",$e="RequestCode",et="TransferReferenceCode",tt="ShiftID",at="ShiftName",ot="PrinterName",st="LocationType",it="ForceClosureReason",nt="TransactionType",rt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ht="COAManagementFinishedProductCode",pt="COASeqNumber",Ct="ForecastDate",ut="ForecastTanks"},35861:(e,t,a)=>{a.d(t,{F1:()=>r,i7:()=>l,r4:()=>n});var o=a(86178),s=a.n(o),i=(a(15660),a(65043),a(70579));function n(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function r(){let e=window.navigator.userLanguage||window.navigator.language;return s().locale(e),s().localeData().longDateFormat("L")}function l(e){return(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:e}),(0,i.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}},92342:()=>{}}]);
//# sourceMappingURL=5218.2a35541d.chunk.js.map