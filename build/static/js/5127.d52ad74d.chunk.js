"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[5127],{5882:(t,e,i)=>{i.r(e),i.d(e,{Axis:()=>V,AxisCollection:()=>X,AxisType:()=>E,ChartElement:()=>H,ChartTooltip:()=>L,ChartType:()=>tt,DataArray:()=>it,DataLabel:()=>R,DataLabelBase:()=>O,DataLabelRenderEventArgs:()=>D,DataPoint:()=>w,FlexChart:()=>mt,FlexChartBase:()=>C,FlexChartCore:()=>dt,FlexPie:()=>at,HitTestInfo:()=>$,ImageFormat:()=>p,LabelPosition:()=>M,Legend:()=>x,LineMarker:()=>Mt,LineMarkerAlignment:()=>pt,LineMarkerInteraction:()=>_t,LineMarkerLines:()=>ct,Marker:()=>Q,Orientation:()=>g,OverlappingLabels:()=>I,Palettes:()=>u,PieDataLabel:()=>j,PieLabelPosition:()=>T,PlotArea:()=>c,PlotAreaCollection:()=>_,Position:()=>f,RenderEventArgs:()=>S,SelectionMode:()=>d,Series:()=>st,SeriesBase:()=>rt,SeriesEventArgs:()=>nt,SeriesRenderingEventArgs:()=>P,SeriesVisibility:()=>J,Stacking:()=>et,SvgRenderEngine:()=>v,TickMark:()=>k,_AreaPlotter:()=>yt,_BarPlotter:()=>bt,_BasePlotter:()=>ut,_BubblePlotter:()=>Ct,_CircleArea:()=>U,_DataInfo:()=>gt,_DataPoint:()=>G,_DonutSegment:()=>lt,_FinancePlotter:()=>wt,_FunnelPlotter:()=>vt,_FunnelSegment:()=>xt,_HitResult:()=>K,_HitTester:()=>Z,_KeyWords:()=>N,_LinePlotter:()=>Tt,_LinesArea:()=>q,_MeasureOption:()=>Y,_PieSegment:()=>ht,_RectArea:()=>W,_Spline:()=>l,_SvgRenderEngine:()=>y,_VolumeHelper:()=>h});var n,r,s=i(728),a=i(5882),o=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(){function t(t,e,i,n,r){this._volumes=(0,s.asArray)(t),this._xVals=(0,s.asArray)(e),this._xDataMin=(0,s.asNumber)(i,!0,!1),this._xDataMax=(0,s.asNumber)(n,!0,!1),this._xDataType=(0,s.asEnum)(r,s.DataType,!0),this._calcData=[],this._init()}return t.prototype.convert=function(e,i,n){var r=void 0,a=this._calcData.length,o=-1;if(this._hasXs&&this._xDataType===s.DataType.Date){if(-1===(o=this._xVals.indexOf(e)))for(var h=0;h<this._xVals.length;h++){if(h<this._xVals.length-1&&this._xVals[h]<=e&&e<=this._xVals[h+1]){o=h;break}if(0===h&&e<=this._xVals[h]){o=h;break}if(h===this._xVals.length-1&&this._xVals[h]<=e){o=h;break}}-1===o&&(o=this._xVals.indexOf(Math.floor(e)),o=(0,s.clamp)(o,0,a-1))}else this._hasXs?-1===(o=this._xVals.indexOf(e))&&(o=this._xVals.indexOf(Math.floor(e)),o=(0,s.clamp)(o,0,a-1)):o=(0,s.clamp)(Math.round(e),0,a-1);return 0<=o&&o<a&&(this._hasXs&&(e=t.convertToRange(e,0,a-1,this._xDataMin,this._xDataMax)),r=((r=this._calcData[o].value+(e-o)*this._calcData[o].width-.5*this._calcData[o].width)-(i=this._getXVolume(i)))/((n=this._getXVolume(n))-i)),r},t.prototype.convertBack=function(e,i,n){var r,s=void 0,a=this._calcData.length,o=-1;for(r=0;r<a;r++)if(this._calcData[r].x1<=e&&e<=this._calcData[r].x2||0===r&&e<=this._calcData[r].x2||r===a-1&&this._calcData[r].x1<=e){o=r;break}return 0<=o&&o<a&&(s=e/this._calcData[o].width-this._calcData[o].value/this._calcData[o].width+.5+r,this._hasXs&&(s=t.convertToRange(s,this._xDataMin,this._xDataMax,0,a-1))),s},t.prototype._init=function(){this._hasXs=null!==this._xVals&&this._xVals.length>0,this._hasXs&&!(0,s.isNumber)(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals)),this._hasXs&&!(0,s.isNumber)(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals)),this._hasXs&&(this._hasXs=(0,s.isNumber)(this._xDataMin)&&(0,s.isNumber)(this._xDataMax)),this._hasXs&&this._xDataType===s.DataType.Date&&this._fillGaps();var t=0,e=0,i=null!==this._volumes&&this._volumes.length>0?this._volumes.length:0;for(e=0;e<i;e++)t+=this._volumes[e]||0;var n,r,a=0;for(e=0;e<i;e++)n=a+(r=(this._volumes[e]||0)/t),this._calcData.push({value:n,width:r,x1:a,x2:n}),a=this._calcData[e].value},t.prototype._getXVolume=function(e){var i=this._calcData.length,n=-1;if(this._hasXs){n=this._xVals.indexOf(e);for(var r=0;r<this._xVals.length;r++){if(r<this._xVals.length-1&&this._xVals[r]<=e&&e<=this._xVals[r+1]){n=r;break}if(0===r&&e<=this._xVals[r]){n=r;break}if(r===this._xVals.length-1&&this._xVals[r]<=e){n=r;break}}}return this._hasXs&&(e=t.convertToRange(e,0,i-1,this._xDataMin,this._xDataMax)),-1===n&&(n=(0,s.clamp)(Math.round(e),0,i-1)),this._calcData[n].value+(e-n)*this._calcData[n].width-.5*this._calcData[n].width},t.convertToRange=function(t,e,i,n,r){return e===i||n===r?0:(t-n)*(i-e)/(r-n)+e},t.prototype._fillGaps=function(){if(!(this._xDataType!==s.DataType.Date||null===this._xVals||this._xVals.length<=0)){var t,e=this._xDataMin,i=this._xDataMax;for(t=1;e<i;t++)(e=new Date(e)).setDate(e.getDate()+1),(e=e.valueOf())!==this._xVals[t]&&(this._xVals.splice(t,0,e),this._volumes.splice(t,0,0))}},t}(),l=function(){function t(t,e,i){this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],this._x=t,this._y=e;var n=this._len=i||Math.min(t.length,e.length);if(n>3)for(var r=0;r<n-1;r++){var a=0==r?new s.Point(t[r],e[r]):new s.Point(t[r-1],e[r-1]),o=new s.Point(t[r],e[r]),h=new s.Point(t[r+1],e[r+1]),l=r==n-2?new s.Point(t[r+1],e[r+1]):new s.Point(t[r+2],e[r+2]),u=new s.Point,c=new s.Point,_=new s.Point,p=new s.Point;u.x=a.x*this.m[0][0]+o.x*this.m[0][1]+h.x*this.m[0][2]+l.x*this.m[0][3],c.x=a.x*this.m[1][0]+o.x*this.m[1][1]+h.x*this.m[1][2]+l.x*this.m[1][3],_.x=a.x*this.m[2][0]+o.x*this.m[2][1]+h.x*this.m[2][2]+l.x*this.m[2][3],p.x=a.x*this.m[3][0]+o.x*this.m[3][1]+h.x*this.m[3][2]+l.x*this.m[3][3],u.y=a.y*this.m[0][0]+o.y*this.m[0][1]+h.y*this.m[0][2]+l.y*this.m[0][3],c.y=a.y*this.m[1][0]+o.y*this.m[1][1]+h.y*this.m[1][2]+l.y*this.m[1][3],_.y=a.y*this.m[2][0]+o.y*this.m[2][1]+h.y*this.m[2][2]+l.y*this.m[2][3],p.y=a.y*this.m[3][0]+o.y*this.m[3][1]+h.y*this.m[3][2]+l.y*this.m[3][3],this._a.push(u),this._b.push(c),this._c.push(_),this._d.push(p)}}return t.prototype.calculatePoint=function(t){var e=Math.floor(t);e<0&&(e=0),e>this._len-2&&(e=this._len-2);var i=t-e;return{x:((this._a[e].x*i+this._b[e].x)*i+this._c[e].x)*i+this._d[e].x,y:((this._a[e].y*i+this._b[e].y)*i+this._c[e].y)*i+this._d[e].y}},t.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};var t=[],e=[],i=this.calculatePoint(0);t.push(i.x),e.push(i.y);for(var n=this._len*this.k,r=n;r<=this._len-1;r+=n){var s=this.calculatePoint(r);(Math.abs(i.x-s.x)>=3||Math.abs(i.y-s.y)>=3)&&(t.push(s.x),e.push(s.y),i=s)}return{xs:t,ys:e}},t}(),u=function(){function t(){}return t._isExtended=function(e){return-1!==this._values(t.Diverging).indexOf(e)||-1!==this._values(t.Qualitative).indexOf(e)||-1!==this._values(t.SequentialSingle).indexOf(e)||-1!==this._values(t.SequentialMulti).indexOf(e)},t._values=function(t){return Object.keys(t).map((function(e){return t[e]}))},t.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],t.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],t.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],t.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],t.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],t.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],t.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],t.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],t.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],t.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],t.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],t.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],t.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],t.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],t.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],t.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],t.Qualitative={Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"]},t.Diverging={BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},t.SequentialSingle={Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},t.SequentialMulti={BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},t}(),c=function(){function t(t){this._row=0,this._col=0,this._rect=new s.Rect(0,0,0,0),(0,s.copy)(this,t)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=(0,s.asInt)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=(0,s.asInt)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=(0,s.asString)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(t){t.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(t,e){this._rect.left=t,this._rect.width=e},t.prototype._setPlotY=function(t,e){this._rect.top=t,this._rect.height=e},t}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPlotArea=function(t){var e=this.indexOf(t);return e>-1?this[e]:null},e.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1},e.prototype._getWidth=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.column==t&&0==i.row)return i.width}},e.prototype._getHeight=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.row==t&&0==i.column)return i.height}},e.prototype._calculateWidths=function(t,e){if(e<=0)throw"ncols";for(var i=[],n=0;n<e;n++){var r=this._getWidth(n);i[n]=new m(r)}return this._calculateLengths(t,e,i)},e.prototype._calculateHeights=function(t,e){if(e<=0)throw"nrows";for(var i=[],n=0;n<e;n++){var r=this._getHeight(n);i[n]=new m(r)}return this._calculateLengths(t,e,i)},e.prototype._calculateLengths=function(t,e,i){for(var n=[e],r=0,s=0,a=0;a<e;a++)i[a].isAbsolute?(n[a]=i[a].value,r+=n[a]):i[a].isStar?s+=i[a].value:i[a].isAuto&&s++;var o=(t-r)/s;for(a=0;a<e;a++)i[a].isStar?n[a]=o*i[a].value:i[a].isAuto&&(n[a]=o),n[a]<0&&(n[a]=0);return n},e}(s.ObservableArray);(r=n||(n={}))[r.Auto=0]="Auto",r[r.Pixel=1]="Pixel",r[r.Star=2]="Star";var p,d,f,g,m=function(){function t(t){void 0===t&&(t=null),this._unitType=n.Auto,t&&((t=t.toString()).indexOf("*")>=0?(this._unitType=n.Star,t=t.replace("*",""),this._value=parseFloat(t),isNaN(this._value)&&(this._value=1)):(this._unitType=n.Pixel,this._value=parseFloat(t),isNaN(this._value)&&(this._unitType=n.Auto,this._value=1)))}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStar",{get:function(){return this._unitType==n.Star},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAbsolute",{get:function(){return this._unitType==n.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAuto",{get:function(){return this._unitType==n.Auto},enumerable:!0,configurable:!0}),t}(),y=function(){function t(e){this._strokeWidth=1,this._fontSize=null,this._fontFamily=null,this._savedGradient={},this._bbCache={},this._baseUrl="",this._cssPriority=!0,this._readOnly=!1,this._isRtl=!1,this._precision=1,this._element=e,this._create(),this._element&&this._element.appendChild(this._svg);var i=navigator.userAgent.toLowerCase();void 0===t._isff&&(t._isff=i.indexOf("firefox")>=0),void 0===t._isSafari&&(t._isSafari=i.indexOf("safari")>-1&&-1==i.indexOf("chrome")),this._baseUrl=window.location.pathname.replace(window.location.hash,""),"file:"==window.location.protocol&&((0,s.isIE)()||(0,s.isEdge)())&&(this._baseUrl="file:"+this._baseUrl)}return t.prototype.attach=function(t){this._element=t,t&&(t.insertBefore(this._svg,t.childNodes[0]),t.appendChild(this._svg))},t.prototype.detach=function(){for(this._element&&this._element.removeChild(this._svg);this._svg.firstChild;)(0,s.removeChild)(this._svg.firstChild)},t.prototype.beginRender=function(){for(;this._svg.firstChild;)(0,s.removeChild)(this._svg.firstChild);this._savedGradient={},this._bbCache={},this._svg.appendChild(this._defs),this._svg.appendChild(this._textGroup),this._isRtl=this._checkRtl()},t.prototype.endRender=function(){(0,s.removeChild)(this._textGroup)},t.prototype.setViewportSize=function(t,e){this._svg.setAttribute("width",t.toString()),this._svg.setAttribute("height",e.toString())},Object.defineProperty(t.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=void 0===t?null:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFill",{get:function(){return this._textFill},set:function(t){this._textFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssPriority",{get:function(){return this._cssPriority},set:function(t){this._cssPriority=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"precision",{get:function(){return this._precision},set:function(t){this._precision=(0,s.asNumber)(t)},enumerable:!0,configurable:!0}),t.prototype.addClipRect=function(e,i){if(e&&i){var n=this.precision,r=document.createElementNS(t.svgNS,"clipPath"),s=document.createElementNS(t.svgNS,"rect");s.setAttribute("x",(e.left-1).toFixed(n)),s.setAttribute("y",(e.top-1).toFixed(n)),s.setAttribute("width",(e.width+2).toFixed(n)),s.setAttribute("height",(e.height+2).toFixed(n)),r.appendChild(s),r.setAttribute("id",i),this._svg.appendChild(r)}},t.prototype.drawEllipse=function(e,i,n,r,s,a){var o=document.createElementNS(t.svgNS,"ellipse"),h=this.precision;return this._applyColor(o,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(o,"stroke-width",this._strokeWidth.toString()),this._applyColor(o,"fill",this._fill),o.setAttribute("cx",e.toFixed(h)),o.setAttribute("cy",i.toFixed(h)),o.setAttribute("rx",n.toFixed(h)),o.setAttribute("ry",r.toFixed(h)),s&&o.setAttribute("class",s),this._applyStyle(o,a),this._appendChild(o),o},t.prototype.drawRect=function(e,i,n,r,s,a,o){var h=document.createElementNS(t.svgNS,"rect"),l=this.precision;return this._applyColor(h,"fill",this._fill),this._applyColor(h,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(h,"stroke-width",this._strokeWidth.toString()),h.setAttribute("x",e.toFixed(l)),h.setAttribute("y",i.toFixed(l)),n>0&&n<.05?h.setAttribute("width","0.1"):h.setAttribute("width",n.toFixed(l)),r>0&&r<.05?h.setAttribute("height","0.1"):h.setAttribute("height",r.toFixed(l)),o&&this._setClipPath(h,o),s&&h.setAttribute("class",s),this._applyStyle(h,a),this._appendChild(h),h},t.prototype.drawLine=function(e,i,n,r,s,a){var o=document.createElementNS(t.svgNS,"line"),h=this.precision;return this._applyColor(o,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(o,"stroke-width",this._strokeWidth.toString()),o.setAttribute("x1",e.toFixed(h)),o.setAttribute("x2",n.toFixed(h)),o.setAttribute("y1",i.toFixed(h)),o.setAttribute("y2",r.toFixed(h)),s&&o.setAttribute("class",s),this._applyStyle(o,a),this._appendChild(o),o},t.prototype.drawLines=function(e,i,n,r,s,a){if(e&&i){var o=a||Math.min(e.length,i.length);if(o>0){var h=document.createElementNS(t.svgNS,"polyline"),l=this.precision;this._applyColor(h,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(h,"stroke-width",this._strokeWidth.toString()),h.setAttribute("fill","none");for(var u="",c=0;c<o;c++)u+=e[c].toFixed(l)+","+i[c].toFixed(l)+" ";return h.setAttribute("points",u),n&&h.setAttribute("class",n),s&&this._setClipPath(h,s),this._applyStyle(h,r),this._appendChild(h),h}}return null},t.prototype.drawSplines=function(e,i,n,r,s,a){if(e&&i){var o=new l(e,i,a).calculate(),h=o.xs,u=o.ys,c=Math.min(h.length,u.length);if(c>0){var _=document.createElementNS(t.svgNS,"polyline"),p=this.precision;this._applyColor(_,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(_,"stroke-width",this._strokeWidth.toString()),_.setAttribute("fill","none");for(var d="",f=0;f<c;f++)d+=h[f].toFixed(p)+","+u[f].toFixed(p)+" ";return _.setAttribute("points",d),n&&_.setAttribute("class",n),s&&this._setClipPath(_,s),this._applyStyle(_,r),this._appendChild(_),_}}return null},t.prototype.drawPolygon=function(e,i,n,r,s){if(e&&i){var a=Math.min(e.length,i.length);if(a>0){var o=document.createElementNS(t.svgNS,"polygon"),h=this.precision;this._applyColor(o,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(o,"stroke-width",this._strokeWidth.toString()),this._applyColor(o,"fill",this._fill);for(var l="",u=0;u<a;u++)l+=e[u].toFixed(h)+","+i[u].toFixed(h)+" ";return o.setAttribute("points",l),n&&o.setAttribute("class",n),s&&this._setClipPath(o,s),this._applyStyle(o,r),this._appendChild(o),o}}return null},t.prototype.drawPieSegment=function(e,i,n,r,a,o,h,l){if(a>=2*Math.PI)return this.drawEllipse(e,i,n,n,o,h);var u=document.createElementNS(t.svgNS,"path"),c=this.precision;this._applyColor(u,"fill",this._fill),this._applyColor(u,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(u,"stroke-width",this._strokeWidth.toString());var _=new s.Point(e,i);_.x+=n*Math.cos(r),_.y+=n*Math.sin(r);var p=r+a,d=new s.Point(e,i);d.x+=n*Math.cos(p),d.y+=n*Math.sin(p);var f=" 0 0,1 ";Math.abs(a)>Math.PI&&(f=" 0 1,1 ");var g="M "+_.x.toFixed(c)+","+_.y.toFixed(c);return g+=" A "+n.toFixed(c)+","+n.toFixed(c)+f,g+=d.x.toFixed(c)+","+d.y.toFixed(c),g+=" L "+e.toFixed(c)+","+i.toFixed(c)+" z",u.setAttribute("d",g),l&&this._setClipPath(u,l),o&&u.setAttribute("class",o),this._applyStyle(u,h),this._appendChild(u),u},t.prototype.drawDonutSegment=function(e,i,n,r,a,o,h,l,u){var c=!1;o>=2*Math.PI&&(c=!0,o-=.001);var _=document.createElementNS(t.svgNS,"path"),p=this.precision+2;this._applyColor(_,"fill",this._fill),this._applyColor(_,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(_,"stroke-width",this._strokeWidth.toString());var d=new s.Point(e,i);d.x+=n*Math.cos(a),d.y+=n*Math.sin(a);var f=a+o,g=new s.Point(e,i);g.x+=n*Math.cos(f),g.y+=n*Math.sin(f);var m=new s.Point(e,i);m.x+=r*Math.cos(f),m.y+=r*Math.sin(f);var y=new s.Point(e,i);y.x+=r*Math.cos(a),y.y+=r*Math.sin(a);var b=" 0 0,1 ",v=" 0 0,0 ";Math.abs(o)>Math.PI&&(b=" 0 1,1 ",v=" 0 1,0 ");var x="M "+d.x.toFixed(p)+","+d.y.toFixed(p);return x+=" A "+n.toFixed(p)+","+n.toFixed(p)+b,x+=g.x.toFixed(p)+","+g.y.toFixed(p),x+=c?" M "+m.x.toFixed(p)+","+m.y.toFixed(p):" L "+m.x.toFixed(p)+","+m.y.toFixed(p),x+=" A "+r.toFixed(p)+","+r.toFixed(p)+v,x+=y.x.toFixed(p)+","+y.y.toFixed(p),c||(x+=" z"),_.setAttribute("d",x),u&&this._setClipPath(_,u),h&&_.setAttribute("class",h),this._applyStyle(_,l),this._appendChild(_),_},t.prototype.drawString=function(t,e,i,n){var r=this._createText(e,t),a=this.precision;i&&r.setAttribute("class",i),this._applyStyle(r,n),this._appendChild(r);var o,h=this._getKey(t,i,this._groupCls);return this._bbCache[h]?(o=this._bbCache[h],r.setAttribute("y",(e.y-(o.y+o.height)).toFixed(a))):(o=this._getBBox(r),r.setAttribute("y",(e.y-(o.y+o.height-e.y)).toFixed(a))),this._isRtl&&!(0,s.isIE)()&&r.setAttribute("x",(e.x+o.width).toFixed(a)),r},t.prototype.drawStringRotated=function(e,i,n,r,a,o){var h=this._createText(i,e),l=this.precision;a&&h.setAttribute("class",a),this._applyStyle(h,o);var u=document.createElementNS(t.svgNS,"g");u.setAttribute("transform","rotate("+r.toFixed(l)+","+n.x.toFixed(l)+","+n.y.toFixed(l)+")"),u.appendChild(h),this._appendChild(u);var c=this._getBBox(h);return h.setAttribute("y",(i.y-(c.y+c.height-i.y)).toFixed(l)),this._isRtl&&!(0,s.isIE)()&&h.setAttribute("x",(i.x+c.width).toFixed(l)),h},t.prototype.measureString=function(t,e,i,n){var r=new s.Size(0,0);if(!this._fontFamily&&!this._fontSize){var a=this._getKey(t,e,i);if(this._bbCache[a])return this._bbCache[a]}if(this.cssPriority)this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily);else{var o="";this._fontSize&&(o+="font-size:"+this._fontSize+";"),this._fontFamily&&(o+="font-family:"+this._fontFamily+";"),o.length>0&&this._text.setAttribute("style",o)}e&&this._text.setAttribute("class",e),i&&this._textGroup.setAttribute("class",i),this._applyStyle(this._text,n),this._setText(this._text,t);var h=this._getBBox(this._text);if(r.width=h.width,r.height=h.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),this._text.removeAttribute("style"),n)for(var l in n)this._text.removeAttribute(this._deCase(l));if(this._textGroup.removeAttribute("class"),this._text.textContent=null,!this._fontFamily&&!this._fontSize){var u=this._getKey(t,e,i);this._bbCache[u]={x:h.x,y:h.y+1e3,width:h.width,height:h.height}}return r},t.prototype.startGroup=function(e,i,n){void 0===n&&(n=!1);var r=document.createElementNS(t.svgNS,"g");return e&&(r.setAttribute("class",e),this._groupCls=e),i&&this._setClipPath(r,i),this._appendChild(r),n&&r.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=r,r},t.prototype.endGroup=function(){if(this._group){var t=this._group.parentNode;t==this._svg?(this._group=null,this._groupCls=null):(this._group=t,this._groupCls=this._getClass(this._group))}},t.prototype.drawImage=function(e,i,n,r,s){var a=document.createElementNS(t.svgNS,"image"),o=this.precision;return a.setAttributeNS(t.xlinkNS,"href",e),a.setAttribute("x",i.toFixed(o)),a.setAttribute("y",n.toFixed(o)),a.setAttribute("width",r.toFixed(o)),a.setAttribute("height",s.toFixed(o)),this._appendChild(a),a},t.prototype._setClipPath=function(e,i){e.setAttribute("clip-path","url(#"+i+")"),t._isSafari&&(0,s.setCss)(e,{"-webkit-clip-path":"url(#"+i+")"})},t.prototype._appendChild=function(t){if(!this.readOnly){var e=this._group;e||(e=this._svg),e.appendChild(t)}},t.prototype._create=function(){this._svg=document.createElementNS(t.svgNS,"svg"),this._defs=document.createElementNS(t.svgNS,"defs"),this._svg.appendChild(this._defs),this._text=this._createText(new s.Point(-1e3,-1e3),""),this._textGroup=document.createElementNS(t.svgNS,"g"),this._textGroup.appendChild(this._text),this._svg.appendChild(this._textGroup)},t.prototype._setText=function(t,e){var i=e?e.toString():null;if(i&&i.indexOf("tspan")>=0)try{t.textContent=null;for(var n=new DOMParser,r='<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>",s=n.parseFromString(r,"text/xml").documentElement.firstChild;s;)t.appendChild(t.ownerDocument.importNode(s,!0)),s=s.nextSibling}catch(t){throw new Error("Error parsing XML string.")}else t.textContent=i},t.prototype._getKey=function(t,e,i){return t+(e||"")+(i||"")},t.prototype._createText=function(e,i){var n=document.createElementNS(t.svgNS,"text"),r=this.precision;if(this._setText(n,i),n.setAttribute("x",e.x.toFixed(r)),n.setAttribute("y",e.y.toFixed(r)),this.cssPriority)null!=this._textFill&&n.setAttribute("fill",this._textFill),this._fontSize&&n.setAttribute("font-size",this._fontSize),this._fontFamily&&n.setAttribute("font-family",this._fontFamily);else{var s="";null!=this._textFill&&(s+="fill:"+this._textFill+";"),this._fontSize&&(s+="font-size:"+this._fontSize+";"),this._fontFamily&&(s+="font-family:"+this._fontFamily+";"),s.length>0&&n.setAttribute("style",s)}return n},t.prototype._applyStyle=function(t,e){if(e)for(var i in e)"fill"===i||"stroke"===i?this._applyColor(t,i,e[i]):t.setAttribute(this._deCase(i),e[i])},t.prototype._deCase=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},t.prototype._getClass=function(t){var e;if(t)for(var i=t;i&&!(e=i.getAttribute("class"));i=i.parentNode);return e},t.prototype._getBBox=function(e){if(!t._isff)return e.getBBox();try{return e.getBBox()}catch(e){return{x:0,y:0,width:0,height:0}}},t.prototype._applyColor=function(e,i,n){var r=b.tryParse(n);if(null!=r){if(!(0,s.isString)(r)){if(null==this._savedGradient[n]){var a,o="gc"+(1e6*Math.random()).toFixed();null!=r.x1?(a=document.createElementNS(t.svgNS,"linearGradient"),["x1","y1","x2","y2","gradientUnits"].forEach((function(t){null!=r[t]&&a.setAttribute(t,r[t])}))):null!=r.r&&(a=document.createElementNS(t.svgNS,"radialGradient"),["cx","cy","r","fx","fy","fr","gradientUnits"].forEach((function(t){null!=r[t]&&a.setAttribute(t,r[t])}))),r.colors&&r.colors&&r.colors.length>0&&r.colors.forEach((function(e){var i=document.createElementNS(t.svgNS,"stop");null!=e.color&&i.setAttribute("stop-color",e.color),null!=e.offset&&i.setAttribute("offset",e.offset),null!=e.opacity&&i.setAttribute("stop-opacity",e.opacity),a.appendChild(i)})),a.setAttribute("id",o),this._defs.appendChild(a),this._savedGradient[n]=o}r="url("+this._baseUrl+"#"+this._savedGradient[n]+")"}this.cssPriority?e.setAttribute(i,r):this._addInlineStyle(e,i,r)}},t.prototype._addInlineStyle=function(t,e,i){var n=t.getAttribute("style");n?t.setAttribute("style",n+e+":"+i+";"):t.setAttribute("style",e+":"+i+";")},t.prototype._setAttribute=function(t,e,i){this.cssPriority?t.setAttribute(e,i):this._addInlineStyle(t,e,i)},t.prototype._checkRtl=function(){return this._element&&(0,s.hasClass)(this._element,"wj-rtl")},t.svgNS="http://www.w3.org/2000/svg",t.xlinkNS="http://www.w3.org/1999/xlink",t}(),b=function(){function t(){}return t.tryParse=function(e){if(t.parsedColor[e])return t.parsedColor[e];if(null==e||-1===e.indexOf("-")||-1!==e.indexOf("var("))return e;var i,n=e.replace(/\s+/g,"").split(/\-/g),r=n[0][0],s=!1,a=n[0].match(/\(\S+\)/);if(!a||0==a.length)return e;var o=a[0].replace(/[\(\\)]/g,"").split(/\,/g);"l"===r||"L"===r?(i={x1:"0",y1:"0",x2:"0",y2:"0",colors:[]},"l"===r&&(s=!0),["x1","y1","x2","y2"].forEach((function(t,e){null!=o[e]&&(i[t]=s?100*+o[e]+"%":o[e]+"")}))):"r"!==r&&"R"!==r||(i={cx:"0",cy:"0",r:"0",colors:[]},"r"===r&&(s=!0),["cx","cy","r","fx","fy","fr"].forEach((function(t,e){null!=o[e]&&""!==o[e]&&(i[t]=s?100*+o[e]+"%":o[e]+"")}))),s||(i.gradientUnits="userSpaceOnUse"),t.parsedColor[e]=i;var h=n.length-1;return n.forEach((function(t,e){t.indexOf(")")>-1&&(t=t.match(/\)\S+/)[0].replace(")",""));var n=t.split(":"),r={color:"black"};null!=n[0]&&(r.color=n[0]),null!=n[1]?r.offset=s?100*+n[1]+"%":n[1]+"":r.offset=e/h*100+"%",null!=n[2]&&(r.opacity=n[2]),i.colors.push(r)})),i},t.parsedColor={},t}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(y),x=function(){function t(t){this._position=f.Right,this._title="",this._titleAlign="left",this._titlePadding=5,this._areas=new Array,this._sz=new s.Size,this._colRowLens=[],this._orient=g.Auto,this._chart=t}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t=(0,s.asEnum)(t,f))!=this._position&&(this._position=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=(0,s.asString)(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleAlign",{get:function(){return this._titleAlign},set:function(t){if(t!=this._titleAlign){var e=(0,s.asString)(t,!1);this._titleAlign="right"===e?"right":"center"===e?"center":"left",this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orient},set:function(t){(t=(0,s.asEnum)(t,g))!=this._orient&&(this._orient=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._maxSz},set:function(t){if(t!=this._maxSz){if((0,s.isNumber)(t))this._maxSz=t;else if((0,s.isString)(t)){var e=(0,s.asString)(t);(0,s.assert)(C._endsWith(e,"px")||C._endsWith(e,"%"),"number with unit (px or %) expected."),this._maxSz=e}else t&&(0,s.assert)(!1,"number or string expected.");this._invalidate()}},enumerable:!0,configurable:!0}),t.prototype._getDesiredSize=function(t,e,i,n){if(e==f.None)return null;var r=this.orientation==g.Auto?e==f.Right||e==f.Left:this.orientation==g.Vertical,s=this._chart._getDesiredLegendSize(t,r,i,n);if(null!=s){if(this.title.length>0){var a=t.measureString(this.title,"wj-title","wj-legend");s.height+=a.height+this._titlePadding,a.width>s.width&&(s.width=a.width)}this._sz=s}return s},t.prototype._getPosition=function(t,e){return this.position==f.Auto?t>=e?f.Right:f.Bottom:this.position},t.prototype._render=function(t,e,i,n,r){this._areas=[];var s=this.orientation==g.Auto?i==f.Right||i==f.Left:this.orientation==g.Vertical;if(t.fill="transparent",t.stroke=null,t.drawRect(e.x,e.y,this._sz.width,this._sz.height),this.title.length){var a=e.clone(),o=t.measureString(this.title,"wj-title`");a.y+=o.height,"right"===this.titleAlign?a.x=e.x+n-o.width:"center"===this.titleAlign&&(a.x=e.x+.5*(n-o.width)),t.drawString(this.title,a,"wj-title");var h=o.height+this._titlePadding;e.y+=h,r-=h}this._chart._renderLegend(t,e,this._areas,s,n,r)},t.prototype._hitTest=function(t){for(var e=this._areas,i=0;i<e.length;i++)if(e[i]&&C._contains(e[i],t))return i;return null},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._getMaxSize=function(t){var e=this.maxSize;if((0,s.isNumber)(e)){if((n=(0,s.asNumber)(e,!0))>0)return Math.min(n,t)}else{var i=(0,s.asString)(e,!0);if(i)if(C._endsWith(i,"px")){if((n=parseFloat(i.replace("px","")))>0)return Math.min(n,t)}else if(C._endsWith(i,"%")){var n;if((n=parseFloat(i.replace("%","")))>0)return t*Math.min(n,100)/100}}return.5*t},t}(),w=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},S=function(t){function e(e){var i=t.call(this)||this;return i._engine=e,i}return o(e,t),Object.defineProperty(e.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),e}(s.CancelEventArgs),P=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._index=i,r._count=n,r}return o(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e}(S);!function(t){t[t.Png=0]="Png",t[t.Jpeg=1]="Jpeg",t[t.Svg=2]="Svg"}(p||(p={})),function(t){t[t.None=0]="None",t[t.Series=1]="Series",t[t.Point=2]="Point"}(d||(d={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom",t[t.Auto=5]="Auto"}(f||(f={})),function(t){t[t.Auto=0]="Auto",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal"}(g||(g={}));var M,T,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._palette=null,e._selectionMode=d.None,e._defPalette=u.standard,e._notifyCurrentChanged=!0,e._legendHost=null,e._needBind=!1,e._skipLightClr=!1,e.rendering=new s.Event,e.rendered=new s.Event,e.itemsSourceChanging=new s.Event,e.itemsSourceChanged=new s.Event,e.selectionChanged=new s.Event,e}return o(e,t),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._items},set:function(t){if(this._items!=t){var e=new s.CancelEventArgs;if(!this.onItemsSourceChanging(e))return;this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=(0,s.asCollectionView)(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this.onItemsSourceChanged(e),this._bindChart()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=(0,s.asArray)(t),this._skipLightClr=u._isExtended(this._palette),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(t){t!=this._plotMargin&&(this._plotMargin=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend},set:function(t){t!=this._legend&&(this._legend=(0,s.asType)(t,x),null!=this._legend&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=(0,s.asString)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=(0,s.asString)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(t){t!=this._headerStyle&&(this._headerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(t){t!=this._footerStyle&&(this._footerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(t){(t=(0,s.asEnum)(t,d))!=this._selectionMode&&(this._selectionMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=(0,s.asFunction)(t),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.onRendering=function(t){this.rendering.raise(this,t)},e.prototype.onRendered=function(t){this.rendered.raise(this,t)},e.prototype.onItemsSourceChanging=function(t){return this.itemsSourceChanging.raise(this,t),!t.cancel},e.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},e.prototype.saveImageToFile=function(t){var e,i,n,r;t&&0!==t.length&&-1!==t.indexOf(".")||(t="image.png"),r=t.split("."),e=r[0],i=r[1].toLowerCase(),n=p[i[0].toUpperCase()+i.substring(1)],this.saveImageToDataUrl(n,(function(t){A.downloadImage(t,e,i)}))},e.prototype.saveImageToDataUrl=function(t,e){var i=(0,s.asEnum)(t,p,!1),n=p[i].toLowerCase();n&&n.length&&this._exportToImage(n,(function(t){e.call(e,t)}))},e.prototype._exportToImage=function(t,e){var i,n=this,r=new Image,a=this._currentRenderEngine.element;i=A.getDataUri(a,this),"svg"===t?e.call(null,i):(r.onload=function(){var i,o=document.createElement("canvas"),h=a.parentNode||a,l=(0,s.getElementRect)(h);o.width=l.width,o.height=l.height;var u=o.getContext("2d"),c=n._bgColor(n.hostElement);n._isTransparent(c)&&(c="#ffffff"),u.fillStyle=c,u.fillRect(0,0,l.width,l.height);var _=window.getComputedStyle(h,null).getPropertyValue("padding-left").replace("px",""),p=window.getComputedStyle(h,null).getPropertyValue("padding-top").replace("px","");u.drawImage(r,+_||0,+p||0),i=o.toDataURL("image/"+t),e.call(null,i),o=null},r.src=i)},e.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.isUpdating||this._refreshChart()},e.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},e.prototype.onLostFocus=function(e){this._tooltip&&this._tooltip.isVisible&&!this.isTouching&&this._tooltip.hide(),t.prototype.onLostFocus.call(this,e)},e.prototype._cvCollectionChanged=function(t,e){this._clearCachedValues(),this._bindChart()},e.prototype._cvCurrentChanged=function(t,e){this._notifyCurrentChanged&&this._bindChart()},e.prototype._bgColor=function(t){if(!t)return"transparent";var e=getComputedStyle(t).backgroundColor;return this._isTransparent(e)?this._bgColor(t.parentElement):e},e.prototype._isTransparent=function(t){var e=new s.Color(t);return 0==e.a&&0==e.b&&0==e.g&&0==e.r},e.prototype._getColor=function(t){var e=this._defPalette;return null!=this._palette&&this._palette.length>0&&(e=this._palette),e[t%e.length]},e.prototype._getColorLight=function(t){var e=this._getColor(t);return this._skipLightClr||(e=this._getLightColor(e)),e},e.prototype._getLightColor=function(t){var e=new s.Color(t);return null!=e&&-1===t.indexOf("-")&&(1==e.a&&-1==t.indexOf("rgba")&&-1==t.indexOf("hsla")&&(e.a*=.7),t=e.toString()),t},e.prototype._bindChart=function(){this._needBind=!0,this.invalidate()},e.prototype._clearCachedValues=function(){},e.prototype._renderEls=function(t,i,n,r,a){void 0===n&&(n=!0),void 0===r&&(r=null),void 0===a&&(a=!1);var o=i.width,h=i.height;if(0!=o){(isNaN(o)||o<0)&&(o=e._WIDTH),(h<=0||isNaN(h))&&(h=e._HEIGHT);var l=o>0&&h>0;if(l&&t.setViewportSize(o,h),t.beginRender(),t.cssPriority=!0,l){if(this._rectChart=new s.Rect(0,0,o,h),this._prepareRender(),r){var u=t.stroke,c=t.fill;t.fill=r,t.stroke=null,t.drawRect(0,0,o,h),t.fill=c,t.stroke=u}var _=new s.Rect(0,0,o,h);this._chartRectId="chartRect"+(1e6*Math.random()).toFixed(),t.addClipRect(_,this._chartRectId),this._renderHeader(t,_),this._renderFooter(t,_),this._renderLegends(t,_),this._renderChart(t,_,n)}t.endRender()}},e.prototype._render=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=null);var n=this._getHostSize();if(this._h){var r=n.height-this._h;r>=4&&r<=6&&!1!==this._isPCUnit("height")&&(n.height=this._h)}this._h=n.height,this._renderEls(t,n,e,i)},e.prototype._isPCUnit=function(t){var e=null,i=this.hostElement;if(i&&i.computedStyleMap){var n=i.computedStyleMap();if(n){var r=n.get(t);r&&(e="percent"==r.unit)}}return e},e.prototype._renderHidden=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var n=document.createElement("div");(0,s.addClass)(n,this.hostElement.getAttribute("class")||""),n.style.visibility="hidden";var r=new y(n);if(document.body.appendChild(n),!t){var a=this._getHostComputedStyle(),o=0,h=0;a&&(o=this._parsePx(a.width),h=this._parsePx(a.height),0==o&&(o=e._WIDTH),0==h&&(h=e._HEIGHT),o-=this._parsePx(a.paddingLeft),o-=this._parsePx(a.paddingRight),h-=this._parsePx(a.paddingTop),h-=this._parsePx(a.paddingBottom),o-=this._parsePx(a.borderLeftWidth),o-=this._parsePx(a.borderRightWidth),h-=this._parsePx(a.borderTopWidth),h-=this._parsePx(a.borderBottomWidth)),0==o&&(o=e._WIDTH),0==h&&(h=e._HEIGHT),t=new s.Size(o,h)}return this._renderEls(r,t,!0,i,!0),(0,s.removeChild)(n),r.element},e.prototype._renderHeader=function(t,i){t.startGroup(e._CSS_HEADER,this._chartRectId),i=this._drawTitle(t,i,this.header,this.headerStyle,!1),t.endGroup()},e.prototype._renderFooter=function(t,i){t.startGroup(e._CSS_FOOTER,this._chartRectId),i=this._drawTitle(t,i,this.footer,this.footerStyle,!0),t.endGroup()},e.prototype._renderLegends=function(t,i){var n,r,a=this.legend,o=i.width,h=i.height,l=a._getPosition(o,h);switch(n=a._getDesiredSize(t,l,o,h),l){case f.Right:o-=n.width,r=new s.Point(o,i.top+.5*(h-n.height));break;case f.Left:i.left+=n.width,o-=n.width,r=new s.Point(0,i.top+.5*(h-n.height));break;case f.Top:h-=n.height,r=new s.Point(.5*(o-n.width),i.top),i.top+=n.height;break;case f.Bottom:h-=n.height,r=new s.Point(.5*(o-n.width),i.top+h)}if(i.width=o,i.height=h,n){this._rectLegend=new s.Rect(r.x,r.y,n.width,n.height);var u="legRect"+(1e6*Math.random()).toFixed();t.addClipRect(this._rectLegend,u),this._legendHost=t.startGroup(e._CSS_LEGEND,u),this.legend._render(t,r,l,n.width,n.height),t.endGroup()}else this._legendHost=null,this._rectLegend=null},e.prototype._prepareRender=function(){},e.prototype._renderChart=function(t,e,i){},e.prototype._performBind=function(){},e.prototype._getDesiredLegendSize=function(t,e,i,n){return null},e.prototype._renderLegend=function(t,e,i,n,r,s){},e.prototype._getHitTestItem=function(t){return null},e.prototype._getHitTestValue=function(t,e){return null},e.prototype._getHitTestLabel=function(t){return null},e.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind()),this.hostElement&&this._render(this._currentRenderEngine)},e.prototype._drawTitle=function(t,i,n,r,a){var o=e._CSS_TITLE,h=a?e._CSS_FOOTER:e._CSS_HEADER,l=null;if(a?this._rectFooter=null:this._rectHeader=null,null!=n){var u=null,c=null,_=null,p=null;r&&(r.fontSize&&(u=r.fontSize),r.foreground&&(c=r.foreground),r.fill&&(c=r.fill),r.fontFamily&&(_=r.fontFamily),r.halign&&(p=r.halign)),t.fontSize=u,t.fontFamily=_,l=t.measureString(n,o,h,r),i.height-=l.height,c||(c=e._FG),t.textFill=c,a?("left"==p?e._renderText(t,n,new s.Point(i.left,i.bottom),0,0,o,h,r):"right"==p?e._renderText(t,n,new s.Point(i.left+i.width,i.bottom),2,0,o,h,r):e._renderText(t,n,new s.Point(i.left+.5*i.width,i.bottom),1,0,o,h,r),this._rectFooter=new s.Rect(i.left,i.bottom,i.width,l.height)):(this._rectHeader=new s.Rect(i.left,i.top,i.width,l.height),i.top+=l.height,"left"==p?e._renderText(t,n,new s.Point(i.left,0),0,0,o,h,r):"right"==p?e._renderText(t,n,new s.Point(i.left+i.width,0),2,0,o,h,r):e._renderText(t,n,new s.Point(i.left+.5*i.width,0),1,0,o,h,r)),t.textFill=null,t.fontSize=null,t.fontFamily=null}return i},e.prototype.pageToControl=function(t,e){return this._toControl(t,e)},e.prototype._toControl=function(t,e){(0,s.isNumber)(t)&&(0,s.isNumber)(e)?t=new s.Point(t,e):t instanceof MouseEvent&&(t=(0,s.mouseToPage)(t)),(0,s.asType)(t,s.Point);var i=t.clone(),n=this._getHostOffset();i.x-=n.x,i.y-=n.y;var r=this._currentRenderEngine?this._currentRenderEngine.element:null;if(null!=r){var a=r.getBoundingClientRect(),o=parseFloat(r.getAttribute("width")),h=parseFloat(r.getAttribute("height"));a.width!=o&&(i.x*=o/a.width),a.height!=h&&(i.y*=h/a.height)}var l=this._getHostComputedStyle();if(l){var u=parseInt(l.paddingLeft.replace("px",""));u&&!isNaN(u)&&(i.x-=u);var c=parseInt(l.paddingTop.replace("px",""));c&&!isNaN(c)&&(i.y-=c)}return i},e.prototype._highlightItems=function(t,e,i){if(i)for(var n=0;n<t.length;n++)(0,s.addClass)(t[n],e);else for(n=0;n<t.length;n++)(0,s.removeClass)(t[n],e)},e.prototype._parseMargin=function(t){var e={};if((0,s.isNumber)(t)&&!isNaN(t))e.top=e.bottom=e.left=e.right=(0,s.asNumber)(t);else if((0,s.isString)(t)){var i=(0,s.asString)(t).split(" ",4),n=NaN,r=NaN,a=NaN,o=NaN;i&&(4==i.length?(n=parseFloat(i[0]),o=parseFloat(i[1]),r=parseFloat(i[2]),a=parseFloat(i[3])):2==i.length?(n=r=parseFloat(i[0]),a=o=parseFloat(i[1])):1==i.length&&(n=r=a=o=parseFloat(i[1])),isNaN(n)||(e.top=n),isNaN(r)||(e.bottom=r),isNaN(a)||(e.left=a),isNaN(o)||(e.right=o))}return e},e.prototype._showToolTip=function(t,e){var i=this,n=this._tooltip.showDelay;i._clearTimeouts(),i.isDisabled||(t||i._tooltip.hide(),n>0?i._toShow=setTimeout((function(){i._tooltip.show(i.hostElement,t,e),i._tooltip.hideDelay>0&&(i._toHide=setTimeout((function(){i._tooltip.hide()}),i._tooltip.hideDelay))}),n):(i._tooltip.show(i.hostElement,t,e),i._tooltip.hideDelay>0&&(i._toHide=setTimeout((function(){i._tooltip.hide()}),i._tooltip.hideDelay))))},e.prototype._hideToolTip=function(){this._clearTimeouts(),this._tooltip.hide()},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},e.prototype._getHostOffset=function(){var t=(0,s.getElementRect)(this.hostElement);return new s.Point(t.left,t.top)},e.prototype._getHostSize=function(){var t=new s.Size,e=this.hostElement,i=this._getHostComputedStyle(),n=e.offsetWidth,r=e.offsetHeight;return i&&(n-=this._parsePx(i.paddingLeft),n-=this._parsePx(i.paddingRight),r-=this._parsePx(i.paddingTop),r-=this._parsePx(i.paddingBottom),n-=this._parsePx(i.borderLeftWidth),n-=this._parsePx(i.borderRightWidth),r-=this._parsePx(i.borderTopWidth),r-=this._parsePx(i.borderBottomWidth),t.width=n,t.height=r),t},e.prototype._parsePx=function(t){var e=parseFloat(t.replace("px",""));return isNaN(e)?0:e},e.prototype._getHostComputedStyle=function(){var t=this.hostElement;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},e.prototype._find=function(t,e){for(var i=[],n=0;n<t.childElementCount;n++){var r=t.childNodes.item(n);if(e.indexOf(r.nodeName)>=0)i.push(r);else{var s=this._find(r,e);if(s.length>0)for(var a=0;a<s.length;a++)i.push(s[a])}}return i},e.prototype._getLegendSize=function(t,e){return Math.min(e,this.legend._getMaxSize(t))},e._contains=function(t,e){return!(!t||!e)&&e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom},e._intersects=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},e._toOADate=function(t){return t.valueOf()},e._fromOADate=function(t){return new Date(t)},e._renderText=function(t,e,i,n,r,a,o,h,l){var u=t.measureString(e,a,o,h),c=i.x,_=i.y;switch(n){case 1:c-=.5*u.width;break;case 2:c-=u.width}switch(r){case 1:_+=.5*u.height;break;case 0:_+=u.height}var p=new s.Rect(c,_-u.height,u.width,u.height);return l?l(p)?(t.drawString(e,new s.Point(c,_),a,h),p):null:(t.drawString(e,new s.Point(c,_),a,h),p)},e._renderRotatedText=function(t,e,i,n,r,a,o,h,l,u){var c=t.measureString(e,h,l,u),_=i.x,p=i.y;switch(n){case 1:_-=.5*c.width;break;case 2:_-=c.width}switch(r){case 1:p+=.5*c.height;break;case 0:p+=c.height}return t.drawStringRotated(e,new s.Point(_,p),a,o,h,u)},e._endsWith=function(t,e){if(t&&e){var i=t.length-e.length;return i>=0&&t.indexOf(e,i)===i}return!1},e._WIDTH=300,e._HEIGHT=200,e._SELECTION_THRESHOLD=15,e._CSS_LEGEND="wj-legend",e._CSS_HEADER="wj-header",e._CSS_FOOTER="wj-footer",e._CSS_TITLE="wj-title",e._CSS_LABEL="wj-label",e._CSS_SELECTION="wj-state-selected",e._CSS_PLOT_AREA="wj-plot-area",e._FG="#666",e._epoch=new Date(1899,11,30).getTime(),e._msPerDay=864e5,e}(s.Control),N=function(){function t(){this._keys={},this._keys.seriesName=null,this._keys.pointIndex=null,this._keys.x=null,this._keys.y=null,this._keys.value=null,this._keys.name=null}return t.prototype.replace=function(t,e){var i=this;return(0,s.format)(t,{},(function(t,n,r,s){return i.getValue(n,e,r)}))},t.prototype.getValue=function(t,e,i){switch(t){case"seriesName":return e.series?e.series.name:"";case"pointIndex":return null!=e.pointIndex?e.pointIndex.toFixed():"";case"x":return i?s.Globalize.format(e.x,i):e._xfmt;case"y":return i?s.Globalize.format(e.y,i):e._yfmt;case"value":return i?s.Globalize.format(e.value,i):e._getValueFmt();case"name":return e.name}if(e.item){0==t.indexOf("item.")&&(t=t.substr(5));var n=e.item[t];if(!(0,s.isUndefined)(n))return i?s.Globalize.format(n,i):n}return""},t}(),A=function(){function t(){}return t.downloadImage=function(t,e,i){var n=document.createElement("a"),r="image/"+i;if(navigator.msSaveOrOpenBlob){t=t.substring(t.indexOf(",")+1);var a,o,h,l=atob(t),u=[];for(a=0;a<l.length;a+=512){o=l.slice(a,a+512);for(var c=new Array(o.length),_=0;_<o.length;_++)c[_]=o.charCodeAt(_);var p=new Uint8Array(c);u.push(p)}h=new Blob(u,{type:r}),navigator.msSaveOrOpenBlob(h,e+"."+i)}else n.download=e+"."+i,n.href=t,document.body.appendChild(n),n.addEventListener("click",(function(t){(0,s.removeChild)(n)})),n.click()},t.getDataUri=function(e,i){var n,r,a,o,h,l,u,c,_,p,d=document.createElement("div"),f=e.cloneNode(!0),g=!1;if("svg"==e.tagName?(r=(n=(0,s.getElementRect)(e.parentNode||e)).width||0,a=n.height||0,0==r&&(g=!0),o=e.viewBox.baseVal&&0!==e.viewBox.baseVal.width?e.viewBox.baseVal.width:r,h=e.viewBox.baseVal&&0!==e.viewBox.baseVal.height?e.viewBox.baseVal.height:a):(r=(l=e.getBBox()).x+l.width,a=l.y+l.height,f.setAttribute("transform",f.getAttribute("transform").replace(/translate\(.*?\)/,"")),o=r,h=a,(c=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(f),f=c),g){var m=i._renderHidden(),y=i._getHostComputedStyle(),b=0,v=0;y&&(b=i._parsePx(y.width),v=i._parsePx(y.height)),0==b&&(b=C._WIDTH),0==v&&(v=C._HEIGHT),o=r=b,h=a=v,f=m.cloneNode(!0)}f.setAttribute("version","1.1"),f.setAttributeNS(t.xmlns,"xmlns","http://www.w3.org/2000/svg"),f.setAttributeNS(t.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),f.setAttribute("width",r),f.setAttribute("height",a),f.setAttribute("viewBox","0 0 "+o+" "+h),(0,s.addClass)(f,e.parentNode&&e.parentNode.getAttribute("class")||""),d.appendChild(f),u=t.getStyles(e),u+=".wj-flexchart{margin:0px;padding:0px;border:none;width:"+r+"px;height:"+a+"px;}\n",(_=document.createElement("style")).setAttribute("type","text/css"),_.innerHTML="<![CDATA[\n"+u+"\n]]>",(p=document.createElementNS("http://www.w3.org/2000/svg","defs")).appendChild(_),f.insertBefore(p,f.firstChild),(0,s.isIE)()||f.querySelectorAll("foreignObject").forEach((function(t){f.removeChild(t)}));var x=i._currentRenderEngine.canvas;if(x){var w=document.createElementNS("http://www.w3.org/2000/svg","image");w.setAttribute("width",x.width),w.setAttribute("height",x.height),w.setAttribute("href",x.toDataURL()),f.insertBefore(w,f.firstChild),i.invalidate()}return"data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(t.doctype+d.innerHTML)))},t.getStyles=function(t){var e="",i=document.styleSheets;return null==i||0===i.length?null:([].forEach.call(i,(function(i){var n;try{if(null==i.cssRules||0===i.cssRules.length)return!0}catch(t){if("SecurityError"==t.name)return console.log("SecurityError. Can't read: "+i.href),!0}n=i.cssRules,[].forEach.call(n,(function(i){var n,r=i.style;if(null==r)return!0;var a=i.selectorText;if((0,s.isIE)()&&a){var o=a.match(/\[(.*?)\]/g);o&&o.forEach((function(t){return a=a.replace(t,t.replace(":","\\:"))}))}try{n=".wj-flexchart"==a||t.querySelector(a)}catch(t){console.warn('Invalid CSS selector "'+i.selectorText+'"',t)}n?e+=i.selectorText+" { "+r.cssText+" }\n":i.cssText.match(/^@font-face/)&&(e+=i.cssText+"\n")}))})),e)},t.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',t.xmlns="http://www.w3.org/2000/xmlns/",t}(),L=function(t){function e(){var e=t.call(this)||this;return e._content="<b>{seriesName}</b><br/>{x} {y}",e._threshold=15,e}return o(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=(0,s.asNumber)(t))},enumerable:!0,configurable:!0}),e.prototype.show=function(i,n,r){t.prototype.show.call(this,i,n,r);var s=e._eTip;s&&s.style&&(s.style.pointerEvents="none")},e}(s.Tooltip);!function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom",t[t.Center=5]="Center"}(M||(M={})),function(t){t[t.None=0]="None",t[t.Inside=1]="Inside",t[t.Center=2]="Center",t[t.Outside=3]="Outside",t[t.Radial=4]="Radial",t[t.Circular=5]="Circular"}(T||(T={}));var E,I,k,D=function(t){function e(e,i,n,r){var s=t.call(this,e)||this;return s.cancel=!1,s._ht=i,s._pt=n,s._text=r,s}return o(e,t),Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=(0,s.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),e}(S),O=function(){function t(){this.rendering=new s.Event}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(t){return this.rendering.raise(this,t),!t.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}(),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pos=M.Top,e}return o(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this._pos},set:function(t){(t=(0,s.asEnum)(t,M))!=this._pos&&(this._pos=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(O),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pos=T.Center,e}return o(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this._pos},set:function(t){(t=(0,s.asEnum)(t,T))!=this._pos&&(this._pos=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(O);!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(E||(E={})),function(t){t[t.Auto=0]="Auto",t[t.Show=1]="Show"}(I||(I={})),function(t){t[t.None=0]="None",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Cross=3]="Cross"}(k||(k={}));var F,V=function(){function t(e){this._GRIDLINE_WIDTH=1,this._LINE_WIDTH=1,this._TICK_WIDTH=1,this._TICK_HEIGHT=4,this._TICK_OVERLAP=1,this._TICK_LABEL_DISTANCE=4,this._minorGrid=!1,this._labels=!0,this._isTimeAxis=!1,this._labelPadding=5,this._actualLabels=[],this.rangeChanged=new s.Event,this._customConvert=null,this._customConvertBack=null,this.__uniqueId=t._id++,this._position=e,e==f.Bottom||e==f.Top?this._axisType=E.X:this._axisType=E.Y,this._minorTickMarks=k.None,this._overlap=I.Auto}return Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&((0,s.isDate)(t)?this._min=(0,s.asDate)(t,!0):this._min=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&((0,s.isDate)(t)?this._max=(0,s.asDate)(t,!0):this._max=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=(0,s.asBoolean)(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t=(0,s.asEnum)(t,f,!1))!=this._position&&(this._position=t,this._position==f.Bottom||this._position==f.Top?this._axisType=E.X:this._position!=f.Left&&this._position!=f.Right||(this._axisType=E.Y),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=(0,s.asString)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=(0,s.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=(0,s.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){(t=(0,s.asEnum)(t,k,!0))!=this._majorTickMarks&&(this._majorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){(t=(0,s.asEnum)(t,k,!0))!=this._minorTickMarks&&(this._minorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisLine",{get:function(){return void 0===this._axisLine?this.axisType==E.X:this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=(0,s.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=(0,s.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){(t=(0,s.asEnum)(t,I,!0))!=this._overlap&&(this._overlap=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=(0,s.asCollectionView)(t),null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=(0,s.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=(0,s.asFunction)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=(0,s.asNumber)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisLabels",{get:function(){return this._actualLabels},enumerable:!0,configurable:!0}),t.prototype._getLogBase=function(){return this._chart&&this._chart._stacking===et.Stacked100pc?0:this.logBase},t.prototype._isLogAxis=function(){var t=this._getLogBase();return null!=t&&t>0},Object.defineProperty(t.prototype,"plotArea",{get:function(){return this._parea},set:function(t){t!=this._parea&&(this._parea=(0,s.asType)(t,c,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=(0,s.asNumber)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_groupClass",{get:function(){return this.axisType===E.X?dt._CSS_AXIS_X:dt._CSS_AXIS_Y},enumerable:!0,configurable:!0}),t.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},t.prototype._getPosition=function(){if(this.axisType==E.X){if(this.position==f.Auto)return f.Bottom}else if(this.axisType==E.Y&&this.position==f.Auto)return f.Left;return this.position},t.prototype._isOverlapped=function(t,e,i,n){var r=this._lbls;if(null!=r&&r.length>1)for(var s=r.length,a=this._values&&this._values.length==s?this._values:null,o=0,h=0,l=0;l<s;l++){var u=a?a[l]:l;if(u>=this._actualMin&&u<=this._actualMax){var c=e*(u-this._actualMin)/(this._actualMax-this._actualMin),_=t.measureString(r[l],i,this._groupClass);if(this.axisType==E.X){if(l>0&&Math.abs(c-o)<.5*(_.width+h))return!0;o=c,h=_.width}else this.axisType,E.Y}}return!1},t.prototype._getHeight=function(t,e){this._actualAngle=null;var i=dt._CSS_LABEL,n=dt._CSS_TITLE,r=.1*(this._actualMax-this._actualMin),a=this._lbls,o=this.labelAngle;if(this.labels&&this._chart._getChartType()!==tt.Funnel){if(r=this._updateAutoFormat(r),null!=a&&a.length>0){var h=a.length,l=this._values&&this._values.length==h?this._values:null;this._annoSize=new s.Size;for(var u=0;u<h;u++)if((f=l?l[u]:u)>=this._actualMin&&f<=this._actualMax){var c=a[u],_=i;this.itemFormatter&&(c=(d=this._getFormattedItem(t,f,c,new s.Point,i,!0)).text,_=d.cls);var p=t.measureString(c,_,this._groupClass);this.axisType,E.X,p.width>this._annoSize.width&&(this._annoSize.width=p.width),p.height>this._annoSize.height&&(this._annoSize.height=p.height)}null==o&&this.axisType==E.X&&(this._isOverlapped(t,Math.max(10,e-this._annoSize.width),i,this.axisType)?o=this._actualAngle=-45:this._actualAngle=0)}else{var d,f=this._actualMin-r;if(c=this._formatValue(f),_=i,this.itemFormatter&&(c=(d=this._getFormattedItem(t,f,c,new s.Point,i,!0)).text,_=i),p=t.measureString(c,_,this._groupClass),this._annoSize=p,f=this._actualMax+r,c=this._formatValue(f),_=i,this.itemFormatter)c=(d=this._getFormattedItem(t,f,c,new s.Point,i,!0)).text,_=i;(p=t.measureString(c,_,this._groupClass)).width>this._annoSize.width&&(this._annoSize.width=p.width),p.height>this._annoSize.height&&(this._annoSize.height=p.height)}if(o){o>90?o=90:o<-90&&(o=-90);var g=o*Math.PI/180,m=this._annoSize.width,y=this._annoSize.height;this._annoSize.width=m*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),this._annoSize.height=m*Math.abs(Math.sin(g))+y*Math.abs(Math.cos(g))}}else this._annoSize=new s.Size(8,8);var b=2*(this._labelPadding||5);this._axisType==E.X?b+=this._annoSize.height:b+=this._annoSize.width+this._TICK_LABEL_DISTANCE+2;var v=this._TICK_HEIGHT,x=this._TICK_OVERLAP,w=this.majorTickMarks;return w==k.Outside?x=1:w==k.Inside?x=-1:w==k.Cross&&(x=0),null==w&&(w=k.Outside),w!=k.None&&(b+=.5*(1+x)*v),this._title&&(c=this._title,this._szTitle=t.measureString(c,n,this._groupClass),b+=this._szTitle.height),t.fontSize=null,b},t.prototype._updateAutoFormat=function(t){if(this._isTimeAxis){var e=this.format,i=.001*this._getActualRange()/10,n=new B(i*B.TicksPerSecond),r=(0,s.isNumber)(this._majorUnit)?B.fromDays(this._majorUnit):z.NiceTimeSpan(n,e);e||(this._tfmt=z.GetTimeDefaultFormat(1e3*r.TotalSeconds,0)),t=r.TotalSeconds}return t},t.prototype._getActualRange=function(){return this._actualMax-this._actualMin},t.prototype._updateActualLimitsByChartType=function(t,e,i){if(t&&t.length>0&&!this._isTimeAxis){var n=this._chart._getChartType();n!=tt.Column&&n!=tt.Bar&&(e-=.5,i+=.5)}return{min:e,max:i}},t.prototype._updateActualLimits=function(t,e,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var a=this._actualMin,o=this._actualMax;this._isTimeAxis=t==s.DataType.Date;var h=this._updateActualLimitsByChartType(n,e,i);e=h.min,i=h.max;var l=this._min,u=this._max;(0,s.isDate)(l)&&(l=l.valueOf()),(0,s.isDate)(u)&&(u=u.valueOf());var c=this._chart&&this._chart._stacking!==et.Stacked100pc;c||(c=this._chart._isRotated()?this.axisType==E.Y:this.axisType==E.X);var _=this._actualMin=null!=l&&c?l:e;if(_==(this._actualMax=null!=u&&c?u:i))if(void 0!==l&&void 0===u)this._actualMax+=1;else if(void 0===l&&void 0!==u)this._actualMin-=1;else if(0===_)this._actualMax=1;else{var p=Math.abs(_);p<1?(this._actualMin-=p,this._actualMax+=p):(this._actualMin-=1,this._actualMax+=1)}if(this._getLogBase()>0){var d=this.logBase,f=Math.log(d);if(!this._max){var g=Math.ceil(Math.log(this._actualMax)/f);this._actualMax=Math.pow(d,g)}if(!this._min){var m=Math.floor(Math.log(this._actualMin)/f);this._actualMin=Math.pow(d,m)}(this._actualMin<=0||!(0,s.isNumber)(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin?this._actualMax=this._actualMin+1:this._actualMax===this._actualMin&&(this._actualMin=.1*this._actualMax)}if((a!=this._actualMin&&((0,s.isNumber)(a)||(0,s.isNumber)(this._actualMin))||o!=this._actualMax&&((0,s.isNumber)(o)||(0,s.isNumber)(this._actualMax)))&&this.onRangeChanged(),this._items){this._values=[],this._lbls=[];var y=this._items.length,b="value",v="text";if(this.binding){var x=this.binding.split(",");2==x.length&&(b=x[0],v=x[1])}for(var w=0;w<y;w++){var S=this._items[w],P=S[b];(0,s.isNumber)(P)?(this._values.push(P),this._lbls.push(S[v])):(0,s.isDate)(P)&&(this._values.push(P.getTime()),this._lbls.push(S[v]))}}else this._lbls=n,this._values=r},t.prototype._layout=function(t,e){var i=this.axisType==E.Y;this._plotrect=e,this._axrect=i?new s.Rect(t.left,t.top,t.height,t.width):t},t.prototype._hasVisibileSeries=function(){for(var t,e=this._chart.series,i=0,n=e.length;i<n;i++)if((t=e[i].visibility)==J.Plot||t==J.Visible)return!0;return!1},t.prototype._render=function(e){if(this.position!=f.None&&this._hasVisibileSeries()){this.axisLabels.length=0,this._vals={};var i=0;this.labelAngle&&((i=this.labelAngle)>90?i=90:i<-90&&(i=-90)),null==this.labelAngle&&null!=this._actualAngle&&(i=this._actualAngle);var n=dt._FG,r=this._actualMax-this._actualMin;if((0,s.isNumber)(r)){var a=this._calcMajorUnit();0==a&&(a=.1*this._niceTickNumber(r));var o=Math.min(t.MAX_MAJOR,Math.floor(r/a)+1),h=[],l=[];this._rects=[],this._vals.major=h,this._vals.hasLbls=[];var u=Math.floor(this._actualMin/a)*a;u<this._actualMin&&(u+=a);var c=!1;if(this._lbls&&this._lbls.length>0)if(l=this._lbls,0==this._values.length){c=!0;for(var _=0;_<l.length;_++)h.push(_)}else h=this._values;else this._isTimeAxis?this._createTimeLabels(u,o,h,l):this._getLogBase()?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,h,l,!0):this._createLabels(u,o,a,h,l);o=Math.min(h.length,l.length),e.textFill=n;var p=this._TICK_HEIGHT,d=this._TICK_OVERLAP,g=this.majorTickMarks;null==g&&(g=k.Outside),g==k.Outside?d=1:g==k.Inside?d=-1:g==k.Cross&&(d=0);var m=.5*(d-1)*p,y=.5*(1+d)*p;for(_=0;_<o;_++){var b=!0,v=h[_],x=l[_],w=this.labels;if(w&&(c||this.itemsSource)&&this.majorUnit&&_%this.majorUnit!=0&&(w=!1),v>=this._actualMin&&v<=this._actualMax){var S=e.textFill;b=this._renderLabelsAndTicks(e,_,v,x,i,g,w,m,y),e.textFill=S}this._vals.hasLbls.push(b),b&&this.axisLabels.push(x)}}(this.minorGrid||this.minorTickMarks!=k.None)&&this._renderMinor(e,h,c),e.stroke=n,e.fontSize=null,this._renderLineAndTitle(e),e.stroke=null,e.fontSize=null,e.textFill=null,e.strokeWidth=null}},t.prototype._renderLineAndTitle=function(t){var e=this._getPosition(),i=this.axisType==E.Y,n=e!=f.Top&&e!=f.Right,r=dt._CSS_TITLE,a=dt._CSS_LINE;if(i)if(n){if(this._title){var o=new s.Point(this._axrect.left+.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);dt._renderRotatedText(t,this._title,o,1,1,o,-90,r,this._groupClass)}this.axisLine&&t.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,a)}else this._title&&(o=new s.Point(this._axrect.right-.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height),dt._renderRotatedText(t,this._title,o,1,1,o,90,r,this._groupClass)),this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,a);else n?(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,a),this._title&&dt._renderText(t,this._title,new s.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,r)):(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,a),this._title&&dt._renderText(t,this._title,new s.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,r))},t.prototype._renderMinor=function(t,e,i){var n=this._getPosition(),r=this.axisType==E.Y,s=n!=f.Top&&n!=f.Right;if(this._getLogBase()){if(this.minorUnit>0){var a=[];this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,a,null,!1);for(var o=[],h=0;h<a.length;h++){var l=a[h];-1==e.indexOf(l)&&l>this._actualMin&&o.push(l)}this._renderMinors(t,o,r,s)}}else this._createMinors(t,e,r,s,i)},t.prototype._renderRotatedText=function(t,e,i,n,r,s,a,o,h,l,u){if(this.itemFormatter){var c=this._getFormattedItem(t,e,i,n,h);c?(i=c.text,h=c.cls):i=null}dt._renderRotatedText(t,i,n,r,s,a,o,h,l,u)},t.prototype._getFormattedItem=function(t,e,i,n,r,s){if(void 0===s&&(s=!1),this.itemFormatter){var a=n.clone();this._plotrect&&(this.axisType==E.X?this.position==f.Top?a.y=this._plotrect.top:a.y=this._plotrect.bottom:this.position==f.Right?a.x=this._plotrect.right:a.x=this._plotrect.left);var o={val:e,text:i,pos:a,cls:r};return s&&(t.readOnly=!0),o=this.itemFormatter(t,o),s&&(t.readOnly=!1),o}},t.prototype._renderLabelsAndTicks=function(t,e,i,n,r,a,o,h,l){var u=this._getPosition(),c=!1,_=this.axisType==E.Y,p=u!=f.Top&&u!=f.Right,d=this.labelPadding||5,g=this._TICK_WIDTH,m=this._getLabelAlign(_),y=dt._CSS_LABEL,b=dt._CSS_GRIDLINE,v=dt._CSS_TICK,x=dt._FG,w=dt._FG,S=this._GRIDLINE_WIDTH,P=i!=this._actualMin&&this.majorGrid;if(_){var M=this.convert(i);if(P&&(t.stroke=x,t.strokeWidth=S,t.drawLine(this._plotrect.left,M,this._plotrect.right,M,b)),t.stroke=w,t.strokeWidth=g,p){if(o){c=!0;var T=new s.Point(this._axrect.right-l-this._TICK_LABEL_DISTANCE-d,M);r>0?90==r?this._renderRotatedText(t,i,n,T,1,0,T,r,y,this._groupClass):this._renderRotatedText(t,i,n,T,2,1,T,r,y,this._groupClass):r<0?-90==r?this._renderRotatedText(t,i,n,T,1,2,T,r,y,this._groupClass):this._renderRotatedText(t,i,n,T,2,1,T,r,y,this._groupClass):c=this._renderLabel(t,i,n,T,2,m,y)}a!=k.None&&c&&t.drawLine(this._axrect.right-h,M,this._axrect.right-l,M,v)}else o&&(c=!0,T=new s.Point(this._axrect.left+l+this._TICK_LABEL_DISTANCE+d,M),r>0?90==r?this._renderRotatedText(t,i,n,T,1,2,T,r,y,this._groupClass):this._renderRotatedText(t,i,n,T,0,1,T,r,y,this._groupClass):r<0?-90==r?this._renderRotatedText(t,i,n,T,1,0,T,r,y,this._groupClass):this._renderRotatedText(t,i,n,T,0,1,T,r,y,this._groupClass):c=this._renderLabel(t,i,n,T,0,m,y)),a!=k.None&&c&&t.drawLine(this._axrect.left+h,M,this._axrect.left+l,M,v)}else{var C=this.convert(i);this.overlappingLabels==I.Auto&&this._xCross(C)&&(o=!1),P&&o&&(t.stroke=x,t.strokeWidth=S,t.drawLine(C,this._plotrect.top,C,this._plotrect.bottom,b)),t.stroke=w,t.strokeWidth=g,p?(o&&(T=new s.Point(C,this._axrect.top+l+d),c=0!=r?this._renderRotatedLabel(t,i,n,T,m,r,y,p):this._renderLabel(t,i,n,T,m,0,y)),a!=k.None&&c&&(C=this.convert(i),t.drawLine(C,this._axrect.top+h,C,this._axrect.top+l,v))):(o&&(T=new s.Point(C,this._axrect.bottom-l-d),c=0!=r?this._renderRotatedLabel(t,i,n,T,m,r,y,p):this._renderLabel(t,i,n,T,m,2,y)),a!=k.None&&c&&(C=this.convert(i),t.drawLine(C,this._axrect.bottom-h,C,this._axrect.bottom-l,v)))}return c},t.prototype._xCross=function(t){for(var e=this._rects.length,i=0;i<e;i++){var n=this._rects[i];if(t>=n.left&&t<=n.right)return!0}return!1},t.prototype._createMinors=function(e,i,n,r,a){if(i&&i.length>1){for(var o=this.majorUnit?this._isTimeAxis?24*this.majorUnit*3600*1e3:this.majorUnit:i[1]-i[0],h=(0,s.isNumber)(this.minorUnit)?this._isTimeAxis?24*this.minorUnit*3600*1e3:this.minorUnit:.5*o,l=[],u=i[0];u>this._actualMin&&l.length<t.MAX_MINOR;u-=h)-1==i.indexOf(u)&&l.push(u);for(u=i[0]+h;u<this._actualMax&&l.length<t.MAX_MINOR;u+=h)(-1==i.indexOf(u)||a&&this.majorUnit&&u%this.majorUnit!=0)&&l.push(u);this._renderMinors(e,l,n,r)}},t.prototype._renderMinors=function(t,e,i,n){var r=this._TICK_HEIGHT,s=this._TICK_WIDTH,a=this._TICK_OVERLAP,o=dt._FG,h=this.minorTickMarks,l=!0;this._vals.minor=e,h==k.Outside?a=1:h==k.Inside?a=-1:h==k.Cross?a=0:l=!1;for(var u=.5*(a-1)*r,c=.5*(1+a)*r,_=e?e.length:0,p=this.minorGrid,d=this._plotrect,f=this._GRIDLINE_WIDTH,g=dt._FG,m=dt._CSS_GRIDLINE_MINOR,y=dt._CSS_TICK_MINOR,b=0;b<_;b++)if(e[b]>=this.actualMin&&e[b]<=this.actualMax)if(i){var v=this.convert(e[b]);l&&(t.stroke=o,t.strokeWidth=s,n?t.drawLine(this._axrect.right-u,v,this._axrect.right-c,v,y):t.drawLine(this._axrect.left+u,v,this._axrect.left+c,v,y)),p&&(t.stroke=g,t.strokeWidth=f,t.drawLine(d.left,v,d.right,v,m))}else{var x=this.convert(e[b]);l&&(t.stroke=o,t.strokeWidth=s,n?t.drawLine(x,this._axrect.top+u,x,this._axrect.top+c,y):t.drawLine(x,this._axrect.bottom-u,x,this._axrect.bottom-c,y)),p&&(t.stroke=g,t.strokeWidth=f,t.drawLine(x,d.top,x,d.bottom,m))}},t.prototype._renderLabel=function(t,e,i,n,r,a,o){var h=!1;if(this.itemFormatter){var l=this._getFormattedItem(t,e,i,n,o);l?(i=l.text,o=l.cls):i=null}if(i){var u=this._rects,c=this.overlappingLabels==I.Auto&&!(0,s.isNumber)(this._actualAngle),_=dt._renderText(t,i,n,r,a,o,this._groupClass,null,(function(t){if(c)for(var e=u.length,i=0;i<e;i++)if(dt._intersects(u[i],t))return!1;return!0}));_&&(_.left+=4,_.width+=8,u.push(_),h=!0)}return h},t.prototype._renderRotatedLabel=function(t,e,i,n,r,a,o,h){if(this.itemFormatter){var l=this._getFormattedItem(t,e,i,n,o);l?(i=l.text,o=l.cls):i=null}if(i){var u=t.measureString(i,o,this._groupClass),c=.5*u.height,_=.5*u.width*Math.abs(Math.sin(a*Math.PI/180)),p=.5*u.width,d=.5*(u.width*Math.abs(Math.cos(a*Math.PI/180))+u.height*Math.abs(Math.sin(a*Math.PI/180))),f=new s.Point(n.x,n.y),g=new s.Point(n.x,n.y);this.labelAlign||(r=90==a||-90==a?1:h?a>0?0:2:a>0?2:0),h?(n.y+=c+_,f.y+=c+_-.5*u.height):(n.y-=c+_-u.height,f.y-=c+_-.5*u.height);var m=0;2===r?(f.x-=d,n.x-=p+d,m=f.x+d-u.height-2):0===r?(f.x+=d,n.x-=p-d,m=f.x-d):(n.x-=p,m=f.x-u.height/2);var y=new s.Rect(m,g.y,u.height+2,u.width),b=this._rects;if(this.overlappingLabels==I.Auto)for(var v=b.length,x=0;x<v;x++)if(dt._intersects(b[x],y))return!1;return dt._renderRotatedText(t,i,n,0,2,f,a,o,this._groupClass),this._rects.push(y),!0}return!1},t.prototype._getLabelAlign=function(t){var e=1;if(this.labelAlign){var i=this.labelAlign.toLowerCase();t?"top"==i?e=0:"bottom"==i&&(e=2):"left"==i?e=0:"right"==i&&(e=2)}return e},t.prototype.convert=function(t,e,i){var n=null==e?this._actualMax:e,r=null==i?this._actualMin:i;if(n==r||!this._axrect)return 0;var s=this._axrect.left,a=this._axrect.width,o=this._axrect.top,h=this._axrect.height;if(null!=this._customConvert){var l=this._customConvert(t,r,n);return this.axisType==E.Y?o+l*h:s+l*a}if(this._getLogBase()){if(t<=0)return NaN;var u=Math.log(n/r);return this._reversed?this.axisType==E.Y?o+Math.log(t/r)/u*h:s+a-Math.log(t/r)/u*a:this.axisType==E.Y?o+h-Math.log(t/r)/u*h:s+Math.log(t/r)/u*a}return this._reversed?this.axisType==E.Y?o+(t-r)/(n-r)*h:s+a-(t-r)/(n-r)*a:this.axisType==E.Y?o+h-(t-r)/(n-r)*h:s+(t-r)/(n-r)*a},t.prototype.convertBack=function(t){if(this._actualMax==this._actualMin)return 0;var e=this._plotrect.left,i=this._plotrect.width,n=this._plotrect.top,r=this._plotrect.height,s=this._actualMax-this._actualMin,a=this._getLogBase();if(null!=this._customConvertBack)return this.axisType==E.Y?this._customConvertBack((t-n)/r,this._actualMin,this._actualMax):this._customConvertBack((t-e)/i,this._actualMin,this._actualMax);if(a){var o;return o=this._reversed?this.axisType==E.Y?(t-n)/r:1-(t-e)/i:this.axisType==E.Y?1-(t-n)/r:(t-e)/i,Math.pow(a,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*o)/Math.log(a))}return this._reversed?this.axisType==E.Y?this._actualMin+(t-n)*s/r:this._actualMin+(e+i-t)*s/i:this.axisType==E.Y?this._actualMax-(t-n)*s/r:this._actualMin+(t-e)*s/i},Object.defineProperty(t.prototype,"axisType",{get:function(){var t=this._chart;if(t){if(t.axisX==this)return E.X;if(t.axisY==this)return E.Y}return this._axisType},enumerable:!0,configurable:!0}),t.prototype._getMinNum=function(){return this._actualMin},t.prototype._getMaxNum=function(){return this._actualMax},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._cvCollectionChanged=function(t,e){this._invalidate()},t.prototype._createLabels=function(t,e,i,n,r){for(var a=0;a<e;a++){var o=(t+i*a).toFixed(14),h=parseFloat(o),l=this._formatAxisValue(h),u=r.indexOf(l);if(u>=0&&!(0,s.isNumber)(this.majorUnit)&&!this._format){var c=parseFloat(l);Math.abs(c-h)<Math.abs(c-n[u])&&(n[u]=h)}else n.push(h),r.push(l)}},t.prototype._createLogarithmicLabels=function(t,e,i,n,r,s){var a=this._getLogBase(),o=Math.log(a),h=Math.floor(Math.log(t)/o),l=Math.ceil(Math.log(e)/o),u=a,c=!0;i>0&&(c=!1,u=i),u<a&&(u=a);var _=(l-h+1)*a/u,p=1;if(s){var d=this._getPosition(),g=this._getAnnoNumber(d==f.Left||d==f.Right);_>g?p=Math.floor(_/g+1):c&&(_<=.2*g?u=.2*a:_<=.1*g&&(u=.1*a))}for(var m=h;m<=l;m+=p)if(c)for(var y=Math.pow(a,m),b=0;b*u<a-1;b++)(v=y*(1+b*u))>=t&&v<=e&&(0==b?(n.unshift(v),r&&r.unshift(this._formatValue(v))):(n.push(v),r&&r.push(this._formatValue(v))));else{var v;(v=Math.pow(u,m))>=t&&v<=e&&(n.push(v),r&&r.push(this._formatValue(v)))}},t.prototype._createTimeLabels=function(t,e,i,n){var r=this._actualMin,a=this._actualMax,o=new Date(r),h=new Date(a),l=this._format,u=this._getAnnoNumber(this._axisType==E.Y);u>10&&(u=10);var c=.001*(this._actualMax-this._actualMin)/u,_=new B(c*B.TicksPerSecond),p=(0,s.isNumber)(this._majorUnit)?B.fromDays(this._majorUnit):z.NiceTimeSpan(_,l);l||(this._tfmt=l=z.GetTimeDefaultFormat(1e3*p.TotalSeconds,0));var d=p.Ticks,f=z.RoundTime(r,p.TotalDays,!1);isFinite(f)&&(r=f);var g=z.RoundTime(a,p.TotalDays,!0);isFinite(g)&&(a=g);var m=new Date(r);if(new Date(a),p.TotalDays>=365&&!(0,s.isNumber)(this._majorUnit)){(m=new Date(o.getFullYear(),0,1))<o&&m.setFullYear(m.getFullYear()+1);var y=p.TotalDays/365;y-=y%1;for(var b=m;b<=h&&y;b.setFullYear(b.getFullYear()+y)){var v=b.valueOf();i.push(v),n.push(this._formatValue(v))}}else if(p.TotalDays>=30&&!(0,s.isNumber)(this._majorUnit)){(m=new Date(o.getFullYear(),o.getMonth(),1))<o&&m.setMonth(m.getMonth()+1);var x=p.TotalDays/30;for(x-=x%1,b=m;b<=h;b.setMonth(b.getMonth()+x))v=b.valueOf(),i.push(v),n.push(this._formatValue(v))}else{var w=1e3*d/B.TicksPerSecond,S=(b=m,o.getTime()-b.getTime());for(S>w&&(b=new Date(b.getTime()+Math.floor(S/w)*w));b<=h&&w;b=new Date(b.getTime()+w))(v=b.valueOf()+S)>=o.valueOf()&&(i.push(v),n.push(this._formatValue(v)))}},t.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?s.Globalize.format(new Date(t),this._format):s.Globalize.format(new Date(t),this._tfmt);if(this._format)return s.Globalize.format(t,this._format);var e=t==Math.round(t)?"n0":"n";return s.Globalize.format(t,e)},t.prototype._formatAxisValue=function(t,e){if(void 0===e&&(e=void 0),this._isTimeAxis)return this._format?s.Globalize.format(new Date(t),this._format):s.Globalize.format(new Date(t),this._tfmt);if(this._format)return s.Globalize.format(t,this._format);if((0,s.isNumber)(t)){var i=this._findFormat(t,e);return s.Globalize.format(t,i)}return t},t.prototype._findFormat=function(t,e){void 0===e&&(e=void 0);var i=t==Math.round(t)?"n0":"n";if(void 0!==e&&(i+=e.toString()),"n"==i){var n=t.toFixed(14),r=n.search(".");if(r>=0){e=1;for(var s=n.length-1;s>=r;s--)if("0"!=n[s]){e=s-r-1;break}i+=e.toString()}}return i},t.prototype._calcMajorUnit=function(){var t=this._majorUnit;if(!(0,s.isNumber)(t)){var e=this._actualMax-this._actualMin,i=this._nicePrecision(e),n=e/this._getAnnoNumber(this.axisType==E.Y);(t=this._niceNumber(2*n,-i,!0))<n&&(t=this._niceNumber(n,1-i,!1)),t<n&&(t=this._niceTickNumber(n))}return t},t.prototype._getAnnoNumber=function(t){var e=t?this._annoSize.height:this._annoSize.width,i=t?this._axrect.height:this._axrect.width;if(e>0&&i>0){var n=Math.floor(i/(e+6));return n<=0&&(n=1),n}return 10},t.prototype._nicePrecision=function(t){if(!(0,s.isNumber)(t)||t<=0)return 0;var e,i=Math.log(t)/Math.LN10;e=i>=0?Math.floor(i):Math.ceil(i);var n=t/Math.pow(10,e);return n<3&&(e=1-e,(n=t/Math.pow(10,e))<3&&(e+=1)),e},t.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,i=Math.floor(e),n=t/Math.pow(10,i),r=10;return n<=1?r=1:n<=2?r=2:n<=5&&(r=5),r*Math.pow(10,i)},t.prototype._niceNumber=function(t,e,i){if(0==t)return t;t<0&&(t=-t);var n=t/Math.pow(10,e),r=10;return i?n<1.5?r=1:n<3?r=2:n<4.5?r=4:n<7&&(r=5):n<=1?r=1:n<=2?r=2:n<=5&&(r=5),r*Math.pow(10,e)},Object.defineProperty(t.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),t.MAX_MAJOR=1e3,t.MAX_MINOR=2e3,t._id=0,t}(),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getAxis=function(t){var e=this.indexOf(t);return e>-1?this[e]:null},e.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1},e}(s.ObservableArray);!function(t){t[t.tickf7=-7]="tickf7",t[t.tickf6=-6]="tickf6",t[t.tickf5=-5]="tickf5",t[t.tickf4=-4]="tickf4",t[t.tickf3=-3]="tickf3",t[t.tickf2=-2]="tickf2",t[t.tickf1=-1]="tickf1",t[t.second=1]="second",t[t.minute=60]="minute",t[t.hour=3600]="hour",t[t.day=86400]="day",t[t.week=604800]="week",t[t.month=2678400]="month",t[t.year=31536e3]="year",t[t.maxtime=Number.MAX_VALUE]="maxtime"}(F||(F={}));var Y,B=function(){function t(t){this.ticks=t}return Object.defineProperty(t.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalDays",{get:function(){return this.ticks/1e7/86400},enumerable:!0,configurable:!0}),t.fromSeconds=function(e){return new t(1e7*e)},t.fromDays=function(e){return new t(1e7*e*24*60*60)},t.TicksPerSecond=1e7,t}(),z=function(){function t(t){(0,s.isDate)(t)?this.init(t):(0,s.isNumber)(t)&&this.init(dt._fromOADate(t))}return t.prototype.init=function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()},t.prototype.getTimeAsDateTime=function(){return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(this.day,this.month=1):this.month>11&&(this.month,this.month=11),this.day<1?(this.day,this.day=1):this.day>28&&1==this.month?(this.day,this.day=28):this.day>30&&(3==this.month||5==this.month||8==this.month||10==this.month)?(this.day,this.day=30):this.day>31&&(this.day,this.day=31),this.second>59&&(this.second,this.second=59),this.minute>59&&(this.minute,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},t.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},t.tround=function(t,e,i){var n=t/e*e;return n-=n%1,i&&n!=t&&(n+=e-=e%1),n},t.RoundTime=function(e,i,n){var r=24*i*60*60;if(r>0){var s=new t(e);return r<F.minute?(s.second=this.tround(s.second,r,n),s.getTimeAsDouble()):(s.second=0,r<F.hour?(r/=F.minute,s.minute=this.tround(s.minute,r,n),s.getTimeAsDouble()):(s.minute=0,r<F.day?(r/=F.hour,s.hour=this.tround(s.hour,r,n),s.getTimeAsDouble()):(s.hour=0,r<F.month?(r/=F.day,s.day=this.tround(s.day,r,n),s.getTimeAsDouble()):(s.day=1,r<F.year?(r/=F.month,1!=s.month&&(s.month=this.tround(s.month,r,n)),s.getTimeAsDouble()):(s.month=1,r/=F.year,s.year=this.tround(s.year,r,n),s.getTimeAsDouble())))))}var a=e-r,o=a/i*i;return n&&o!=a&&(o+=i),r+o},t.TimeSpanFromTmInc=function(t){var e=B.fromSeconds(1);if(t!=F.maxtime)if(t>F.tickf1)e=B.fromSeconds(t);else{var i=t,n=1;for(i+=7;i>0;)n*=10,i--;e=new B(n)}return e},t.manualTimeInc=function(t){var e=F.second;if(null==t||0==t.length)return e;var i=t.indexOf("f");if(i>=0){var n=-1;if(i>0&&"%"==t.substr(i-1,1))n=-1;else for(var r=1;r<6&&!(i+r>=t.length)&&"f"==t.substr(i+r,1);r++)n--;e=n}else t.indexOf("s")>=0?e=F.second:t.indexOf("m")>=0?e=F.minute:t.indexOf("h")>=0||t.indexOf("H")?e=F.hour:t.indexOf("d")>=0?e=F.day:t.indexOf("M")>=0?e=F.month:t.indexOf("y")>=0&&(e=F.year);return e},t.getNiceInc=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n]*i;if(e<=r)return r}return 0},t.NiceTimeSpan=function(e,i){var n=F.second;null!=i&&i.length>0&&(n=t.manualTimeInc(i));var r=0,s=0;if(n<F.second&&e.TotalSeconds<10){for(r=e.Ticks,s=t.TimeSpanFromTmInc(n).Ticks;r>10*s;)s*=10;var a=s;return r>a&&(a*=2),r>a&&(a=5*s),r>a&&(a=10*s),new B(a)}if(0==(r=Math.ceil(e.TotalSeconds)))return t.TimeSpanFromTmInc(n);if(s=1,n<F.minute){if(r<F.minute&&0!=(s=t.getNiceInc([1,2,5,10,15,30],r,n)))return B.fromSeconds(s);n=F.minute}if(n<F.hour){if(r<F.hour&&0!=(s=t.getNiceInc([1,2,5,10,15,30],r,n)))return B.fromSeconds(s);n=F.hour}if(n<F.day){if(r<F.day&&0!=(s=t.getNiceInc([1,3,6,12],r,n)))return B.fromSeconds(s);n=F.day}if(n<F.month){if(r<F.month&&0!=(s=t.getNiceInc([1,2,7,14],r,n)))return B.fromSeconds(s);n=F.month}if(n<F.year){if(r<F.year&&0!=(s=t.getNiceInc([1,2,3,4,6],r,n)))return B.fromSeconds(s);n=F.year}return r<(s=100*F.year)&&0==(s=t.getNiceInc([1,2,5,10,20,50],r,n))&&(s=100*F.year),B.fromSeconds(s)},t.NiceTimeUnit=function(e,i){var n=B.fromDays(e);return(n=t.NiceTimeSpan(n,i)).TotalDays},t.GetTimeDefaultFormat=function(t,e){if(!(0,s.isNumber)(t)||!(0,s.isNumber)(e))return"";var i="s",n=B.fromSeconds(.001*(t-e)),r=n.TotalSeconds;if(r>=F.year)i="yyyy";else if(r>=F.month)i="MMM yyyy";else if(r>=F.day)i="MMM d";else if(r>=F.hour)i="ddd H:mm";else if(r>=.5*F.hour)i="H:mm";else if(r>=1)i="H:mm:ss";else if(r>0){var a=n.Ticks;for(i="s.";a<B.TicksPerSecond;)a*=10,i+="f"}return i},t.secInYear=86400,t}(),G=function(){function t(t,e,i,n){this._seriesIndex=t,this._pointIndex=e,this._dataX=i,this._dataY=n}return Object.defineProperty(t.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataX",{get:function(){return this._dataX},set:function(t){t!==this._dataX&&(this._dataX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataY",{get:function(){return this._dataY},set:function(t){t!==this._dataY&&(this._dataY=t)},enumerable:!0,configurable:!0}),t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.XY=2]="XY"}(Y||(Y={}));var H,W=function(){function t(t){this._rect=t}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this._rect;return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom},t.prototype.pointDistance=function(t,e,i){var n=e.x-t.x,r=e.y-t.y;return i==Y.X?Math.abs(n):i==Y.Y?Math.abs(r):Math.sqrt(n*n+r*r)},t.prototype.distance=function(t){var e=Y.XY;isNaN(t.x)||null===t.x?e=Y.Y:(isNaN(t.y)||null===t.y)&&(e=Y.X);var i=this._rect;return t.x<i.left?t.y<i.top?this.pointDistance(t,new s.Point(i.left,i.top),e):t.y>i.bottom?this.pointDistance(t,new s.Point(i.left,i.bottom),e):e==Y.Y?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new s.Point(i.right,i.top),e):t.y>i.bottom?this.pointDistance(t,new s.Point(i.right,i.bottom),e):e==Y.Y?0:t.x-i.right:e==Y.X?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}(),U=function(){function t(t,e){this._center=t,this.setRadius(e)}return t.prototype.setRadius=function(t){this._rad=t,this._rad2=t*t},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this._center.x-t.x,i=this._center.y-t.y;return e*e+i*i<=this._rad2},t.prototype.distance=function(t){var e=isNaN(t.x)?0:this._center.x-t.x,i=isNaN(t.y)?0:this._center.y-t.y,n=e*e+i*i;return n<=this._rad2?0:Math.sqrt(n)-this._rad},t}(),q=function(){function t(t,e){this._x=[],this._y=[],this._x=t,this._y=e}return t.prototype.contains=function(t){return!1},t.prototype.distance=function(t){for(var e=NaN,i=0;i<this._x.length-1;i++){var n=dt._dist(t,new s.Point(this._x[i],this._y[i]),new s.Point(this._x[i+1],this._y[i+1]));(isNaN(e)||n<e)&&(e=n)}return e},t}(),K=function(){},Z=function(){function t(t){this._map={},this._chart=t}return t.prototype.add=function(t,e){this._map[e]&&(t.tag||(t.tag=new G(e,NaN,NaN,NaN)),this._map[e].push(t))},t.prototype.clear=function(){this._map={};for(var t=this._chart.series,e=0;e<t.length;e++)t[e].hitTest===st.prototype.hitTest&&(this._map[e]=new Array)},t.prototype.hitTest=function(t,e){void 0===e&&(e=!1);for(var i=null,n=Number.MAX_VALUE,r=this._chart.series.length-1;r>=0;r--){var a=this._map[r];if(a){for(var o=a.length-1;o>=0;o--){var h=a[o];if(!(0,s.tryCast)(h,q)||e){var l=h.distance(t);if(l<n&&(i=h,0==(n=l)))break}}if(0==n)break}}if(i){var u=new K;return u.area=i,u.distance=n,u}return null},t.prototype.hitTestSeries=function(t,e){var i=null,n=Number.MAX_VALUE,r=this._map[e];if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],o=a.distance(t);if(o<n&&(i=a,0==(n=o)))break}if(i){var h=new K;return h.area=i,h.distance=n,h}return null},t}();!function(t){t[t.PlotArea=0]="PlotArea",t[t.AxisX=1]="AxisX",t[t.AxisY=2]="AxisY",t[t.ChartArea=3]="ChartArea",t[t.Legend=4]="Legend",t[t.Header=5]="Header",t[t.Footer=6]="Footer",t[t.Series=7]="Series",t[t.SeriesSymbol=8]="SeriesSymbol",t[t.DataLabel=9]="DataLabel",t[t.None=10]="None"}(H||(H={}));var J,Q,$=function(){function t(t,e,i){this._pointIndex=null,this._chartElement=H.None,this._chart=t,this._pt=e,this._chartElement=i}return Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){if(null==this._item&&null!==this.pointIndex)if(null!=this.series)this._item=this.series._getItem(this.pointIndex);else{var t=this._chart._getHitTestItem(this.pointIndex);t&&(this._item=t)}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return void 0===this._x&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return void 0===this._y&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var t=this._chart._getHitTestValue(this.pointIndex,this._groupIndex);return null!=t?t:this.series&&null!=this.series._getValue?this.series._getValue(this.pointIndex):this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(void 0===this._name){var t=this._chart._getHitTestLabel(this.pointIndex);return null==t?this.series.name:t.toString()}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupIndex",{get:function(){return this._groupIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_xfmt",{get:function(){return void 0===this.__xfmt&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_yfmt",{get:function(){return void 0===this.__yfmt&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),t.prototype._setData=function(t,e){this._series=t,this._pointIndex=e},t.prototype._setDataGroup=function(t,e){this._groupIndex=t,this._pointIndex=e},t.prototype._setDataPoint=function(t){if(t=(0,s.asType)(t,G,!0)){this._pointIndex=t.pointIndex;var e=(0,s.asType)(this._chart,dt,!0),i=t.seriesIndex;null!==i&&i>=0&&i<e.series.length&&(this._series=e.series[i]),null!=t.item&&(this._item=t.item),null!=t.x&&(this._x=t.x),null!=t.y&&(this._y=t.y),null!=t.xfmt&&(this.__xfmt=t.xfmt),null!=t.yfmt&&(this.__yfmt=t.yfmt),null!=t.name&&(this._name=t.name)}},t.prototype._getValueFmt=function(){var t=this.value;if(null!=t){if(null==this.series){var e=t==Math.round(t)?"{val:n0}":"{val:n}";return(0,s.format)(e,{val:t})}t=this._chart._isRotated()?this.ax._formatValue(t):this.ay._formatValue(t)}return t},t.prototype._getValue=function(t,e){var i=this._chart._getHitTestValue(this.pointIndex,this.groupIndex);if(null!==i)return i;var n=null,r=this._chart,a=this.pointIndex,o=r._isRotated();if(null!==this.series&&null!==a){var h=this.series.getValues(t),l=this.series.getDataType(t);h&&this.pointIndex<h.length?(n=h[this.pointIndex],l!=s.DataType.Date||e||(n=new Date(n))):1==t&&(r._xlabels&&r._xlabels.length>0&&a<r._xlabels.length?n=r._xlabels[a]:r._xvals&&a<r._xvals.length&&(n=r._xvals[a],r._xDataType!=s.DataType.Date||e||(n=new Date(n))))}return null!==n&&e&&(o?0==t?n=this.ax._formatValue(n):1==t&&(n=this.ay._formatValue(n)):0==t?n=this.ay._formatValue(n):1==t&&(n=this.ax._formatValue(n))),n},Object.defineProperty(t.prototype,"ax",{get:function(){return this.series.axisX?this.series.axisX:this._chart.axisX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ay",{get:function(){return this.series.axisY?this.series.axisY:this._chart.axisY},enumerable:!0,configurable:!0}),t}();!function(t){t[t.Visible=0]="Visible",t[t.Plot=1]="Plot",t[t.Legend=2]="Legend",t[t.Hidden=3]="Hidden"}(J||(J={})),function(t){t[t.Dot=0]="Dot",t[t.Box=1]="Box"}(Q||(Q={}));var tt,et,it=function(){},nt=function(t){function e(e){var i=t.call(this)||this;return i._series=(0,s.asType)(e,rt),i}return o(e,t),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),e}(s.EventArgs),rt=function(){function t(t){this._altStyle=null,this._symbolMarker=Q.Dot,this._visibility=J.Visible,this._interpolateNulls=null,this._cache={},this.rendering=new s.Event,this.rendered=new s.Event,this.initialize(t)}return Object.defineProperty(t.prototype,"interpolateNulls",{get:function(){return null==this._interpolateNulls?this._chart&&this._chart.interpolateNulls:this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=(0,s.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altStyle",{get:function(){return this._altStyle},set:function(t){t!=this._altStyle&&(this._altStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(t){t!=this._symbolStyle&&(this._symbolStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=(0,s.asNumber)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){(t=(0,s.asEnum)(t,Q,!0))!=this._symbolMarker&&(this._symbolMarker=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=(0,s.asString)(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=(0,s.asString)(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=(0,s.asCollectionView)(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=(0,s.asString)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._visibility},set:function(t){(t=(0,s.asEnum)(t,J))!=this._visibility&&(this._visibility=t,this._clearValues(),this._invalidate(),this._chart&&this._chart.onSeriesVisibilityChanged(new nt(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this._tooltipContent},set:function(t){t!=this._tooltipContent&&(this._tooltipContent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=(0,s.asFunction)(t),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(t,e){return(0,s.isNumber)(t)&&(0,s.isNumber)(e)?t=new s.Point(t,e):t instanceof MouseEvent&&(t=new s.Point(t.pageX,t.pageY)),(0,s.asType)(t,s.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},t.prototype.getPlotElement=function(t){if(this.hostElement&&t<this._pointIndexes.length){var e=this._pointIndexes[t];if(e<this.hostElement.childNodes.length)return this.hostElement.childNodes[e]}return null},Object.defineProperty(t.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){if(this._axisX=(0,s.asType)(t,V,!0),this._axisX){var e=this._axisX._chart=this._chart;e&&-1==e.axes.indexOf(this._axisX)&&e.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){if(this._axisY=(0,s.asType)(t,V,!0),this._axisY){var e=this._axisY._chart=this._chart;e&&-1==e.axes.indexOf(this._axisY)&&e.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){(0,s.copy)(this,t)},t.prototype.pointToData=function(t){return(0,s.asType)(t,s.Point),(t=t.clone()).x=this._getAxisX().convertBack(t.x),t.y=this._getAxisY().convertBack(t.y),t},t.prototype.dataToPoint=function(t){return(0,s.asType)(t,s.Point),(t=t.clone()).x=this._getAxisX().convert(t.x),t.y=this._getAxisY().convert(t.y),t},t.prototype.onRendering=function(t,e,i){var n=new P(t,e,i);return this.rendering.raise(this,n),n.cancel},t.prototype.onRendered=function(t){this.rendered.raise(this,new S(t))},Object.defineProperty(t.prototype,"_chart",{get:function(){return this.__chart},set:function(t){t!==this.__chart&&(this.__chart=t)},enumerable:!0,configurable:!0}),t.prototype._getSymbolSize=function(){return null!=this.symbolSize?this.symbolSize:this.chart.symbolSize},Object.defineProperty(t.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(t){t!=this.__plotter&&(this.__plotter=t)},enumerable:!0,configurable:!0}),t.prototype.getDataType=function(t){return 0==t?this._valueDataType:1==t?this._xvalueDataType:null},t.prototype.getValues=function(t){if(0==t){if(null==this._values)if(this._valueDataType=null,null!=this._cv){var e=this._bindValues(this._cv.items,this._getBinding(0));this._values=e.values,this._valueDataType=e.dataType}else null!=this.binding&&null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=e.values,this._valueDataType=e.dataType);return this._values}if(1==t){if(null==this._xvalues&&(this._xvalueDataType=null,null!=this.bindingX))if(null!=this._cv)e=this._bindValues(this._cv.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values;else{if(null==this._bindingX)return null;null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values)}return this._xvalues}return null},t.prototype.drawLegendItem=function(t,e,i){var n=this._getChartType();null==n&&(n=this._chart._getChartType());var r=this._getLegendStyle(this.style);n===tt.Funnel?this._drawFunnelLegendItem(t,e,i,r,this.symbolStyle):this._drawLegendItem(t,e,n,this.name,r,this.symbolStyle)},t.prototype._getLegendStyle=function(t){if(t){var e={};return t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),e}},t.prototype.measureLegendItem=function(t,e){var i=this._getChartType();return null==i&&(i=this._chart._getChartType()),i===tt.Funnel?this._measureLegendItem(t,this._getFunnelLegendName(e)):this._measureLegendItem(t,this.name)},t.prototype.legendItemLength=function(){var t=this._getChartType();return null==t&&(t=this._chart._getChartType()),t===tt.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:this._chart._xvals&&this._chart._xvals.length?this._chart._xvals.length:1:1},t.prototype.getDataRect=function(t,e){return null},t.prototype._getChartType=function(){return this._chartType},t.prototype._clearValues=function(){this._values=null,this._xvalues=null,this.__plotter=null,this._cache={}},t.prototype._getBinding=function(t){var e=this.binding;if(e){var i=this.chart?this.chart._bindingSeparator:",";if(i){var n=e.split(i);n&&n.length>t&&(e=n[t].trim())}}return e},t.prototype._getBindingValues=function(t){if(this._cache[t])return this._cache[t];var e;null!=this._cv?e=this._cv.items:null!=this._chart&&null!=this._chart.collectionView&&(e=this._chart.collectionView.items);var i=this._bindValues(e,this._getBinding(t));return this._cache[t]=i.values},t.prototype._getItem=function(t){var e=null,i=null;return null!=this.itemsSource?i=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(i=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=i&&(e=i[t]),e},t.prototype._getLength=function(){var t=0,e=null;return null!=this.itemsSource?e=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(e=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=e&&(t=e.length),t},t.prototype._setPointIndex=function(t,e){this._pointIndexes[t]=e},t.prototype._getDataRect=function(){var t=this.getValues(0),e=this.getValues(1);if(t){for(var i=NaN,n=NaN,r=NaN,a=NaN,o=t.length,h=0;h<o;h++){var l=t[h];if(isFinite(l)&&(isNaN(n)?n=a=l:l<n?n=l:l>a&&(a=l)),e){var u=e[h];isFinite(u)&&(isNaN(i)?i=r=u:u<i?i=u:l>a&&(r=u))}}if(e||(i=0,r=o-1),!isNaN(n))return new s.Rect(i,n,r-i,a-n)}return null},t.prototype._isCustomAxisX=function(){return!!this._axisX&&(!this._chart||this._axisX!=this.chart.axisX)},t.prototype._isCustomAxisY=function(){return!!this._axisY&&(!this._chart||this._axisY!=this.chart.axisY)},t.prototype._getAxisX=function(){var t=null;return this.axisX?t=this.axisX:this.chart&&(t=this.chart.axisX),t},t.prototype._getAxisY=function(){var t=null;return this.axisY?t=this.axisY:this.chart&&(t=this.chart.axisY),t},t.prototype._measureLegendItem=function(e,i){var n=new s.Size;if(n.width=t._LEGEND_ITEM_WIDTH,n.height=t._LEGEND_ITEM_HEIGHT,this._name){var r=e.measureString(i,dt._CSS_LABEL,dt._CSS_LEGEND);n.width+=r.width,n.height<r.height&&(n.height=r.height)}return n.width+=3*t._LEGEND_ITEM_MARGIN,n.height+=2*t._LEGEND_ITEM_MARGIN,n},t.prototype._drawFunnelLegendItem=function(e,i,n,r,a){e.strokeWidth=1;var o=t._LEGEND_ITEM_MARGIN,h=null,l=null;null===h&&(h=this._chart._getColorLight(n)),null===l&&(l=this._chart._getColor(n)),e.fill=h,e.stroke=l;var u=i.top+.5*i.height,c=t._LEGEND_ITEM_WIDTH,_=t._LEGEND_ITEM_HEIGHT,p=this._getFunnelLegendName(n);e.drawRect(i.left+o,u-.5*_,c,_,null,a||r),null!=p&&dt._renderText(e,p,new s.Point(i.left+_+2*o,u),0,1,dt._CSS_LABEL,dt._CSS_LEGEND)},t.prototype._getFunnelLegendName=function(t){var e,i=this._chart;return i._xlabels&&i._xlabels.length&&t<i._xlabels.length?e=i._xlabels[t]:i._xvals&&i._xvals.length&&t<i._xvals.length&&(e=i._xvals[t],i._xDataType===s.DataType.Date&&(e=dt._fromOADate(e))),null==e&&(e=this.name),e.toString()},t.prototype._drawLegendItem=function(e,i,n,r,a,o){e.strokeWidth=1;var h=t._LEGEND_ITEM_MARGIN,l=null,u=null;null===l&&(l=this._chart._getColorLight(this._chart.series.indexOf(this))),null===u&&(u=this._chart._getColor(this._chart.series.indexOf(this))),e.fill=l,e.stroke=u;var c=i.top+.5*i.height,_=t._LEGEND_ITEM_WIDTH,p=t._LEGEND_ITEM_HEIGHT;switch(n){case tt.Area:case tt.SplineArea:case tt.StepArea:e.drawRect(i.left+h,c-.5*p,_,p,null,a);break;case tt.Bar:case tt.Column:e.drawRect(i.left+h,c-.5*p,_,p,null,o||a);break;case tt.Scatter:case tt.Bubble:var d=.3*_,f=.3*p;this.symbolMarker==Q.Box?e.drawRect(i.left+h+.5*_-d,c-f,2*d,2*f,null,o||a):e.drawEllipse(i.left+.5*_+h,c,d,f,null,o||a);break;case tt.Line:case tt.Spline:case tt.Step:e.drawLine(i.left+h,c,i.left+_+h,c,null,a);break;case tt.LineSymbols:case tt.SplineSymbols:case tt.StepSymbols:d=.3*_,f=.3*p,this.symbolMarker==Q.Box?e.drawRect(i.left+h+.5*_-d,c-f,2*d,2*f,null,o||a):e.drawEllipse(i.left+.5*_+h,c,d,f,null,o||a),e.drawLine(i.left+h,c,i.left+_+h,c,null,a);break;case tt.Candlestick:case tt.HighLowOpenClose:e.drawLine(i.left+h,c,i.left+_+h,c,null,o||a)}this._name&&dt._renderText(e,r,new s.Point(i.left+p+2*h,c),0,1,dt._CSS_LABEL,dt._CSS_LEGEND)},t.prototype._cvCollectionChanged=function(t,e){this._clearValues(),this._invalidate()},t.prototype._cvCurrentChanged=function(t,e){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},t.prototype._bindValues=function(t,e,i){var n,r,a;if(void 0===i&&(i=!1),null!=t){var o=t.length;n=new Array(t.length);for(var h=e?new s.Binding(e):null,l=0;l<o;l++){a=null;var u=t[l];null!=h&&(u=h.getValue(u)),(0,s.isArray)(u)&&u.length>0&&(a=u,u=u[0]),(0,s.isNumber)(u)?(n[l]=u,r=s.DataType.Number):(0,s.isDate)(u)?(n[l]=u.valueOf(),r=s.DataType.Date):i&&u&&(n[l]=l,r=s.DataType.Number),(0,s.isArray)(a)&&a.length>0&&(n[l]=a)}}var c=new it;return c.values=n,c.dataType=r,c},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var e=this._values[t],i=this._xvalues?this._xvalues[t]:t;return new s.Point(i,e)}return null},t.prototype._getSymbolFill=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.fill),!e&&this.style&&(e=this.style.fill),!e&&this.chart&&(e=this.chart._getColorLight(t)),e},t.prototype._getSymbolStroke=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.stroke),!e&&this.style&&(e=this.style.stroke),!e&&this.chart&&(e=this.chart._getColor(t)),e},t.prototype._getAltSymbolStroke=function(t){var e=null;return this.altStyle&&(e=this.altStyle.stroke),e},t.prototype._getAltSymbolFill=function(t){var e=null;return this.altStyle&&(e=this.altStyle.fill),e},t.prototype._renderLabels=function(t,e,i,n){this._plotter&&this._plotter._renderLabels(t,this,e,i,n)},t._LEGEND_ITEM_WIDTH=10,t._LEGEND_ITEM_HEIGHT=10,t._LEGEND_ITEM_MARGIN=4,t._DEFAULT_SYM_SIZE=10,t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"chartType",{get:function(){return this._chartType},set:function(t){(t=(0,s.asEnum)(t,tt,!0))!=this._chartType&&(this._chartType=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(rt),at=function(t){function e(e,i){var n=t.call(this,e,null,!0)||this;n._areas=[],n._keywords=new N,n._startAngle=0,n._innerRadius=0,n._offset=0,n._reversed=!1,n._isAnimated=!1,n._selectedItemPosition=f.None,n._selectedItemOffset=0,n._pieGroups=[],n._rotationAngles=[],n._centers=[new s.Point],n._selectedOffset=new s.Point,n._selectedIndex=-1,n._angles=[],n._colRowLens=[],n._titles=void 0,n._values=[],n._labels=[],n._pels=[],n._sum=0,n._sums=[],n._bindingSeparator=",",n.applyTemplate("wj-control wj-flexchart wj-flexpie",null,null),n._currentRenderEngine=new y(n.hostElement),n._legend=new x(n),n._tooltip=new L,n._tooltip.content="<b>{name}</b><br/>{value}",n._tooltip.showDelay=0,n._lbl=new j,n._lbl._chart=n;var r=n;return n.hostElement.addEventListener("mousemove",(function(t){var e=r._tooltip;if(e.content&&!r.isTouching){var i=r.hitTest(t);if(i.distance<=e.threshold){var n=r._getLabelContent(i,r.tooltip.content);r._showToolTip(n,new s.Rect(t.clientX,t.clientY,5,5))}else r._hideToolTip()}})),n.hostElement.addEventListener("click",(function(t){var e=!0;if(r.selectionMode==d.Point){var i=r.hitTest(t),n=C._SELECTION_THRESHOLD;r.tooltip&&r.tooltip.threshold&&(n=r.tooltip.threshold),i.distance<=n?(i.pointIndex!=r._selectionIndex&&r.selectedItemPosition!=f.None&&(e=!1),i.pointIndex!=r._selectionIndex&&r._select(i.pointIndex,!0)):r._selectedIndex>=0&&r._select(null)}if(e&&r.isTouching){var a=r._tooltip;if(a.content)if((i=r.hitTest(t)).distance<=a.threshold){var o=r._getLabelContent(i,r.tooltip.content);r._showToolTip(o,new s.Rect(t.clientX,t.clientY,5,5))}else r._hideToolTip()}})),n.hostElement.addEventListener("mouseleave",(function(t){r._hideToolTip()})),n.deferUpdate((function(){return n.initialize(i)})),n}return o(e,t),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=(0,s.asString)(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=(0,s.asString)(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=(0,s.asNumber)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=(0,s.asNumber)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=(0,s.asNumber)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerTextStyle",{get:function(){return this._innerTextStyle},set:function(t){t!=this._innerText&&(this._innerTextStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerText",{get:function(){return this._innerText},set:function(t){t!=this._innerText&&(this._innerText=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=(0,s.asBoolean)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){(t=(0,s.asEnum)(t,f,!0))!=this._selectedItemPosition&&(this._selectedItemPosition=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=(0,s.asNumber)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){t!=this._isAnimated&&(this._isAnimated=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(t){t!=this._lbl&&(this._lbl=t,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(t!=this._selectedIndex){var e=(0,s.asNumber)(t,!0);this._select(e,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},set:function(t){t!==this._titles&&(this._titles=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartsPerLine",{get:function(){return this._chartsPerLine},set:function(t){t!=this._chartsPerLine&&(this._chartsPerLine=(0,s.asNumber)(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype._getLabelsForLegend=function(){return this._labels},e.prototype.hitTest=function(t,e){var i=this._toControl(t,e),n=new $(this,i),r=null;if(C._contains(this._rectHeader,i))n._chartElement=H.Header;else if(C._contains(this._rectFooter,i))n._chartElement=H.Footer;else if(C._contains(this._rectLegend,i))n._chartElement=H.Legend,null!==(r=this.legend._hitTest(i))&&r>=0&&r<this._areas.length&&n._setData(null,r);else if(C._contains(this._rectChart,i)){for(var s,a=this._areas.length,o=NaN,h=0;h<a;h++){var l=i.clone(),u=this._areas[h],c=this._rotationAngles[u.gi];if(0!=c){var _=this._centers[u.gi],p=_.x,d=_.y,f=-p+l.x,g=-d+l.y,m=Math.sqrt(f*f+g*g),y=Math.atan2(g,f)-c*Math.PI/180;l.x=p+m*Math.cos(y),l.y=d+m*Math.sin(y)}h==this._selectedIndex&&(l.x-=this._selectedOffset.x,l.y-=this._selectedOffset.y);var b=this._areas[h];if(b.contains(l)&&(n._setDataGroup(u.gi,b.tag),n._dist=0,h!=this._selectedIndex))break;var v=b.distance(l);void 0!==v&&(isNaN(o)||v<o)&&(o=v,s=b)}0!==n._dist&&null!=s&&(n._setDataGroup(s.gi,s.tag),n._dist=o),n._chartElement=H.ChartArea}else n._chartElement=H.None;return n},e.prototype._performBind=function(){if(this._initData(),this._cv){this._selectionIndex=this._cv.currentPosition;var t=this._cv.items;if(t){for(var e=t.length,i=this._getBindings(),n=0;n<i.length;n++)this._values[n]=[],this._sums[n]=0;for(var r=0;r<e;r++){var s=t[r];for(n=0;n<i.length;n++)this._sums[n]+=Math.abs(this._getBindData(s,this._values[n],0==n?this._labels:null,i[n],this.bindingName))}}}},e.prototype._getBindings=function(){var t=[],e=this.binding;if(e){var i=this._bindingSeparator;i&&(t=e.split(i))}return t},e.prototype._initData=function(){this._sum=0,this._sums=[],this._values=[],this._labels=[]},e.prototype._getBindData=function(t,e,i,n,r){var a,o=0,h=n?new s.Binding(n):null;h&&(a=h.getValue(t)),o=0,(0,s.isNumber)(a)?o=(0,s.asNumber)(a):a&&(o=parseFloat(a.toString())),!isNaN(o)&&isFinite(o)||(o=0),e.push(o);var l=r?new s.Binding(r):null;if(i)if(l&&t){var u=l.getValue(t);u&&(u=u.toString()),i.push(u)}else i.push(o.toString());return o},e.prototype._render=function(e,i,n){void 0===i&&(i=!0),void 0===n&&(n=null),this._selectionAnimationID&&clearInterval(this._selectionAnimationID),this.onRendering(new S(e)),t.prototype._render.call(this,e,i,n)},e.prototype._prepareRender=function(){this._areas=[]},e.prototype._renderChart=function(t,i,n){var r=this._rectChart.clone(),a=(new s.Size(r.width,r.height),i.width),o=i.height,h=this._parseMargin(this.plotMargin),l=this.dataLabel,u=l.content&&l.position==T.Outside,c=u?((0,s.isNumber)(l.offset)?l.offset:0)+24:0;isNaN(h.left)&&(h.left=u?c:e._MARGIN),isNaN(h.right)&&(h.right=u?c:e._MARGIN),isNaN(h.top)&&(h.top=u?c:e._MARGIN),isNaN(h.bottom)&&(h.bottom=u?c:e._MARGIN),i.top+=h.top,o=i.height-(h.top+h.bottom),i.height=o>0?o:24,i.left+=h.left,a=i.width-(h.left+h.right),i.width=a>0?a:24;var _=this._getBindings(),p=this.titles;void 0===p&&_.length>1&&(p=_);var d=this._layout(t,i,p,_.length);this._angles=[],this._pels=[],this._pieGroups=[],this._rotationAngles=[];for(var f=0;f<_.length;f++){var g=d[f];p&&f<p.length&&p[f]&&C._renderText(t,p[f],new s.Point(g.left+.5*g.width,g.top),1,2,e._CSS_GROUP_TITLE);var m=t.startGroup("wj-slice-group",null,!0);this._pieGroups.push(m),this._renderData(t,g,f,m),t.endGroup(),this._rotationAngles.push(0)}this._highlightCurrent(),this.innerText&&this._renderInnerText(t),this.dataLabel.content&&this.dataLabel.position!=T.None&&this._renderLabels(t),this.onRendered(new S(t))},e.prototype._layout=function(t,i,n,r){var a=0,o=r,h=1,l=0;if(n)for(var u=0;u<n.length;u++)l=Math.max(l,t.measureString(n[u],e._CSS_GROUP_TITLE).height);var c=Math.floor(this.chartsPerLine);if(c>0){o=Math.min(r,c),h=Math.ceil(r/o);var _=Math.floor(i.width/o),p=Math.floor(i.height/h)-l;a=Math.min(_,p)}else for(var d=1;d<=r;d++){var f=Math.floor((r+(d-1))/d);_=Math.floor(i.width/d),p=Math.floor(i.height/f),(p-=l)<_&&(_=p),_>a&&(a=_,o=d,h=f)}for(var g=[],m=.5*(i.width-a*o),y=.5*(i.height-(a+l)*h),b=0;b<h;b++)for(var v=0;v<o;v++)g.push(new s.Rect(i.left+a*v+8+m,i.top+(a+l)*b+8+y+l,a-16,a-16));return g},e.prototype._getDesiredLegendSize=function(t,e,i,n){var r=new s.Size,a=(new s.Size(i,n),this._getLabelsForLegend()),o=a.length,h=0,l=0;this._colRowLens=[];for(var u=0;u<o;u++){var c=this._measureLegendItem(t,a[u]);e?(l+c.height>n&&(r.height=n,this._colRowLens.push(h),h=0,l=0),h<c.width&&(h=c.width),l+=c.height):(h+c.width>i&&(r.width=i,this._colRowLens.push(l),l=0,h=0),l<c.height&&(l=c.height),h+=c.width)}return e?(r.height<l&&(r.height=l),this._colRowLens.push(h),r.width=this._colRowLens.reduce((function(t,e){return t+e}),0),r.width=this._getLegendSize(i,r.width)):(r.width<h&&(r.width=h),this._colRowLens.push(l),r.height=this._colRowLens.reduce((function(t,e){return t+e}),0),r.height=this._getLegendSize(n,r.height)),r},e.prototype._renderLegend=function(t,e,i,n,r,a){for(var o=this._rectLegend,h=this._getLabelsForLegend(),l=h.length,u=0,c=e.clone(),_=0;_<l;_++){var p=this._measureLegendItem(t,h[_]);n?c.y+p.height>o.top+o.height+1&&(c.x+=this._colRowLens[u],u++,c.y=e.y):c.x+p.width>o.left+o.width+1&&(c.y+=this._colRowLens[u],u++,c.x=e.x);var d=new s.Rect(c.x,c.y,p.width,p.height);this._drawLegendItem(t,d,_,h[_]),i.push(d),n?c.y+=p.height:c.x+=p.width}},e.prototype._renderData=function(t,e,i,n){var r=this._sums[i],a=this.startAngle+180,o=this.innerRadius,h=this.offset;if(o>1&&(o=1),r>0){var l=a*Math.PI/180,u=e.left+.5*e.width,c=e.top+.5*e.height,_=Math.min(.5*e.width,.5*e.height);this._centers[i]=new s.Point(u,c);var p=Math.max(h,this.selectedItemOffset);p>0&&(h*=_/=1+p),this._radius=_;var d=o*_;this._renderPie(t,i,_,d,l,h)}},e.prototype._renderPie=function(t,e,i,n,r,s){this._renderSlices(t,this._values[e],this._sums[e],e,i,n,r,2*Math.PI,s)},e.prototype._getCenter=function(){return this._centers[0]},e.prototype._renderSlices=function(t,e,i,n,r,s,a,o,h){for(var l,u,c,_=e.length,p=0,d=a,f=1==this.reversed,g=this._centers[n],m=0;m<_;m++)e[m]>0&&p++;var y=1===p?360:359.9/360;for(m=0;m<_;m++){u=g.x,c=g.y,l=t.startGroup("wj-slice"),t.fill=this._getColorLight(m),t.stroke=this._getColor(m);var b=Math.abs(e[m]),v=Math.abs(b-i)<1e-10?o:o*b/i;v=Math.min(v,o*y);var x=f?d-.5*v:d+.5*v;h>0&&v<o&&(u+=h*Math.cos(x),c+=h*Math.sin(x)),this._renderSlice(t,u,c,x,n,m,r,s,d,v,o),f?d-=v:d+=v,t.endGroup(),this._pels.push(l)}},e.prototype._renderSlice=function(t,e,i,n,r,a,o,h,l,u,c){var _=this,p=!!this.reversed;if(this._angles.push(n),this.itemFormatter){var d=new $(this,new s.Point(e+o*Math.cos(n),i+o*Math.sin(n)),H.SeriesSymbol);d._setData(null,a),this.itemFormatter(t,d,(function(){_._drawSlice(t,r,a,p,e,i,o,h,l,u)})),t.cssPriority=!0}else this._drawSlice(t,r,a,p,e,i,o,h,l,u)},e.prototype._getSelectedItemOffset=function(t,e){var i=0,n=0,r=0;return t==this._selectedIndex&&this.selectedItemOffset>0&&(r=this.selectedItemOffset),r>0&&(i=Math.cos(e)*r*this._radius,n=Math.sin(e)*r*this._radius),{x:i,y:n}},e.prototype._renderInnerText=function(t){for(var i=this.innerText,n=this.innerTextStyle,r=0;r<this._centers.length;r++){var a=this._centers[r],o=void 0;(o=(0,s.isFunction)(i)?i(r):(0,s.isArray)(i)?(0,s.asString)(i[r]):(0,s.asString)(i))&&(o=(0,s.format)(o,{total:this._sums[r],binding:this._getBindings()[r]}),n&&(t.cssPriority=!1),e._renderText(t,o,a,1,1,C._CSS_TITLE,null,n),t.cssPriority=!0)}},e.prototype._renderLabels=function(t){var e=this._areas.length,i=this.dataLabel,n=i.position,r="wj-data-label",a=this._rotationAngles,o=i.connectingLine,h=i.offset?i.offset:0;t.stroke="null",t.fill="transparent",t.strokeWidth=1,t.startGroup("wj-data-labels");for(var l=0;l<e;l++){var u=this._areas[l];if(u){var c=u.radius,_=u.langle+a[u.gi],p=1,d=1;n==T.Center||n===T.Radial||n===T.Circular?c*=.5*(1+(u.innerRadius||0)/u.radius):((_=ot.clampAngle(_))<=-170||_>=170?(p=2,d=1):_>=-100&&_<=-80?(p=1,d=2):_>=-10&&_<=10?(p=0,d=1):_>=80&&_<=100?(p=1,d=0):-180<_&&_<-90?(p=2,d=2):-90<=_&&_<0?(p=0,d=2):0<_&&_<90?(p=0,d=0):90<_&&_<180&&(p=2,d=0),n==T.Inside&&(p=2-p,d=2-d)),_*=Math.PI/180;var f=u.gi?l-u.gi*this._values[0].length:l,g=this._getSelectedItemOffset(f,_),m=g.x,y=g.y,b=c;n==T.Outside?b+=h:n==T.Inside&&(b-=h);var v=u.center.x,x=u.center.y,w=this._centers[u.gi],S=v-w.x,P=x-w.y;if(0!=this._rotationAngles[u.gi]){var M=Math.sqrt(S*S+P*P),N=Math.atan2(P,S)+this._rotationAngles[u.gi]*Math.PI/180;v=w.x+M*Math.cos(N),x=w.y+M*Math.sin(N)}var A=new s.Point(v+m+b*Math.cos(_),x+y+b*Math.sin(_));i.border&&n!=T.Center&&(0==p?A.x+=2:2==p&&(A.x-=2),0==d?A.y+=2:2==d&&(A.y-=2));var L=new $(this,A);L._setDataGroup(u.gi,u.tag);var E=this._getLabelContent(L,i.content),I=new D(t,L,A,E);if(i.onRendering&&(i.onRendering(I)?(E=I.text,A=I.point):E=null),E){var k,O=180*Math.atan2(x-A.y,v-A.x)/Math.PI;if(O=(O+360)%360,n===T.Radial||n===T.Circular?(n===T.Radial?O>90&&O<270&&(O+=180):(O>180&&O<360&&(O+=180),O-=90),(k=C._renderRotatedText(t,E,A,p,d,A,O,r).getBBox()).left=k.x,k.top=k.y):k=C._renderText(t,E,A,p,d,r),i.border&&t.drawRect(k.left-2,k.top-2,k.width+4,k.height+4,"wj-data-label-border"),o){var R=new s.Point(v+m+c*Math.cos(_),x+y+c*Math.sin(_));t.drawLine(A.x,A.y,R.x,R.y,"wj-data-label-line")}}t.cssPriority=!0}}t.endGroup()},e.prototype._drawSlice=function(t,e,i,n,r,a,o,h,l,u){var c;n?h>0?(0!=u&&t.drawDonutSegment(r,a,o,h,l-u,u),(c=new lt(new s.Point(r,a),o,h,l-u,u,this.startAngle)).tag=i,this._areas.push(c)):(0!=u&&t.drawPieSegment(r,a,o,l-u,u),(c=new ht(new s.Point(r,a),o,l-u,u,this.startAngle)).tag=i,this._areas.push(c)):(h>0?(0!=u&&t.drawDonutSegment(r,a,o,h,l,u),(c=new lt(new s.Point(r,a),o,h,l,u,this.startAngle)).tag=i,this._areas.push(c)):(0!=u&&t.drawPieSegment(r,a,o,l,u),(c=new ht(new s.Point(r,a),o,l,u,this.startAngle)).tag=i,this._areas.push(c)),l+=u),c&&(c.gi=e)},e.prototype._measureLegendItem=function(t,e){var i=new s.Size;if(i.width=st._LEGEND_ITEM_WIDTH,i.height=st._LEGEND_ITEM_HEIGHT,e){var n=t.measureString(e,C._CSS_LABEL,C._CSS_LEGEND);i.width+=n.width,i.height<n.height&&(i.height=n.height)}return i.width+=3*st._LEGEND_ITEM_MARGIN,i.height+=2*st._LEGEND_ITEM_MARGIN,i},e.prototype._drawLegendItem=function(t,e,i,n){t.strokeWidth=1;var r=st._LEGEND_ITEM_MARGIN,a=null,o=null;null===a&&(a=this._getColorLight(i)),null===o&&(o=this._getColor(i)),t.fill=a,t.stroke=o;var h=e.top+.5*e.height,l=st._LEGEND_ITEM_WIDTH,u=st._LEGEND_ITEM_HEIGHT;t.drawRect(e.left+r,h-.5*u,l,u,null),null!=n&&C._renderText(t,n.toString(),new s.Point(e.left+u+2*r,h),0,1,C._CSS_LABEL)},e.prototype._getLabelContent=function(t,e){return(0,s.isString)(e)?this._keywords.replace(e,t):(0,s.isFunction)(e)?e(t):null},e.prototype._select=function(t,e){if(void 0===e&&(e=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=t,this.selectionMode==d.Point){var i=this._cv;i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(t),this._notifyCurrentChanged=!0)}null==t?(this._selectedIndex=-1,this.invalidate()):this.isAnimated&&this.selectedItemPosition!=f.None||!(this.selectedItemOffset>0||this.selectedItemPosition!=f.None)?this._highlight(!0,this._selectionIndex,e):(this._selectedIndex=t,this.invalidate()),this.onSelectionChanged()},e.prototype._highlightCurrent=function(){if(this.selectionMode!=d.None){var t=-1,e=this._cv;e&&(t=e.currentPosition),this._highlight(!0,t)}},e.prototype._highlight=function(t,e,i){if(void 0===i&&(i=!1),this.selectionMode==d.Point&&null!=e&&e>=0)if(t){for(var n=[],r=0;r<this._pieGroups.length;r++){if(_=this._pels[e+r*this._values[0].length]){_.parentNode.appendChild(_);var s=this._find(_,["ellipse"]);this._highlightItems(this._find(_,["path","ellipse"]),C._CSS_SELECTION,t)}var a=this._angles[e+r*this._values[0].length];if(this.selectedItemPosition!=f.None&&0!=a){var o=0;this.selectedItemPosition==f.Left?o=180:this.selectedItemPosition==f.Top?o=-90:this.selectedItemPosition==f.Bottom&&(o=90);var h=o*Math.PI/180-a;h*=180/Math.PI,i&&this.isAnimated?n.push(h):(this._rotationAngles[r]=h,this._pieGroups[r].transform.baseVal.getItem(0).setRotate(h,this._centers[r].x,this._centers[r].y))}var l=this.selectedItemOffset;if(l>0&&s&&0==s.length){var u=this._selectedOffset.x=Math.cos(a)*l*this._radius,c=this._selectedOffset.y=Math.sin(a)*l*this._radius;_&&_.setAttribute("transform","translate("+u.toFixed()+","+c.toFixed()+")")}this._selectedIndex=e}n.length>0&&this._animateSelectionAngle(n,.5)}else{for(r=0;r<this._pieGroups.length;r++){var _;(_=this._pels[e+r*this._values[0].length])&&(_.parentNode.insertBefore(_,_.parentNode.childNodes.item(e)),_.removeAttribute("transform"),this._highlightItems(this._find(_,["path","ellipse"]),C._CSS_SELECTION,t))}this._selectedIndex==e&&(this._selectedIndex=-1)}},e.prototype._animateSelectionAngle=function(t,e){var i=this,n=i._pieGroups;i._selectionAnimationID&&clearInterval(this._selectionAnimationID),this._selectionAnimationID=(0,s.animate)((function(e){if(n==i._pieGroups){for(var r=0;r<n.length;r++){var s=ot.clampAngle(i._rotationAngles[r]),a=ot.clampAngle(t[r])-s,o=s;i._rotationAngles[r]=s=o+a*e,n[r].transform.baseVal.getItem(0).setRotate(s,i._centers[r].x,i._centers[r].y)}1==e&&clearInterval(i._selectionAnimationID),e>.99&&(i.selectedItemOffset>0||i.selectedItemPosition!=f.None)&&i.invalidate()}}),1e3*e)},e.prototype._getHitTestItem=function(t){var e,i=null;return(e=null!=this._cv?this._cv.items:this.itemsSource)&&t<e.length&&(i=e[t]),i},e.prototype._getHitTestValue=function(t,e){return null==e&&(e=0),this._values[e][t]},e.prototype._getHitTestLabel=function(t){return this._labels[t]},e._MARGIN=4,e._CSS_GROUP_TITLE="wj-label",e}(C),ot=function(){function t(){}return t.clampAngle=function(t,e){void 0===e&&(e=0);var i=(t+180)%360-180;return i<-180+(e<0?e+360:e)&&(i+=360),i},t}(),ht=function(){function t(t,e,i,n,r){void 0===r&&(r=0),this._isFull=!1,this._center=t,this._radius=e,this._originAngle=i,this._originSweep=n,n>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*n*180/Math.PI,this._angle=ot.clampAngle(180*i/Math.PI+this._sweep),this._radius2=e*e,this._startAngle=r}return t.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y;if(e*e+i*i<=this._radius2){var n=180*Math.atan2(i,e)/Math.PI,r=ot.clampAngle(this._angle,this._startAngle)-ot.clampAngle(n,this._startAngle);if(this._isFull||Math.abs(r)<=this._sweep)return!0}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0;var e=t.x-this._center.x,i=t.y-this._center.y,n=e*e+i*i,r=180*Math.atan2(i,e)/Math.PI,s=ot.clampAngle(this._angle,this._startAngle)-ot.clampAngle(r,this._startAngle);return this._isFull||Math.abs(s)<=this._sweep?Math.sqrt(n)-this._radius:void 0},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),t}(),lt=function(){function t(t,e,i,n,r,s){void 0===s&&(s=0),this._isFull=!1,this._center=t,this._radius=e,this._iradius=i,this._originAngle=n,this._originSweep=r,r>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*r*180/Math.PI,this._angle=ot.clampAngle(180*n/Math.PI+this._sweep),this._radius2=e*e,this._iradius2=i*i,this._startAngle=s}return t.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y,n=e*e+i*i;if(n>=this._iradius2&&n<=this._radius2){var r=180*Math.atan2(i,e)/Math.PI,s=ot.clampAngle(this._angle,this._startAngle)-ot.clampAngle(r,this._startAngle);if(this._isFull||Math.abs(s)<=this._sweep)return!0}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),t}(),ut=function(){function t(){this._DEFAULT_WIDTH=2,this._DEFAULT_SYM_SIZE=10,this.clipping=!0}return t.prototype.clear=function(){this.seriesCount=0,this.seriesIndex=0},t.prototype._renderLabels=function(t,e,i,n,r){var a=i.length,o=n.dataLabel,h=o.border,l=o.offset,u=o.connectingLine;void 0===l&&(l=u?16:0),h&&(l-=2);for(var c=0;c<a;c++){var _=i[c],p=(0,s.asType)(_.tag,G,!0);p&&!_.ignoreLabel&&this._renderLabel(t,_,p,n,o,e,l,r)}},t.prototype._renderLabel=function(t,e,i,n,r,s,a,o){var h=null==r.position?M.Top:r.position,l=r.border,u=r.connectingLine,c=new $(n,p);c._setDataPoint(i);var _=n._getLabelContent(c,r.content),p=this._getLabelPoint(s,i);if(this._getPointAndPosition(p,h,e,n),n._plotRect.contains(p)){var d=new D(t,c,p,_);if(r.onRendering&&(r.onRendering(d)?(_=d.text,p=d.point):_=null),_){var f=this._renderLabelAndBorder(t,_,h,a,p,u,2,l);if(f){var g=new W(f);g.tag=i,o.push(g)}}t.cssPriority=!0}},t.prototype._getPointAndPosition=function(t,e,i,n){if(i instanceof W){var r=i;n._isRotated()?t.y=r.rect.top+.5*r.rect.height:t.x=r.rect.left+.5*r.rect.width}},t.prototype._getLabelPoint=function(t,e){var i=t._getAxisX(),n=t._getAxisY();return new s.Point(i.convert(e.dataX),n.convert(e.dataY))},t.prototype._renderLabelAndBorder=function(t,e,i,n,r,s,a,o){var h,l="wj-data-label",u="wj-data-label-line",c=dt._CSS_DATA_LABELS;switch(i){case M.Top:s&&t.drawLine(r.x,r.y,r.x,r.y-n,u),r.y-=a+n,h=dt._renderText(t,e,r,1,2,l,c);break;case M.Bottom:s&&t.drawLine(r.x,r.y,r.x,r.y+n,u),r.y+=a+n,h=dt._renderText(t,e,r,1,0,l,c);break;case M.Left:s&&t.drawLine(r.x,r.y,r.x-n,r.y,u),r.x-=a+n,h=dt._renderText(t,e,r,2,1,l,c);break;case M.Right:s&&t.drawLine(r.x,r.y,r.x+n,r.y,u),r.x+=a+n,h=dt._renderText(t,e,r,0,1,l,c);break;case M.Center:h=dt._renderText(t,e,r,1,1,l,c)}return o&&h&&t.drawRect(h.left-a,h.top-a,h.width+2*a,h.height+2*a,"wj-data-label-border"),h},t.prototype.getOption=function(t,e){var i=this.chart._options;if(e&&(i=i?i[e]:null),i&&!(0,s.isUndefined)(i[t])&&null!==i[t])return i[t]},t.prototype.getNumOption=function(t,e){var i=this.chart._options;if(e&&(i=i?i[e]:null),i&&i[t])return(0,s.asNumber)(i[t],!0)},t.prototype.getItemFormatter=function(t){if(t instanceof rt){var e=t;return e.itemFormatter?e.itemFormatter:this.chart.itemFormatter}return this.chart.itemFormatter},t.cloneStyle=function(t,e){if(!t)return t;var i={};for(var n in t)e&&e.indexOf(n)>=0||(i[n]=t[n]);return i},t.prototype.isValid=function(t,e,i,n){return isFinite(t)&&isFinite(e)&&dt._contains(this.chart._plotRect,new s.Point(t,e))},t.prototype.load=function(){},t.prototype.unload=function(){},t.prototype._createSteps=function(t,e,i){var n=this.getOption("position","step"),r=i||t.length,s=[],a=[],o=this.chart._isRotated();if("center"==n)if(o)for(var h=0;h<r;h++){var l=0==h?e[h+1]-e[h]:e[h]-e[h-1],u=h==r-1?e[h]-e[h-1]:e[h+1]-e[h];s.push(t[h]),a.push(e[h]-.5*l),s.push(t[h]),a.push(e[h]+.5*u)}else for(h=0;h<r;h++){var c=0==h?t[h+1]-t[h]:t[h]-t[h-1],_=h==r-1?t[h]-t[h-1]:t[h+1]-t[h];s.push(t[h]-.5*c),a.push(e[h]),s.push(t[h]+.5*_),a.push(e[h])}else if("end"==n)for(h=0;h<r;h++)h>0&&(o?(s.push(t[h]),a.push(e[h-1])):(s.push(t[h-1]),a.push(e[h]))),s.push(t[h]),a.push(e[h]);else for(h=0;h<r;h++)s.push(t[h]),a.push(e[h]),h<r-1&&(o?(s.push(t[h]),a.push(e[h+1])):(s.push(t[h+1]),a.push(e[h])));return{x:s,y:a}},t}();!function(t){t[t.Column=0]="Column",t[t.Bar=1]="Bar",t[t.Scatter=2]="Scatter",t[t.Line=3]="Line",t[t.LineSymbols=4]="LineSymbols",t[t.Area=5]="Area",t[t.Bubble=6]="Bubble",t[t.Candlestick=7]="Candlestick",t[t.HighLowOpenClose=8]="HighLowOpenClose",t[t.Spline=9]="Spline",t[t.SplineSymbols=10]="SplineSymbols",t[t.SplineArea=11]="SplineArea",t[t.Funnel=12]="Funnel",t[t.Step=13]="Step",t[t.StepSymbols=14]="StepSymbols",t[t.StepArea=15]="StepArea"}(tt||(tt={})),function(t){t[t.None=0]="None",t[t.Stacked=1]="Stacked",t[t.Stacked100pc=2]="Stacked100pc"}(et||(et={}));var ct,_t,pt,dt=function(t){function e(i,n){var r=t.call(this,i,null,!0)||this;r._series=new s.ObservableArray,r._axes=new X,r._pareas=new _,r._interpolateNulls=!1,r._legendToggle=!1,r._symbolSize=10,r._dataInfo=new gt,r.__barPlotter=null,r.__linePlotter=null,r.__areaPlotter=null,r.__bubblePlotter=null,r.__financePlotter=null,r.__funnelPlotter=null,r._plotters=[],r._rotated=!1,r._stacking=et.None,r._xlabels=[],r._xvals=[],r._lblAreas=[],r._colRowLens=[],r._selectedEls=[],r._markers=[],r._bindingSeparator=",",r.seriesVisibilityChanged=new s.Event,r.applyTemplate("wj-control wj-flexchart",null,null);var a=r;return a._series.collectionChanged.addHandler((function(){for(var t=a._series,e=0;e<t.length;e++){var i=(0,s.tryCast)(t[e],rt);if(!i)throw"chartSeries array must contain SeriesBase objects.";i._chart=a,i.axisX&&null==i.axisX._chart&&(i.axisX._chart=a,a.axes.push(i.axisX)),i.axisY&&null==i.axisY._chart&&(i.axisY._chart=a,a.axes.push(i.axisY))}a.invalidate()})),r._currentRenderEngine=new y(r.hostElement),r._hitTester=new Z(r),r._legend=new x(r),r._tooltip=new L,r._tooltip.showDelay=0,r._lbl=new R,r._lbl._chart=r,r._initAxes(),a._axes.collectionChanged.addHandler((function(){for(var t=a._axes,e=0;e<t.length;e++){var i=(0,s.tryCast)(t[e],V);if(!i)throw"axes array must contain Axis objects.";i._chart=a}a.invalidate()})),a._pareas.collectionChanged.addHandler((function(){for(var t=a._pareas,e=0;e<t.length;e++){var i=(0,s.tryCast)(t[e],c);if(!i)throw"plotAreas array must contain PlotArea objects.";i._chart=a}a.invalidate()})),r._keywords=new N,r.hostElement.addEventListener("click",(function(t){var e=a._tooltip;e.content&&a.isTouching&&a._updateTooltip(e,t)})),r.hostElement.addEventListener("mousemove",(function(t){var e=a._tooltip;e.content&&!a.isTouching&&a._updateTooltip(e,t)})),r.hostElement.addEventListener("mouseleave",(function(t){a._hideToolTip()})),r.hostElement.addEventListener("click",(function(t){if(a.selectionMode!=d.None){var i=a._hitTestData(t),n=e._SELECTION_THRESHOLD;a.tooltip&&a.tooltip.threshold&&(n=a.tooltip.threshold),i.distance<=n&&i.series?a._select(i.series,i.pointIndex):a.selectionMode==d.Series&&(i=a.hitTest(t)).chartElement==H.Legend&&i.series?a._select(i.series,null):a._select(null,null)}!0===a.legendToggle&&(i=a.hitTest(t)).chartElement==H.Legend&&i.series&&(i.series.visibility==J.Legend?i.series.visibility=J.Visible:i.series.visibility==J.Visible&&(i.series.visibility=J.Legend),a.focus())})),r.deferUpdate((function(){return r.initialize(n)})),r}return o(e,t),e.prototype.initialize=function(e){if(e&&e.renderEngine){var i=(0,s.asType)(this._currentRenderEngine,y,!0);i&&i.detach(),this._currentRenderEngine=null}t.prototype.initialize.call(this,e)},e.prototype._initAxes=function(){this._axisX=new V(f.Bottom),this._axisY=new V(f.Left),this._axisX.majorGrid=!1,this._axisX.name="axisX",this._axisY.majorGrid=!0,this._axisY.majorTickMarks=k.None,this._axisY.name="axisY",this._axisX._chart=this,this._axisY._chart=this,this._axes.push(this._axisX),this._axes.push(this._axisY)},Object.defineProperty(e.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){var e=this._axisX=(0,s.asType)(t,V);this.beginUpdate(),e&&(void 0===e.majorGrid&&(e.majorGrid=!1),void 0===e.name&&(e.name="axisX"),null==e.position&&(e.position=f.Bottom),e._axisType=E.X,e._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){var e=this._axisY=(0,s.asType)(t,V);this.beginUpdate(),e&&(void 0===e.majorGrid&&(e.majorGrid=!0),void 0===e.name&&(e.name="axisY"),void 0===e.majorTickMarks&&(e.majorTickMarks=k.None),null==e.position&&(e.position=f.Left),e._axisType=E.Y,e._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=(0,s.asString)(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=(0,s.asString)(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=(0,s.asNumber)(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=(0,s.asBoolean)(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=(0,s.asBoolean)(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(t){t!=this._lbl&&(this._lbl=(0,s.asType)(t,R),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(t){t!=this._selection&&(this._selection=(0,s.asType)(t,rt,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEngine",{get:function(){return this._currentRenderEngine},set:function(t){if(t!=this._currentRenderEngine){var e=(0,s.asType)(this._currentRenderEngine,y,!0);e&&e.detach(),this._currentRenderEngine=t;var i=(0,s.asType)(this._currentRenderEngine,y,!0);i&&i.attach(this.hostElement),this.refresh()}},enumerable:!0,configurable:!0}),e.prototype.onSeriesVisibilityChanged=function(t){this.seriesVisibilityChanged.raise(this,t)},e.prototype.hitTest=function(t,i){var n=this._toControl(t,i),r=new $(this,n),s=null;if(e._contains(this._rectHeader,n))r._chartElement=H.Header;else if(e._contains(this._rectFooter,n))r._chartElement=H.Footer;else if(e._contains(this._rectLegend,n))r._chartElement=H.Legend,null!==(s=this.legend._hitTest(n))&&s>=0&&s<this.series.length&&(this._getChartType()===tt.Bar?r._setData(this.series[this.series.length-1-s]):r._setData(this.series[s]));else if(e._contains(this._rectChart,n)){var a=this._hitTestLabels(n);if(a)r._chartElement=H.DataLabel,r._dist=0,r._setDataPoint(a.tag);else{for(var o=this._hitTester.hitTest(n),h=null,l=null,u=this.series.length-1;u>=0;u--)if(this.series[u].hitTest!==st.prototype.hitTest){var c=this.series[u].hitTest(t);if(c&&((!h||c.distance<h.distance)&&(h=c,l=u),0===c.distance))break}o&&o.area?h&&h.distance<o.distance||h&&h.distance==o.distance&&l>o.area.tag.seriesIndex?r=h:(r._setDataPoint(o.area.tag),r._dist=o.distance):h&&(r=h);var _=!1;this.axes.some((function(t){if(e._contains(t._axrect,n))return t.axisType===E.X?r._chartElement=H.AxisX:r._chartElement=H.AxisY,_=!0,!0})),_||(e._contains(this._plotRect,n)?r._chartElement=H.PlotArea:e._contains(this._rectChart,n)&&(r._chartElement=H.ChartArea))}}else r._chartElement=H.None;return r},e.prototype.pointToData=function(t,e){return(0,s.isNumber)(t)&&(0,s.isNumber)(e)&&(t=new s.Point(t,e)),t instanceof MouseEvent?(t=new s.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},e.prototype.dataToPoint=function(t,e){(0,s.isNumber)(t)&&(0,s.isNumber)(e)&&(t=new s.Point(t,e)),(0,s.asType)(t,s.Point);var i=t.clone();return i.x=this.axisX.convert(i.x),i.y=this.axisY.convert(i.y),i},e.prototype.dispose=function(){this._markers.forEach((function(t){return t.remove()})),this._markers=[],t.prototype.dispose.call(this)},e.prototype._copy=function(t,e){if("series"==t){this.series.clear();for(var i=(0,s.asArray)(e),n=0;n<i.length;n++){var r=this._createSeries();(0,s.copy)(r,i[n]),this.series.push(r)}return!0}return!1},e.prototype._createSeries=function(){return new st},e.prototype._clearCachedValues=function(){for(var t=0;t<this._series.length;t++){var e=this._series[t];null==e.itemsSource&&e._clearValues()}},e.prototype._performBind=function(){if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv){var t=this._cv.items;if(t){for(var e=t.length,i=this.bindingX?new s.Binding(this.bindingX):null,n=0;n<e;n++){var r=t[n];if(i){var a=i.getValue(r);(0,s.isNumber)(a)?(this._xvals.push((0,s.asNumber)(a)),this._xDataType=s.DataType.Number):(0,s.isDate)(a)&&(this._xvals.push((0,s.asDate)(a).valueOf()),this._xDataType=s.DataType.Date),this._xlabels.push(a)}}this._xvals.length==e?this._xlabels.splice(0):this._xvals.splice(0)}}},e.prototype._hitTestSeries=function(t,e){var i=this._toControl(t),n=new $(this,i),r=this._hitTester.hitTestSeries(i,e);return r&&r.area&&(n._setDataPoint(r.area.tag),n._chartElement=H.PlotArea,n._dist=r.distance),n},e.prototype._hitTestData=function(t){var e=this._toControl(t),i=new $(this,e),n=this._hitTester.hitTest(e,!0);return n&&n.area&&(i._setDataPoint(n.area.tag),i._dist=n.distance),i},e.prototype._hitTestLabels=function(t){for(var e=null,i=this._lblAreas.length,n=0;n<i;n++)if(this._lblAreas[n].contains(t)){e=this._lblAreas[n];break}return e},e._dist2=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},e._dist=function(t,i,n){return Math.sqrt(e._distToSegmentSquared(t,i,n))},e._distToSegmentSquared=function(t,i,n){var r=e._dist2(i,n);if(0==r)return e._dist2(t,i);var a=((t.x-i.x)*(n.x-i.x)+(t.y-i.y)*(n.y-i.y))/r;return a<0?e._dist2(t,i):a>1?e._dist2(t,n):e._dist2(t,new s.Point(i.x+a*(n.x-i.x),i.y+a*(n.y-i.y)))},e.prototype._isRotated=function(){return this._getChartType()==tt.Bar?!this._rotated:this._rotated},e.prototype._getChartType=function(){return null},e.prototype._prepareRender=function(){this._hitTester.clear()},e.prototype._renderChart=function(t,i,n){var r=this._rectChart.clone(),a=new s.Size(r.width,r.height);i.width,i.height,this._selectedEls.length=0,(y=this._getPlotter(null)).stacking=this._stacking,this._curPlotter!=y&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=y),y.load();var o=this._isRotated();this._dataInfo.analyse(this._series,o,y.stacking,this._xvals.length>0?this._xvals:null,this.axisX._getLogBase()>0,this.axisY._getLogBase()>0);var h=y.adjustLimits(this._dataInfo,i.clone());if(o){var l=this._dataInfo.getDataTypeX();l||(l=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),h.left,h.right),this.axisY._updateActualLimits(l,h.top,h.bottom,this._xlabels,this._xvals)}else{var u=this._dataInfo.getDataTypeX();u||(u=this._xDataType),this.axisX._updateActualLimits(u,h.left,h.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),h.top,h.bottom)}var c=this._getAxes();if(this._updateAuxAxes(c,o),this._layout(i,a,t),t.startGroup(e._CSS_PLOT_AREA),t.fill="transparent",t.stroke=null,this.plotAreas.length>0)for(var _=0;_<this.plotAreas.length;_++)this.plotAreas[_]._render(t);else{var p=this._plotRect;t.drawRect(p.left,p.top,p.width,p.height)}t.endGroup();var d=this._series.length;this._clearPlotters();var f={};for(_=0;_<d;_++){var g=this._series[_];if(((P=g.visibility)==J.Visible||P==J.Plot)&&g.getValues(0)){var m=g._getAxisY(),y=this._getPlotter(g);if(!m||m==this.axisY||y instanceof bt)y.seriesCount++;else{var b=m._uniqueId;f[b]?f[b].count+=1:f[b]={count:1,index:0}}}}if(this.onRendering(new S(t)),this._getChartType()!==tt.Funnel)for(_=0;_<c.length;_++){var v=c[_];w=v.axisType==E.X?t.startGroup(e._CSS_AXIS_X,this._chartRectId):t.startGroup(e._CSS_AXIS_Y,this._chartRectId),v._hostElement=n?w:v._hostElement,v._render(t),t.endGroup()}for(t.startGroup("wj-series-group"),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),t.addClipRect(this._plotRect,this._plotrectId),_=0;_<d;_++){var x=this._series[_];x._pointIndexes=[],y=this._getPlotter(x),x._plotter=y;var w=t.startGroup(x.cssClass,y.clipping?this._plotrectId:null);x._hostElement=n?w:x._hostElement;var P=x.visibility,T=x.axisX,C=x.axisY;if(T||(T=this.axisX),C||(C=this.axisY),P==J.Visible||P==J.Plot){var N,A,L=f[C._uniqueId];!L||y instanceof bt?(N=y.seriesIndex,A=y.seriesCount,y.seriesIndex++,x.onRendering(t,N,A)||y.plotSeries(t,T,C,x,this,N,A)):(N=L.index,A=L.count,L.index++,x.onRendering(t,N,A)||y.plotSeries(t,T,C,x,this,N,A)),x.onRendered(t)}t.endGroup()}t.endGroup(),this._lblAreas=[],this.dataLabel.content&&this.dataLabel.position!=M.None&&this._renderLabels(t),this._highlightCurrent(),this.onRendered(new S(t))},e.prototype._getDesiredLegendSize=function(t,e,i,n){var r=new s.Size,a=this.series,o=a.length,h=0,l=0;this._colRowLens=[];for(var u=0;u<o;u++){var c=(0,s.tryCast)(a[u],rt),_=c.visibility;if(c.name&&_!=J.Hidden&&_!=J.Plot)for(var p=c.legendItemLength(),d=0;d<p;d++){var f=c.measureLegendItem(t,d);e?(h+f.height>n&&(r.height=n,this._colRowLens.push(l),l=0,h=0),l<f.width&&(l=f.width),h+=f.height):(l+f.width>i&&(r.width=i,this._colRowLens.push(h),h=0,l=0),h<f.height&&(h=f.height),l+=f.width)}}return e?(r.height<h&&(r.height=h),this._colRowLens.push(l),r.width=this._colRowLens.reduce((function(t,e){return t+e}),0),r.width=this._getLegendSize(i,r.width)):(r.width<l&&(r.width=l),this._colRowLens.push(h),r.height=this._colRowLens.reduce((function(t,e){return t+e}),0),r.height=this._getLegendSize(n,r.height)),r},e.prototype._renderLegend=function(t,e,i,n,r,a){var o,h=this.series,l=h.length,u=e.clone(),c=0;if(this._legendReversed())for(var _=l-1;_>=0;_--)o=(0,s.tryCast)(h[_],rt),c=this._renderLegendElements(t,o,e,u,i,n,r,a,c);else for(_=0;_<l;_++)o=(0,s.tryCast)(h[_],rt),c=this._renderLegendElements(t,o,e,u,i,n,r,a,c)},e.prototype._legendReversed=function(){var t=!1,e=this._getChartType();return(e===tt.Bar||e===tt.Column&&this._rotated)&&(this._stacking!==et.None||this.axisY.reversed||(t=!0)),t},e.prototype._renderLegendElements=function(t,e,i,n,r,a,o,h,l){var u=this._rectLegend,c=l;if(!e)return c;var _=e.visibility;if(!e.name||_==J.Hidden||_==J.Plot)return e._legendElement=null,r.push(null),c;var p=e.legendItemLength(),d=t.startGroup(e.cssClass);_==J.Legend?(d.setAttribute("opacity","0.5"),e._legendElement=d):_==J.Visible?e._legendElement=d:e._legendElement=null;for(var f=0;f<p;f++){var g=e.measureLegendItem(t,f);a?n.y+g.height>u.top+u.height+1&&(n.x+=this._colRowLens[c],c++,n.y=i.y):n.x+g.width>u.left+u.width+1&&(n.y+=this._colRowLens[c],c++,n.x=i.x);var m=new s.Rect(n.x,n.y,g.width,g.height);_!=J.Legend&&_!=J.Visible||e.drawLegendItem(t,m,f),r.push(m),a?n.y+=g.height:n.x+=g.width}return t.endGroup(),c},e.prototype._renderLabels=function(t){var i=this.series,n=i.length;t.stroke="null",t.fill="transparent",t.strokeWidth=1;var r=e._CSS_DATA_LABELS;t.startGroup(r);for(var s=0;s<n;s++){var a=i[s],o=this._hitTester._map[s];o&&a._renderLabels(t,o,this,this._lblAreas)}t.endGroup()},e.prototype._getAxes=function(){for(var t=[this.axisX,this.axisY],e=this.series.length,i=0;i<e;i++){var n=this.series[i],r=n.axisX;r&&-1===t.indexOf(r)&&t.push(r);var s=n.axisY;s&&-1===t.indexOf(s)&&t.push(s)}return t},e.prototype._clearPlotters=function(){for(var t=this._plotters.length,e=0;e<t;e++)this._plotters[e].clear()},e.prototype._initPlotter=function(t){t.chart=this,t.dataInfo=this._dataInfo,t.hitTester=this._hitTester,this._plotters.push(t)},Object.defineProperty(e.prototype,"_barPlotter",{get:function(){return null===this.__barPlotter&&(this.__barPlotter=new bt,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_linePlotter",{get:function(){return null===this.__linePlotter&&(this.__linePlotter=new Tt,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_areaPlotter",{get:function(){return null===this.__areaPlotter&&(this.__areaPlotter=new yt,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_bubblePlotter",{get:function(){return null===this.__bubblePlotter&&(this.__bubblePlotter=new Ct,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_financePlotter",{get:function(){return null===this.__financePlotter&&(this.__financePlotter=new wt,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_funnelPlotter",{get:function(){return null===this.__funnelPlotter&&(this.__funnelPlotter=new vt,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),e.prototype._getPlotter=function(t){var e,i=this._getChartType(),n=!1;if(t){var r=t._getChartType();null!=r&&r!=i&&(i=r,n=!0)}switch(i){case tt.Column:this._barPlotter.isVolume=!1,this._barPlotter.width=.7,e=this._barPlotter;break;case tt.Bar:this._barPlotter.rotated=!this._rotated,this._barPlotter.isVolume=!1,this._barPlotter.width=.7,e=this._barPlotter;break;case tt.Line:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,e=this._linePlotter;break;case tt.Scatter:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!1,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,e=this._linePlotter;break;case tt.LineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,e=this._linePlotter;break;case tt.Area:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!1,e=this._areaPlotter;break;case tt.Bubble:e=this._bubblePlotter;break;case tt.Candlestick:(s=this._financePlotter).isCandle=!0,s.isEqui=!1,s.isArms=!1,s.isVolume=!1,e=s;break;case tt.HighLowOpenClose:var s;(s=this._financePlotter).isCandle=!1,s.isEqui=!1,s.isArms=!1,s.isVolume=!1,e=s;break;case tt.Spline:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,e=this._linePlotter;break;case tt.SplineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,e=this._linePlotter;break;case tt.SplineArea:this._areaPlotter.isSpline=!0,this._areaPlotter.isStep=!1,e=this._areaPlotter;break;case tt.Funnel:e=this._funnelPlotter;break;case tt.Step:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,e=this._linePlotter;break;case tt.StepSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,e=this._linePlotter;break;case tt.StepArea:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!0,e=this._areaPlotter;break;default:throw"Invalid chart type."}return e.rotated=this._rotated,i==tt.Bar&&(e.rotated=!e.rotated),n&&(e.rotated=this._isRotated()),e},e.prototype._layout=function(t,e,i){this.plotAreas.length>0?this._layoutMultiple(t,e,i):this._layoutSingle(t,e,i)},e.prototype._layoutSingle=function(t,e,i){for(var n=t.width,r=t.height,a=new s.Size(n,.75*r),o=new s.Size(r,.75*n),h=0,l=0,u=n,c=r,_=0,p=0,d=n,g=r,m=this._getAxes(),y=this.axisY._getHeight(i,r),b=0;b<m.length;b++){var v=(N=m[b]).origin,x=N._getPosition();if(N.axisType==E.X){(M=N._getHeight(i,Math.max(10,n-y)))>a.height&&(M=a.height),N._desiredSize=new s.Size(a.width,M);var w=N._hasOrigin=(0,s.isNumber)(v)&&v>this.axisY._getMinNum()&&v<this.axisY._getMaxNum(),S=Math.min(.25*n,N._annoSize.width);if(x==f.Bottom)if(h=Math.max(h,.5*S),u=Math.min(u,n-.5*S),w){var P=this._convertY(v,p,g);g-=Math.max(0,P+M-g)}else g-=M;else x==f.Top&&(h=Math.max(h,.5*S),u=Math.min(u,n-.5*S),w?(P=this._convertY(v,p,g),p+=Math.max(0,p-(P-M))):p+=M)}else if(N.axisType==E.Y){var M;if((M=N===this.axisX?y:N._getHeight(i,r))>o.height&&(M=o.height),N._desiredSize=new s.Size(o.width,M),w=N._hasOrigin=(0,s.isNumber)(v)&&v>this.axisX._getMinNum()&&v<this.axisX._getMaxNum(),x==f.Left)if(N._actualAngle<0?c=Math.min(c,r-N._annoSize.height):N._actualAngle>0?l=Math.max(l,N._annoSize.height):(l=Math.max(l,N._annoSize.height),c=Math.min(c,r-N._annoSize.height)),w){var T=this._convertX(v,_,d);_+=Math.max(0,_-(T-M))}else _+=M;else x==f.Right&&(N._actualAngle>0?c=Math.min(c,r-N._annoSize.height):N._actualAngle<0?l=Math.max(l,N._annoSize.height):(l=Math.max(l,N._annoSize.height),c=Math.min(c,r-N._annoSize.height)),w?(T=this._convertX(v,_,d),d-=Math.max(0,T+M-d)):d-=M)}}var C=this._parseMargin(this.plotMargin);for(h=_=isNaN(C.left)?Math.max(h,_)+t.left:C.left,u=d=isNaN(C.right)?Math.min(u,d)+t.left:e.width-C.right,l=p=isNaN(C.top)?Math.max(l,p)+t.top:C.top,c=g=isNaN(C.bottom)?Math.min(c,g)+t.top:e.height-C.bottom,n=Math.max(1,u-h),r=Math.max(1,c-l),this._plotRect=new s.Rect(h,l,n,r),c<=l&&(g=p+1),i.stroke=null,b=0;b<m.length;b++){var N,A;if(v=(N=m[b]).origin,x=N._getPosition(),N.axisType==E.X)N._hasOrigin?(P=this._convertY(v,this._plotRect.top,this._plotRect.bottom),x==f.Bottom?(A=new s.Rect(h,P,n,N._desiredSize.height),g+=Math.max(0,A.bottom-this._plotRect.bottom)):x==f.Top?(A=new s.Rect(h,P-N._desiredSize.height,n,N._desiredSize.height),p-=Math.max(0,this._plotRect.top-A.top)):A=new s.Rect(h,P,n,1)):x==f.Bottom?(A=new s.Rect(h,g,n,N._desiredSize.height),g+=N._desiredSize.height):x==f.Top?(A=new s.Rect(h,p-N._desiredSize.height,n,N._desiredSize.height),p-=N._desiredSize.height):A=new s.Rect(h,p,n,1),N._layout(A,this._plotRect);else if(N.axisType==E.Y){var L;N._hasOrigin?(T=this._convertX(v,this._plotRect.left,this._plotRect.right),x==f.Left?(L=new s.Rect(T-N._desiredSize.height,l,r,N._desiredSize.height),_-=N._desiredSize.height):x==f.Right?(L=new s.Rect(T,l,r,N._desiredSize.height),d+=N._desiredSize.height):L=new s.Rect(T,l,r,1)):x==f.Left?(L=new s.Rect(_-N._desiredSize.height,l,r,N._desiredSize.height),_-=N._desiredSize.height):x==f.Right?(L=new s.Rect(d,l,r,N._desiredSize.height),d+=N._desiredSize.height):L=new s.Rect(_,l,r,1),N._layout(L,this._plotRect)}}},e.prototype._layoutMultiple=function(t,e,i){for(var n=t.width,r=t.height,a=[],o=[],h=this._getAxes(),l=h.length,u=0;u<l;u++)if((T=h[u])._plotrect=null,T.axisType==E.X){for(var c=T.plotArea?T.plotArea.column:0;a.length<=c;)a.push(new ft);a[c].axes.push(T)}else if(T.axisType==E.Y){for(var _=T.plotArea?T.plotArea.row:0;o.length<=_;)o.push(new ft);o[_].axes.push(T)}for(var p=a.length,d=o.length,g=new s.Size(n,.3*r),m=new s.Size(r,.3*n),y=0,b=0,v=n,x=r,w=0;w<p;w++)for((k=a[w]).right=n,k.bottom=r,u=0;u<k.axes.length;u++){var S=(T=k.axes[u])._getHeight(i,T.axisType==E.X?n:r);S>g.height&&(S=g.height);var P=new s.Size(g.width,S);T._desiredSize=P,0==w&&(k.left=Math.max(k.left,.5*T._annoSize.width)),w==p-1&&(k.right=Math.min(k.right,n-.5*T._annoSize.width)),(V=T._getPosition())==f.Bottom?k.bottom-=P.height:V==f.Top&&(k.top+=P.height)}for(var M=0;M<d;M++)for((k=o[M]).right=n,k.bottom=r,u=0;u<k.axes.length;u++){var T=k.axes[u],C=new s.Size(m.width,T._getHeight(i,T.axisType==E.X?n:r));C.height>m.height&&(C.height=m.height),T._desiredSize=C,0==M&&(k.top=Math.max(k.top,.5*T._annoSize.width)),M==d-1&&(k.bottom=Math.min(k.bottom,r-.5*T._annoSize.width)),(V=T._getPosition())==f.Left?k.left+=C.height:V==f.Right&&(k.right-=C.height)}var N=0,A=0,L=n,I=r;for(w=0;w<p;w++){var k=a[w];N=Math.max(N,k.left),A=Math.max(A,k.top),L=Math.min(L,k.right),I=Math.min(I,k.bottom)}for(M=0;M<d;M++)k=o[M],N=Math.max(N,k.left),A=Math.max(A,k.top),L=Math.min(L,k.right),I=Math.min(I,k.bottom);N=y=Math.max(y,N),L=v=Math.min(v,L),A=b=Math.max(b,A),I=x=Math.min(x,I),this._plotRect=new s.Rect(y,b,v-y,x-b);var D=this._plotRect.clone(),O=y,R=this.plotAreas._calculateWidths(this._plotRect.width,p);for(w=0;w<p;w++){I=x,A=b,k=a[w];var j=R[w];for(u=0;u<k.axes.length;u++){var F,V=(T=k.axes[u])._getPosition(),X=new s.Rect(O,D.top,j,D.height);V==f.Bottom?(F=new s.Rect(O,I,j,T._desiredSize.height),I+=T._desiredSize.height):V==f.Top&&(F=new s.Rect(O,A-T._desiredSize.height,j,T._desiredSize.height),A-=T._desiredSize.height),T._layout(F,X)}for(u=0;u<this.plotAreas.length;u++)(H=this.plotAreas[u]).column==w&&H._setPlotX(O,j);O+=j}var Y=b,B=this.plotAreas._calculateHeights(this._plotRect.height,d);for(M=0;M<d;M++){N=y,L=v,k=o[M];var z=B[M];for(u=0;u<k.axes.length;u++){var G;V=(T=k.axes[u])._getPosition(),X=new s.Rect(D.left,Y,D.width,z),T._plotrect?(X.left=T._plotrect.left,X.width=T._plotrect.width):R&&R.length>0&&(X.width=R[0]),V==f.Left?(G=new s.Rect(N-T._desiredSize.height,Y,z,T._desiredSize.height),N-=T._desiredSize.height):V==f.Right&&(G=new s.Rect(L,Y,z,T._desiredSize.height),L+=T._desiredSize.height),T._layout(G,X)}for(u=0;u<this.plotAreas.length;u++){var H;(H=this.plotAreas[u]).row==M&&H._setPlotY(Y,z)}Y+=z}},e.prototype._convertX=function(t,e,i){var n=this.axisX;return n.reversed?i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())},e.prototype._convertY=function(t,e,i){var n=this.axisY;return n.reversed?e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())},e.prototype._getLabelContent=function(t,e){return(0,s.isString)(e)?this._keywords.replace(e,t):(0,s.isFunction)(e)?e(t):null},e.prototype._select=function(t,e){var i=!1;if(t==this._selection&&e==this._selectionIndex||(i=!0),this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=t,this._selectionIndex=e,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==d.Point){var n=t?t.collectionView:this._cv;n&&(this._notifyCurrentChanged=!1,n.moveCurrentToPosition(t?e:-1),this._notifyCurrentChanged=!0)}i&&this.onSelectionChanged()},e.prototype._highlightCurrent=function(){if(this.selectionMode!=d.None){var t=this._selection,e=-1;if(t){var i=t.collectionView;i||(i=this._cv),i&&(e=i.currentPosition),this._highlight(t,!0,e)}}},e.prototype._highlight=function(t,i,n){if(t=(0,s.asType)(t,rt,!0),this.selectionMode==d.Series){var r=this.series.indexOf(t),a=t.hostElement;i?a.parentNode.appendChild(a):a.parentNode.insertBefore(a,a.parentNode.childNodes.item(r));var o=this._find(a,["rect","ellipse","polyline","polygon","line","path"]);this._highlightItems(o,e._CSS_SELECTION,i),t.legendElement&&this._highlightItems(this._find(t.legendElement,["rect","ellipse","line"]),e._CSS_SELECTION,i)}else if(this.selectionMode==d.Point)if(r=this.series.indexOf(t),a=t.hostElement,i){a.parentNode.appendChild(a);var h=t.getPlotElement(n);if(h)if(h instanceof SVGElement){if("g"!=h.nodeName&&(this._highlightItems([h],e._CSS_SELECTION,i),this._selectedEls.push(h)),(o=this._find(h,["line","rect","ellipse","path","polygon"])).length>0){this._highlightItems(o,e._CSS_SELECTION,i);for(var l=0;l<o.length;l++)this._selectedEls.push(o[l])}}else if(Array.isArray(h))for(this._highlightItems(h,e._CSS_SELECTION,i),l=0;l<h.length;l++)this._selectedEls.push(h[l])}else a.parentNode.insertBefore(a,a.parentNode.childNodes.item(r)),this._selectedEls.length>0&&(this._highlightItems(this._selectedEls,e._CSS_SELECTION,i),this._selectedEls.length=0)},e.prototype._updateTooltip=function(t,e){var i,n=this.hitTest(e);if(n.distance<=t.threshold){var r=t.content;if(n.series){var a=n.series.tooltipContent;(a||""===a)&&(r=a)}i=this._getLabelContent(n,r)}i?this._showToolTip(i,new s.Rect(e.clientX,e.clientY,5,5)):this._hideToolTip()},e.prototype._updateAuxAxes=function(t,e){for(var i=2;i<t.length;i++){var n=t[i];n._chart=this;for(var r,a,o=[],h=0;h<this.series.length;h++){var l=this.series[h];l.axisX!=n&&l.axisY!=n||o.push(l)}for(h=0;h<o.length;h++){var u=o[h].getDataRect()||o[h]._getDataRect();u&&(n.axisType==E.X&&!e||n.axisType==E.Y&&e?((void 0===r||u.left<r)&&(r=u.left),(void 0===a||u.right>a)&&(a=u.right)):((void 0===r||u.top<r)&&(r=u.top),(void 0===a||u.bottom>a)&&(a=u.bottom)))}var c=o[0].getDataType(0);null==c&&(c=s.DataType.Number),t[i]._updateActualLimits(c,r,a)}},e._CSS_AXIS_X="wj-axis-x",e._CSS_AXIS_Y="wj-axis-y",e._CSS_LINE="wj-line",e._CSS_GRIDLINE="wj-gridline",e._CSS_TICK="wj-tick",e._CSS_GRIDLINE_MINOR="wj-gridline-minor",e._CSS_TICK_MINOR="wj-tick-minor",e._CSS_DATA_LABELS="wj-data-labels",e}(C),ft=function(){function t(){this._axes=new Array,this.left=0,this.right=0,this.top=0,this.bottom=0}return Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),t}(),gt=function(){function t(){this.stackAbs={},this._xvals=null}return t.prototype.analyse=function(t,e,i,n,r,a){var o=this;this.minY=NaN,this.maxY=NaN,this.minX=NaN,this.maxX=NaN,this.minXp=NaN,this.minYp=NaN,this.dx=0;var h={},l={},u={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=n,null!=n)for(var c=n.length,_=0;_<c;_++){var p=n[_];if((isNaN(this.minX)||this.minX>p)&&(this.minX=p),(isNaN(this.maxX)||this.maxX<p)&&(this.maxX=p),p>0&&(isNaN(this.minXp)||this.minXp>p)&&(this.minXp=p),_>0){var d=Math.abs(p-n[_-1]);!isNaN(d)&&(d<this.dx||0==this.dx)&&(this.dx=d)}}var f,g,m,y,b,v,x,w,S,P,M,T=function(){if(f=t[_],g=f._getChartType(),m=void 0!==f.chartType,(y=f.visibility)==J.Hidden||y==J.Legend)return"continue";if((b=f.getDataRect())&&(!isNaN(C.minX)&&C.minX<b.left&&(v=b.right,b.left=C.minX,b.width=v-C.minX),!isNaN(C.maxX)&&C.maxX>b.right&&(b.width=C.maxX-b.left),f._isCustomAxisY()||(!isNaN(C.minY)&&C.minY<b.top&&(v=b.bottom,b.top=C.minY,b.height=v-C.minY),!isNaN(C.maxY)&&C.maxY>b.bottom&&(b.height=C.maxY-b.top))),x=null,e?f._isCustomAxisY()||(x=f.getValues(1)):f._isCustomAxisX()||(x=f.getValues(1)),x){C.dataTypeX||(C.dataTypeX=f.getDataType(1));for(var r=0;r<x.length;r++)w=x[r],isFinite(w)&&((isNaN(C.minX)||C.minX>w)&&(C.minX=w),(isNaN(C.maxX)||C.maxX<w)&&(C.maxX=w),r>0&&(!g||g==tt.Column||g==tt.Bar)&&(d=Math.abs(w-x[r-1]),!isNaN(d)&&d>0&&(d<C.dx||0==C.dx)&&(C.dx=d)))}if(S=null,P=!1,e?(P=f._isCustomAxisX(),S=f.getValues(0)):(P=f._isCustomAxisY(),S=f.getValues(0)),S&&(C.dataTypeY||P||(C.dataTypeY=f.getDataType(0)),isNaN(C.minX)?C.minX=0:x||n||(C.minX=Math.min(C.minX,0)),isNaN(C.maxX)?C.maxX=S.length-1:x||n||(C.maxX=Math.max(C.maxX,S.length-1)),!P))for(var a=i==et.None||m,c=function(t){var e=S[t],i=x?(0,s.asNumber)(x[t],!0):n?(0,s.asNumber)(n[t],!0):t;(0,s.isArray)(e)?e.forEach((function(t){o._parseYVal(t,i,a,u,h,l)})):C._parseYVal(e,i,a,u,h,l)},p=0;p<S.length;p++)c(p);(M=f.getDataRect(new s.Rect(C.minX,C.minY,C.maxX-C.minX,C.maxY-C.minY),b))&&(C.minX=M.left,C.maxX=M.right,P||(C.minY=M.top,C.maxY=M.bottom))},C=this;for(_=0;_<t.length;_++)T();if(i==et.Stacked){for(var N in h)h[N]>this.maxY&&(this.maxY=h[N]);for(var N in l)l[N]<this.minY&&(this.minY=l[N])}else if(i==et.Stacked100pc){for(var N in this.minY=0,this.maxY=0,u){var A=u[N];if(isFinite(A)&&0!=A){var L=h[N],E=l[N];isFinite(L)&&(L=Math.max(L/A,this.maxY))>this.maxY&&(this.maxY=L),isFinite(E)&&(E=Math.min(E/A,this.minY))<this.minY&&(this.minY=E)}}this.minY==this.maxY&&(this.minY=0,this.maxY=1)}this.stackAbs=u,r&&(e?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp),a&&(e?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},t.prototype._parseYVal=function(t,e,i,n,r,s){isFinite(t)&&(null!=t&&(isNaN(this.minY)||this.minY>t)&&(this.minY=t),null!=t&&(isNaN(this.maxY)||this.maxY<t)&&(this.maxY=t),t>0&&(isNaN(this.minYp)||this.minYp>t)&&(this.minYp=t),i||(t>0?isNaN(r[e])?r[e]=t:r[e]+=t:isNaN(s[e])?s[e]=t:s[e]+=t,isNaN(n[e])?n[e]=Math.abs(t):n[e]+=Math.abs(t)))},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinXp=function(){return this.minXp},t.prototype.getMinYp=function(){return this.minYp},t.prototype.getDeltaX=function(){return this.dx},t.prototype.getDataTypeX=function(){return this.dataTypeX},t.prototype.getDataTypeY=function(){return this.dataTypeY},t.prototype.getStackedAbsSum=function(t){var e=this.stackAbs[t];return isFinite(e)?e:0},t.prototype.getXVals=function(){return this._xvals},t.isValid=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t.length,n=0;n<i;n++)if(!isFinite(t[n]))return!1;return!0},t}(),mt=function(t){function e(e,i){var n=t.call(this,e,null)||this;return n._chartType=tt.Column,n.initialize(i),n}return o(e,t),e.prototype._getChartType=function(){return this._chartType},Object.defineProperty(e.prototype,"chartType",{get:function(){return this._chartType},set:function(t){(t=(0,s.asEnum)(t,tt))!=this._chartType&&(this._chartType=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=(0,s.asBoolean)(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stacking",{get:function(){return this._stacking},set:function(t){(t=(0,s.asEnum)(t,et))!=this._stacking&&(this._stacking=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(t){t!=this._options&&(this._options=t,this.invalidate())},enumerable:!0,configurable:!0}),e}(dt),yt=function(t){function e(){var e=t.call(this)||this;return e.stacking=et.None,e.isSpline=!1,e.isStep=!1,e.stackPos={},e.stackNeg={},e}return o(e,t),e.prototype.adjustLimits=function(t,e){this.dataInfo=t;for(var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),a=t.getMaxY(),o=0;o<this.chart.series.length;o++){var h=this.chart.series[o];if(this._isRange(h)){var l=h._getChartType();if(!l||l==tt.Area)for(var u=h._getBindingValues(1),c=0;c<u.length;c++)u[c]>a?a=u[c]:u[c]<n&&(n=u[c])}}if(this.isSpline){var _=.1*(a-n);this.chart.axisY._getLogBase()||(n-=_),a+=_}return this.rotated?new s.Rect(n,i,a-n,r-i):new s.Rect(i,n,r-i,a-n)},e.prototype.clear=function(){t.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},e.prototype.plotSeries=function(t,e,i,n,r,a,o,h){var l=n;if(this._isRange(l))this.plotSeriesRanged(t,e,i,n,r,a,o,h);else{var u=[],c=this.chart.series.indexOf(n),_=n.getValues(0),p=n.getValues(1);if(_){var d=_.length;if(d){p||(p=this.dataInfo.getXVals());var f=!0;p?p.length<d&&(d=p.length):(f=!1,p=new Array(d));var g=new Array,m=new Array,y=new Array,b=new Array,v=this.stacking!=et.None&&!l._isCustomAxisY(),x=this.stacking==et.Stacked100pc&&!l._isCustomAxisY();void 0!==l._getChartType()&&(v=x=!1);for(var w=this.rotated,S=!1,P=l.interpolateNulls,M=null,T=null,C=this.chart._plotRect,N=0;N<d;N++){var A=f?p[N]:N,L=_[N];if((null===M||A>M)&&(M=A),(null===T||A<T)&&(T=A),gt.isValid(A,L)){var E=w?i.convert(A):e.convert(A);if(v){x&&(L/=this.dataInfo.getStackedAbsSum(A));var I=0;L>=0?(I=isNaN(this.stackPos[A])?0:this.stackPos[A],L=this.stackPos[A]=I+L):(I=isNaN(this.stackNeg[A])?0:this.stackNeg[A],L=this.stackNeg[A]=I+L),w?(I<e.actualMin&&(I=e.actualMin),y.push(e.convert(I)),b.push(E)):(y.push(E),I<i.actualMin&&(I=i.actualMin),b.push(i.convert(I)))}if(w){var k=e.convert(L);isNaN(E)||isNaN(k)?(S=!0,v||!0===P||(g.push(void 0),m.push(void 0))):(g.push(k),m.push(E),dt._contains(C,new s.Point(k,E))&&((D=new U(new s.Point(k,E),this._DEFAULT_SYM_SIZE)).tag=new G(c,N,L,A),this.hitTester.add(D,c)))}else{var D;if(k=i.convert(L),isNaN(E)||isNaN(k))S=!0,v||!0===P||(g.push(void 0),m.push(void 0));else if(g.push(E),m.push(k),dt._contains(C,new s.Point(E,k)))(D=new U(new s.Point(E,k),this._DEFAULT_SYM_SIZE)).tag=new G(c,N,A,L),this.hitTester.add(D,c)}}else S=!0,v||!0===P||(g.push(void 0),m.push(void 0))}h&&g.forEach((function(t,e){null!=t&&u.push(new s.Point(t,m[e]))}));var O=this._DEFAULT_WIDTH,R=r._getColorLight(c),j=r._getColor(c),F=ut.cloneStyle(n.style,["fill"]),V=ut.cloneStyle(n.style,["stroke"]);if(!v&&!0!==P&&S){var X=[],Y=[];for(N=0;N<d;N++)void 0===g[N]?(X.length>1&&(X=(B=this._modifyPoints(X,Y)).x,Y=B.y,t.stroke=j,t.strokeWidth=O,t.fill="none",t.drawLines(X,Y,null,F),this.hitTester.add(new q(X,Y),c),w?(X.push(e.convert(e.actualMin),e.convert(e.actualMin)),Y.push(i.convert(i.actualMax),i.convert(i.actualMin))):(X.push(X[X.length-1],X[0]),Y.push(i.convert(i.actualMin),i.convert(i.actualMin))),t.fill=R,t.stroke="none",t.drawPolygon(X,Y,null,V,this.chart._plotrectId)),X=[],Y=[]):(X.push(g[N]),Y.push(m[N]));X.length>1&&(X=(B=this._modifyPoints(X,Y)).x,Y=B.y,t.stroke=j,t.strokeWidth=O,t.fill="none",t.drawLines(X,Y,null,F),this.hitTester.add(new q(X,Y),c),w?(X.push(e.convert(e.actualMin),e.convert(e.actualMin)),Y.push(i.convert(i.actualMax),i.convert(i.actualMin))):(X.push(X[X.length-1],X[0]),Y.push(i.convert(i.actualMin),i.convert(i.actualMin))),t.fill=R,t.stroke="none",t.drawPolygon(X,Y,null,V,this.chart._plotrectId))}else{var B;if(g=(B=this._modifyPoints(g,m)).x,m=B.y,v){var z=this._modifyPoints(y,b);y=z.x,b=z.y,g=g.concat(y.reverse()),m=m.concat(b.reverse())}else w?(g.push(e.convert(e.actualMin),e.convert(e.actualMin)),m.push(m[m.length-1],m[0])):(g.push(g[g.length-1],g[0]),m.push(i.convert(i.actualMin),i.convert(i.actualMin)));t.fill=R,t.stroke="none",t.drawPolygon(g,m,null,V,this.chart._plotrectId),v?(g=g.slice(0,g.length-y.length),m=m.slice(0,m.length-b.length)):(g=g.slice(0,g.length-2),m=m.slice(0,m.length-2)),t.stroke=j,t.strokeWidth=O,t.fill="none",t.drawLines(g,m,null,F,this.chart._plotrectId),this.hitTester.add(new q(g,m),c)}this._drawSymbols(t,n,c),h&&u&&u.length&&h(u)}}}},e.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=null==t.binding?null:t.binding.split(e);return null!=i&&2==i.length},e.prototype._modifyPoints=function(t,e){var i={x:t,y:e};if(this.isSpline){var n=this._convertToSpline(t,e);i.x=n.xs,i.y=n.ys}else if(this.isStep){var r=this._createSteps(t,e);i.x=r.x,i.y=r.y}return i},e.prototype.plotSeriesRanged=function(t,e,i,n,r,a,o,h){var l=[],u=this.chart.series.indexOf(n),c=n,_=n.getValues(0),p=n.getValues(1),d=c._getBindingValues(1);if(_){var f=_.length;if(f){p||(p=this.dataInfo.getXVals());var g=!0;p?p.length<f&&(f=p.length):(g=!1,p=new Array(f));for(var m=new Array,y=new Array,b=new Array,v=this.rotated,x=!1,w=c.interpolateNulls,S=this.chart._plotRect,P=0;P<f;P++){var M=g?p[P]:P,T=_[P],C=d[P];if(gt.isValid(M,T,C)){var N=v?i.convert(M):e.convert(M);if(v){var A=e.convert(T),L=e.convert(C);isNaN(N)||isNaN(A)?(x=!0,!0!==w&&(m.push(void 0),y.push(void 0),b.push(void 0))):(m.push(A),y.push(N),b.push(L),dt._contains(S,new s.Point(A,N))&&((E=new U(new s.Point(A,N),this._DEFAULT_SYM_SIZE)).tag=new G(u,P,T,M),this.hitTester.add(E,u)),dt._contains(S,new s.Point(L,N))&&((E=new U(new s.Point(L,N),this._DEFAULT_SYM_SIZE)).tag=new G(u,P,C,M),this.hitTester.add(E,u)))}else{var E;if(A=i.convert(T),L=i.convert(C),isNaN(N)||isNaN(A))x=!0,!0!==w&&(m.push(void 0),y.push(void 0),b.push(void 0));else if(m.push(N),y.push(A),b.push(L),dt._contains(S,new s.Point(N,A))&&((E=new U(new s.Point(N,A),this._DEFAULT_SYM_SIZE)).tag=new G(u,P,M,T),this.hitTester.add(E,u)),dt._contains(S,new s.Point(N,L)))(E=new U(new s.Point(N,L),this._DEFAULT_SYM_SIZE)).tag=new G(u,P,M,C),this.hitTester.add(E,u)}}else x=!0,!0!==w&&(m.push(void 0),y.push(void 0),b.push(void 0))}h&&m.forEach((function(t,e){null!=t&&l.push(new s.Point(t,y[e]))}));var I=this._DEFAULT_WIDTH,k=r._getColorLight(u),D=r._getColor(u),O=ut.cloneStyle(n.style,["fill"]),R=ut.cloneStyle(n.style,["stroke"]);if(!0!==w&&x){var j=[],F=[],V=[];for(P=0;P<f;P++)if(void 0===m[P]){if(j.length>1){var X=v?V.slice(0).reverse():j.slice(0).reverse(),Y=v?F.slice(0).reverse():V.slice(0).reverse();this._drawRangedArea(t,j,F,X,Y,k,D,I,R,O),this.hitTester.add(new q(j,F),u),this.hitTester.add(new q(X,Y),u)}j=[],F=[],V=[]}else j.push(m[P]),F.push(y[P]),V.push(b[P]);j.length>1&&(X=v?V.slice(0).reverse():j.slice(0).reverse(),Y=v?F.slice(0).reverse():V.slice(0).reverse(),this._drawRangedArea(t,j,F,X,Y,k,D,I,R,O),this.hitTester.add(new q(j,F),u),this.hitTester.add(new q(X,Y),u))}else{var B=v?b.slice(0).reverse():m.slice(0).reverse(),z=v?y.slice(0).reverse():b.slice(0).reverse();this._drawRangedArea(t,m,y,B,z,k,D,I,R,O),this.hitTester.add(new q(m,y),u),this.hitTester.add(new q(B,z),u)}this._drawSymbols(t,n,u),h&&l&&l.length&&h(l)}}},e.prototype._drawRangedArea=function(t,e,i,n,r,s,a,o,h,l){if(this.isSpline){var u=this._convertToSpline(e,i),c=this._convertToSpline(n,r);e=u.xs,i=u.ys,n=c.xs,r=c.ys}e=e.concat(n),i=i.concat(r),t.fill=s,t.stroke="none",t.drawPolygon(e,i,null,h),e=e.slice(0,e.length-n.length),i=i.slice(0,i.length-r.length),t.stroke=a,t.strokeWidth=o,t.fill="none",t.drawLines(e,i,null,l),t.drawLines(n,r,null,l)},e.prototype._convertToSpline=function(t,e){if(t&&e){var i=new l(t,e).calculate();return{xs:i.xs,ys:i.ys}}return{xs:t,ys:e}},e.prototype._drawSymbols=function(t,e,i){var n=this.getItemFormatter(e);if(null!=n){for(var r=this.hitTester._map[i],a=0;a<r.length;a++){var o=(0,s.tryCast)(r[a],U);if(o){var h=o.tag;t.startGroup();var l=new $(this.chart,o.center,H.SeriesSymbol);l._setDataPoint(h),n(t,l,(function(){})),t.endGroup()}}t.cssPriority=!0}},e}(ut),bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origin=0,e.width=.7,e.isVolume=!1,e._volHelper=null,e.stackPosMap={},e.stackNegMap={},e.stacking=et.None,e}return o(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this.stackNegMap[this.chart.axisY._uniqueId]={},this.stackPosMap[this.chart.axisY._uniqueId]={},this._volHelper=null},e.prototype.load=function(){if(t.prototype.load.call(this),this.isVolume){var e,i,n,r,a,o,l,u,c=null,_=null;for(o=0;o<this.chart.series.length;o++){if(a=(e=this.chart.series[o]).getDataType(1)||e.chart._xDataType,i=e._getAxisX(),(n=null===(n=e._getChartType())||(0,s.isUndefined)(n)?this.chart._getChartType():n)===tt.Column){var p=this.chart?this.chart._bindingSeparator:",",d=e.binding.split(p).length-1;r=e._getBindingValues(d)}else r=n===tt.Candlestick?e._getBindingValues(4):null;var f;if(a===s.DataType.Date)for(l=[],u=[],o=0;o<e._getLength();o++)f=e._getItem(o)[e.bindingX].valueOf(),l.push(f),u.push({value:f,text:s.Globalize.format(new Date(f),i.format||"d")});else l=this.dataInfo.getXVals();if(c=this.dataInfo.getMinX(),_=this.dataInfo.getMaxX(),r&&r.length>0){this._volHelper=new h(r,l,c,_,a),i._customConvert=this._volHelper.convert.bind(this._volHelper),i._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),u&&u.length>0&&(this._itemsSource=i.itemsSource=u);break}}}},e.prototype.unload=function(){t.prototype.unload.call(this);for(var e,i=0;i<this.chart.series.length;i++)(e=this.chart.series[i]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMaxX(),r=t.getMinY(),a=t.getMaxY(),o=t.getDeltaX();o<=0&&(o=1);var h=!1;!this.isVolume||this.chart._getChartType()!==tt.Column&&this.chart._getChartType()!==tt.Candlestick?this.unload():this.load();for(var l=0;l<this.chart.series.length;l++){var u=this.chart.series[l],c=u._getChartType();(c=null===c||(0,s.isUndefined)(c)?this.chart._getChartType():c)!==tt.Column&&c!==tt.Bar||this._isRange(u)&&u._getBindingValues(1).forEach((function(t){t<r?r=t:t>a&&(a=t)})),h||"BoxWhisker"==u.constructor.name||(h=!0)}return this.rotated?(!this.chart.axisY._getLogBase()&&t.getDataTypeY()!==s.DataType.Date&&h&&(this.origin>a?a=this.origin:this.origin<r&&(r=this.origin)),new s.Rect(r,i-.5*o,a-r,n-i+o)):(!this.chart.axisY._getLogBase()&&t.getDataTypeY()!==s.DataType.Date&&h&&(this.origin>a?a=this.origin:this.origin<r&&(r=this.origin)),new s.Rect(i-.5*o,r,n-i+o,a-r))},e.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=(null==t.binding?"":t.binding.split(e)).length-1;return this.isVolume?2===i:1===i},e.prototype.plotSeries=function(t,e,i,n,r,a,o,h){var l=[],u=this.chart.series.indexOf(n),c=(0,s.asType)(n,rt),_=this.chart._options,p=this.width,d=0;if(a=a||0,o=o||1,_&&_.groupWidth){var f=_.groupWidth;if((0,s.isNumber)(f)){var g=(0,s.asNumber)(f);isFinite(g)&&g>0&&(d=g,p=1)}else if((0,s.isString)(f)){var m=(0,s.asString)(f);m&&m.indexOf("%")>=0?(m=m.replace("%",""),g=parseFloat(m),isFinite(g)&&(g<0?g=0:g>100&&(g=100),d=0,p=g/100)):(g=parseFloat(m),isFinite(g)&&g>0&&(d=g,p=1))}}var y=p/o,b=c._getAxisY()._uniqueId,v=this.stackNegMap[b],x=this.stackPosMap[b],w=n.getValues(0),S=n.getValues(1),P=this._isRange(c),M=c._bindValues(null==c._cv?null==this.chart.collectionView?null:this.chart.collectionView.items:c._cv.items,c._getBinding(1)).values;if(w){if(S||(S=this.dataInfo.getXVals()),S){var T=this.dataInfo.getDeltaX();T>0&&(p*=T,y*=T)}var C=c._getSymbolFill(u),N=c._getAltSymbolFill(u)||C,A=c._getSymbolStroke(u),L=c._getAltSymbolStroke(u)||A,E=w.length;null!=S&&(E=Math.min(E,S.length));var I,k,D=this.origin,O=0,R=this.stacking!=et.None,j=this.stacking==et.Stacked100pc;void 0!==c._getChartType()&&(R=j=!1);var F=this.getItemFormatter(n),V=e._actualMin,X=e._actualMax,Y=i._actualMin,B=i._actualMax;if(this.rotated)for(D<V?D=V:D>X&&(D=X),c._isCustomAxisY()&&(R=j=!1),q=e.convert(D),K=0;K<E;K++)if(Q=S?S[K]:K,$=w[K],J=q,this._getSymbolOrigin&&(J=i.convert(this._getSymbolOrigin(D,K))),P&&M&&M.length&&(tt=M[K],gt.isValid(tt)&&(J=e.convert(tt))),this._getSymbolStyles&&(C=(Z=this._getSymbolStyles(K))&&Z.fill?Z.fill:C,N=Z&&Z.fill?Z.fill:N,A=Z&&Z.stroke?Z.fill:A,L=Z&&Z.stroke?Z.fill:L),I=$>0?C:N,k=$>0?A:L,t.fill=I,t.stroke=k,gt.isValid(Q,$))if(R){if(nt=Q+.5*p,(it=Q-.5*p)<Y&&nt<Y||it>B&&nt>B)continue;if(it=i.convert(Math.max(it,Y)),nt=i.convert(Math.min(nt,B)),j&&($/=this.dataInfo.getStackedAbsSum(Q)),at=0,$>=0?(at=isNaN(x[Q])?0:x[Q],ct=e.convert(at),st=e.convert(at+$),x[Q]=at+$):(at=isNaN(v[Q])?0:v[Q],ct=e.convert(at),st=e.convert(at+$),v[Q]=at+$),h&&l.push(new s.Point(st,i.convert(Q))),!gt.isValid(ct,st))continue;if(ot=new s.Rect(Math.min(ct,st),Math.min(it,nt),Math.abs(st-ct),Math.abs(nt-it)),d>0){(dt=1-d/ot.height)<0&&(dt=0);var z=ot.top+.5*ot.height;ot.top+=(z-ot.top)*dt,ot.height=Math.min(d,ot.height)}lt=new W(ot),this.drawSymbol(t,ot,n,K,new s.Point(st,ot.top+.5*ot.height),F),n._setPointIndex(K,O),O++,ut=j?Math.min(at+$,1):at+$,lt.tag=new G(u,K,ut,Q),this.hitTester.add(lt,u)}else{if(nt=Q-.5*p+(a+1)*y,(it=Q-.5*p+a*y)<Y&&nt<Y||it>B&&nt>B)continue;it=i.convert(Math.max(it,Y)),nt=i.convert(Math.min(nt,B));var H=e.convert($);if(!gt.isValid(H,it,nt))continue;var U=new s.Rect(Math.min(H,J),Math.min(it,nt),Math.abs(J-H),Math.abs(nt-it));h&&l.push(new s.Point(H,(it+nt)/2)),d>0&&((dt=1-(pt=d/o)/U.height)<0&&(dt=0),z=i.convert(Q),U.top+=(z-U.top)*dt,U.height=Math.min(pt,U.height)),lt=new W(U),this.drawSymbol(t,U,n,K,new s.Point(H,U.top+.5*U.height),F),n._setPointIndex(K,O),O++,lt.tag=new G(u,K,$,Q),this.hitTester.add(lt,u)}else h&&l.push(null);else{D<Y?D=Y:D>B&&(D=B);var q=i.convert(D);c._isCustomAxisY()&&(R=j=!1);for(var K=0;K<E;K++){var Z,J=q,Q=S?S[K]:K,$=w[K];if(this._getSymbolOrigin&&(J=i.convert(this._getSymbolOrigin(D,K,E))),P&&M&&M.length){var tt=M[K];gt.isValid(tt)&&(J=i.convert(tt))}if(this._getSymbolStyles)C=(Z=this._getSymbolStyles(K,E))&&Z.fill?Z.fill:C,N=Z&&Z.fill?Z.fill:N,A=Z&&Z.stroke?Z.stroke:A,L=Z&&Z.stroke?Z.stroke:L;if(I=$>0?C:N,k=$>0?A:L,t.fill=I,t.stroke=k,t.strokeWidth=null,gt.isValid(Q,$))if(R){var it,nt,st=Q+.5*p;if((ct=Q-.5*p)<V&&st<V||ct>X&&st>X)continue;if(ct=e.convert(ct),st=e.convert(st),!gt.isValid(ct,st))continue;j&&($/=this.dataInfo.getStackedAbsSum(Q));var at=0;if($>=0?(at=isNaN(x[Q])?0:x[Q],it=i.convert(Math.max(at,Y)),nt=i.convert(Math.max(at+$,Y)),x[Q]=at+$):(at=isNaN(v[Q])?0:v[Q],it=i.convert(at),nt=i.convert(at+$),v[Q]=at+$),h&&l.push(new s.Point(e.convert(Q),nt)),!gt.isValid(it,nt))continue;var ot=new s.Rect(Math.min(ct,st),Math.min(it,nt),Math.abs(st-ct),Math.abs(nt-it));if(d>0){(dt=1-d/ot.width)<0&&(dt=0);var ht=ot.left+.5*ot.width;ot.left+=(ht-ot.left)*dt,ot.width=Math.min(d,ot.width)}var lt=new W(ot);this.drawSymbol(t,ot,n,K,new s.Point(ot.left+.5*ot.width,nt),F),n._setPointIndex(K,O),O++;var ut=j?Math.min(at+$,1):at+$;lt.tag=new G(u,K,Q,ut),this.hitTester.add(lt,u)}else{var ct;st=Q-.5*p+(a+1)*y;if((ct=Q-.5*p+a*y)<V&&st<V||ct>X&&st>X)continue;ct=e.convert(ct),st=e.convert(st);var _t=i.convert($);if(!gt.isValid(_t,ct,st))continue;var pt,dt,ft=new s.Rect(Math.min(ct,st),Math.min(_t,J),Math.abs(st-ct),Math.abs(J-_t));if(h&&l.push(new s.Point((ct+st)/2,_t)),d>0)(dt=1-(pt=d/o)/ft.width)<0&&(dt=0),ht=e.convert(Q),ft.left+=(ht-ft.left)*dt,ft.width=Math.min(pt,ft.width);lt=new W(ft);this.drawSymbol(t,ft,n,K,new s.Point(ft.left+.5*ft.width,_t),F),n._setPointIndex(K,O),O++,lt.tag=new G(u,K,Q,$),this.hitTester.add(lt,u)}else h&&l.push(null)}}h&&l&&l.length&&h(l)}},e.prototype.drawSymbol=function(t,e,i,n,r,s){var a=this;if(s){t.startGroup();var o=new $(this.chart,r,H.SeriesSymbol);o._setData(i,n),s(t,o,(function(){a.drawDefaultSymbol(t,e,i)})),t.cssPriority=!0,t.endGroup()}else this.drawDefaultSymbol(t,e,i)},e.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)},e}(ut),vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stacking=et.None,e}return o(e,t),e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),a=t.getMaxY();return new s.Rect(i,n,r-i,a-n)},e.prototype.plotSeries=function(t,e,i,n,r,a,o,h){var l=this.chart.series.indexOf(n);if(!(l>0)){var u,c,_,p,d,f=(0,s.asType)(n,rt),g=this.chart._options,m=n.getValues(0),y=n.getValues(1),b=this.chart._plotRect,v=g&&g.funnel&&null!=g.funnel.neckWidth?g.funnel.neckWidth:.2,x=g&&g.funnel&&null!=g.funnel.neckHeight?g.funnel.neckHeight:0,w=v*b.width,S=0,P=0,M=0,T=0,C=b.left,N=b.top,A=b.width,L=b.height;if(m){this.rotated&&(N+=b.height),w=w||1,y||(y=this.dataInfo.getXVals());var E=m.length;null!=y&&(E=Math.min(E,y.length));var I=0;for(S=0;S<E;S++)gt.isValid(m[S])&&(P+=m[S],m[S]>I&&(I=m[S]));var k,D,O=0;if(g&&g.funnel&&"rectangle"===g.funnel.type&&I>0){x=L/E,v=A;var R=A/I;for(S=0;S<E;S++){var j=y?y[S]:S,F=m[S],V=f._getSymbolFill(S),X=f._getAltSymbolFill(S)||V,Y=f._getSymbolStroke(S),B=f._getAltSymbolStroke(S)||Y;if(this._getSymbolStyles&&(V=(W=this._getSymbolStyles(S,E))&&W.fill?W.fill:V,X=W&&W.fill?W.fill:X,Y=W&&W.stroke?W.stroke:Y,B=W&&W.stroke?W.stroke:B),k=F>0?V:X,D=F>0?Y:B,t.fill=k,t.stroke=D,gt.isValid(j)&&gt.isValid(F)){R||(R=A/F);var z=R*F;C+=(v-z)/2,this.rotated&&(N-=x),t.drawRect(C,N,z,x),H=new xt(new s.Point(C,N),z,x,z,x),this.rotated||(N+=x),v=z,H.tag=new G(l,S,j,F),this.hitTester.add(H,l),n._setPointIndex(S,O),O++}}}else for(M=b.left+b.width*(1-v)/2,T=b.top+b.height*(this.rotated?x:1-x),c=(1-v)*b.width/2/(b.height*(1-x)),!isNaN(c)&&isFinite(c)||(A=w,C=M,N=T),u=b.width*v*b.height+b.width*(1-v)/2*b.height*(1-x),S=0;S<E;S++){j=y?y[S]:S,F=m[S];var H,W,U=[],q=[];if(V=f._getSymbolFill(S),X=f._getAltSymbolFill(S)||V,Y=f._getSymbolStroke(S),B=f._getAltSymbolStroke(S)||Y,this._getSymbolStyles)V=(W=this._getSymbolStyles(S,E))&&W.fill?W.fill:V,X=W&&W.fill?W.fill:X,Y=W&&W.stroke?W.stroke:Y,B=W&&W.stroke?W.stroke:B;if(k=F>0?V:X,D=F>0?Y:B,t.fill=k,t.stroke=D,gt.isValid(j)&&gt.isValid(F)){var K=u*F/P;A>w?(p=this._getTrapezoidOffsetY(A,K,c),this.rotated?N-p>T?(U=[C,C+(_=c*p),C+A-_,C+A],q=[N,N-p,N-p,N],H=new xt(new s.Point(C,N-p),A,p,A-2*_,0,!0),A-=2*_,C+=_,N-=p):(_=c*(p=N-T),d=(K-=this._getTrapezoidArea(A,c,p))/w,U.push(C,C+_,C+_,C+_+w,C+_+w,C+A),q.push(N,N-p,N-p-d,N-p-d,N-p,N),H=new xt(new s.Point(C,N-p-d),A,p+d,w,d,!0),A=w,C+=_,N=N-p-d):N+p<T?(U=[C,C+(_=c*p),C+A-_,C+A],q=[N,N+p,N+p,N],H=new xt(new s.Point(C,N),A,p,A-2*_,0),A-=2*_,C+=_,N+=p):(_=c*(p=T-N),d=(K-=this._getTrapezoidArea(A,c,p))/w,U.push(C,C+_,C+_,C+_+w,C+_+w,C+A),q.push(N,N+p,N+p+d,N+p+d,N+p,N),H=new xt(new s.Point(C,N),A,p+d,w,d),A=w,C+=_,N=N+p+d),t.drawPolygon(U,q)):(d=K/w,this.rotated&&(N-=d),t.drawRect(C,N,A,d),H=new xt(new s.Point(C,N),w,d,w,d),this.rotated||(N+=d)),H.tag=new G(l,S,j,F),this.hitTester.add(H,l),n._setPointIndex(S,O),O++}}}}},e.prototype._getTrapezoidArea=function(t,e,i){var n=i*e;return n*i+(t-2*n)*i},e.prototype._getTrapezoidOffsetY=function(t,e,i){var n=Math.pow(t/2/i,2)-e/i;return t/2/i-Math.sqrt(n>=0?n:0)},e.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)},e.prototype._getPointAndPosition=function(t,e,i,n){var r=i;t.x=r.center.x,t.y=r.center.y,e=null==e?M.Center:e},e}(ut),xt=function(){function t(t,e,i,n,r,a){void 0===a&&(a=!1),this._startPoint=t,this._width=e,this._height=i,this._neckWidth=n,this._neckHeight=r,this._center=new s.Point(this._startPoint.x+e/2,this._startPoint.y+i/2),this._offsetX=(e-n)/2,this._offsetY=i-r,this._rotated=a}return t.prototype.contains=function(t){var e=this._startPoint,i=this._offsetX,n=this._offsetY;if(this._rotated){if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y<e.y+this._neckHeight)return!1;if(t.x<this._center.x)return(e.y+this._height-t.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(e.y+this._height-t.y)/(e.x+this._width-t.x)<n/i}}else if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y>e.y+n)return!1;if(t.x<this._center.x)return(t.y-e.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(t.y-e.y)/(e.x+this._width-t.x)<n/i}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0;var e=this._startPoint,i=this._width,n=this._height,r=this._offsetX,s=this._offsetY;if(this._rotated){if(t.y>e.y+n)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y+n-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y+n-t.y,2)):t.y-e.y-n;if(t.y<e.y)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):e.y-t.y;if(!(t.y<e.y+n-s))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y-n,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-n+s/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-n+s-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-n-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-n+s/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-n+s-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}else{if(t.y<e.y)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y-t.y,2)):e.y-t.y;if(t.y>e.y+n)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):t.y-e.y-n;if(!(t.y>e.y+s))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-s/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-s-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-s/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-s-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t}(),wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCandle=!0,e.isArms=!1,e.isEqui=!1,e.isVolume=!1,e._volHelper=null,e._symWidth=.7,e}return o(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this._volHelper=null},e.prototype.load=function(){if(t.prototype.load.call(this),this.isVolume){var e,i,n,r,a,o,l,u,c=null,_=null;for(o=0;o<this.chart.series.length;o++){var p;if(a=(e=this.chart.series[o]).getDataType(1)||e.chart._xDataType,i=e._getAxisX(),r=(n=null===(n=e._getChartType())||(0,s.isUndefined)(n)?this.chart._getChartType():n)===tt.Column?e._getBindingValues(1):n===tt.Candlestick?e._getBindingValues(4):null,a===s.DataType.Date)for(l=[],u=[],o=0;o<e._getLength();o++)p=e._getItem(o)[e.bindingX].valueOf(),l.push(p),u.push({value:p,text:s.Globalize.format(new Date(p),i.format||"d")});else l=this.dataInfo.getXVals();if(c=this.dataInfo.getMinX(),_=this.dataInfo.getMaxX(),r&&r.length>0){this._volHelper=new h(r,l,c,_,a),i._customConvert=this._volHelper.convert.bind(this._volHelper),i._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),u&&u.length>0&&(this._itemsSource=i.itemsSource=u);break}}}},e.prototype.unload=function(){t.prototype.unload.call(this);for(var e,i=0;i<this.chart.series.length;i++)(e=this.chart.series[i]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},e.prototype.parseSymbolWidth=function(t){if(this._isPixel=void 0,t)if((0,s.isNumber)(t)){var e=(0,s.asNumber)(t);isFinite(e)&&e>0&&(this._symWidth=e,this._isPixel=!0)}else if((0,s.isString)(t)){var i=(0,s.asString)(t);if(i&&i.indexOf("%")>=0){i=i.replace("%","");var n=parseFloat(i);isFinite(n)&&(n<0?n=0:n>100&&(n=100),this._symWidth=n/100,this._isPixel=!1)}else n=parseFloat(t),isFinite(n)&&n>0&&(this._symWidth=n,this._isPixel=!0)}},e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),a=t.getMaxY(),o=t.getDeltaX(),h=this.chart._xDataType;o<=0&&(o=1);var l=this.chart.series,u=l.length,c=0;this.parseSymbolWidth(this.symbolWidth),!this.isVolume||this.chart._getChartType()!==tt.Column&&this.chart._getChartType()!==tt.Candlestick?this.unload():this.load();for(var _=0;_<u;_++){var p=l[_];if(!p._isCustomAxisY()){var d=p._getBinding(1),f=p._getBinding(2),g=p._getBinding(3),m=p._getLength();if(m){var y=p._getSymbolSize();y>c&&(c=y);for(var b=0;b<m;b++){var v=p._getItem(b);v&&[d?v[d]:null,f?v[f]:null,g?v[g]:null].forEach((function(t){gt.isValid(t)&&null!==t&&((isNaN(n)||t<n)&&(n=t),(isNaN(a)||t>a)&&(a=t))}))}}}}var x=r-i,w=this.chart._plotRect;if(w&&w.width&&!this.isVolume){isNaN(y)&&(y=p._getSymbolSize()),y+=2;var S=w.width/(w.width-y)*x;i-=.5*(S-x),x=S}return!(h===s.DataType.Date&&this.isVolume||h===s.DataType.Number)||this.chart._getChartType()!==tt.Column&&this.chart._getChartType()!==tt.Candlestick?this.chart._isRotated()?new s.Rect(n,i,a-n,x):new s.Rect(i,n,x,a-n):new s.Rect(i-.5*o,n,r-i+o,a-n)},e.prototype.plotSeries=function(t,e,i,n,r,a,o,h){var l=this,u=(0,s.asType)(n,rt),c=this.chart.series.indexOf(n),_=n.getValues(0),p=n.getValues(1),d=this._symWidth,f=this.chart._isRotated();if(_){if(p||(p=this.dataInfo.getXVals()),p){var g=this.dataInfo.getDeltaX();g>0&&!1===this._isPixel&&(d*=g)}var m=_.length,y=!0;p?m=Math.min(m,p.length):(y=!1,p=new Array(m));var b=this._DEFAULT_WIDTH,v=u._getSymbolFill(c),x=u._getAltSymbolFill(c)||"transparent",w=u._getSymbolStroke(c),S=u._getAltSymbolStroke(c)||w,P=void 0===this._isPixel?u._getSymbolSize():d;t.stroke=w,t.strokeWidth=b,t.fill=v;for(var M,T,C=u._getBinding(1),N=u._getBinding(2),A=u._getBinding(3),L=f?i.actualMin:e.actualMin,E=f?i.actualMax:e.actualMax,I=0,k=null,D=null,O=this.getItemFormatter(n),R=0;R<m;R++)if(k=u._getItem(R)){var j=y?p[R]:R;if(gt.isValid(j)&&L<=j&&j<=E){var F=_[R],V=C?k[C]:null,X=N?k[N]:null,Y=A?k[A]:null;if(t.startGroup(),this.isEqui&&null!==D?D[A]!==k[A]&&(M=D[A]<k[A]?x:v,T=D[A]<k[A]?S:w):(M=X<Y?x:v,T=X<Y?S:w),t.fill=M,t.stroke=T,t.strokeWidth=b,O){var B=new $(this.chart,new s.Point(e.convert(j),i.convert(F)),H.SeriesSymbol);B._setData(u,R),O(t,B,(function(){l._drawSymbol(t,e,i,c,R,M,P,j,F,V,X,Y)})),t.cssPriority=!0}else this._drawSymbol(t,e,i,c,R,M,P,j,F,V,X,Y);t.endGroup(),n._setPointIndex(R,I),I++}D=k}}},e.prototype._drawSymbol=function(t,e,i,n,r,a,o,h,l,u,c,_){var p,d=null,f=null,g=null,m=null,y=this.chart._isRotated(),b=y?new G(n,r,l,h):new G(n,r,h,l);if(y){var v=i;i=e,e=v}if(!1===this._isPixel&&(g=e.convert(h-.5*o))>(m=e.convert(h+.5*o))){var x=g;g=m,m=x}h=e.convert(h),!1!==this._isPixel&&(g=h-.5*o,m=h+.5*o),this.isCandle?(gt.isValid(c)&&gt.isValid(_)&&(c=i.convert(c),_=i.convert(_),f=(d=Math.min(c,_))+Math.abs(c-_),y?(t.drawRect(d,g,f-d||1,m-g||1),p=new W(new s.Rect(d,g,f-d||1,m-g||1))):(t.drawRect(g,d,m-g||1,f-d||1),p=new W(new s.Rect(g,d,m-g||1,f-d||1))),p.tag=b,this.hitTester.add(p,n)),gt.isValid(l)&&(l=i.convert(l),null!==d&&(y?(t.drawLine(f,h,l,h),p.rect.width=p.rect.width+l):(t.drawLine(h,d,h,l),p.rect.top=l,p.rect.height=p.rect.height+l))),gt.isValid(u)&&(u=i.convert(u),null!==f&&(y?(t.drawLine(d,h,u,h),p.rect.left=u,p.rect.width=p.rect.width+u):(t.drawLine(h,f,h,u),p.rect.height=p.rect.height+u)))):this.isEqui?gt.isValid(l)&&gt.isValid(u)&&(l=i.convert(l),u=i.convert(u),f=(d=Math.min(l,u))+Math.abs(l-u),t.drawRect(g,d,m-g||1,f-d||1),(p=new W(new s.Rect(g,d,m-g||1,f-d||1))).tag=b,this.hitTester.add(p,n)):this.isArms?(gt.isValid(c)&&gt.isValid(_)&&(c=i.convert(c),_=i.convert(_),f=(d=Math.min(c,_))+Math.abs(c-_),t.drawRect(g,d,m-g||1,f-d||1)),gt.isValid(l)&&null!==d&&(l=i.convert(l),t.drawLine(h,d,h,l)),gt.isValid(u)&&null!==f&&(u=i.convert(u),t.drawLine(h,f,h,u)),gt.isValid(l)&&gt.isValid(u)&&(t.fill="transparent",f=(d=Math.min(l,u))+Math.abs(l-u),t.drawRect(g,d,m-g||1,f-d||1),(p=new W(new s.Rect(g,d,m-g||1,f-d||1))).tag=b,this.hitTester.add(p,n))):(gt.isValid(l)&&gt.isValid(u)&&(l=i.convert(l),u=i.convert(u),f=(d=Math.min(l,u))+Math.abs(l-u),y?(t.drawLine(u,h,l,h),p=new W(new s.Rect(d,g,f-d||1,m-g||1))):(t.drawLine(h,u,h,l),p=new W(new s.Rect(g,d,m-g||1,f-d||1))),p.tag=b,this.hitTester.add(p,n)),gt.isValid(c)&&(c=i.convert(c),y?t.drawLine(c,g,c,h):t.drawLine(g,c,h,c)),gt.isValid(_)&&(_=i.convert(_),y?t.drawLine(_,h,_,m):t.drawLine(h,_,m,_)))},e}(ut),St=function(){function t(){this._moveMarker=function(t){var e=t.currentTarget,i=this._markers,n=e.getAttribute("data-markerIndex");null!=n&&i[n].forEach((function(e){e._moveMarker(t)}))},this._markers=[],this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,a=n.getAttribute("data-markerIndex");null!=a?(i=r[a])&&(0,s.isArray)(i)?i.push(t):(r[a]=[t],this._bindMoveEvent(n)):(e=r.length,i=[t],r.push(i),n.setAttribute("data-markerIndex",e),this._bindMoveEvent(n))},t.prototype.detach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,s=n.getAttribute("data-markerIndex");null!=s&&((e=(i=r[s]).indexOf(t))>-1&&i.splice(e,1),0===i.length&&((e=r.indexOf(i))>-1&&(r[e]=void 0),this._unbindMoveEvent(n)))},t.prototype._unbindMoveEvent=function(t){var e=this._bindMoveMarker;t.removeEventListener("mousemove",e),"ontouchstart"in window&&t.removeEventListener("touchmove",e)},t.prototype._bindMoveEvent=function(t){var e=this._bindMoveMarker;t.addEventListener("mousemove",e),"ontouchstart"in window&&t.addEventListener("touchmove",e)},t}(),Pt=new St;!function(t){t[t.None=0]="None",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal",t[t.Both=3]="Both"}(ct||(ct={})),function(t){t[t.None=0]="None",t[t.Move=1]="Move",t[t.Drag=2]="Drag"}(_t||(_t={})),function(t){t[t.Auto=2]="Auto",t[t.Right=0]="Right",t[t.Left=1]="Left",t[t.Bottom=4]="Bottom",t[t.Top=6]="Top"}(pt||(pt={}));var Mt=function(){function t(t,e){this._wrapperMousedown=null,this._wrapperMouseup=null,this.positionChanged=new s.Event,this._chart=t,t._markers.push(this),t.rendered.addHandler(this._initialize,this),this._resetDefaultValue(),(0,s.copy)(this,e),this._initialize()}return Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=(0,s.asBoolean)(t),this._marker&&this._toggleVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=(0,s.asNumber)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){if(t!==this._horizontalPosition){if(this._horizontalPosition=(0,s.asNumber)(t,!0),this._horizontalPosition<0||this._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){var t=this._chart.axisX,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){var t=this._chart.axisY,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=(0,s.asFunction)(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){if(t!==this._verticalPosition){if(this._verticalPosition=(0,s.asNumber)(t,!0),this._verticalPosition<0||this._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(t){t!==this._alignment&&(this._alignment=t,this._marker&&this._updatePositionByAlignment())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},set:function(t){(t=(0,s.asEnum)(t,ct))!=this._lines&&(this._lines=t,this._marker&&this._resetLinesVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interaction",{get:function(){return this._interaction},set:function(t){(t=(0,s.asEnum)(t,_t))!=this._interaction&&(this._marker&&this._detach(),this._interaction=t,this._marker&&this._attach(),this._toggleElesDraggableClass(this._interaction==_t.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=(0,s.asNumber)(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragContent",{get:function(){return this._dragContent},set:function(e){e!==this._dragContent&&(this._dragContent=(0,s.asBoolean)(e)),(0,s.toggleClass)(this._dragEle,t._CSS_LINE_DRAGGABLE,this._interaction===_t.Drag&&this._dragContent&&this._lines!==ct.None)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=(0,s.asBoolean)(t))},enumerable:!0,configurable:!0}),t.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},t.prototype.remove=function(){var t=this._chart;this._marker&&(t.rendered.removeHandler(this._initialize,this),this._detach(),this._removeMarker(),this._wrapperMoveMarker=null,this._wrapperMousedown=null,this._wrapperMouseup=null)},t.prototype._attach=function(){var e=this._chart.hostElement;this._interaction!==_t.None?(0,s.addClass)(e,t._CSS_TOUCH_DISABLED):(0,s.removeClass)(e,t._CSS_TOUCH_DISABLED),Pt.attach(this),this._attachDrag()},t.prototype._attachDrag=function(){this._interaction===_t.Drag&&(this._wrapperMousedown||(this._wrapperMousedown=this._onMousedown.bind(this)),this._wrapperMouseup||(this._wrapperMouseup=this._onMouseup.bind(this)),this._toggleDragEventAttach(!0))},t.prototype._detach=function(){(0,s.removeClass)(this._chart.hostElement,t._CSS_TOUCH_DISABLED),Pt.detach(this),this._detachDrag()},t.prototype._detachDrag=function(){this._interaction===_t.Drag&&this._toggleDragEventAttach(!1)},t.prototype._toggleDragEventAttach=function(t){var e=this._chart.hostElement,i=t?"addEventListener":"removeEventListener";e[i]("mousedown",this._wrapperMousedown),document[i]("mouseup",this._wrapperMouseup),"ontouchstart"in window&&e[i]("touchstart",this._wrapperMousedown),"ontouchend"in window&&document[i]("touchend",this._wrapperMouseup)},t.prototype._onMousedown=function(e){var i,n,r,a,o,h=this._getEventPoint(e);this._interaction===_t.Drag&&(a=!(0===(i=(0,s.getElementRect)(this._hLine)).width||0===i.height),o=!(0===(n=(0,s.getElementRect)(this._vLine)).width||0===n.height),r=(0,s.getElementRect)(this._markerContent),this._dragContent&&this._pointInRect(h,r)?(this._capturedEle=this._markerContent,this._contentDragStartPoint=new s.Point(h.x,h.y),this._mouseDownCrossPoint=new s.Point(this._targetPoint.x,this._targetPoint.y)):a&&(Math.abs(i.top-h.y)<=this._dragThreshold||Math.abs(h.y-i.top-i.height)<=this._dragThreshold||h.y>=i.top&&h.y<=i.top+i.height)?(this._capturedEle=this._hLine,this._contentDragStartPoint=void 0,(0,s.addClass)(this._chart.hostElement,t._CSS_LINE_DRAGGABLE)):o&&(Math.abs(n.left-h.x)<=this._dragThreshold||Math.abs(h.x-n.left-n.width)<=this._dragThreshold||h.x>=n.left&&h.x<=n.left+n.width)&&(this._capturedEle=this._vLine,this._contentDragStartPoint=void 0,(0,s.addClass)(this._chart.hostElement,t._CSS_LINE_DRAGGABLE)),e.preventDefault())},t.prototype._onMouseup=function(e){var i=this._alignment===pt.Auto&&this._capturedEle===this._markerContent&&this._lines!==ct.None;this._capturedEle=void 0,this._contentDragStartPoint=void 0,this._mouseDownCrossPoint=void 0,i&&(this._updatePositionByAlignment(),this._updatePositionByAlignment()),(0,s.removeClass)(this._chart.hostElement,t._CSS_LINE_DRAGGABLE)},t.prototype._moveMarker=function(t){var e,i,n,r,a,o,h=this._chart,l=this._getEventPoint(t),u=this._plotRect,c=this._interaction===_t.Drag,_=this._lines===ct.Horizontal,p=this._lines===ct.Vertical,d=this._seriesIndex,f=(0,s.getElementRect)(h.hostElement);if(u&&this._isVisible&&this._interaction!==_t.None&&(this._interaction!==_t.Drag||this._capturedEle&&this._lines!==ct.None)){if(c&&(this._contentDragStartPoint?(l.x=_?this._targetPoint.x:this._mouseDownCrossPoint.x+l.x-this._contentDragStartPoint.x,l.y=p?this._targetPoint.y:this._mouseDownCrossPoint.y+l.y-this._contentDragStartPoint.y):_||!this._dragLines&&this._capturedEle===this._hLine?l.x=this._targetPoint.x:(p||!this._dragLines&&this._capturedEle===this._vLine)&&(l.y=this._targetPoint.y)),c&&this._lines===ct.Horizontal||!this._dragLines&&this._capturedEle===this._hLine){if(l.y<=u.top||l.y>=u.top+u.height)return}else if(c&&this._lines===ct.Vertical||!this._dragLines&&this._capturedEle===this._vLine){if(l.x<=u.left||l.x>=u.left+u.width)return}else if(l.x<=u.left||l.y<=u.top||l.x>=u.left+u.width||l.y>=u.top+u.height)return;if(null!=d&&d>=0&&d<h.series.length){if(null==(i=(e=h.series[d]).hitTest(new s.Point(l.x,NaN)))||null==i.x||null==i.y)return;n=e.axisX||h.axisX,r=e._getAxisY(),a=(0,s.isDate)(i.x)?dt._toOADate(i.x):i.x,a=(0,s.isString)(a)?i.pointIndex:a,o=(0,s.isDate)(i.y)?dt._toOADate(i.y):i.y;var g=this._getElementPaddingValuee(h.hostElement,"padding-left"),m=this._getElementPaddingValuee(h.hostElement,"padding-top");l.x=n.convert(a)+g+f.left,this.chart._stacking!=et.None&&(o=this._calcStackedValue(d,a,o)),l.y=r.convert(o)+m+f.top}this._updateMarkerPosition(l),t.preventDefault()}},t.prototype._calcStackedValue=function(t,e,i){for(var n=i,r=this.chart._stacking==et.Stacked100pc,s=0;s<t;s++){var a=this.chart.series[s],o=a.getValues(1),h=a.getValues(0);if(h)for(var l=0;l<h.length;l++)if(e===(o?o[l]:l)){isFinite(h[l])&&(r||this._sign(i)==this._sign(h[l]))&&(n+=h[l]);break}}return r&&n&&(n/=this.chart._dataInfo.getStackedAbsSum(e))>1&&(n=1),n},t.prototype._sign=function(t){return t>0?1:t<0?-1:0},t.prototype._getElementPaddingValuee=function(t,e){return+window.getComputedStyle(t,null).getPropertyValue(e).replace("px","")},t.prototype._show=function(t){(t||this._marker).style.display="block"},t.prototype._hide=function(t){(t||this._marker).style.display="none"},t.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},t.prototype._resetDefaultValue=function(){this._isVisible=!0,this._alignment=pt.Auto,this._lines=ct.None,this._interaction=_t.None,this._horizontalPosition=null,this._verticalPosition=null,this._content=null,this._seriesIndex=null,this._dragThreshold=15,this._dragContent=!1,this._dragLines=!1,this._targetPoint=new s.Point},t.prototype._initialize=function(){var t,e=this._chart.hostElement.querySelector("."+dt._CSS_PLOT_AREA);this._plot=e,this._marker||this._createMarker(),e&&(this._plotRect=(0,s.getElementRect)(e),t=e.getBBox(),this._plotRect.width=t.width,this._plotRect.height=t.height,this._updateMarkerSize(),this._updateLinesSize()),this._updateMarkerPosition(),this._wrapperMoveMarker=this._moveMarker.bind(this),this._attach()},t.prototype._createMarker=function(){var e,i;e=document.createElement("div"),(0,s.addClass)(e,t._CSS_MARKER),(i=this._getContainer()).appendChild(e),this._markerContainer=i,this._marker=e,this._createChildren()},t.prototype._removeMarker=function(){var t=this._markerContainer;t.removeChild(this._marker),this._content=null,this._hLine=null,this._vLine=null,t.hasChildNodes()||(this._chart.hostElement.removeChild(this._markerContainer),this._markerContainer=null),this._marker=null},t.prototype._getContainer=function(){var e=this._chart.hostElement.querySelector(t._CSS_MARKER_CONTAINER);return e||(e=this._createContainer()),e},t.prototype._createContainer=function(){var e=document.createElement("div"),i=this._chart.hostElement;return(0,s.addClass)(e,t._CSS_MARKER_CONTAINER),i.insertBefore(e,i.firstChild),e},t.prototype._createChildren=function(){var e,i,n,r,a=this._marker;(r=document.createElement("div")).style.position="absolute",r.style.height="100%",r.style.width="100%",a.appendChild(r),this._dragEle=r,e=document.createElement("div"),(0,s.addClass)(e,t._CSS_MARKER_CONTENT),a.appendChild(e),this._markerContent=e,i=document.createElement("div"),(0,s.addClass)(i,t._CSS_MARKER_HLINE),a.appendChild(i),this._hLine=i,n=document.createElement("div"),(0,s.addClass)(n,t._CSS_MARKER_VLINE),a.appendChild(n),this._vLine=n,this._toggleElesDraggableClass(this._interaction===_t.Drag),this._resetLinesVisibility()},t.prototype._toggleElesDraggableClass=function(e){(0,s.toggleClass)(this._hLine,t._CSS_LINE_DRAGGABLE,e),(0,s.toggleClass)(this._vLine,t._CSS_LINE_DRAGGABLE,e),(0,s.toggleClass)(this._dragEle,t._CSS_LINE_DRAGGABLE,e&&this._dragContent&&this._lines!==ct.None)},t.prototype._updateMarkerSize=function(){var t=this._plotRect,e=this._chart.hostElement,i=window.getComputedStyle(e,null),n=(0,s.getElementRect)(e);this._marker&&(this._marker.style.marginTop=t.top-n.top-(parseFloat(i.getPropertyValue("padding-top"))||0)+"px",this._marker.style.marginLeft=t.left-n.left-(parseFloat(i.getPropertyValue("padding-left"))||0)+"px")},t.prototype._updateLinesSize=function(){var t=this._plotRect;this._hLine&&this._vLine&&(this._hLine.style.width=t.width+"px",this._vLine.style.height=t.height+"px")},t.prototype._resetLinesVisibility=function(){this._hLine&&this._vLine&&(this._hide(this._hLine),this._hide(this._vLine),this._lines!==ct.Horizontal&&this._lines!==ct.Both||this._show(this._hLine),this._lines!==ct.Vertical&&this._lines!==ct.Both||this._show(this._vLine))},t.prototype._updateMarkerPosition=function(t){var e,i,n=this._plotRect,r=this._targetPoint,s=!1;this._interaction,_t.Drag,this._plot&&(e=n.left+n.width*(this._horizontalPosition||0),i=n.top+n.height*(this._verticalPosition||0),null==this._horizontalPosition&&t&&(e=t.x),null==this._verticalPosition&&t&&(i=t.y),e===r.x&&i===r.y||(s=!0),r.x=e,r.y=i,this._toggleVisibility(),this._content&&this._updateContent(),s&&this._raisePositionChanged(e,i),this._updatePositionByAlignment(!!t))},t.prototype._updateContent=function(){var t,e=this._chart,i=this._targetPoint,n=e.hitTest(i);t=this._content.call(null,n,i),this._markerContent.innerHTML=t||""},t.prototype._raisePositionChanged=function(t,e){this._plotRect,this.onPositionChanged(new s.Point(t,e))},t.prototype._updatePositionByAlignment=function(t){var e=this._alignment,i=this._targetPoint,n=this._marker,r=0,s=0,a=n.clientWidth,o=n.clientHeight,h=this._plotRect;this._plot&&(!this._capturedEle||this._capturedEle&&this._capturedEle!==this._markerContent?(e===pt.Auto?(i.x+a+12>h.left+h.width&&i.x-a>=0&&(s=a),r=o,i.y-o<h.top&&(r=0)):(1==(1&e)&&(s=a),2==(2&e)&&(r=o)),this._interaction===_t.Move&&0===r&&0===s&&null==this.verticalPosition&&(s=-12)):(parseInt(this._hLine.style.top)>0&&(r=o),parseInt(this._vLine.style.left)>0&&(s=a)),n.style.left=i.x-s-h.left+"px",n.style.top=i.y-r-h.top+"px",this._hLine.style.top=r+"px",this._hLine.style.left=h.left-i.x+s+"px",this._vLine.style.top=h.top-i.y+r+"px",this._vLine.style.left=s+"px")},t.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new s.Point(t.pageX,t.pageY):new s.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},t.prototype._pointInRect=function(t,e){return!(!t||!e)&&t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height},t._CSS_MARKER="wj-chart-linemarker",t._CSS_MARKER_HLINE="wj-chart-linemarker-hline",t._CSS_MARKER_VLINE="wj-chart-linemarker-vline",t._CSS_MARKER_CONTENT="wj-chart-linemarker-content",t._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",t._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",t._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled",t}(),Tt=function(t){function e(){var e=t.call(this)||this;return e.hasSymbols=!1,e.hasLines=!0,e.isSpline=!1,e.isStep=!1,e.stacking=et.None,e.stackPos={},e.stackNeg={},e.clipping=!1,e}return o(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},e.prototype.adjustLimits=function(t,e){this.dataInfo=t;var i=t.getMinX(),n=t.getMinY(),r=t.getMaxX(),a=t.getMaxY();if(this.isSpline&&!this.chart.axisY._getLogBase()){var o=.1*(a-n);n-=o,a+=o}return this.rotated?new s.Rect(n,i,a-n,r-i):new s.Rect(i,n,r-i,a-n)},e.prototype.plotSeries=function(t,e,i,n,r,a,o,h){var l=[],u=(0,s.asType)(n,rt),c=this.chart.series.indexOf(n),_=n.getValues(0),p=n.getValues(1);if(_){p||(p=this.dataInfo.getXVals());var d=ut.cloneStyle(n.style,["fill"]),f=_.length,g=!0;p?f=Math.min(f,p.length):(g=!1,p=new Array(f));var m=this._DEFAULT_WIDTH,y=u._getSymbolFill(c),b=u._getAltSymbolFill(c)||y,v=u._getSymbolStroke(c),x=u._getAltSymbolStroke(c)||v,w=u._getSymbolSize();t.stroke=v,t.strokeWidth=m,t.fill=y;var S=new Float64Array(f),P=new Float64Array(f),M=0,T=new Int8Array(f),C=0,N=this.rotated,A=this.stacking!=et.None&&!u._isCustomAxisY(),L=this.stacking==et.Stacked100pc&&!u._isCustomAxisY();void 0!==u._getChartType()&&(A=L=!1);for(var E=u.interpolateNulls,I=!1,k=this.getItemFormatter(n),D=0;D<f;D++){var O=g?p[D]:D,R=_[D];if(isFinite(O)&&isFinite(R)){if(A)if(L&&(R/=this.dataInfo.getStackedAbsSum(O)),R>=0){var j=isNaN(this.stackPos[O])?0:this.stackPos[O];R=this.stackPos[O]=j+R}else j=isNaN(this.stackNeg[O])?0:this.stackNeg[O],R=this.stackNeg[O]=j+R;var F;if(N){F=new G(c,D,R,O);var V=e.convert(R);R=i.convert(O),O=V}else F=new G(c,D,O,R),O=e.convert(O),R=i.convert(R);if(isNaN(O)||isNaN(R))I=!0,!0!==E&&(S[M]=NaN,P[M++]=NaN),T[C++]=1,h&&l.push(null);else{S[M]=O,P[M++]=R,C++,h&&l.push(new s.Point(O,R));var X=new U(new s.Point(O,R),.5*w);X.tag=F,this.hitTester.add(X,c)}}else I=!0,!0!==E&&(S[M]=NaN,P[M++]=NaN),T[C++]=1,h&&l.push(null)}var Y=0;if(this.hasLines)if(t.fill=null,I&&!0!==E){var B=[],z=[];for(D=0;D<f;D++)isNaN(S[D])?(B.length>1&&(this._drawLines(t,B,z,null,d,this.chart._plotrectId),this.hitTester.add(new q(B,z),c),Y++),B=[],z=[]):(B.push(S[D]),z.push(P[D]));B.length>1&&(this._drawLines(t,B,z,null,d,this.chart._plotrectId),this.hitTester.add(new q(B,z),c),Y++)}else this._drawLines(t,S,P,null,d,this.chart._plotrectId,M),this.hitTester.add(new q(S,P),c),Y++;if(this.hasSymbols&&w>0||k){t.fill=y;var H=0;for(D=0;D<f;D++)E&&T[D]||(O=S[H],R=P[H],(!1===this.hasLines||k)&&(t.fill=_[D]>0?y:b,t.stroke=_[D]>0?v:x,t.strokeWidth=m),this.isValid(O,R,e,i)&&(this._drawSymbol(t,O,R,w,u,D,k),n._setPointIndex(D,Y),Y++),H++)}h&&l&&l.length&&h(l)}},e.prototype._drawLines=function(t,e,i,n,r,s,a){if(this.isSpline&&a>3)t.drawSplines(e,i,n,r,s,a);else if(this.isStep){var o=this._createSteps(e,i,a);e=o.x,i=o.y,t.drawLines(e,i,n,r,s)}else t.drawLines(e,i,n,r,s,a)},e.prototype._drawSymbol=function(t,e,i,n,r,a,o){var h=this;if(o){t.startGroup();var l=new $(this.chart,new s.Point(e,i),H.SeriesSymbol);l._setData(r,a),o(t,l,(function(){h.hasSymbols&&n>0&&h._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)})),t.cssPriority=!0,t.endGroup()}else this._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)},e.prototype._drawDefaultSymbol=function(t,e,i,n,r,s){r==Q.Dot?t.drawEllipse(e,i,.5*n,.5*n,null,s):r==Q.Box&&t.drawRect(e-.5*n,i-.5*n,n,n,null,s)},e}(ut),Ct=function(t){function e(){var e=t.call(this)||this;return e._MIN_SIZE=5,e._MAX_SIZE=30,e.hasLines=!1,e.hasSymbols=!0,e.clipping=!0,e}return o(e,t),e.prototype.adjustLimits=function(e,i){var n=this.getNumOption("minSize","bubble");this._minSize=n||this._MIN_SIZE;var r=this.getNumOption("maxSize","bubble");this._maxSize=r||this._MAX_SIZE;for(var s=this.chart.series,a=s.length,o=NaN,h=NaN,l=0;l<a;l++)if(((m=s[l])._getChartType()==tt.Bubble||null==m._getChartType()&&m._chart._getChartType()==tt.Bubble)&&(y=m._getBindingValues(1)))for(var u=y.length,c=0;c<u;c++)isFinite(y[c])&&((isNaN(o)||y[c]<o)&&(o=y[c]),(isNaN(h)||y[c]>h)&&(h=y[c]));this._minValue=o,this._maxValue=h;var _=t.prototype.adjustLimits.call(this,e,i),p=i.left,d=i.right,f=i.top,g=i.bottom;for(l=0;l<a;l++){var m;if((m=s[l])._getChartType()==tt.Bubble||null==m._getChartType()&&m._chart._getChartType()==tt.Bubble){var y=m._getBindingValues(1),b=m.getValues(1),v=m.getValues(0);if(y&&b&&v){var x=y.length;for(c=0;c<x;c++){var w=b?b[c]:c,S=v[c],P=y[c];gt.isValid(w,S,P)&&(w=i.left+i.width*(w-_.left)/_.width,S=i.top+i.height*(S-_.top)/_.height,w-(P=this._minSize+(this._maxSize-this._minSize)*(P-o)/(h-o))<p&&(p=w-P),w+P>d&&(d=w+P),S-P<f&&(f=S-P),S+P>g&&(g=S+P))}}}}p=i.left-p+5,d=d-i.right+5,f=i.top-f+5,g=g-i.bottom+5;var M=this.chart.axisX,T=this.chart.axisY;if(!M._isLogAxis())if(this.stacking==et.Stacked100pc&&this.rotated){var C=(i.width-this._maxSize)/_.width;_.left-=.5*this._maxSize/C,_.width+=this._maxSize/C}else C=(i.width-(p+d))/_.width,_.left-=p/C,_.width+=(p+d)/C;if(!T._isLogAxis())if(this.stacking!=et.Stacked100pc||this.rotated)N=(i.height-(f+g))/_.height,_.top-=f/N,_.height+=(f+g)/N;else{var N=(i.height-this._maxSize)/_.height;_.top-=.5*this._maxSize/N,_.height+=this._maxSize/N}return _},e.prototype._drawSymbol=function(t,e,i,n,r,a,o){var h=this;if(null==this._minSize){var l=this.getNumOption("minSize","bubble");this._minSize=l||this._MIN_SIZE}if(null==this._maxSize){var u=this.getNumOption("maxSize","bubble");this._maxSize=u||this._MAX_SIZE}var c=r._getItem(a);if(c){var _=r._getBinding(1);if(_&&(n=c[_],isFinite(n))){null==n&&(n=this._minValue);var p=this._minValue==this._maxValue?1:Math.sqrt((n-this._minValue)/(this._maxValue-this._minValue));if(n=this._minSize+(this._maxSize-this._minSize)*p,o){var d=new $(this.chart,new s.Point(e,i),H.SeriesSymbol);d._setData(r,a),t.startGroup(),o(t,d,(function(){h._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)})),t.endGroup()}else this._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle);var f=this.hitTester._map[this.chart.series.indexOf(r)];if(null!=f)for(var g=f.length-1;g>=0;g--){var m=f[g];if(m.tag&&m.tag.pointIndex==a){var y=(0,s.tryCast)(m,U);y&&y.setRadius(.5*n)}}}}},e}(Tt);(0,s._registerModule)("wijmo.chart",a)},45127:(t,e,i)=>{i.d(e,{A:()=>c,IO:()=>a,gT:()=>u,t3:()=>_,tN:()=>l,vc:()=>h,w7:()=>o});var n=i(6890),r=i(5882),s=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e){return t.call(this,e,r.FlexChart,{objectProps:["palette","plotMargin","footerStyle","headerStyle","itemsSource","options","selection","renderEngine"]})||this}return s(e,t),e.prototype.componentDidMount=function(){var e=t.prototype.componentDidMount.call(this);return this._setExtra(this.props),e},e.prototype.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this._setExtra(this.props)},e.prototype._setExtra=function(t){"tooltipContent"in t&&(this.control.tooltip.content=t.tooltipContent),"labelContent"in t&&(this.control.dataLabel.content=t.labelContent)},e}(n.x),o=function(t){function e(e){return t.call(this,e,r.FlexPie,{objectProps:["palette","plotMargin","footerStyle","headerStyle","itemsSource","titles","innerTextStyle"]})||this}return s(e,t),e.prototype.componentDidMount=function(){var e=t.prototype.componentDidMount.call(this);return this._setExtra(this.props),e},e.prototype.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this._setExtra(this.props)},e.prototype._setExtra=function(t){"tooltipContent"in t&&(this.control.tooltip.content=t.tooltipContent),"labelContent"in t&&(this.control.dataLabel.content=t.labelContent)},e}(n.x),h=function(t){function e(e){var i=t.call(this,e,r.Axis,{objectProps:["plotArea","itemsSource"]})||this;return i._parentProp="axes",i}return s(e,t),e}(n.x),l=function(t){function e(e){var i=t.call(this,e,r.Legend)||this;return i._parentProp="legend",i._parentInCtor=!0,i}return s(e,t),e}(n.x),u=function(t){function e(e){var i=t.call(this,e,r.DataLabel,{objectProps:["content"]})||this;return i._parentProp="dataLabel",i}return s(e,t),e}(n.x),c=function(t){function e(e){var i=t.call(this,e,r.PieDataLabel,{objectProps:["content"]})||this;return i._parentProp="dataLabel",i}return s(e,t),e}(n.x),_=function(t){function e(e){var i=t.call(this,e,r.Series,{objectProps:["axisX","axisY","style","altStyle","symbolStyle","itemsSource","tooltipContent"]})||this;return i._parentProp="series",i._siblingId="series",i}return s(e,t),e}(n.x);(function(t){function e(e){var i=t.call(this,e,r.LineMarker)||this;return i._parentInCtor=!0,i}s(e,t)})(n.x),function(t){function e(e){var i=t.call(this,e,r.DataPoint)||this;return i._parentProp="",i}s(e,t)}(n.x),function(t){function e(e){var i=t.call(this,e,r.PlotArea,{objectProps:["style"]})||this;return i._parentProp="plotAreas",i}s(e,t)}(n.x)}}]);
//# sourceMappingURL=5127.d52ad74d.chunk.js.map