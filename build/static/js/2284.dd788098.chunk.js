"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[2284,5841,8222,1367,3235],{66554:(e,t,i)=>{i.d(t,{$:()=>c});var a=i(65043),n=i(72711),o=i(67907),s=i(65187),l=i(69062),r=i(70579);function d(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:d,selectedShareholder:c,onShareholderChange:m,onDelete:p,onAdd:h,popUpContent:u,shrVisible:g,handleBreadCrumbClick:C,addVisible:S,deleteVisible:x}=e;const[y,R]=(0,a.useState)(!1),[T,j]=(0,a.useState)(!1);function b(){t.add&&(u.length>0?j(!1===T):h())}return(0,r.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,r.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,r.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,r.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,r.jsxs)(s.A,{children:[" ",(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsxs)(n.Breadcrumb,{children:[i.parents.map((t=>(0,r.jsx)(n.Breadcrumb.Item,{onClick:()=>{void 0!==C&&null!==C&&C(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,r.jsx)(n.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,r.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===g?"":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,r.jsx)("div",{className:"opSelect",children:(0,r.jsx)(n.Select,{placeholder:e("Common_Shareholder"),value:c,disabled:!t.shareholder,options:l.Zj(d),onChange:e=>m(e)})})]})})})}),(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsxs)(n.Modal,{open:y,size:"small",children:[(0,r.jsx)(n.Modal.Content,{children:(0,r.jsx)("div",{children:(0,r.jsx)("b",{children:e("Confirm_Delete")})})}),(0,r.jsxs)(n.Modal.Footer,{children:[(0,r.jsx)(n.Button,{type:"secondary",content:e("Cancel"),onClick:()=>R(!1)}),(0,r.jsx)(n.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{R(!1),p()}})]})]})})]})}),(0,r.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,r.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[S?(0,r.jsx)(n.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,r.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:b,children:(0,r.jsx)(n.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:T,children:(0,r.jsx)("div",{onMouseLeave:()=>j(!1),children:(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsx)(n.VerticalMenu,{children:(0,r.jsxs)(n.VerticalMenu,{children:[(0,r.jsx)(n.VerticalMenu.Header,{children:e("Common_Create")}),u.map((t=>(0,r.jsx)(n.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,j(!1),void h(e);var e},children:e(t.fieldValue)})))]})})})})}):"",x?(0,r.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&R(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,r.jsx)(n.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}d.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};i(38726);function c(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:a,selectedShareholder:n,onShareholderChange:o,onDelete:s,onAdd:l,popUpContent:c,shrVisible:m,handleBreadCrumbClick:p,addVisible:h,deleteVisible:u}=e;return(0,r.jsx)(d,{operationsVisibilty:t,breadcrumbItem:i,shareholders:a,selectedShareholder:n,onShareholderChange:o,onDelete:s,onAdd:l,popUpContent:c,shrVisible:m,handleBreadCrumbClick:p,addVisible:h,deleteVisible:u})}},19380:(e,t,i)=>{i.d(t,{A:()=>T});var a=i(65043),n=i(728),o=i(62672),s=i(27976),l=i(44063),r=i(39078),d=i(48546),c=i(82967),m=i(11201),p=i(43439),h=(i(60663),i(48385)),u=i(72711),g=i(67907),C=i(65187),S=i(53536),x=(i(90837),i(70579));const y=e=>{const[t,i]=(0,a.useState)(null),[y]=(0,g.useTranslation)(),R=t=>new n.CollectionView(e.sourceData,{pageSize:t}),[T,j]=(0,a.useState)(R(e.rowsPerPage)),b=a.createRef(),D=a.createRef(),f=a.createRef(),v=a.createRef(),w=a.useRef(),N=a.useRef(e.selectionRequired?[]:null);let P=null;const E=t=>{try{if(A(),e.onRowClick&&t.addEventListener(t.hostElement,"click",(i=>{let a=t.hitTest(i);if(a.target.closest(".wj-cell")&&![...a.target.closest(".wj-cell").classList].includes("wj-group")&&a.cellType===o.CellType.Cell){const i=t.rows[a.row].dataItem;e.onRowClick(i)}})),t.selectionMode=n.asEnum("None",o.SelectionMode),t.select(-1,-1),i(t),e.selectionRequired){P=new m.Selector(t,{itemChecked:(i,a)=>{e.singleSelection&&t.rows.filter((e=>e.isSelected&&1===N.current.filter((t=>S.isEqual(t,e.dataItem))).length)).forEach((e=>{e.isSelected=!1})),e.onSelectionHandle(t.rows.filter((e=>e.isSelected)).map((e=>e.dataItem)))},showCheckAll:!e.singleSelection});let i=P.column.grid;P.column=i.rowHeaders.columns[0],i.headersVisibility=o.HeadersVisibility.All,i.selectionMode=n.asEnum("None",o.SelectionMode)}}catch(a){console.log("Error in gridInitialized: "+a)}};(0,a.useEffect)((()=>{try{if(null!=b){let e=b.current.control;D.current.control.grid=e}j(R(e.rowsPerPage))}catch(t){console.log("Error in grid update:",t)}}),[e.sourceData]),(0,a.useEffect)((()=>{try{t&&e.selectionRequired&&(N.current.length=0,N.current.push(...e.selectedItems),t.rows.forEach((t=>{1===e.selectedItems.filter((e=>S.isEqual(e,t.dataItem))).length?t.isSelected=!0:t.isSelected=!1})),t.refresh())}catch(i){console.log("Error in pre-selecting rows:",i)}}),[e.selectedItems]),(0,a.useEffect)((()=>{try{if(localStorage.getItem(e.parentComponent+"GridState")&&"null"!==localStorage.getItem(e.parentComponent+"GridState")&&t){let a=JSON.parse(localStorage.getItem(e.parentComponent+"GridState")),o=t;o.columns.forEach((e=>{let t=a.columns.filter((t=>t.binding===e.binding));e.visible=t.length>0?t[0].visible:e.visible})),f.current.control.filterDefinition=a.filterDefinition,o.collectionView.deferUpdate((()=>{o.collectionView.sortDescriptions.clear();for(let e=0;e<a.sortDescriptions.length;e++){let t=a.sortDescriptions[e];o.collectionView.sortDescriptions.push(new n.SortDescription(t.property,t.ascending))}}));for(let e=0;e<a.groupDescriptions.length;e++)o.collectionView.groupDescriptions.push(new n.PropertyGroupDescription(a.groupDescriptions[e])),o.columns.filter((t=>t.binding===a.groupDescriptions[e]))[0].visible=!1;if(sessionStorage.getItem(e.parentComponent+"GridState")&&"null"!==sessionStorage.getItem(e.parentComponent+"GridState")){let t=JSON.parse(sessionStorage.getItem(e.parentComponent+"GridState"));o.collectionView.moveToPage(o.collectionView.pageCount-1>=t.pageIndex?t.pageIndex:o.collectionView.pageCount-1),D&&(D.current.control.text=t.searchText)}i(o),t.refresh()}}catch(a){console.log("Error in restoring local storage settings: ",a)}}),[T]),(0,a.useEffect)((()=>{try{t&&w.current&&e.columnPickerRequired&&(w.current.itemsSource=t.columns,w.current.checkedMemberPath="visible",w.current.displayMemberPath="header",w.current.lostFocus.addHandler((()=>{(0,n.hidePopup)(w.current.hostElement)})))}catch(i){console.log("Error in initializing column picker properties:",i)}}),[w.current]),(0,a.useEffect)((()=>()=>{e.columnPickerRequired&&w.current&&(0,n.hidePopup)(w.current.hostElement)}),[]);const L=()=>{try{let a=t;a.itemsSource.pageSize=e.sourceData.length,i(a),p.FlexGridXlsxConverter.saveAsync(t,{includeColumnHeaders:!0,includeCellStyles:!1,formatItem:null},e.exportFileName),a.itemsSource.pageSize=e.rowsPerPage,i(a)}catch(a){console.log("Error in export grid to excel:",a)}},M=(t,i)=>{if(void 0!==i&&null!==i){if("boolean"===typeof t||"Active"===i.Name)return t?(0,x.jsx)(u.Icon,{name:"check",size:"small",color:"green"}):(0,x.jsx)(u.Icon,{name:"close",size:"small",color:"red"});if(""===t||null===t||void 0===t)return t;if(("TerminalCodes"===i.Name||"1"===i.PopOver)&&null!==t)return(a=t).split(",").length>e.terminalsToShow?(0,x.jsx)(u.Popup,{className:"popup-theme-wrap",on:"hover",element:a.split(",").length,children:(0,x.jsx)(u.Card,{children:(0,x.jsx)(u.Card.Content,{children:a})})}):a;if(void 0!==i.DataType&&"DateTime"===i.DataType)return new Date(t).toLocaleDateString()+" "+new Date(t).toLocaleTimeString();if(void 0!==i.DataType&&"Date"===i.DataType)return new Date(t).toLocaleDateString();if(void 0!==i.DataType&&"Time"===i.DataType)return new Date(t).toLocaleTimeString()}var a;return t},k=()=>{try{if(t&&f.current){let i={columns:t.columns.map((e=>({binding:e.binding,visible:e.visible}))),filterDefinition:f.current.control.filterDefinition,sortDescriptions:t.collectionView.sortDescriptions.map((e=>({property:e.property,ascending:e.ascending}))),groupDescriptions:t.collectionView.groupDescriptions.map((e=>e.propertyName?e.propertyName:null))};if(t.collectionView.groupDescriptions&&t.collectionView.groupDescriptions.length>0){[...document.getElementsByClassName("wj-column-selector-group")].forEach((e=>{e.parentNode.parentNode.classList.add("wj-grouped-checkbox")}))}let a={pageIndex:t.collectionView.pageIndex,searchText:D.current.control.text};localStorage.setItem(e.parentComponent+"GridState",JSON.stringify(i)),sessionStorage.setItem(e.parentComponent+"GridState",JSON.stringify(a))}}catch(i){console.log("Error in saving grid state")}},A=()=>{let e=n.culture.FlexGridFilter,t=r.Operator;n.culture.FlexGridFilter.header=y("WijmoGridFilterHeader"),n.culture.FlexGridFilter.ascending="\u2191 "+y("WijmoGridFilterAscending"),n.culture.FlexGridFilter.descending="\u2193 "+y("WijmoGridFilterDescending"),n.culture.FlexGridFilter.apply=y("RoleAdminEdit_Apply"),n.culture.FlexGridFilter.clear=y("OrderCreate_btnClear"),n.culture.FlexGridFilter.conditions=y("WijmoGridFilterCondition"),n.culture.FlexGridFilter.values=y("WijmoGridFilterValue"),n.culture.FlexGridFilter.search=y("LoadingDetailsView_SearchGrid"),n.culture.FlexGridFilter.selectAll=y("WijmoGridFilterSelectAll"),n.culture.FlexGridFilter.and=y("WijmoGridFilterAnd"),n.culture.FlexGridFilter.or=y("WijmoGridFilterOr"),n.culture.FlexGridFilter.cancel=y("AccessCardInfo_Cancel"),e.stringOperators=[{name:y("WijmoGridFilterUnset"),op:null},{name:y("WijmoGridFilterEqual"),op:t.EQ},{name:y("WijmoGridFilterNotEqual"),op:t.NE},{name:y("WijmoGridFilterBeginsWith"),op:t.BW},{name:y("WijmoGridFilterEndsWith"),op:t.EW},{name:y("WijmoGridFilterContains"),op:t.CT},{name:y("WijmoGridFilterDoesNotContain"),op:t.NC}],e.numberOperators=[{name:y("WijmoGridFilterUnset"),op:null},{name:y("WijmoGridFilterEqual"),op:t.EQ},{name:y("WijmoGridFilterNotEqual"),op:t.NE},{name:y("WijmoGridFilterGreaterThan"),op:t.GT},{name:y("WijmoGridFilterLessThan"),op:t.LT},{name:y("WijmoGridFilterGreaterThanOrEqual"),op:t.GE},{name:y("WijmoGridFilterLessThanOrEqual"),op:t.LE}],e.dateOperators=[{name:y("WijmoGridFilterUnset"),op:null},{name:y("WijmoGridFilterEqual"),op:t.EQ},{name:y("WijmoGridFilterDateEarlierThan"),op:t.LT},{name:y("WijmoGridFilterDateLaterThan"),op:t.GT}],e.booleanOperators=[{name:y("WijmoGridFilterUnset"),op:null},{name:y("WijmoGridFilterEqual"),op:t.EQ},{name:y("WijmoGridFilterNotEqual"),op:t.NE}]},I=e=>{try{if(window.screen.width<1024&&e.WidthPx&&""!==e.WidthPx)return parseInt(e.WidthPx)}catch(t){console.log("Error in width:",t)}return e.WidthPercentage.includes("*")?e.WidthPercentage:parseInt(e.WidthPercentage)};return(0,x.jsx)("div",{className:"pl-1",children:(0,x.jsx)(C.A,{children:(0,x.jsx)(g.TranslationConsumer,{children:i=>(0,x.jsxs)(a.Fragment,{children:[(0,x.jsxs)("div",{className:"row pl-0",children:[(0,x.jsx)("div",{className:"col-10 col-sm-12 col-md-5 col-lg-6",children:(0,x.jsx)(d.q,{class:"ui single-input",ref:D,placeholder:i("LoadingDetailsView_SearchGrid")})}),(0,x.jsx)("div",{className:"col-10 col-sm-12 col-md-7 col-lg-6",children:(0,x.jsxs)("div",{style:{float:"right"},children:[e.columnPickerRequired?(0,x.jsxs)(u.Button,{id:"colPicker",actionType:"button",type:"primary",onClick:e=>(e=>{try{let i=w.current.hostElement;i.offsetHeight?((0,n.hidePopup)(i,!0,!0),t.focus()):((0,n.showPopup)(i,e.target,n.PopupPosition.Below,!0,!1),w.current.focus()),w.current.focus(),e.preventDefault()}catch(i){console.log("Error in Column Picker click event:",i)}})(e),children:[(0,x.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridColumnPicker")}),(0,x.jsx)("div",{style:{display:"inline-block"},children:(0,x.jsx)(u.Icon,{name:"caret-down",className:"btnIcon",size:"small"})})]}):null,e.exportRequired?(0,x.jsxs)(u.Button,{actionType:"button",type:"primary",className:"mt-3 mt-md-0",onClick:L,children:[(0,x.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridExport")}),(0,x.jsx)("div",{style:{display:"inline-block",marginLeft:"0.2rem"},children:(0,x.jsx)("span",{className:"icon-Xls",style:{fontSize:"17px",position:"absolute",top:"3px"}})})]}):null]})})]}),(0,x.jsxs)("div",{className:"tableScroll",children:[e.columnGroupingRequired?(0,x.jsx)(h.u,{className:"group-panel",grid:t,placeholder:i("WijmoGridGroupPanelPlaceholder")}):null,(0,x.jsx)(C.A,{children:(0,x.jsxs)(s.MC,{ref:b,autoGenerateColumns:!1,alternatingRowStep:0,autoRowHeights:!0,headersVisibility:"Column",itemsSource:T,selectionMode:n.asEnum("None",o.SelectionMode),initialized:E,virtualizationThreshold:[0,1e4],onUpdatedView:k,children:[(0,x.jsx)(l.M,{ref:f}),e.columns.map((t=>(0,x.jsx)(s.aK,{header:i(t.Name),binding:t.Name,width:I(t),minWidth:100,isReadOnly:!0,wordWrap:!0,align:"left",children:(0,x.jsx)(s.Gw,{cellType:"Cell",template:i=>(0,x.jsx)("span",{style:null!=e.conditionalRowStyleCheck&&e.conditionalRowStyleCheck(i.item)?{...e.conditionalRowStyles}:null,children:M(i.item[t.Name],t)})})},t.Name)))]})}),e.columnPickerRequired?(0,x.jsx)("div",{className:"column-picker-div",children:(0,x.jsx)(c.qF,{className:"column-picker",initialized:t=>(t=>{e.columnPickerRequired&&(w.current=t)})(t)})}):null]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)(c.Ne,{ref:v,className:"ml-auto mr-auto mt-3",headerFormat:i("WijmoGridPagingTemplate"),byPage:!0,cv:T})})]})})})})};y.defaultProps={sourceData:[],columns:[],exportRequired:!0,exportFileName:"Grid.xlsx",selectionRequired:!1,columnPickerRequired:!1,columnGroupingRequired:!1,rowsPerPage:10,terminalsToShow:2,singleSelection:!1,selectedItems:[]};const R=y,T=e=>(0,x.jsx)(R,{sourceData:e.data,columns:e.columns,exportRequired:e.exportRequired,exportFileName:e.exportFileName,columnPickerRequired:e.columnPickerRequired,selectionRequired:e.selectionRequired,columnGroupingRequired:e.columnGroupingRequired,conditionalRowStyleCheck:e.conditionalRowStyleCheck,conditionalRowStyles:e.conditionalRowStyles,rowsPerPage:e.rowsPerPage,onSelectionHandle:e.onSelectionHandle,onRowClick:e.onRowClick,parentComponent:e.parentComponent,terminalsToShow:e.terminalsToShow,singleSelection:e.singleSelection,selectedItems:e.selectedItems})},21367:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var a=i(65043),n=i(67907),o=i(78374),s=i(72711),l=i(70579);function r(e){let{marineTransloading:t,marineReceipt:i,dsCompartmentsBaseProduct:a,dsTransloadingShipments:r,dsTransloadingShipmentLoadingDetails:d,marineTransloadingAssociatedShipmentsColumns:c,marineTransloadingDetailsColumns:m,handleRowSelectionChange:p,onRowClick:h,selectedCompRow:u,setCurrentList:g,isSelect:C,expandedRows:S,toggleExpand:x,compartmentDetailsPageSize:y}=e;const[R]=(0,n.useTranslation)(),T=e=>{const t=S.findIndex((t=>t.compSeqNo===e.rowData.compSeqNo))>=0;return(0,l.jsx)("div",{onClick:()=>x(e.rowData,t),className:"compartmentIcon gridButtonFontColor",children:(0,l.jsx)(s.Icon,{root:"common",name:t?"slidercontrols-minus":"ellipsis-horizontal",className:"margin_l10"})})},j=e=>{if(null===e||void 0===e)return"";const t=e.split(" ",2);return 2!==t.length||""===t[0]?"":parseFloat(t[0]).toLocaleString()+" "+t[1]},b=e=>{let t=[];return t.push(e),(0,l.jsx)("div",{className:"childTable ChildGridViewAllShipmentLoadingDetails",children:(0,l.jsxs)(o.bQ,{data:t,children:[(0,l.jsx)(o.bQ.Column,{className:"starttotalizer",field:"starttotalizer",header:R("StartTotalizer"),editable:!1},"starttotalizer"),(0,l.jsx)(o.bQ.Column,{className:"endtotalizer",field:"endtotalizer",header:R("EndTotalizer"),editable:!1},"endtotalizer"),(0,l.jsx)(o.bQ.Column,{className:"productdensity",field:"productdensity",header:R("Density"),editable:!1,renderer:e=>j(e.value)},"productdensity"),(0,l.jsx)(o.bQ.Column,{className:"temperature",field:"temperature",header:R("Temperature"),editable:!1},"temperature"),(0,l.jsx)(o.bQ.Column,{className:"pressure",field:"pressure",header:R("Pressure"),editable:!1},"pressure")]})})};return(0,l.jsx)(n.TranslationConsumer,{children:e=>(0,l.jsxs)("div",{className:"detailsContainer",children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("BayAllocationReceiptSearch_ReceiptCode")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:i.ReceiptCode})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("BayAllocationReceiptSearch_ReceiptStatus")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:i.ReceiptStatus})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_NoOfComps")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.totalNoOfTransWagons})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_NoOfBps")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.NoOfProducts})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_TotalReceiptQty")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.receiptPlannedQty.toLocaleString()+" "+t.PlanQuantityUOM})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_ReceiptPlannedQty")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.totalPlannedQtyForTransloadingWagons.toLocaleString()+" "+t.PlanQuantityUOM})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_ReceiptUnloadedQty")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.totalUnloadedQtyForTransloadingWagons.toLocaleString()+" "+t.UnloadedQuantityUOM})]})]}),(0,l.jsxs)("div",{className:"row",style:{alignItems:"stretch"},children:[(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",style:{border:"1px solid #c8c8c8",minHeight:"400px"},children:[(0,l.jsx)("div",{children:(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_Compartments")})}),(0,l.jsx)("ul",{children:t.lstCompartmentList.map(((e,t)=>(0,l.jsx)("li",{index:t,className:C===t?"activeted":"",onClick:t=>g(t,e.CompartmentCode),children:e.compartBP},e.CompartmentCode)))})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-10",children:[(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-10",children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("Marine_ReceiptCompDetail_CompartmentCode")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:t.selectCompartment.CompartmentCode})]})}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("b",{children:(0,l.jsx)("label",{children:e("viewTransloading_BPCode")})}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.selectCompartment.CompartmentProduct})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("b",{children:(0,l.jsx)("label",{children:e("LocalTransactionsMapping_PlannedQuantity")})}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.selectCompartment.PlannedQuantity.toLocaleString()+" "+t.selectCompartment.PlanQuantityUOM})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("b",{children:(0,l.jsx)("label",{children:e("UnLoadingInfo_UnloadQuantity")})}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.selectCompartment.UnloadedQuantity.toLocaleString()+" "+t.selectCompartment.UnloadedQuantityUOM})]}),(0,l.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[(0,l.jsx)("b",{children:(0,l.jsx)("label",{children:e("UserAdmin_Status")})}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "}),(0,l.jsx)("label",{children:t.selectCompartment.ReceiptCompartmentStatus})]})]}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"row",style:{display:t.showShipment?"block":"none"},children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_AssocShips")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:" "})]}),(0,l.jsx)("div",{className:"row",style:{display:t.showShipment?"block":"none"},children:(0,l.jsx)(o.bQ,{data:r,selectionMode:"multiple",onCellClick:e=>void 0!==h?h(e.rowData):{},onSelectionChange:p,children:null!==r&&r.length>0?c.map((function(t){return(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:t.field,header:e(t.displayName),editable:!1,rowHeader:!1,editFieldType:"text"},t.displayName)})):""})}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"row",style:{display:t.showLoadingDetails?"block":"none"},children:[(0,l.jsx)("label",{className:"TransloadingheaderLabel",children:e("viewTransloading_ShipLoadingDetails")}),(0,l.jsx)("label",{children:":"}),(0,l.jsx)("label",{children:""})]}),(0,l.jsx)("div",{className:"row",style:{display:t.showLoadingDetails?"block":"none"},children:(0,l.jsxs)(o.bQ,{data:d,selectionMode:"multiple",rowExpansionTemplate:b,expandedRows:S,children:[(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"trailercode",header:e("Trailer"),editable:!1},"trailercode"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"compSeqNo",header:e("ViewMarineLoadingDetails_CompartmentSeqNo"),editable:!1},"compSeqNo"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"compartmentcode",header:e("ViewShipment_CompartmentCode"),editable:!1},"compartmentcode"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"productcode",header:e("UnloadingDetails_BaseProductCode"),editable:!1},"productcode"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"bcuCode",header:e("BCU_BCU"),editable:!1},"bcuCode"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"meterCode",header:e("Meter_Meter"),editable:!1},"meterCode"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"grossquantity",header:e("GrossQuantity"),editable:!1,renderer:e=>j(e.value)},"grossquantity"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"netquantity",header:e("NetQuantity"),editable:!1,renderer:e=>j(e.value)},"netquantity"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"starttime",header:e("StartTime"),editable:!1,renderer:e=>new Date(e.value).toLocaleDateString()+" "+new Date(e.value).toLocaleTimeString()},"starttime"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",field:"endtime",header:e("EndTime"),editable:!1,renderer:e=>new Date(e.value).toLocaleDateString()+" "+new Date(e.value).toLocaleTimeString()},"endtime"),(0,l.jsx)(o.bQ.Column,{className:"compColHeight",renderer:T})]})})]})]})]})})}var d=i(69062),c=i(46100),m=i(40854),p=i.n(m),h=i(72067),u=i(7523),g=i(9966),C=i(50805),S=i(97508),x=(i(38726),i(65187)),y=i(43503),R=i(93779),T=i(28882),j=i(53536),b=i.n(j),D=i(40252);class f extends a.Component{constructor(){super(...arguments),this.state={marineReceipt:b().cloneDeep(c.Gi),marineTransloading:b().cloneDeep(c.tj),modMarineReceipt:{},marineTransloadingAssociatedShipmentsColumns:b().cloneDeep(T.$$),marineTransloadingDetailsColumns:b().cloneDeep(T.A7),isReadyToRender:!1,listOptions:{shareholders:this.getShareholders(),terminalCodes:this.props.terminalCodes},dsCompartmentsBaseProduct:[],dsTransloadingShipments:[],dsTransloadingShipmentLoadingDetails:[],saveEnabled:!1,selectedCompRow:[],selectedAll:!1,isSelect:-1,selectCompartmentCode:"",expandedRows:[]},this.handleRowSelectionChange=e=>{this.setState({selectedCompRow:e})},this.toggleExpand=(e,t)=>{let i=this.state.expandedRows,a=i.findIndex((t=>t.compSeqNo===e.compSeqNo));t?i.splice(a,1):i.push(e),this.setState({expandedRows:i})},this.handleRowClick=e=>{try{var t=b().cloneDeep(this.state.dsCompartmentsBaseProduct);let i=b().cloneDeep(this.state.selectCompartmentCode);(null!=e.shipmentCode||e.shipmentCode.length>0)&&t.forEach((t=>{i===t.CompartmentCode&&this.getShipmentLoadingDetails(e.shipmentCode,t.ReceiptCode,t.TrailerCode,t.CompartmentCode)})),this.setState({dsCompartmentsBaseProduct:t})}catch(i){console.log("CarrierCompanyComposite:Error occured on Row click",i)}},this.setCurrentList=(e,t)=>{try{var i=b().cloneDeep(this.state.marineTransloading),a=b().cloneDeep(this.state.marineReceipt);b().cloneDeep(this.state.selectCompartmentCode)!==t&&(i.showLoadingDetails=!1,a.RailMarineReceiptCompartmentPlanList.forEach((a=>{t===a.CompartmentCode&&(i.selectCompartment.CompartmentCode=a.CompartmentCode,i.selectCompartment.CompartmentProduct=this.GetBaseProductForCompartment(a.TrailerCode,a.CompartmentCode),i.selectCompartment.PlanQuantityUOM=a.PlanQuantityUOM,i.selectCompartment.PlannedQuantity=a.PlannedQuantity.toLocaleString(),void 0!==a.UnloadedQuantityUOM&&null!==a.UnloadedQuantityUOM?i.selectCompartment.UnloadedQuantityUOM=a.UnloadedQuantityUOM:i.selectCompartment.UnloadedQuantityUOM="",void 0!==a.UnloadedQuantity&&null!==a.UnloadedQuantity?i.selectCompartment.UnloadedQuantity=a.UnloadedQuantity.toLocaleString():i.selectCompartment.UnloadedQuantity="0",i.selectCompartment.ReceiptCompartmentStatus=(0,d.cd)(u.vy,a.ReceiptCompartmentStatus),this.setState({isSelect:Number(e.currentTarget.getAttribute("index")),marineTransloading:i,selectCompartmentCode:t}),this.getReceiptShipments(a.TrailerCode,a.ReceiptCode,a.CompartmentCode,i))})))}catch(n){console.log("MarineTransloadingDetailsComposite:Error occured on setCurrentList",n)}},this.getReceiptShipments=(e,t,i,a)=>{try{var n=[];this.setState({dsTransloadingShipments:n,marineTransloading:a});let o={trailerCode:e,receiptCode:t,compartmentCode:i,transportationType:this.getTransportationType()};p()(h.MdU,d.tW(o,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=t.EntityResult.Table;null!=e&&e.length>0&&(a.showShipment=!0,e.forEach((e=>{var t,i;null!==e.LoadedQty&&void 0!==e.LoadedQty&&(t=e.LoadedQty.toLocaleString()+" "+e.LoadedQuantityUOM),null!==e.quantity&&void 0!==e.quantity&&(i=e.quantity.toLocaleString()+" "+e.QuantityUOM),n.push({driver:e.driver,id:e.id,id1:e.id1,LoadedQty:t,LoadedQuantityUOM:e.LoadedQuantityUOM,quantity:i,QuantityUOM:e.QuantityUOM,shipmentCode:e.shipmentCode,shipmentStatus:e.shipmentStatus,vehicle:e.vehicle})})),this.setState({dsTransloadingShipments:n,marineTransloading:a,isReadyToRender:!0}))}else a.showShipment=!1,this.setState({dsTransloadingShipments:n,marineTransloading:a,isReadyToRender:!0}),console.log("Error in GetTransloadingShipments:",t.ErrorList)})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while geting GetTransloadingShipments List:",e)}))}catch(o){console.log("GetTransloadingShipments:Error occured on GetTransloadingShipments",o)}},this.handleReset=()=>{}}getShipmentLoadingDetails(e,t,i,a){try{var n=b().cloneDeep(this.state.marineTransloading),o=b().cloneDeep(this.state.dsTransloadingShipments),s=b().cloneDeep(this.state.dsTransloadingShipmentLoadingDetails);this.setState({dsTransloadingShipmentLoadingDetails:s,marineTransloading:n,dsTransloadingShipments:o});let l={shipmentCode:e,trailerCode:i,receiptCode:t,compartmentCode:a,transportationType:this.getTransportationType()};p()(h.ll,d.tW(l,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?null!=(s=b().cloneDeep(t.EntityResult.Table))&&s.length>0&&(n.showLoadingDetails=!0,this.setState({dsTransloadingShipmentLoadingDetails:s,marineTransloading:n,isReadyToRender:!0})):(n.showLoadingDetails=!1,this.setState({dsTransloadingShipmentLoadingDetails:s,marineTransloading:n,isReadyToRender:!0}),console.log("Error in GetShipmentLoadingDetails:",t.ErrorList))})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while geting GetShipmentLoadingDetails List:",e)}))}catch(l){console.log("GetShipmentLoadingDetails:Error occured on GetShipmentLoadingDetails",l)}}componentWillReceiveProps(e){try{""!==this.state.marineReceipt.ReceiptCode&&void 0===e.selectedRow.Common_Code&&this.GetTransloadingReceiptCompartments(e.selectedRow)}catch(t){console.log("MarineTransloadingDetailsComposite:Error occured on componentWillReceiveProps",t)}}componentDidMount(){try{d.pJ(this.props.userDetails.EntityResult.IsArchived),this.GetCompartmentsBaseProducts(this.props.selectedRow.ReceiptCode)}catch(e){console.log("MarineTransloadingDetailsComposite:Error occured on componentDidMount",e)}}getShareholders(){return d.Zj(this.props.userDetails.EntityResult.ShareholderList)}GetCompartmentsBaseProducts(e){var t=this.getTransportationType();c.tj.TransportationType=t;var i=b().cloneDeep(this.state.listOptions);c.tj.QuantityUOM=this.props.userDetails.EntityResult.PageAttibutes.DefaultUOMS.QuantityUOM,c.tj.TerminalCodes=1===this.props.terminalCodes.length?[...this.props.terminalCodes]:[],void 0!==e?p()(h.Xe$+"?ReceiptCode="+e+"&TransportationType=MARINE",d.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data;if(!0===i.IsSuccess){var a=b().cloneDeep(this.state.marineTransloading),n=b().cloneDeep(i.EntityResult.Table);if(Array.isArray(n)&&n.length>0){n.forEach((e=>{e.IsTransloading&&(0===a.lstCompartmentBPs.length&&a.lstCompartmentBPs.push(e.BaseProductCode),0===a.lstCompartmentBPs.filter(((t,i)=>t.BaseProductCode!==e.BaseProductCode)).length&&a.lstCompartmentBPs.push(e.BaseProductCode))}));let e=[];n.forEach((t=>{if(t.IsTransloading){e.findIndex((e=>e===t.BaseProductCode))<0&&e.push(t.BaseProductCode)}})),a.NoOfProducts=e.length,a.PlanQuantityUOM=n[0].PlanQuantityUOM,void 0!==n[0].UnloadedQuantityUOM&&null!==n[0].UnloadedQuantityUOM?a.UnloadedQuantityUOM=n[0].UnloadedQuantityUOM:a.UnloadedQuantityUOM=n[0].PlanQuantityUOM}this.setState({isReadyToRender:!0,marineTransloading:b().cloneDeep(a),dsCompartmentsBaseProduct:b().cloneDeep(n)}),this.getMarineReceipt(e)}else this.setState({marineTransloading:b().cloneDeep(c.tj),modmarineTransloading:b().cloneDeep(c.tj),isReadyToRender:!0}),console.log("Error in GetCompartmentsBaseProducts:",i.ErrorList)})).catch((e=>{console.log("Error while getting GetCompartmentsBaseProducts:",e)})):this.setState({marineTransloading:{...c.tj},modmarineTransloading:{...c.tj},listOptions:i,isReadyToRender:!0})}getMarineReceipt(e){var t=this.getTransportationType();c.tj.TransportationType=t,c.tj.Active=!0,c.tj.QuantityUOM=this.props.userDetails.EntityResult.PageAttibutes.DefaultUOMS.QuantityUOM,c.tj.TerminalCodes=1===this.props.terminalCodes.length?[...this.props.terminalCodes]:[];var i=[{key:R.UB,value:e},{key:R.v6,value:t}],a={ShareHolderCode:this.props.selectedShareholder,keyDataCode:R.UB,KeyCodes:i};p()(h.t7V,d.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){var i=b().cloneDeep(this.state.marineTransloading);let e=t.EntityResult;null!=this.props.selectedRow&&void 0!=this.props.selectedRow&&(e.ReceiptStatus=this.props.selectedRow.ReceiptStatus),null!=e&&null!=e.RailMarineReceiptCompartmentPlanList&&e.RailMarineReceiptCompartmentPlanList.forEach((e=>{if(null!==e.IsTransloading&&""!==e.IsTransloading&&e.IsTransloading){var t=e.CompartmentCode+"("+this.GetBaseProductForCompartment(e.TrailerCode,e.CompartmentCode)+")";i.lstCompartmentList.push({compartBP:t,CompartmentCode:e.CompartmentCode}),i.totalNoOfTransWagons+=1,i.totalPlannedQtyForTransloadingWagons+=e.PlannedQuantity,void 0!==e.UnloadedQuantity&&null!==e.UnloadedQuantity&&(i.totalUnloadedQtyForTransloadingWagons+=e.UnloadedQuantity)}i.receiptPlannedQty+=e.PlannedQuantity})),this.setState({isReadyToRender:!0,marineReceipt:b().cloneDeep(t.EntityResult),marineTransloading:b().cloneDeep(i)})}else this.setState({marineReceipt:b().cloneDeep(c.tj),modMarineReceipt:b().cloneDeep(c.tj),isReadyToRender:!0}),console.log("Error in getMarineReceipt:",t.ErrorList)})).catch((e=>{console.log("Error while getting marineReceipt:",e)}))}GetBaseProductForCompartment(e,t){let i="";var a=b().cloneDeep(this.state.dsCompartmentsBaseProduct);if(Array.isArray(a)&&a.length>0){var n=a.filter(((i,a)=>i.TrailerCode===e&&i.CompartmentCode===t));void 0!==n&&n.length>0&&(i=n[0].BaseProductCode)}return i}getTransportationType(){var e=u.LY.MARINE;const{genericProps:t}=this.props;return void 0!==t&&void 0!==t.transportationType&&(e=t.transportationType),e}render(){return this.state.isReadyToRender?(0,l.jsxs)("div",{children:[(0,l.jsx)(x.A,{children:(0,l.jsx)(y.A,{newEntityName:"viewTransloading_PageTitle"})}),(0,l.jsx)(x.A,{children:(0,l.jsx)(r,{marineReceipt:this.state.marineReceipt,marineTransloading:this.state.marineTransloading,selectedCompRow:this.state.selectedCompRow,dsCompartmentsBaseProduct:this.state.dsCompartmentsBaseProduct,dsTransloadingShipmentLoadingDetails:this.state.dsTransloadingShipmentLoadingDetails,dsTransloadingShipments:this.state.dsTransloadingShipments,marineTransloadingAssociatedShipmentsColumns:this.state.marineTransloadingAssociatedShipmentsColumns,marineTransloadingDetailsColumns:this.state.marineTransloadingDetailsColumns,handleRowSelectionChange:this.handleRowSelectionChange,onRowClick:this.handleRowClick,setCurrentList:this.setCurrentList,isSelect:this.state.isSelect,expandedRows:this.state.expandedRows,toggleExpand:this.toggleExpand})}),(0,l.jsx)(x.A,{children:(0,l.jsx)(n.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col col-2",children:(0,l.jsx)(s.Button,{className:"backButton",onClick:this.props.onBack,content:e("Back")})})})})})]}):(0,l.jsx)(D.A,{message:"Loading"})}}const v=(0,S.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})),(e=>({userActions:(0,C.zH)(g,e)})))(f)},12284:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var a=i(65043),n=i(66554),o=i(19380),s=i(70579);function l(e){let{tableData:t,columnDetails:i,pageSize:a,exportRequired:n,exportFileName:l,columnPickerRequired:r,columnGroupingRequired:d,terminalsToShow:c,selectionRequired:m,onSelectionChange:p,onRowClick:h,parentComponent:u}=e;return(0,s.jsx)(o.A,{data:t,columns:i,rowsPerPage:a,exportRequired:n,exportFileName:l,columnPickerRequired:r,columnGroupingRequired:d,terminalsToShow:c,selectionRequired:m,onSelectionHandle:p,onRowClick:h,parentComponent:u})}var r=i(40854),d=i.n(r),c=i(7523),m=i(72067),p=i(14159),h=(i(92342),i(97508)),u=(i(63973),i(11981)),g=i(69062),C=i(65187),S=i(80312),x=i(40252),y=i(15441),R=i(21367),T=i(15821);class j extends a.Component{constructor(){super(...arguments),this.state={isDetails:"false",isReadyToRender:!1,isDetailsModified:"false",operationsVisibilty:{add:!1,delete:!1,shareholder:!1},selectedRow:{},selectedItems:[],selectedShareholder:"",data:{},terminalCodes:[],fromDate:new Date,toDate:new Date,dateError:"",isEnable:!0},this.componentName="MarineTransloadingComponent",this.handleRangeSelect=e=>{let{to:t,from:i}=e;void 0!==t&&this.setState({toDate:t}),void 0!==i&&this.setState({fromDate:i})},this.handleDateTextChange=(e,t)=>{""===e&&this.setState({dateError:"",toDate:"",fromDate:""}),null!==t&&""!==t?this.setState({dateError:"Common_InvalidDate",toDate:"",fromDate:""}):this.setState({dateError:"",toDate:e.to,fromDate:e.from})},this.handleLoadOrders=()=>{let e=g.wb(this.state.toDate,this.state.fromDate);""!==e?this.setState({dateError:e}):(this.setState({dateError:""}),this.getMarineReceipTransloadingtList(this.state.selectedShareholder))},this.handleBack=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,e.shareholder=!1,this.setState({isDetails:"false",selectedRow:{},selectedItems:[],operationsVisibilty:e,isReadyToRender:!1}),this.getMarineReceipTransloadingtList(this.state.selectedShareholder)}catch(t){console.log("MarineReceiptTransloadingComposite:Error occured on Back click",t)}},this.handleRowClick=e=>{try{var{operationsVisibilty:t}={...this.state};this.setState({isDetails:"true",selectedRow:e,selectedItems:[e],operationsVisibilty:t})}catch(i){console.log("MarineReceiptTransloadingComposite:Error occured on handleRowClick",i)}},this.handleSelection=e=>{try{var{operationsVisibilty:t}={...this.state};t.delete=e.length>0&&g.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.remove,S.fr),t.delete=!1,this.setState({selectedItems:e,operationsVisibilty:t})}catch(i){console.log("MarineReceiptTransloadingComposite:Error occured on handleSelection",i)}},this.savedEvent=(e,t,i)=>{try{var{operationsVisibilty:a}={...this.state};if("success"===i.messageType&&(a.add=g.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.add,S.fr),a.delete=g.ab(this.props.userDetails.EntityResult.FunctionsList,S.i.remove,S.fr),this.setState({isDetailsModified:"true",operationsVisibilty:a})),"success"===i.messageType&&"add"===t){var n=[{MarineReceiptCode:e.Code,Common_Shareholder:e.ShareholderCode}];this.setState({selectedItems:n})}(0,p.toast)((0,s.jsx)(C.A,{children:(0,s.jsx)(u.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}catch(o){console.log("MarineReceiptTransloadingComposite:Error occured on savedEvent",o)}},this.componentWillUnmount=()=>{g.D6(this.componentName+"GridState"),window.removeEventListener("beforeunload",(()=>g.D6(this.componentName+"GridState")))},this.handleShareholderSelectionChange=e=>{try{this.setState({selectedShareholder:e}),this.getMarineReceipTransloadingtList(e),this.getTerminalsList(e)}catch(t){console.log("MarineReceiptTransloadingComposite:Error occured on handleShareholderSelectionChange",t)}}}getMarineReceipTransloadingtList(e){let t=new Date(this.state.fromDate),i=new Date(this.state.toDate);t.setHours(0,0,0),i.setHours(23,59,59);let a={ShareholderCode:e,startRange:t,endRange:i,TransportationType:c.LY.MARINE};d()(m.cAy,g.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){if(null!=t.EntityResult&&null!=t.EntityResult.Table)for(let e=0;e<t.EntityResult.Table.length;e++){const i=t.EntityResult.Table[e];parseInt(i.NoOfUnloadingWagons.toString())>0&&(i.ReceiptStatus="UNLOADING")}this.setState({data:t.EntityResult,isReadyToRender:!0})}else this.setState({data:[],isReadyToRender:!0}),console.log("Error in getMarineReceipTransloadingtListForRole:",t.ErrorList)})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while geting MarineReceipt List:",e)}))}getTerminalsList(e){try{null!==e&&""!==e?d()(m.Oqv,g.tW([e],this.props.tokenDetails.tokenInfo)).then((e=>{e.data.IsSuccess&&this.setState({terminalCodes:e.data.EntityResult})})):this.setState({terminalCodes:[]})}catch(t){console.log("MarineDispatchComposite:Error occured on getTerminalsList",t)}}componentDidMount(){try{g.pJ(this.props.userDetails.EntityResult.IsArchived);var{operationsVisibilty:e}={...this.state};this.setState({operationsVisibilty:e,selectedShareholder:this.props.userDetails.EntityResult.PrimaryShareholder}),this.getTransloading()}catch(t){console.log("MarineReceiptTransloadingComposite:Error occured on componentDidMount",t)}window.addEventListener("beforeunload",(()=>g.D6(this.componentName+"GridState")))}getTransloading(){d()(m.xAA+"?LookUpTypeCode=Transloading",g.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;let i=!1;!0===t.IsSuccess?("True"===t.EntityResult.MarineEnable&&(i=!0),this.setState({isEnable:i}),i&&(this.getTerminalsList(this.props.userDetails.EntityResult.PrimaryShareholder),this.getMarineReceipTransloadingtList(this.props.userDetails.EntityResult.PrimaryShareholder))):console.log("Error in getLookUpData: ",t.ErrorList)})).catch((e=>{console.log("MarineReceiptDetailsComposite: Error occurred on getLookUpData",e)}))}render(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(C.A,{children:(0,s.jsx)(n.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,shareholders:this.props.userDetails.EntityResult.ShareholderList,selectedShareholder:this.state.selectedShareholder,onShareholderChange:this.handleShareholderSelectionChange,handleBreadCrumbClick:this.props.handleBreadCrumbClick,addVisible:!1,deleteVisible:!1})}),"true"===this.state.isDetails?(0,s.jsx)(C.A,{children:(0,s.jsx)(R.default,{Key:"MarineTransloadingDetails",selectedRow:this.state.selectedRow,selectedShareholder:this.state.selectedShareholder,terminalCodes:this.state.terminalCodes,onBack:this.handleBack,onSaved:this.savedEvent,genericProps:this.props.activeItem.itemProps})}):this.state.isReadyToRender?(0,s.jsxs)("div",{children:[(0,s.jsx)(C.A,{children:(0,s.jsx)(y.L,{dateRange:{from:this.state.fromDate,to:this.state.toDate},dateError:this.state.dateError,handleDateTextChange:this.handleDateTextChange,handleRangeSelect:this.handleRangeSelect,handleLoadOrders:this.handleLoadOrders,filterText:"LoadTransloading"})}),(0,s.jsx)(C.A,{children:(0,s.jsx)(l,{tableData:this.state.data.Table,columnDetails:this.state.data.Column,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,exportRequired:!0,exportFileName:"MarineTransloadingList",columnPickerRequired:!0,terminalsToShow:this.props.userDetails.EntityResult.PageAttibutes.NoOfTerminalsToShow,selectionRequired:!0,columnGroupingRequired:!0,onSelectionChange:this.handleSelection,onRowClick:this.handleRowClick,parentComponent:this.componentName})})]}):(0,s.jsx)(s.Fragment,{children:this.state.isEnable?(0,s.jsx)(x.A,{message:"Loading"}):(0,s.jsx)(T.default,{errorMessage:"MarineTransloadingDisabled"})}),(0,s.jsx)(C.A,{children:(0,s.jsx)(p.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const b=(0,h.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(j)},43503:(e,t,i)=>{i.d(t,{A:()=>l});i(65043);var a=i(67907),n=i(72711),o=i(70579);function s(e){let{entityCode:t,newEntityName:i,popUpContents:s}=e;return(0,o.jsx)(a.TranslationConsumer,{children:e=>(0,o.jsx)("div",{className:"headerContainer",children:(0,o.jsxs)("div",{className:"row headerSpacing",children:[(0,o.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,o.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(i):t})}),""!==t&&void 0!==t&&s.length>0?(0,o.jsx)("div",{className:"headerItemRight",children:(0,o.jsx)(n.Popup,{element:(0,o.jsxs)("div",{children:[e(s[0].fieldName)+" ",":"," "+s[0].fieldValue,(0,o.jsx)(n.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,o.jsx)(n.List,{className:"detailsHeaderPopUp",children:s.map((t=>(0,o.jsxs)(n.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}s.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const l=s},15441:(e,t,i)=>{i.d(t,{L:()=>l});i(65043);var a=i(67907),n=i(72711),o=i(35861),s=i(70579);function l(e){let{handleDateTextChange:t,handleRangeSelect:i,handleLoadOrders:l,dateError:r,dateRange:d,filterText:c}=e;return(0,s.jsx)(a.TranslationConsumer,{children:e=>(0,s.jsxs)("div",{className:"dateRangeContainer",children:[(0,s.jsx)("div",{className:"dateRangeMargin",children:(0,s.jsx)(n.DatePicker,{type:"daterange",closeOnSelection:!0,error:e(r),displayFormat:(0,o.F1)(),rangeValue:d,onTextChange:t,onRangeSelect:i,reserveSpace:!1})}),(0,s.jsx)("div",{className:"dateSearch",children:(0,s.jsx)(n.Button,{content:e(c),onClick:l})})]})})}},80312:(e,t,i)=>{i.d(t,{$3:()=>H,$H:()=>ae,$J:()=>he,$K:()=>ge,$V:()=>wt,$b:()=>Rt,$p:()=>Q,AE:()=>D,Al:()=>U,B2:()=>at,By:()=>Dt,CW:()=>gt,DA:()=>r,Ee:()=>Be,FO:()=>E,Fy:()=>Ie,G9:()=>it,H8:()=>ee,Hq:()=>lt,Ig:()=>A,Iu:()=>S,JI:()=>dt,JJ:()=>te,JU:()=>z,Jz:()=>ze,KQ:()=>se,Kk:()=>Xe,Kw:()=>et,LP:()=>Pt,LR:()=>c,Lg:()=>$,Mg:()=>Re,Mm:()=>I,N1:()=>Y,Nm:()=>u,No:()=>de,Ow:()=>V,P2:()=>o,P8:()=>xe,PD:()=>Le,PE:()=>m,PG:()=>K,PP:()=>ht,Pb:()=>ke,QB:()=>T,QC:()=>X,RE:()=>ot,RO:()=>$e,Rc:()=>St,Rl:()=>Tt,Rx:()=>Ct,TI:()=>x,Tm:()=>ue,Ug:()=>Z,Ur:()=>We,V9:()=>d,VK:()=>W,VL:()=>pe,VQ:()=>le,WD:()=>Oe,Wf:()=>w,YO:()=>M,YY:()=>Ee,Yb:()=>Ce,Yg:()=>He,Z9:()=>pt,ZE:()=>ct,ZU:()=>R,_N:()=>xt,_S:()=>Nt,_d:()=>Et,aS:()=>B,aZ:()=>mt,au:()=>be,b0:()=>vt,bL:()=>Ue,c2:()=>Fe,d4:()=>Ae,dB:()=>C,dD:()=>Qe,dK:()=>q,dY:()=>L,de:()=>p,dv:()=>Ne,eQ:()=>l,f3:()=>Te,fF:()=>O,fL:()=>yt,fN:()=>bt,fk:()=>N,fl:()=>Se,fr:()=>j,go:()=>n,h:()=>me,hD:()=>v,hE:()=>P,hh:()=>Ze,hk:()=>oe,hz:()=>ut,i:()=>a,j2:()=>st,jN:()=>_,je:()=>g,jx:()=>F,kL:()=>Ye,ke:()=>Ve,km:()=>re,l0:()=>ne,l6:()=>qe,lz:()=>k,m0:()=>y,nS:()=>fe,nk:()=>rt,nn:()=>b,np:()=>J,oh:()=>nt,op:()=>Ke,pt:()=>Ge,qk:()=>ce,qp:()=>ye,r6:()=>ve,rQ:()=>we,rj:()=>G,rp:()=>s,t3:()=>jt,tM:()=>Me,to:()=>Mt,ts:()=>tt,uH:()=>je,uy:()=>Je,w1:()=>Pe,x5:()=>ie,xz:()=>f,y_:()=>_e,yu:()=>h,yx:()=>ft,z8:()=>De,z_:()=>Lt});const a={view:"view",add:"add",modify:"modify",remove:"remove"},n="carriercompany",o="driver",s="customer",l="trailer",r="originterminal",d="destination",c="primemover",m="vehicle",p="shipmentbycompartment",h="shipmentbyproduct",u="ViewShipmentStatus",g="vessel",C="order",S="OrderForceClose",x="contract",y="receiptplanbycompartment",R="ViewMarineShipment",T="MarineShipmentByCompartment",j="ViewMarineReceipt",b="supplier",D="finishedproduct",f="RailDispatch",v="RailReceipt",w="RailRoute",N="RailWagon",P="CloseRailDispatch",E="PrintRailBOL",L="PrintRailFAN",M="RailDispatchLoadSpotAssignment",k="RailDispatchProductAssignment",A="ViewRailDispatch",I="ViewRailLoadingDetails",O="CloseRailReceipt",G="PrintRailBOD",F="PrintRailRAN",U="ViewRailReceipt",Q="ViewRailUnLoadingDetails",B="SMS",V="UnAccountedTransactionTank",W="UnAccountedTransactionMeter",q="PipelineDispatch",H="PipelineReceipt",_="PipelineDispatchManualEntry",z="PipelineReceiptManualEntry",K="LookUpData",J="HSEInspection",$="HSEInspectionConfig",Y="Email",X="Shareholder",Z="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",ae="LeakageManualEntry",ne="Terminal",oe="SlotInformation",se="TankGroup",le="Tank",re="SealMaster",de="TankEODEntry",ce="UnmatchedLocalTransactions",me="AccessCard",pe="ResetPin",he="SlotConfiguration",ue="PrintMarineFAN",ge="PrintMarineBOL",Ce="ViewMarineLoadingDetails",Se="ViewMarineShipmentAuditTrail",xe="CloseMarineShipment",ye="IssueCard",Re="ActivateCard",Te="RevokeCard",je="AutoIDAssociation",be="MarineReceiptByCompartment",De="PrintMarineRAN",fe="PrintMarineBOD",ve="ViewMarineUnloadingDetails",we="ViewMarineReceiptAuditTrail",Ne="CloseMarineReceipt",Pe="WeekendConfig",Ee="EODAdmin",Le="PrintBOL",Me="PrintFAN",ke="PrintBOD",Ae="CloseShipment",Ie="CloseReceipt",Oe="CONTRACTFORCECLOSE",Ge="Captain",Fe="OverrideShipmentSequence",Ue="KPIInformation",Qe="Language",Be="WebPortalUserMap",Ve="BayGroup",We="PipelineHeaderSiteView",qe="TankMonitor",He="PersonAdmin",_e="ProductReconciliationReports",ze="ReportConfiguration",Ke="EXECONFIGURATION",Je="ShareholderAllocation",$e="NotificationGroup",Ye="NotificationRestriction",Xe="NotificationConfig",Ze="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",at="TANKSHAREHOLDERPRIMEFUNCTION",nt="ROLEADMIN",ot="ShiftConfig",st="PrinterConfiguration",lt="CustomerAgreement",rt="BaySCADAConfiguration",dt="RailReceiptUnloadSpotAssignment",ct="STAFF_VISITOR",mt="PipelineMeterSiteView",pt="RailSiteView",ht="MarineSiteView",ut="LoadingDetails",gt="UnloadingDetails",Ct="RoadHSEInspection",St="RoadHSEInspectionConfig",xt="MarineHSEInspection",yt="MarineHSEInspectionConfig",Rt="RailHSEInspection",Tt="RailHSEInspectionConfig",jt="PipelineHSEInspection",bt="PipelineHSEInspectionConfig",Dt="PrintRAN",ft="ViewReceiptStatus",vt="customerrecipe",wt="COAParameter",Nt="COATemplate",Pt="COAManagement",Et="COACustomer",Lt="COAAssignment",Mt="ProductForecastConfiguration"},93779:(e,t,i)=>{i.d(t,{$A:()=>L,$L:()=>rt,$Q:()=>Qe,Ae:()=>Pe,BX:()=>oe,Bl:()=>ue,Bv:()=>Se,Bw:()=>X,Cb:()=>P,Cg:()=>w,DN:()=>ot,D_:()=>st,Dm:()=>M,E7:()=>J,EW:()=>A,FN:()=>ne,FR:()=>o,FY:()=>ut,GA:()=>Be,GT:()=>R,Ge:()=>ke,HB:()=>se,JQ:()=>K,KJ:()=>ee,Kz:()=>q,Ln:()=>W,M$:()=>We,O5:()=>tt,Of:()=>Te,Oo:()=>it,Pk:()=>Ce,Pm:()=>Y,Q5:()=>dt,QK:()=>qe,QV:()=>Xe,QZ:()=>ct,Qu:()=>ie,RX:()=>we,Rb:()=>B,Rp:()=>b,SP:()=>g,T5:()=>Oe,UB:()=>x,UT:()=>r,Ui:()=>_,VA:()=>Q,Vk:()=>be,Wb:()=>De,Wv:()=>je,X3:()=>Ke,Y4:()=>V,Yl:()=>at,Zx:()=>$,_B:()=>xe,_C:()=>N,_R:()=>ge,_j:()=>ce,_n:()=>a,aM:()=>O,aW:()=>Ue,bW:()=>U,c4:()=>nt,cD:()=>l,c_:()=>f,cx:()=>F,dL:()=>mt,eE:()=>re,eS:()=>_e,eT:()=>j,f:()=>k,f7:()=>he,fR:()=>me,g1:()=>de,gN:()=>Je,gO:()=>H,iH:()=>lt,ij:()=>et,j1:()=>v,jC:()=>ye,je:()=>pe,jz:()=>le,ll:()=>Ze,mM:()=>y,mO:()=>ht,mW:()=>Ie,ml:()=>C,mm:()=>Ye,nB:()=>te,nT:()=>Ae,np:()=>Me,oA:()=>D,oG:()=>ze,oV:()=>Z,ok:()=>m,oy:()=>d,pL:()=>Ee,pe:()=>Ve,pw:()=>He,qF:()=>s,qQ:()=>pt,qp:()=>p,s0:()=>T,sA:()=>Ne,st:()=>ae,tY:()=>I,uw:()=>z,v6:()=>n,vL:()=>Ge,vf:()=>Le,wH:()=>$e,wO:()=>Re,wX:()=>G,x4:()=>fe,xf:()=>h,xy:()=>c,yI:()=>S,yV:()=>E,yz:()=>u,zL:()=>ve,zf:()=>Fe});const a="CarrierCode",n="TransportationType",o="ShareHolderCode",s="DriverCode",l="CustomerCode",r="TrailerCode",d="OriginTerminalCode",c="PrimeMoverCode",m="VehicleCode",p="DestinationCode",h="FinishedProductCode",u="ShipmentCode",g="OrderCode",C="ReceiptCode",S="MarineDispatchCode",x="MarineReceiptCode",y="SupplierCode",R="ContractCode",T="RailDispatchCode",j="RailReceiptCode",b="RailRouteCode",D="WagonCode",f="CompartmentCode",v="SMSConfigurationCode",w="PipelineDispatchCode",N="PipelineReceiptCode",P="EmailConfigurationCode",E="BaseProductCode",L="LocationCode",M="SiteViewType",k="EntityCode",A="EntityType",I="CardReaderCode",O="AccessCardCode",G="BcuCode",F="DeuCode",U="WeighBridgeCode",Q="Weight",B="OutOfToleranceAllowed",V="LoadingArmCode",W="TransportationType",q="BayCode",H="TransactionNumber",_="BatchNumber",z="TerminalCode",K="TankGroupCode",J="TankCode",$="MeterCode",Y="ShipmentType",X="ShipmentStatus",Z="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",ae="ProductCategoryType",ne="Reason",oe="SealMasterCode",se="Reason",le="OperationName",re="FPTransactionID",de="ProductCategoryType",ce="CompartmentSeqNoInVehicle",me="AdjustedPlanQuantity",pe="ForceComplete",he="DispatchStatus",ue="HolidayDate",ge="ActionID",Ce="EODTimePrev",Se="TerminalAction",xe="EODTime",ye="MonthStartDay",Re="CaptainCode",Te="GeneralTMUserType",je="GeneralTMUserCode",be="IsPriority",De="ActualTerminalCode",fe="ShipmentBondNo",ve="ReceiptBondNo",we="DeviceType",Ne="DeviceCode",Pe="BayGroup",Ee="PipelineHeaderCode",Le="ExchangePartner",Me="PersonID",ke="UserName",Ae="PipelinePlanCode",Ie="PipelinePlanType",Oe="ChannelCode",Ge="ProcessName",Fe="ReconciliationCode",Ue="NotificationGroupCode",Qe="NotificationGroupStatus",Be="NotificationGroupDesc",Ve="NotificationResSource",We="NotificationResMsgCode",qe="NotificationOrigResSource",He="NotificationOrigResMsgCode",_e="NotificationMessageCode",ze="PositionType",Ke="ExchangeAgreementCode",Je="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Ye="RequestorShareholder",Xe="LenderShareholder",Ze="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",at="PrinterName",nt="LocationType",ot="ForceClosureReason",st="TransactionType",lt="CustomerRecipeCode",rt="COATemplateCode",dt="COAManagementCode",ct="COAParameterCode",mt="COAManagementFinishedProductCode",pt="COASeqNumber",ht="ForecastDate",ut="ForecastTanks"},35861:(e,t,i)=>{i.d(t,{F1:()=>l,i7:()=>r,r4:()=>s});var a=i(86178),n=i.n(a),o=(i(15660),i(65043),i(70579));function s(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function l(){let e=window.navigator.userLanguage||window.navigator.language;return n().locale(e),n().localeData().longDateFormat("L")}function r(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}},92342:()=>{}}]);
//# sourceMappingURL=2284.dd788098.chunk.js.map