"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[8208,9158,6001,6777,8382,735,3116,3920,3235,5973,8354],{40510:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(65043),i=s(80297),r=s(65187),o=s(67907),l=s(70579);function n(e){let{KPIList:t,pageName:s,rowHeight:n,widgetHeight:d,isDraggable:c,isResizable:u,kpiDisplayTopBreakpoint:h}=e;const[C,m]=(0,a.useState)(1),E=a.useRef(null),p=()=>{let e=window.pageYOffset,t=C;if(E.current&&E.current.getBoundingClientRect().top<h)t=0;else{if(0!==e)return;t=1}m(t)};return(0,a.useEffect)((()=>{"undefined"!==typeof window&&window.addEventListener("scroll",p)})),(0,a.useEffect)((()=>()=>{window.removeEventListener("scroll",p)}),[]),(0,l.jsx)("div",{ref:E,children:1===C?(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsx)("div",{style:{marginTop:"6px"},children:(0,l.jsx)(r.A,{children:(0,l.jsx)(i.A,{kpiList:t,isDraggable:c,isResizable:u,rowHeight:n,widgetHeight:d,pageName:s})})})}):""})}n.defaultProps={kpiDisplayTopBreakpoint:100}},78208:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var a=s(65043),i=s(72711),r=s(67907),o=s(24904),l=s(69062),n=s(85800),d=s(65187),c=s(70579);function u(e){let{customer:t,modCustomer:s,modDCHAttributes:a,validationErrors:u,attributeValidationErrors:h,listOptions:C,onFieldChange:m,onAllTerminalsChange:E,onActiveStatusChange:p,isEnterpriseNode:D,modAttributeMetaDataList:I,onAttributeDataChange:g,isDCHEnabled:A,dchAttributeValidationErrors:S,handleDCHCellDataEdit:T}=e;const N=(e,t)=>{let s=[];return s=e.find((e=>e.TerminalCode===t)),s.attributeValidationErrors};return(0,c.jsx)(r.TranslationConsumer,{children:e=>(0,c.jsxs)("div",{className:"detailsContainer",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:s.Code,label:e("Cust_Code"),indicator:"required",disabled:""!==t.Code,onChange:e=>m("Code",e),error:e(u.Code),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:s.Name,label:e("Cust_Name"),indicator:"required",onChange:e=>m("Name",e),error:e(u.Name),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Select,{fluid:!0,placeholder:"Select",value:s.TransportationTypes,label:e("TransportationTypes"),indicator:"required",options:l.Zj(C.transportTypes),onChange:e=>m("TransportationTypes",e),error:e(u.TransportationTypes),disabled:0===C.transportTypes.length,multiple:!0,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.Description?"":s.Description,onChange:e=>m("Description",e),label:e("Cust_Description"),error:e(u.Description),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Select,{fluid:!0,placeholder:"Select",value:s.LanguageCode,label:e("CustomerInfo_Language"),indicator:"required",options:C.languageOptions,onChange:e=>m("LanguageCode",e),error:e(u.LanguageCode),reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.ContactPerson?"":s.ContactPerson,onChange:e=>m("ContactPerson",e),label:e("Cust_ContactPerson"),error:e(u.ContactPerson),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.Address?"":s.Address,onChange:e=>m("Address",e),label:e("Cust_Address"),error:e(u.Address),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.Mobile?"":s.Mobile,label:e("Cust_Mobile"),onChange:e=>m("Mobile",e),error:e(u.Mobile),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.Phone?"":s.Phone,label:e("Cust_PhNum"),onChange:e=>m("Phone",e),error:e(u.Phone),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.Email?"":s.Email,label:e("Cust_Email"),onChange:e=>m("Email",e),error:e(u.Email),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Select,{fluid:!0,placeholder:e("FinishedProductInfo_Select"),label:e("Cust_Status"),value:s.Status,options:[{text:e("ViewShipment_Ok"),value:!0},{text:e("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>p(e)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,value:null===s.Remarks?"":s.Remarks,label:e("Cust_Remarks"),onChange:e=>m("Remarks",e),indicator:s.Status!==t.Status?"required":"",error:e(u.Remarks),reserveSpace:!1})}),D?(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(o.y,{terminalList:C.terminalCodes,selectedTerminal:s.TerminalCodes,error:e(u.TerminalCodes),onFieldChange:m,onCheckChange:E})}):""]}),I.length>0?I.map((t=>(0,c.jsx)(d.A,{children:(0,c.jsx)(i.Accordion,{children:(0,c.jsx)(i.Accordion.Content,{className:"attributeAccordian",title:D?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,c.jsx)(n.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:g,attributeValidationErrors:N(h,t.TerminalCode)})})})}))):null,A&&a&&a.length>0?(0,c.jsx)(d.A,{children:(0,c.jsx)(i.Accordion,{children:(0,c.jsx)(i.Accordion.Content,{className:"attributeAccordian",title:e("External_System_Fields"),children:a.map((t=>(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(i.Input,{fluid:!0,label:e(t.EntityName),value:null===t.Value?"":t.Value,indicator:"required",onChange:e=>T(t,e),error:e(S[t.ID]),reserveSpace:!1})})))})})}):null]})})}u.defaultProps={isEnterpriseNode:!1,isDCHEnabled:!1};var h=s(9256),C=s(44192),m=s(46100),E=s(40854),p=s.n(E),D=s(72067),I=s(7523),g=s(97508),A=(s(38726),s(43503)),S=s(93779),T=s(80312),N=s(53536),b=s.n(N),v=s(40252),L=s(15417),R=s(40510),y=s(39424),f=s(62900);class P extends a.Component{constructor(){super(...arguments),this.state={customer:b().cloneDeep(m.gs),modCustomer:{},validationErrors:l.Th(C.JA),isReadyToRender:!1,languageOptions:[],saveEnabled:!1,attributeMetaDataList:[],modAttributeMetaDataList:[],attributeValidationErrors:[],isDCHEnabled:!1,modDCHAttributes:[],dchAttribute:[],dchAttributeValidationErrors:{},customerKPIList:[],showAuthenticationLayout:!1,tempCustomer:{}},this.handleChange=(e,t)=>{try{const s=b().cloneDeep(this.state.modCustomer),a=b().cloneDeep(this.state.validationErrors);s[e]=t,this.setState({modCustomer:s}),void 0!==C.JA[e]&&(a[e]=l.jr(C.JA[e],t),this.setState({validationErrors:a})),"TerminalCodes"===e&&this.terminalSelectionChange(t)}catch(s){console.log("CustomerDetailsComposite:Error occured on handleChange",s)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})},this.saveCustomer=()=>{try{this.setState({saveEnabled:!1});let e=b().cloneDeep(this.state.tempCustomer),t=l.pI(this.state.modAttributeMetaDataList);e=this.fillAttributeDetails(e,t),""===this.state.customer.Code?this.createCustomer(e):this.updateCustomer(e)}catch(e){console.log("CustomerDetailsComposite : Error in saveCustomer")}},this.handleSave=()=>{try{let e=b().cloneDeep(this.state.modCustomer),t=l.pI(this.state.modAttributeMetaDataList);if(this.validateSave(t)){e=this.fillAttributeDetails(e,t);let s=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,a=b().cloneDeep(e);this.setState({showAuthenticationLayout:s,tempCustomer:a},(()=>{!1===s&&this.saveCustomer()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("CustomerDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{const s={...this.state.validationErrors},a=b().cloneDeep(this.state.customer);var e=b().cloneDeep(this.state.customer);if(Object.keys(s).forEach((function(e){s[e]=""})),this.setState({modCustomer:{...a},validationErrors:s,modAttributeMetaDataList:[],dchAttributeValidationErrors:{},modDCHAttributes:b().cloneDeep(this.state.dchAttribute)},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?(this.terminalSelectionChange(e.TerminalCodes),this.handleResetAttributeValidationError()):(this.localNodeAttribute(),this.handleResetAttributeValidationError())})),""===this.state.customer.Code){var t=this.state.terminalCodes;t=[],this.setState({terminalCodes:t})}}catch(s){console.log("CustomerDetailsComposite:Error occured on handleReset",s)}},this.handleAttributeDataChange=(e,t)=>{try{let s=[],a=b().cloneDeep(this.state.modAttributeMetaDataList),i=a.filter((t=>t.TerminalCode===e.TerminalCode));i.length>0&&Array.isArray(i[0].attributeMetaDataList)&&(s=i[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),s.length>0&&(s[0].DefaultValue=t);const r=b().cloneDeep(this.state.attributeValidationErrors);r.forEach((s=>{s.TerminalCode===e.TerminalCode&&(s.attributeValidationErrors[e.Code]=l.I5(e,t))})),this.setState({attributeValidationErrors:r,modAttributeMetaDataList:a})}catch(s){console.log("CustomerDetailsComposite:Error occured on handleAttributeDataChange",s)}},this.handleDCHCellDataEdit=(e,t)=>{try{e.Value=t,this.setState({attribute:e});const s=b().cloneDeep(this.state.dchAttributeValidationErrors);s[e.ID.toString()]=l.jr(C.QM.attribute,t),this.setState({dchAttributeValidationErrors:s})}catch(s){console.log("CustomerDetailsComposite:Error occured on handleDCHCellDataEdit",s)}},this.handleAllTerminalsChange=e=>{try{var t=b().cloneDeep(this.state.modCustomer);let s=this.props.terminalList;t.TerminalCodes=e?s:[],this.setState({modCustomer:t}),this.terminalSelectionChange(t.TerminalCodes)}catch(s){console.log("CustomerDetailsComposite:Error occured on handleAllTerminalsChange",s)}},this.handleActiveStatusChange=e=>{try{let t=b().cloneDeep(this.state.modCustomer);t.Status=e,t.Status!==this.state.customer.Status&&(t.Remarks=""),this.setState({modCustomer:t})}catch(t){console.log(t)}}}getTerminalList(){return this.props.terminalList}terminalSelectionChange(e){try{let i=[];var t=[],s=[];t=b().cloneDeep(this.state.attributeMetaDataList),s=b().cloneDeep(this.state.modAttributeMetaDataList);const r=b().cloneDeep(this.state.attributeValidationErrors);var a=b().cloneDeep(this.state.modCustomer);e.forEach((e=>{var r=s.find((t=>t.TerminalCode===e));void 0===r?t.customer.forEach((function(t){if(t.TerminalCode===e){var s=a.Attributes.find((t=>t.TerminalCode===e));void 0!==s&&t.attributeMetaDataList.forEach((function(e){var t=s.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),i.push(t)}})):i.push(r)})),s=[],s=i,s=l.nQ(s),r.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modAttributeMetaDataList:s,attributeValidationErrors:r})}catch(i){console.log("CustomerDetailsComposite:Error occured on terminalSelectionChange",i)}}getShareholderDetail(e){var t=[{key:S.FR,value:e}],s={ShareHolderCode:e,keyDataCode:S.FR,KeyCodes:t};p()(D.a6J,l.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isDCHEnabled:t.EntityResult.ExternalSystemCode>1},(()=>{this.state.isDCHEnabled&&this.GetDCHAttributeInfoList()})):(this.setState({isDCHEnabled:!1}),console.log("Error in getShareholderDetail:",t.ErrorList))})).catch((t=>{console.log("Error while getting Shareholder detail:",t,e)}))}GetDCHAttributeInfoList(){try{let t=b().cloneDeep(this.state.modCustomer),s={Shareholdercode:this.props.selectedShareholder,EntityCode:t.Code,EntityType:I.I8.CUSTOMER};var e={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.FR,Entity:s};p()(D.ibI,l.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({modDCHAttributes:t.EntityResult,dchAttribute:t.EntityResult}):console.log("Error in GetDCHAttributeInfoList:",t.ErrorList)})).catch((e=>{console.log("Error while getting DCHAttributeInfoList:",e)}))}catch(t){console.log("Error while getting DCHAttributeInfoList:",t)}}localNodeAttribute(){try{var e=b().cloneDeep(this.state.attributeMetaDataList);null!==e&&void 0!==e&&Array.isArray(e.customer)&&e.customer.length>0&&this.terminalSelectionChange([e.customer[0].TerminalCode])}catch(t){console.log("CustomerDetailsComposite:Error occured on localNodeAttribute",t)}}componentWillReceiveProps(e){try{""!==this.state.customer.Code&&void 0===e.selectedRow.Common_Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo&&this.getAttributes(e.selectedRow)}catch(t){console.log("CustomerDetailsComposite:Error occured on componentWillReceiveProps",t)}}componentDidMount(){try{l.pJ(this.props.userDetails.EntityResult.IsArchived),this.getLanguages(),this.getAttributes(this.props.selectedRow)}catch(e){console.log("CustomerDetailsComposite:Error occured on componentDidMount",e)}}getAttributes(e){try{p()(D.fKH,l.tW([L.wT],this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;!0===s.IsSuccess?this.setState({attributeMetaDataList:b().cloneDeep(s.EntityResult),attributeValidationErrors:l.Fl(s.EntityResult.customer)},(()=>this.getCustomer(e))):console.log("Error in getAttributes:")}))}catch(t){console.log("Error while getAttributes:",t)}}getLanguages(){p()(D.HLD,l.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){console.log(t);let e=[];null!==t.EntityResult?(Object.keys(t.EntityResult).forEach((s=>e.push({text:t.EntityResult[s],value:s}))),this.setState({languageOptions:e})):console.log("No languages identified.")}else console.log("Error in GetLanguage:",t.ErrorList)})).catch((e=>{console.log("Error while getting Language List:",e)}))}getCustomer(e){if(m.gs.TransportationTypes=[],m.gs.ShareholderCode=this.props.selectedShareholder,m.gs.LanguageCode=this.props.userDetails.EntityResult.UICulture,m.gs.TransportationTypes=this.props.userDetails.EntityResult.TransportationTypes,1===this.props.terminalList.length&&(m.gs.TerminalCodes=[...this.props.terminalList]),void 0!==e.Common_Code){var t=[{key:S.cD,value:e.Common_Code}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.cD,KeyCodes:t};p()(D.tjc,l.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isReadyToRender:!0,customer:b().cloneDeep(t.EntityResult),modCustomer:b().cloneDeep(t.EntityResult),saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.modify,T.rp)},(()=>{this.getKPIList(this.props.selectedShareholder,t.EntityResult.Code),this.props.userDetails.EntityResult.IsDCHEnabled&&this.getShareholderDetail(this.props.selectedShareholder),this.props.userDetails.EntityResult.IsEnterpriseNode?this.terminalSelectionChange(t.EntityResult.TerminalCodes):this.localNodeAttribute()})):(this.setState({customer:b().cloneDeep(m.gs),modCustomer:b().cloneDeep(m.gs),isReadyToRender:!0},(()=>{this.props.userDetails.EntityResult.IsDCHEnabled&&this.getShareholderDetail(this.props.selectedShareholder)})),console.log("Error in GetCustomer:",t.ErrorList))})).catch((t=>{console.log("Error while getting Customer:",t,e)}))}else this.setState({customer:b().cloneDeep(m.gs),modCustomer:b().cloneDeep(m.gs),modAttributeMetaDataList:[],isReadyToRender:!0,customerKPIList:[],saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.add,T.rp)},(()=>{this.props.userDetails.EntityResult.IsDCHEnabled&&this.getShareholderDetail(this.props.selectedShareholder),!1===this.props.userDetails.EntityResult.IsEnterpriseNode&&this.localNodeAttribute()}))}validateSave(e){const{modCustomer:t}=this.state;var s=b().cloneDeep(this.state.validationErrors);Object.keys(C.JA).forEach((function(e){s[e]=l.jr(C.JA[e],t[e])})),null!==t.ShareholderCode&&""!==t.ShareholderCode.trim()||(s.ShareholderCode="MarineReceipt_MandatoryShareholder"),t.Status!==this.state.customer.Status&&(null!==t.Remarks&&""!==t.Remarks||(s.Remarks="OriginTerminal_RemarksRequired"));var a=b().cloneDeep(this.state.attributeValidationErrors);e.forEach((e=>{a.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=l.I5(e,e.DefaultValue)}))}))})),this.setState({validationErrors:s,attributeValidationErrors:a});var i=!0;a.forEach((e=>{if(!i)return i;i=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))}));let r=b().cloneDeep(this.state.dchAttributeValidationErrors);return b().cloneDeep(this.state.modDCHAttributes).forEach((e=>{r[e.ID]=l.jr(C.QM.attribute,e.Value)})),this.setState({dchAttributeValidationErrors:r}),i&&(i=Object.values(r).every((function(e){return""===e}))),i&&(i=Object.values(s).every((function(e){return""===e}))),i}fillAttributeDetails(e,t){try{if(t=l.SC(t),e.Attributes=l.Gh(t),this.state.isDCHEnabled){let t=b().cloneDeep(this.state.modDCHAttributes);if(e.IsDCHEnabled=!0,null!==t&&void 0!==t&&t.length>0){let s={EntityCode:e.Code,EntityType:I.I8.CUSTOMER,Shareholdercode:this.props.selectedShareholder,TabAttributeDataList:[]};t.forEach((e=>{s.TabAttributeDataList.push(e)})),e.DCHAttribute=s}}else e.IsDCHEnabled=!1,e.DCHAttribute=null;return e}catch(s){console.log("DriverDetailsComposite:Error occured on fillAttributeDetails",s)}}createCustomer(e){var t=[{key:S.cD,value:e.Code}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.cD,KeyCodes:t,Entity:e},a={messageType:"critical",message:"CustomerDetails_SavedStatus",messageResultDetails:[{keyFields:["Cust_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};p()(D.Vg9,l.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.modify,T.rp),showAuthenticationLayout:!1},(()=>this.getCustomer({Common_Code:e.Code}))):(a.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.add,T.rp),showAuthenticationLayout:!1}),console.log("Error in CreateCustomer:",s.ErrorList)),this.props.onSaved(e,"add",a)})).catch((t=>{this.setState({saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.add,T.rp),showAuthenticationLayout:!1}),a.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",a)}))}updateCustomer(e){let t=[{key:S.cD,value:e.Code}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.cD,KeyCodes:t,Entity:e},a={messageType:"critical",message:"CustomerDetails_SavedStatus",messageResultDetails:[{keyFields:["Customer_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};p()(D.myY,l.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.modify,T.rp),showAuthenticationLayout:!1},(()=>this.getCustomer({Common_Code:e.Code}))):(a.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.modify,T.rp),showAuthenticationLayout:!1}),console.log("Error in UpdateCustomer:",s.ErrorList)),this.props.onSaved(e,"update",a)})).catch((t=>{a.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"modify",a),this.setState({saveEnabled:l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.modify,T.rp),showAuthenticationLayout:!1})}))}handleResetAttributeValidationError(){try{var e=b().cloneDeep(this.state.attributeMetaDataList);this.setState({attributeValidationErrors:l.Fl(e.customer)})}catch(t){console.log("handleAttributeValidationError:Error occured on handleReset",t)}}getKPIList(e,t){if(!0===l.ab(this.props.userDetails.EntityResult.FunctionsList,T.i.view,T.bL)){var s="";void 0!==this.props.genericProps&&void 0!==this.props.genericProps.transportationType&&(s=this.props.genericProps.transportationType);let a={PageName:y.EV,TransportationType:s,InputParameters:[{key:"ShareholderCode",value:e},{key:"CustomerCode",value:t}]};p()(D.dxq,l.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({customerKPIList:t.EntityResult.ListKPIDetails}):(this.setState({customerKPIList:[]}),console.log("Error in customer KPIList:",t.ErrorList))})).catch((e=>{console.log("Error while getting Customer KPIList:",e)}))}}render(){const e={terminalCodes:this.getTerminalList(),transportTypes:this.props.userDetails.EntityResult.TransportationTypes,languageOptions:this.state.languageOptions},t=[{fieldName:"Cust_LastUpDt",fieldValue:new Date(this.state.modCustomer.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modCustomer.LastUpdatedTime).toLocaleTimeString()},{fieldName:"Cust_LastActiveTime",fieldValue:void 0!==this.state.modCustomer.LastActiveTime&&null!==this.state.modCustomer.LastActiveTime?new Date(this.state.modCustomer.LastActiveTime).toLocaleDateString()+" "+new Date(this.state.modCustomer.LastActiveTime).toLocaleTimeString():""},{fieldName:"Cust_CreateDt",fieldValue:new Date(this.state.modCustomer.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modCustomer.CreatedTime).toLocaleTimeString()}];return this.state.isReadyToRender?(0,c.jsxs)("div",{children:[(0,c.jsx)(d.A,{children:(0,c.jsx)(A.A,{entityCode:this.state.customer.Code,newEntityName:"CustInfo_Title",popUpContents:t})}),(0,c.jsx)(R.A,{KPIList:this.state.customerKPIList,children:" "}),(0,c.jsx)(d.A,{children:(0,c.jsx)(u,{customer:this.state.customer,modCustomer:this.state.modCustomer,modDCHAttributes:this.state.modDCHAttributes,genericProps:this.props.genericProps,validationErrors:this.state.validationErrors,modAttributeMetaDataList:this.state.modAttributeMetaDataList,attributeMetaDataList:this.state.attributeMetaDataList,attributeValidationErrors:this.state.attributeValidationErrors,listOptions:e,onFieldChange:this.handleChange,onAllTerminalsChange:this.handleAllTerminalsChange,onActiveStatusChange:this.handleActiveStatusChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,onAttributeDataChange:this.handleAttributeDataChange,isDCHEnabled:this.state.isDCHEnabled,dchAttributeValidationErrors:this.state.dchAttributeValidationErrors,handleDCHCellDataEdit:this.handleDCHCellDataEdit})}),(0,c.jsx)(d.A,{children:(0,c.jsx)(h.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),this.state.showAuthenticationLayout?(0,c.jsx)(f.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.customer.Code?T.i.add:T.i.modify,functionGroup:T.rp,handleOperation:this.saveCustomer,handleClose:this.handleAuthenticationClose}):null]}):(0,c.jsx)(v.A,{message:"Loading"})}}const M=(0,g.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(P)},24904:(e,t,s)=>{s.d(t,{y:()=>l});s(65043);var a=s(67907),i=s(72711),r=s(69062),o=s(70579);function l(e){let{terminalList:t,selectedTerminal:s,validationError:l,onFieldChange:n,onCheckChange:d}=e;return null===s&&(s=[]),(0,o.jsx)(a.TranslationConsumer,{children:e=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)("div",{style:{width:"80%"},children:(0,o.jsx)(i.Select,{fluid:!0,placeholder:e("Common_Select"),label:e("TerminalCodes"),value:s,multiple:!0,options:r.Zj(t),onChange:e=>n("TerminalCodes",e),error:e(l),disabled:0===t.length,reserveSpace:!1})}),(0,o.jsx)("div",{className:"ddlSelectAll",children:(0,o.jsx)(i.Checkbox,{label:e("Common_All"),checked:Array.isArray(s)&&s.length===t.length,onChange:e=>d(e)})})]})})}l.defaultProps={terminalList:[],selectedTerminal:[],validationError:""}},43503:(e,t,s)=>{s.d(t,{A:()=>l});s(65043);var a=s(67907),i=s(72711),r=s(70579);function o(e){let{entityCode:t,newEntityName:s,popUpContents:o}=e;return(0,r.jsx)(a.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(s):t})}),""!==t&&void 0!==t&&o.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(i.Popup,{element:(0,r.jsxs)("div",{children:[e(o[0].fieldName)+" ",":"," "+o[0].fieldValue,(0,r.jsx)(i.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(i.List,{className:"detailsHeaderPopUp",children:o.map((t=>(0,r.jsxs)(i.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}o.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const l=o},9256:(e,t,s)=>{s.d(t,{q:()=>o});s(65043);var a=s(72711),i=s(67907),r=s(70579);function o(e){let{handleBack:t,handleSave:s,handleReset:o,saveEnabled:l}=e;return(0,r.jsx)(i.TranslationConsumer,{children:e=>(0,r.jsxs)("div",{className:"row userActionPosition",children:[(0,r.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,r.jsx)(a.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,r.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,r.jsxs)("div",{style:{float:"right"},children:[(0,r.jsx)(a.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:o}),(0,r.jsx)(a.Button,{content:e("Save"),disabled:!l,onClick:s})]})})]})})}o.defaultProps={saveEnabled:!1}},85800:(e,t,s)=>{s.d(t,{n:()=>n});s(65043);var a=s(72711),i=s(67907),r=s(7523),o=s(35861),l=s(70579);function n(e){let{selectedAttributeList:t,handleCellDataEdit:s,attributeValidationErrors:n}=e;const d=e=>{if("0000-00-00"===e.DefaultValue)return c(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},c=(e,t)=>{var a=new Date(t);t=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),s(e,t)};return(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,l.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===r.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(n[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==r.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==r.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===r.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>s(t,e)})}):t.DataType.toLowerCase()===r.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":d(t),label:e(t.DisplayName),displayFormat:(0,o.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>c(t,e),onTextChange:e=>{c(t,e)},error:e(n[t.Code]),reserveSpace:!1})}):null:(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(n[t.Code]),reserveSpace:!1})}):(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(n[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,s)=>{s.d(t,{$7:()=>P,AN:()=>se,AU:()=>R,Ak:()=>Be,Ao:()=>a,B6:()=>Y,C4:()=>ke,CG:()=>Q,Ct:()=>q,Cw:()=>O,EY:()=>v,G$:()=>Ye,G6:()=>ze,GF:()=>Ce,GJ:()=>H,Gj:()=>ue,Gl:()=>re,H9:()=>Je,HB:()=>Le,HP:()=>b,Hr:()=>ve,II:()=>it,IQ:()=>A,Jr:()=>F,Jx:()=>ge,Ki:()=>te,LP:()=>ie,Lv:()=>r,MK:()=>D,MX:()=>ee,Mx:()=>K,N4:()=>je,NH:()=>Ie,OF:()=>$e,Ps:()=>V,Q7:()=>qe,QY:()=>k,SF:()=>o,Sq:()=>Ne,Sw:()=>le,TQ:()=>X,U7:()=>L,UH:()=>p,UO:()=>oe,V_:()=>fe,Vy:()=>Ge,W9:()=>de,WN:()=>g,Wr:()=>i,Ww:()=>z,XP:()=>ye,Xk:()=>J,Yb:()=>Te,Yy:()=>m,Z2:()=>He,ZN:()=>M,ZO:()=>Se,Zu:()=>Fe,_G:()=>W,_N:()=>u,_u:()=>ce,ad:()=>ne,al:()=>Ae,ao:()=>G,bK:()=>B,bN:()=>I,cf:()=>x,dO:()=>Pe,dU:()=>C,dv:()=>l,eE:()=>Z,g:()=>N,gG:()=>n,gS:()=>Re,gT:()=>st,gW:()=>$,gZ:()=>Xe,go:()=>y,gp:()=>U,hq:()=>xe,i6:()=>et,ip:()=>he,k9:()=>E,kI:()=>S,l4:()=>Oe,l5:()=>T,lA:()=>j,lU:()=>Qe,mD:()=>Ue,mY:()=>w,mq:()=>d,n$:()=>at,n7:()=>h,nZ:()=>Me,rA:()=>we,s$:()=>Ve,s8:()=>_e,se:()=>De,tA:()=>be,vK:()=>tt,vs:()=>pe,w2:()=>Ze,w4:()=>Ee,wT:()=>c,wY:()=>f,wf:()=>me,wk:()=>ae,xW:()=>_,yM:()=>We,yO:()=>Ke});const a="driver",i="carriercompany",r="shareholder",o="baseProduct",l="TRAILER",n="TRAILERCOMPARTMENT",d="terminal",c="customer",u="destination",h="finishedproduct",C="tank",m="marine_vessel",E="marine_trailercompartment",p="supplier",D="vehicle",I="vehicletrailer",g="originterminal",A="bay",S="loadingArm",T="cardreader",N="vehicleprimemover",b="meter",v="SHIPMENT",L="SHIPMENTCOMPARTMENT",R="SHIPMENTDESTINATIONCOMPARTMENT",y="SHIPMENTDETAILS",f="SHIPMENTTRAILERWEIGHBRIDGE",P="SHIPMENTTRAILER",M="SHIPMENTSTATUSTIME",x="MARINEDISPATCH",j="MARINEDISPATCHCOMPARTMENTDETAIL",H="railwagon",O="primemover",w="bcu",k="RAILRECEIPTPLAN",V="RAILRECEIPTWAGONDETAILPLAN",G="RAILUNLOADINGDETAILSFP",U="RAILUNLOADINGDETAILSBP",_="RAILUNLOADINGDETAILSADDITIVE",F="RAILDISPATCHPLAN",B="RAILDISPATCHITEM",W="RAILDISPATCHSTATUSCHANGE",K="RAILDISPATCHWAGON",q="RAILDISPATCHWAGONDETAILPLAN",J="RAILDISPATCHWAGONWEIGHBRIDGE",Y="RAILDISPATCHWAGONCOMPARTMENT",Z="RAILLOADINGDETAILSFP",Q="RAILLOADINGDETAILSBP",$="RAILLOADINGDETAILSADDITIVE",z="marineReceipt",X="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",se="marineLoadingDetailsAdditive",ae="marineLoadingDetailsBP",ie="marineReceiptCompartmentDetail",re="marineUnloadingDetailsFP",oe="marineUnloadingDetailsBP",le="accessCard",ne="LOADINGDETAILSFP",de="LOADINGDETAILSBP",ce="LOADINGDETAILSADDITIVE",ue="MARINERECEIPTSTATUSTIME",he="MARINEDISPATCHSTATUSTIME",Ce="RECEIPT",me="UNLOADINGTRANSACTIONS",Ee="ORDER",pe="ORDERITEM",De="CONTRACT",Ie="CONTRACT_ITEM",ge="RECEIPTORIGINTERMINALCOMPARTMENT",Ae="GeneralTMUser_CAPTAIN",Se="weighbridge",Te="deu",Ne="GeneralTMUser_STAFF",be="GeneralTMUser_VISITOR",ve="PIPELINEHEADER",Le="SEALMASTER",Re="PIPELINERECEIPT",ye="ROADSHIPMENTSLOTINFO",fe="ROADRECEIPTSLOTINFO",Pe="MARINESHIPMENTSLOTINFO",Me="MARINERECEIPTSLOTINFO",xe="PIPELINEDISPATCH",je="PIPELINETRANSACTIONS",He="PIPELINEDISPATCHSTATUSTIME",Oe="PIPELINERECEIPTSTATUSTIME",we="PROCESSCONFIG",ke="PRODUCTALLOCATIONITEM",Ve="HSEINSPECTIONSHIPMENTRIGIDTRUCK",Ge="HSEINSPECTIONSHIPMENTTRAILER",Ue="HSEINSPECTIONSHIPMENTPRIMEMOVER",_e="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Fe="HSEINSPECTIONMARINESHIPMENTBARGE",Be="HSEINSPECTIONMARINESHIPMENTSHIP",We="HSEINSPECTIONSHIPMENTRAILWAGON",Ke="HSEINSPECTIONSHIPMENTPIPELINE",qe="HSEINSPECTIONRECEIPTRIGIDTRUCK",Je="HSEINSPECTIONRECEIPTTRAILER",Ye="HSEINSPECTIONRECEIPTPRIMEMOVER",Ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Qe="HSEINSPECTIONMARINERECEIPTBARGE",$e="HSEINSPECTIONMARINERECEIPTSHIP",ze="HSEINSPECTIONRECEIPTRAILWAGON",Xe="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",st="COAMANAGEMENT",at="COACUSTOMER",it="COAASSIGNMENT"},35861:(e,t,s)=>{s.d(t,{F1:()=>l,i7:()=>n,r4:()=>o});var a=s(86178),i=s.n(a),r=(s(15660),s(65043),s(70579));function o(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function l(){let e=window.navigator.userLanguage||window.navigator.language;return i().locale(e),i().localeData().longDateFormat("L")}function n(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=8208.98ad45f5.chunk.js.map