"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[2964,6001,8382,735,3116,3235,5973,8354],{12964:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s=a(65043),n=a(67907),o=a(69062),i=a(78374),r=a(72711),l=a(85800),d=a(65187),c=a(70579);function m(e){let{coaManagement:t,modCOAManagement:a,validationErrors:s,listOptions:m,onFieldChange:h,onTankCodeChange:u,onTemplateCodeChange:C,onActiveStatusChange:p,isEnterpriseNode:E,pageSize:A,handleCellDataEdit:g,modAttributeMetaDataList:T,attributeValidationErrors:I,onAttributeDataChange:D}=e;const S=(e,t)=>{let a=[];return a=e.find((e=>e.TerminalCode===t)),a.attributeValidationErrors},N=e=>(0,c.jsx)(r.Input,{fluid:!0,value:e.rowData[e.field],onChange:t=>g(t,e),reserveSpace:!1});return(0,c.jsx)(n.TranslationConsumer,{children:e=>(0,c.jsxs)("div",{className:"detailsContainer",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(r.Input,{fluid:!0,value:a.COACode,label:e("COAManagementCode"),indicator:"required",disabled:""!==t.COACode,onChange:e=>h("COACode",e),error:e(s.COACode),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(r.Select,{fluid:!0,placeholder:"Select",value:a.TankCode,label:e("COAManagementTankCode"),indicator:"required",options:o.Zj(m.managementTankCodes),onChange:e=>u(e),error:e(s.TankCode),disabled:""!==t.TankCode,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(r.Select,{fluid:!0,placeholder:"Select",value:a.TemplateCode,label:e("COAManagementTemplateCode"),indicator:"required",options:o.Zj(m.managementTemplateCodes),onChange:e=>C(e),error:e(s.TemplateCode),disabled:""!==t.TemplateCode,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),text:a.TemplateCode})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(r.Input,{fluid:!0,value:a.BaseProductCode,label:e("COAManagementBaseProductCode"),disabled:!0,onChange:e=>h("COAManagementBaseProductCode",e),error:e(s.BaseProductCode),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(r.Input,{fluid:!0,value:a.BaseProductName,label:e("COAManagementBaseProductName"),disabled:!0,onChange:e=>h("COAManagementBaseProductName",e),error:e(s.BaseProductName),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(r.Input,{fluid:!0,value:a.LOTNumber,label:e("COAManagementLOTNumber"),onChange:e=>h("LOTNumber",e),error:e(s.LOTNumber),reserveSpace:!1})})]}),T.length>0?T.map((t=>(0,c.jsx)(d.A,{children:(0,c.jsx)(r.Accordion,{children:(0,c.jsx)(r.Accordion.Content,{className:"attributeAccordian",title:e("Attributes_Header"),children:(0,c.jsx)(l.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:D,attributeValidationErrors:S(I,t.TerminalCode)})})})}))):null,(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-12 col-md-12 col-lg-12",children:[(0,c.jsx)("h4",{children:e("COAManagement_Configuration")}),(0,c.jsx)("div",{className:"detailsTable",children:(0,c.jsxs)(i.bQ,{data:m.templateParameters,search:!0,rows:A,searchPlaceholder:e("LoadingDetailsView_SearchGrid"),children:[(0,c.jsx)(i.bQ.Column,{className:"compColHeight",field:"ParameterName",header:e("COAManagementDetail_ParameterName")},"ParameterName"),(0,c.jsx)(i.bQ.Column,{className:"compColHeight",field:"Specification",header:e("COAManagementDetail_Specification"),editFieldType:"text",editable:!0,customEditRenderer:e=>N(e)},"Specification"),(0,c.jsx)(i.bQ.Column,{className:"compColHeight",field:"Method",header:e("COAManagementDetail_Method"),editFieldType:"text",editable:!0,customEditRenderer:e=>N(e)},"Method"),(0,c.jsx)(i.bQ.Column,{className:"compColHeight",field:"Result",header:e("COAManagementDetail_Result"),editFieldType:"text",editable:!0,customEditRenderer:e=>N(e)},"Result"),(0,c.jsx)(i.bQ.Column,{className:"compColHeight",field:"SortIndex",header:e("COAManagementDetail_SortIndex"),editFieldType:"text",editable:!0,customEditRenderer:e=>N(e)},"SortIndex"),Array.isArray(m.templateParameters)&&m.templateParameters.length>A?(0,c.jsx)(i.bQ.Pagination,{}):""]})})]}),(0,c.jsx)("div",{})]})]})})}m.defaultProps={isEnterpriseNode:!1,templateParameters:[],managementTankCodes:[],managementTemplateCodes:[]};a(9256);var h=a(44192),u=a(46100),C=a(40854),p=a.n(C),E=a(72067),A=a(97508),g=(a(38726),a(43503)),T=a(93779),I=a(80312),D=a(53536),S=a.n(D),N=a(40252),M=a(62900),v=a(15417),R=a(7523),O=a(73571);class L extends s.Component{constructor(){super(...arguments),this.state={coaManagement:S().cloneDeep(u.qs),modCOAManagement:S().cloneDeep(u.qs),validationErrors:o.Th(h.xK),isReadyToRender:!1,saveEnabled:!1,showAuthenticationLayout:!1,tempCOAManagement:{},managementTankCodes:[],managementTemplateCodes:[],initialTemplateParameters:[],templateParameters:[],attributeMetaDataList:[],modAttributeMetaDataList:[],attributeValidationErrors:[],showReport:!1},this.handleAttributeDataChange=(e,t)=>{try{let a=[],s=S().cloneDeep(this.state.modAttributeMetaDataList),n=s.filter((t=>t.TerminalCode===e.TerminalCode));n.length>0&&Array.isArray(n[0].attributeMetaDataList)&&(a=n[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),a.length>0&&(a[0].DefaultValue=t);const i=S().cloneDeep(this.state.attributeValidationErrors);i.forEach((a=>{a.TerminalCode===e.TerminalCode&&(a.attributeValidationErrors[e.Code]=o.I5(e,t))})),this.setState({attributeValidationErrors:i,modAttributeMetaDataList:s})}catch(a){console.log("TerminalDetailsComposite:Error occured on handleAttributeDataChange",a)}},this.handleTankCodeChange=e=>{try{const t=S().cloneDeep(this.state.modCOAManagement),a=S().cloneDeep(this.state.validationErrors);if(t.TankCode=e,this.setState({modCOAManagement:t}),void 0!==h.xK.TankCode&&(a.TankCode=o.jr(h.xK.TankCode,e),this.setState({validationErrors:a})),""!=a.TankCode)return;p()(E.$ml+"?TankCode="+e,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var a=e.data;if(!0===a.IsSuccess){var s=a.EntityResult;t.BaseProductCode=s.BaseProductCode,t.BaseProductName=s.BaseProductName;var n=s.COATemplateCodes;this.setState({modCOAManagement:t,managementTemplateCodes:n})}else console.log("Error in GetCOAManagementInfoFromTank:",a.ErrorList)})).catch((e=>{console.log("Error while GetCOAManagementInfoFromTank:",e)}))}catch(t){console.log("Error while handleTankCodeChange:",t)}},this.handleTemplateCodeChange=e=>{try{const s=S().cloneDeep(this.state.modCOAManagement),n=S().cloneDeep(this.state.validationErrors);if(s.TemplateCode=e,this.setState({modCOAManagement:s}),void 0!==h.xK.TemplateCode&&(n.TemplateCode=o.jr(h.xK.TemplateCode,e),this.setState({validationErrors:n})),""!=n.TemplateCode)return;var t=[{key:T.$L,value:e}],a={keyDataCode:T.$L,KeyCodes:t};p()(E.cU_,o.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isReadyToRender:!1},(()=>{let e=t.EntityResult.COATemplateDetailsList;var a=[];e.forEach((e=>{var t={ParameterName:e.ParameterName,Specification:e.Specification,Method:e.Method,SortIndex:e.SortIndex};a.push(t)})),this.setState({templateParameters:a,initialTemplateParameters:a,isReadyToRender:!0})})):(this.setState({templateParameters:[],initialTemplateParameters:[],isReadyToRender:!0},(()=>{})),console.log("Error in GetCOATemplateForManagement:",t.ErrorList))})).catch((t=>{console.log("Error while GetCOATemplateForManagement:",t,e)}))}catch(s){console.log("Error while handleTemplateCodeChange:",s)}},this.handleChange=(e,t)=>{try{const a=S().cloneDeep(this.state.modCOAManagement),s=S().cloneDeep(this.state.validationErrors);a[e]=t,this.setState({modCOAManagement:a}),void 0!==h.xK[e]&&(s[e]=o.jr(h.xK[e],t),this.setState({validationErrors:s}))}catch(a){console.log("COAManagementDetailsComposite:Error occured on handleChange",a)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})},this.saveCOAManagement=()=>{try{this.setState({saveEnabled:!1});let e=S().cloneDeep(this.state.tempCOAManagement),t=S().cloneDeep(this.state.templateParameters);e.COAManagementDetailsList=[],t.forEach((t=>{var a={ParameterName:t.ParameterName,Specification:t.Specification,Method:t.Method,SortIndex:t.SortIndex,Result:t.Result,AnalysisParameterName:t.ParameterName};e.COAManagementDetailsList.push(a)})),e.COATypeSortIndex=1,e.COAType="GNS",e.MFDTime=new Date,null!==e.Remarks&&void 0!==e.Remarks||(e.Remarks=""),null!==e.TransactionCode&&void 0!==e.TransactionCode||(e.TransactionCode="");let a=o.pI(this.state.modAttributeMetaDataList);a=o.SC(a),e.Attributes=o.Gh(a),""===this.state.coaManagement.COACode?this.createCOAManagement(e):this.updateCOAManagement(e)}catch(e){console.log("COAManagementDetailsComposite : Error in saveCOAManagement")}},this.handleSave=()=>{try{let e=S().cloneDeep(this.state.modCOAManagement),t=o.pI(this.state.modAttributeMetaDataList);if(this.validateSave(t)){let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,a=S().cloneDeep(e);this.setState({showAuthenticationLayout:t,tempCOAManagement:a},(()=>{!1===t&&this.saveCOAManagement()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("COAManagementDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{this.setState({isReadyToRender:!1},(()=>{const e={...this.state.validationErrors},t=S().cloneDeep(this.state.coaManagement);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({availableManagements:[],associatedManagements:[],selectedAvailableManagements:[],selectedAssociatedManagements:[],modCOAManagement:{...t},validationErrors:e,modAttributeMetaDataList:[],templateParameters:""!==t.TemplateCode?S().cloneDeep(this.state.initialTemplateParameters):[],isReadyToRender:!0},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode||this.localNodeAttribute(),this.handleResetAttributeValidationError()}))}))}catch(e){console.log("COAManagementDetailsComposite:Error occured on handleReset",e)}},this.handleCellDataEdit=(e,t)=>{try{let a=S().cloneDeep(this.state.templateParameters);a.find((e=>e.ParameterName==t.rowData.ParameterName))[t.field]=e,this.setState({templateParameters:a})}catch(a){console.log(":Error occured on handleCellDataEdit",a)}},this.handleModalBack=()=>{this.setState({showReport:!1})},this.handleViewBaseCOAReport=()=>{void 0===this.reportServiceURI?p()(E.yTV,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{e.data.IsSuccess&&(this.reportServiceURI=e.data.EntityResult,this.setState({showReport:!0}))})):this.setState({showReport:!0})},this.handleActiveStatusChange=e=>{try{let t=S().cloneDeep(this.state.modCOAManagement);t.IsActive=e,this.setState({modCOAManagement:t})}catch(t){console.log(t)}}}terminalSelectionChange(e){try{let n=[];var t=[],a=[];t=S().cloneDeep(this.state.attributeMetaDataList),a=S().cloneDeep(this.state.modAttributeMetaDataList);const i=S().cloneDeep(this.state.attributeValidationErrors);var s=S().cloneDeep(this.state.modCOAManagement);e.forEach((e=>{var o=a.find((t=>t.TerminalCode===e));void 0===o?t.COAMANAGEMENT.forEach((function(t){if(t.TerminalCode===e){var a=s.Attributes.find((t=>t.TerminalCode===e));void 0!==a&&t.attributeMetaDataList.forEach((function(e){var t=a.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),n.push(t)}})):n.push(o)})),a=[],a=n,a=o.nQ(a),i.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modAttributeMetaDataList:a,attributeValidationErrors:i})}catch(n){console.log("coaManagementDetailsComposite:Error occured on terminalSelectionChange",n)}}localNodeAttribute(){try{var e=S().cloneDeep(this.state.attributeMetaDataList);Array.isArray(e.COAMANAGEMENT)&&e.COAMANAGEMENT.length>0&&this.terminalSelectionChange([e.COAMANAGEMENT[0].TerminalCode])}catch(t){console.log("COAMANAGEMENTDetailsComposite:Error occured on localNodeAttribute",t)}}handleResetAttributeValidationError(){try{var e=S().cloneDeep(this.state.attributeMetaDataList);this.setState({attributeValidationErrors:o.Fl(e.COAMANAGEMENT)})}catch(t){console.log("handleAttributeValidationError:Error occured on handleReset",t)}}GetTemplateFromTank(){try{p()(E.lOr,o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){var a=t.EntityResult,s=[];a.forEach((e=>{s.push(e.Code)})),this.setState({managementFromManagement:s})}else console.log("Error in getmanagementFromManagement:",t.ErrorList)})).catch((e=>{console.log("Error while getting Management FromManagement List:",e)}))}catch(e){console.log("Error while getting Management FromManagement List:",e)}}getManagementTankCodes(){try{p()(E.Ibp+"?ShareholderCode=",o.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){var a=t.EntityResult,s=[];a.forEach((e=>{s.push(e)})),this.setState({managementTankCodes:s})}}else console.log("Error in getManagementTankCodes:",t.ErrorList)})).catch((e=>{console.log("Error while getting Management TankCode List:",e)}))}catch(e){console.log("Error while getting Management TankCode List:",e)}}componentWillReceiveProps(e){try{""!==this.state.coaManagement.COACode&&void 0===e.selectedRow.COACode&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo&&this.getCOAManagement(e.selectedRow)}catch(t){console.log("COAManagementDetailsComposite:Error occured on componentWillReceiveProps",t)}}componentDidMount(){try{o.pJ(this.props.userDetails.EntityResult.IsArchived),this.getAttributes(this.props.selectedRow),this.getManagementTankCodes()}catch(e){console.log("COAManagementDetailsComposite:Error occured on componentDidMount",e)}}getAttributes(e){try{p()(E.fKH,o.tW([v.gT],this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;!0===a.IsSuccess?this.setState({attributeMetaDataList:S().cloneDeep(a.EntityResult),attributeValidationErrors:o.Fl(a.EntityResult.COAMANAGEMENT)},(()=>this.getCOAManagement(e))):console.log("Error in getAttributes:")}))}catch(t){console.log("Error while getAttributes:",t)}}getCOAManagement(e){if(void 0!==e.COACode){var t=[{key:T.Q5,value:e.COACode}],a={keyDataCode:T.Q5,KeyCodes:t};p()(E.hB$,o.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=t.EntityResult.COAManagementDetailsList;var a=[];e.forEach((e=>{var t={ParameterName:void 0===e.ParameterName?e.AnalysisParameterName:e.ParameterName,Specification:e.Specification,Method:e.Method,SortIndex:e.SortIndex,Result:e.Result};a.push(t)})),this.setState({isReadyToRender:!0,coaManagement:S().cloneDeep(t.EntityResult),modCOAManagement:S().cloneDeep(t.EntityResult),initialTemplateParameters:a,templateParameters:a,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.LP)},(()=>{this.localNodeAttribute()}))}else this.setState({coaManagement:S().cloneDeep(u.qs),modCOAManagement:S().cloneDeep(u.qs),isReadyToRender:!0},(()=>{})),console.log("Error in getCOAManagement:",t.ErrorList)})).catch((t=>{console.log("Error while getting coaManagement:",t,e)}))}else this.setState({coaManagement:S().cloneDeep(u.qs),modCOAManagement:S().cloneDeep(u.qs),templateParameters:[],isReadyToRender:!1,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.LP),modAttributeMetaDataList:[]},(()=>{this.setState({isReadyToRender:!0}),!1===this.props.userDetails.EntityResult.IsEnterpriseNode&&this.localNodeAttribute()}))}validateSave(e){const{modCOAManagement:t}=this.state;var a=S().cloneDeep(this.state.validationErrors);Object.keys(h.xK).forEach((function(e){a[e]=o.jr(h.xK[e],t[e])})),this.setState({validationErrors:a});var s=S().cloneDeep(this.state.attributeValidationErrors);e.forEach((e=>{s.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=o.I5(e,e.DefaultValue)}))}))})),this.setState({validationErrors:a,attributeValidationErrors:s});var n=!0;return s.forEach((e=>{if(!n)return n;n=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),n&&(n=Object.values(a).every((function(e){return""===e}))),n}createCOAManagement(e){var t=[{key:T.Q5,value:e.COACode}];e.COAManagementDetailsList=e.COAManagementDetailsList;var a={keyDataCode:T.Q5,KeyCodes:t,Entity:e},s={messageType:"critical",message:"COAManagementDetails_SavedStatus",messageResultDetails:[{keyFields:["COACode"],keyValues:[e.COACode],isSuccess:!1,errorMessage:""}]};p()(E.nbo,o.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;s.messageType=a.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess?this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.LP),showAuthenticationLayout:!1,modCOAManagement:e},(()=>this.getCOAManagement({COACode:e.COACode}))):(s.messageResultDetails[0].errorMessage=a.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.LP),showAuthenticationLayout:!1}),console.log("Error in createCOAManagement:",a.ErrorList)),this.props.onSaved(e,"add",s)})).catch((t=>{this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.add,I.LP),showAuthenticationLayout:!1}),s.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",s)}))}updateCOAManagement(e){let t=[{key:T.Q5,value:e.COACode}];null==e.FinishedProductCode&&(e.FinishedProductCode="");let a={keyDataCode:T.Q5,KeyCodes:t,Entity:e},s={messageType:"critical",message:"COAManagementDetails_SavedStatus",messageResultDetails:[{keyFields:["COACode"],keyValues:[e.COACode],isSuccess:!1,errorMessage:""}]};p()(E.KbG,o.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;s.messageType=a.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess?this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.LP),showAuthenticationLayout:!1},(()=>this.getCOAManagement({COACode:e.COACode}))):(s.messageResultDetails[0].errorMessage=a.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.LP),showAuthenticationLayout:!1}),console.log("Error in updateCOAManagement:",a.ErrorList)),this.props.onSaved(e,"update",s)})).catch((t=>{s.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"modify",s),this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,I.i.modify,I.LP),showAuthenticationLayout:!1})}))}renderModal(){let e=null;e=this.props.userDetails.EntityResult.IsArchived?"TM/"+R.mD+"/BaseCOAReport":"TM/"+R.PZ+"/BaseCOAReport";let t={Culture:this.props.userDetails.EntityResult.UICulture,COACode:this.state.modCOAManagement.COACode};return(0,c.jsx)(O.A,{showReport:this.state.showReport,handleBack:this.handleModalBack,handleModalClose:this.handleModalBack,proxyServerHost:E._Oi,reportServiceHost:this.reportServiceURI,filePath:e,parameters:t})}render(){const e={managementTankCodes:this.state.managementTankCodes,managementTemplateCodes:this.state.managementTemplateCodes,templateParameters:this.state.templateParameters},t=[{fieldName:"COAManagement_LastUpDt",fieldValue:new Date(this.state.modCOAManagement.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modCOAManagement.LastUpdatedTime).toLocaleTimeString()},{fieldName:"COAManagement_LastUpdatedBy",fieldValue:this.state.modCOAManagement.LastUpdatedBy}];return this.state.isReadyToRender?(0,c.jsxs)("div",{children:[(0,c.jsx)(d.A,{children:(0,c.jsx)(g.A,{entityCode:this.state.coaManagement.COACode,newEntityName:"COAManagement_Title",popUpContents:t})}),(0,c.jsx)(d.A,{children:(0,c.jsx)(m,{coaManagement:this.state.coaManagement,modCOAManagement:this.state.modCOAManagement,genericProps:this.props.genericProps,validationErrors:this.state.validationErrors,listOptions:e,onFieldChange:this.handleChange,onTankCodeChange:this.handleTankCodeChange,onTemplateCodeChange:this.handleTemplateCodeChange,onActiveStatusChange:this.handleActiveStatusChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,handleCellDataEdit:this.handleCellDataEdit,attributeValidationErrors:this.state.attributeValidationErrors,modAttributeMetaDataList:this.state.modAttributeMetaDataList,attributeMetaDataList:this.state.attributeMetaDataList,onAttributeDataChange:this.handleAttributeDataChange})}),(0,c.jsx)(d.A,{children:(0,c.jsx)(n.TranslationConsumer,{children:e=>(0,c.jsxs)("div",{className:"row userActionPosition",children:[(0,c.jsx)("div",{className:"col col-2",children:(0,c.jsx)(r.Button,{className:"backButton",onClick:this.props.onBack,content:e("Back")})}),(0,c.jsxs)("div",{className:"col col-10",style:{textAlign:"right"},children:[""===this.state.coaManagement.COACode?"":(0,c.jsx)(r.Button,{content:e("COAManagement_ViewBaseCOAReport"),onClick:()=>this.handleViewBaseCOAReport()}),(0,c.jsx)(r.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:()=>this.handleReset()}),(0,c.jsx)(r.Button,{content:e("Save"),disabled:!this.state.saveEnabled,onClick:()=>this.handleSave()})]})]})})}),this.state.showAuthenticationLayout?(0,c.jsx)(M.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.coaManagement.COAManagementCode?I.i.add:I.i.modify,functionGroup:I.LP,handleOperation:this.saveCOAManagement,handleClose:this.handleAuthenticationClose}):null,this.renderModal()]}):(0,c.jsx)(N.A,{message:"Loading"})}}const P=(0,A.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(L)},43503:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(67907),n=a(72711),o=a(70579);function i(e){let{entityCode:t,newEntityName:a,popUpContents:i}=e;return(0,o.jsx)(s.TranslationConsumer,{children:e=>(0,o.jsx)("div",{className:"headerContainer",children:(0,o.jsxs)("div",{className:"row headerSpacing",children:[(0,o.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,o.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(a):t})}),""!==t&&void 0!==t&&i.length>0?(0,o.jsx)("div",{className:"headerItemRight",children:(0,o.jsx)(n.Popup,{element:(0,o.jsxs)("div",{children:[e(i[0].fieldName)+" ",":"," "+i[0].fieldValue,(0,o.jsx)(n.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,o.jsx)(n.List,{className:"detailsHeaderPopUp",children:i.map((t=>(0,o.jsxs)(n.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}i.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const r=i},9256:(e,t,a)=>{a.d(t,{q:()=>i});a(65043);var s=a(72711),n=a(67907),o=a(70579);function i(e){let{handleBack:t,handleSave:a,handleReset:i,saveEnabled:r}=e;return(0,o.jsx)(n.TranslationConsumer,{children:e=>(0,o.jsxs)("div",{className:"row userActionPosition",children:[(0,o.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,o.jsx)(s.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,o.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,o.jsxs)("div",{style:{float:"right"},children:[(0,o.jsx)(s.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:i}),(0,o.jsx)(s.Button,{content:e("Save"),disabled:!r,onClick:a})]})})]})})}i.defaultProps={saveEnabled:!1}},85800:(e,t,a)=>{a.d(t,{n:()=>l});a(65043);var s=a(72711),n=a(67907),o=a(7523),i=a(35861),r=a(70579);function l(e){let{selectedAttributeList:t,handleCellDataEdit:a,attributeValidationErrors:l}=e;const d=e=>{if("0000-00-00"===e.DefaultValue)return c(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},c=(e,t)=>{var s=new Date(t);t=s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2),a(e,t)};return(0,r.jsx)(n.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,r.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===o.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,r.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,r.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==o.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==o.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==o.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==o.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===o.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,r.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,r.jsx)(s.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>a(t,e)})}):t.DataType.toLowerCase()===o.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,r.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,r.jsx)(s.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":d(t),label:e(t.DisplayName),displayFormat:(0,i.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>c(t,e),onTextChange:e=>{c(t,e)},error:e(l[t.Code]),reserveSpace:!1})}):null:(0,r.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,r.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})}):(0,r.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,r.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(l[t.Code]),reserveSpace:!1})})))})})})})}},73571:(e,t,a)=>{a.d(t,{A:()=>u});a(65043);var s=a(72711),n=a(728),o=a(92569),i=a(47766),r=(a(60663),a(7523)),l=a(97508),d=a(70579);function c(e){let{proxyServerHost:t,reportServiceHost:a,parameters:s,filePath:n,...r}=e;const l=t+"api/report",c=(e,t)=>{const a=t.settings.beforeSend;t.settings.beforeSend=function(t){a&&a(t),r.userDetails.EntityResult.IsWebPortalUser||(t.withCredentials=!0),t.URL_DEBUG.indexOf("parameters")>-1&&(t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=e.hostElement;setTimeout((()=>{var e=t.querySelector(".wj-viewer-splitter"),a=t.querySelector(".wj-viewer-tabsleft").querySelectorAll("li")[2];a.disabled||(a.className="hidden",e.click())}),1e3)}})}};let m={Authorization:"Bearer "+r.tokenDetails.tokenInfo};const h=(e,s)=>{i._ReportService.prototype.load=function(e){var s=this,n=new i._Promise;return this._checkReportController(n)?(this.httpRequest(this._getReportInstancesUrl(),{method:"POST",data:e}).then((function(e){var o=i._parseReportExecutionInfo(e.responseText);s._instanceId=o.id,s._status=i._ExecutionStatus.loaded,s._outlinesLocation=o.outlinesLocation,s._statusLocation=o.statusLocation.replace(a,t),s._pageSettingsLocation=o.pageSettingsLocation,s._featuresLocation=o.featuresLocation,s._parametersLocation=o.parametersLocation,n.resolve(o)}),(function(e){n.reject(s._getError(e))})),n):n}};return(0,d.jsx)("div",{children:r.userDetails.EntityResult.IsWebPortalUser?(0,d.jsx)("div",{children:(0,d.jsx)(o.R,{requestHeaders:m,style:{height:"80vh"},parameters:s,serviceUrl:l,filePath:n,initialized:h,beforeSendRequest:c})}):(0,d.jsx)("div",{children:(0,d.jsx)(o.R,{style:{height:"80vh"},parameters:s,serviceUrl:l,filePath:n,initialized:h,beforeSendRequest:c})})})}c.defaultProps={parameters:{}},n.setLicenseKey(r.yQ);const m=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(c);var h=a(67907);function u(e){let{proxyServerHost:t,reportServiceHost:a,filePath:n,handleBack:o,showReport:i,handleModalClose:r,parameters:l}=e;const[c]=(0,h.useTranslation)();return(0,d.jsx)(s.Modal,{style:{padding:"0px"},size:"fullscreen",open:i,children:(0,d.jsxs)("div",{children:[(0,d.jsx)(s.Header,{title:c("Header_TerminalManager"),menu:!1}),(0,d.jsx)(m,{proxyServerHost:t,reportServiceHost:a,filePath:n,parameters:l}),(0,d.jsx)("div",{style:{marginTop:"10px",marginLeft:"20px"},children:(0,d.jsx)(s.Button,{className:"backButton",onClick:o,content:c("Report_Back")})})]})})}u.defaultProps={parameters:{}}},15417:(e,t,a)=>{a.d(t,{$7:()=>b,AN:()=>ae,AU:()=>O,Ak:()=>_e,Ao:()=>s,B6:()=>Z,C4:()=>He,CG:()=>J,Ct:()=>K,Cw:()=>j,EY:()=>v,G$:()=>Ze,G6:()=>$e,GF:()=>ue,GJ:()=>k,Gj:()=>me,Gl:()=>oe,H9:()=>Qe,HB:()=>Re,HP:()=>M,Hr:()=>ve,II:()=>nt,IQ:()=>I,Jr:()=>F,Jx:()=>Te,Ki:()=>te,LP:()=>ne,Lv:()=>o,MK:()=>A,MX:()=>ee,Mx:()=>q,N4:()=>xe,NH:()=>ge,OF:()=>Ye,Ps:()=>V,Q7:()=>Ke,QY:()=>H,SF:()=>i,Sq:()=>Ne,Sw:()=>re,TQ:()=>X,U7:()=>R,UH:()=>E,UO:()=>ie,V_:()=>Pe,Vy:()=>Ge,W9:()=>de,WN:()=>T,Wr:()=>n,Ww:()=>$,XP:()=>Le,Xk:()=>Q,Yb:()=>Se,Yy:()=>C,Z2:()=>ke,ZN:()=>y,ZO:()=>De,Zu:()=>Fe,_G:()=>W,_N:()=>m,_u:()=>ce,ad:()=>le,al:()=>Ie,ao:()=>G,bK:()=>_,bN:()=>g,cf:()=>f,dO:()=>be,dU:()=>u,dv:()=>r,eE:()=>z,g:()=>N,gG:()=>l,gS:()=>Oe,gT:()=>at,gW:()=>Y,gZ:()=>Xe,go:()=>L,gp:()=>U,hq:()=>fe,i6:()=>et,ip:()=>he,k9:()=>p,kI:()=>D,l4:()=>je,l5:()=>S,lA:()=>x,lU:()=>Je,mD:()=>Ue,mY:()=>w,mq:()=>d,n$:()=>st,n7:()=>h,nZ:()=>ye,rA:()=>we,s$:()=>Ve,s8:()=>Be,se:()=>Ae,tA:()=>Me,vK:()=>tt,vs:()=>Ee,w2:()=>ze,w4:()=>pe,wT:()=>c,wY:()=>P,wf:()=>Ce,wk:()=>se,xW:()=>B,yM:()=>We,yO:()=>qe});const s="driver",n="carriercompany",o="shareholder",i="baseProduct",r="TRAILER",l="TRAILERCOMPARTMENT",d="terminal",c="customer",m="destination",h="finishedproduct",u="tank",C="marine_vessel",p="marine_trailercompartment",E="supplier",A="vehicle",g="vehicletrailer",T="originterminal",I="bay",D="loadingArm",S="cardreader",N="vehicleprimemover",M="meter",v="SHIPMENT",R="SHIPMENTCOMPARTMENT",O="SHIPMENTDESTINATIONCOMPARTMENT",L="SHIPMENTDETAILS",P="SHIPMENTTRAILERWEIGHBRIDGE",b="SHIPMENTTRAILER",y="SHIPMENTSTATUSTIME",f="MARINEDISPATCH",x="MARINEDISPATCHCOMPARTMENTDETAIL",k="railwagon",j="primemover",w="bcu",H="RAILRECEIPTPLAN",V="RAILRECEIPTWAGONDETAILPLAN",G="RAILUNLOADINGDETAILSFP",U="RAILUNLOADINGDETAILSBP",B="RAILUNLOADINGDETAILSADDITIVE",F="RAILDISPATCHPLAN",_="RAILDISPATCHITEM",W="RAILDISPATCHSTATUSCHANGE",q="RAILDISPATCHWAGON",K="RAILDISPATCHWAGONDETAILPLAN",Q="RAILDISPATCHWAGONWEIGHBRIDGE",Z="RAILDISPATCHWAGONCOMPARTMENT",z="RAILLOADINGDETAILSFP",J="RAILLOADINGDETAILSBP",Y="RAILLOADINGDETAILSADDITIVE",$="marineReceipt",X="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",ae="marineLoadingDetailsAdditive",se="marineLoadingDetailsBP",ne="marineReceiptCompartmentDetail",oe="marineUnloadingDetailsFP",ie="marineUnloadingDetailsBP",re="accessCard",le="LOADINGDETAILSFP",de="LOADINGDETAILSBP",ce="LOADINGDETAILSADDITIVE",me="MARINERECEIPTSTATUSTIME",he="MARINEDISPATCHSTATUSTIME",ue="RECEIPT",Ce="UNLOADINGTRANSACTIONS",pe="ORDER",Ee="ORDERITEM",Ae="CONTRACT",ge="CONTRACT_ITEM",Te="RECEIPTORIGINTERMINALCOMPARTMENT",Ie="GeneralTMUser_CAPTAIN",De="weighbridge",Se="deu",Ne="GeneralTMUser_STAFF",Me="GeneralTMUser_VISITOR",ve="PIPELINEHEADER",Re="SEALMASTER",Oe="PIPELINERECEIPT",Le="ROADSHIPMENTSLOTINFO",Pe="ROADRECEIPTSLOTINFO",be="MARINESHIPMENTSLOTINFO",ye="MARINERECEIPTSLOTINFO",fe="PIPELINEDISPATCH",xe="PIPELINETRANSACTIONS",ke="PIPELINEDISPATCHSTATUSTIME",je="PIPELINERECEIPTSTATUSTIME",we="PROCESSCONFIG",He="PRODUCTALLOCATIONITEM",Ve="HSEINSPECTIONSHIPMENTRIGIDTRUCK",Ge="HSEINSPECTIONSHIPMENTTRAILER",Ue="HSEINSPECTIONSHIPMENTPRIMEMOVER",Be="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Fe="HSEINSPECTIONMARINESHIPMENTBARGE",_e="HSEINSPECTIONMARINESHIPMENTSHIP",We="HSEINSPECTIONSHIPMENTRAILWAGON",qe="HSEINSPECTIONSHIPMENTPIPELINE",Ke="HSEINSPECTIONRECEIPTRIGIDTRUCK",Qe="HSEINSPECTIONRECEIPTTRAILER",Ze="HSEINSPECTIONRECEIPTPRIMEMOVER",ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Je="HSEINSPECTIONMARINERECEIPTBARGE",Ye="HSEINSPECTIONMARINERECEIPTSHIP",$e="HSEINSPECTIONRECEIPTRAILWAGON",Xe="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",at="COAMANAGEMENT",st="COACUSTOMER",nt="COAASSIGNMENT"},35861:(e,t,a)=>{a.d(t,{F1:()=>r,i7:()=>l,r4:()=>i});var s=a(86178),n=a.n(s),o=(a(15660),a(65043),a(70579));function i(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function r(){let e=window.navigator.userLanguage||window.navigator.language;return n().locale(e),n().localeData().longDateFormat("L")}function l(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=2964.d7fe6685.chunk.js.map