"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[3125,3235],{40510:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(65043),i=s(80297),r=s(65187),o=s(67907),l=s(70579);function n(e){let{KPIList:t,pageName:s,rowHeight:n,widgetHeight:c,isDraggable:d,isResizable:h,kpiDisplayTopBreakpoint:u}=e;const[C,E]=(0,a.useState)(1),A=a.useRef(null),I=()=>{let e=window.pageYOffset,t=C;if(A.current&&A.current.getBoundingClientRect().top<u)t=0;else{if(0!==e)return;t=1}E(t)};return(0,a.useEffect)((()=>{"undefined"!==typeof window&&window.addEventListener("scroll",I)})),(0,a.useEffect)((()=>()=>{window.removeEventListener("scroll",I)}),[]),(0,l.jsx)("div",{ref:A,children:1===C?(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsx)("div",{style:{marginTop:"6px"},children:(0,l.jsx)(r.A,{children:(0,l.jsx)(i.A,{kpiList:t,isDraggable:d,isResizable:h,rowHeight:n,widgetHeight:c,pageName:s})})})}):""})}n.defaultProps={kpiDisplayTopBreakpoint:100}},63125:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var a=s(65043),i=s(97508),r=s(40252),o=s(43503),l=s(65187),n=s(53536),c=s.n(n),d=s(46100),h=s(72711),u=s(67907),C=s(69062),E=s(35861),A=s(85800),I=s(70579);function p(e){let{accessCard:t,modAccessCard:s,validationErrors:a,listOptions:i,onFieldChange:r,handleSave:o,handleReset:n,saveEnabled:c,onFASCNBlur:d,isTWICEnable:p,modAttributeMetaDataList:S,onAttributeDataChange:m,attributeValidationErrors:D,isEnterpriseNode:g}=e;const y=(e,t)=>{let s=[];return s=e.find((e=>e.TerminalCode===t)),s.attributeValidationErrors};return(0,I.jsx)(u.TranslationConsumer,{children:e=>(0,I.jsxs)("div",{className:"detailsContainer",children:[(0,I.jsxs)("div",{className:"row",children:[(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,value:""===s.PIN?"":s.PIN,label:e("AccessCardInfo_x_IDCode"),indicator:"required",disabled:""!==t.PIN,onChange:e=>r("PIN",e),error:e(a.PIN),reserveSpace:!1})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Select,{fluid:!0,placeholder:"Select",value:s.CardType,label:e("AccessCardList_x_ID_Category"),indicator:"required",options:C.Zj(i.cardTypes),onChange:e=>r("CardType",e),error:e(a.CardType),disabled:null!==t.CardType,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),"ELECTRONIC"===s.CardType&&!0===p?(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",style:{marginTop:20},children:(0,I.jsx)(h.Checkbox,{disabled:""!==t.PIN,label:e("AccessCardInfo_IsTWICCard"),checked:s.ISTWICCARD,onChange:e=>r("ISTWICCARD",e)})}):"",!0===s.ISTWICCARD?(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,onBlur:d,value:""===s.FASCN?"":s.FASCN,label:e("AccessCardInfo_FASCN"),indicator:"required",disabled:""!==t.PIN,onChange:e=>r("FASCN",e),error:e(a.FASCN),reserveSpace:!1})}):"",(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,label:e("AccessCardInfo_x_CardUsageStatus"),value:null===s.CardStatus?"":s.CardStatus,disabled:!0})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,label:e("AccessCardInfo_Description"),value:null===s.Description?"":s.Description,onChange:e=>r("Description",e),error:e(a.Description),reserveSpace:!1})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.DatePicker,{fluid:!0,value:null===s.ExpiryDate?"":new Date(s.ExpiryDate),label:e("AccessCardInfo_x_CardExpiry"),disablePast:!0,indicator:"required",onChange:e=>r("ExpiryDate",e),displayFormat:(0,E.F1)(),error:e(a.ExpiryDate),reserveSpace:!1})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",style:{marginTop:20},children:(0,I.jsx)(h.Checkbox,{label:e("AccessCardInfo_x_Locked"),checked:s.Locked,disabled:""===t.PIN||"EXPIRED"===t.CardStatus,onChange:e=>r("Locked",e)})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,value:null===s.Remarks?"":s.Remarks,label:e("AccessCardInfo_Remarks"),disabled:""===t.PIN,onChange:e=>r("Remarks",e),indicator:s.Locked!==t.Locked?"required":"",error:e(a.Remarks),reserveSpace:!1})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,label:e("AccessCardInfoDetails_LastLocking"),value:""===t.PIN||null===s.LastLockingTime?"":new Date(s.LastLockingTime).toLocaleString(),disabled:!0})})]}),S.length>0&&!g?S.map((t=>(0,I.jsx)(l.A,{children:(0,I.jsx)(h.Accordion,{children:(0,I.jsx)(h.Accordion.Content,{className:"attributeAccordian",title:g?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,I.jsx)(A.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:(e,t)=>{m(e,t)},attributeValidationErrors:y(D,t.TerminalCode)})})})}))):null,(0,I.jsxs)("div",{className:"detailsButton",children:[(0,I.jsx)(h.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:n}),(0,I.jsx)(h.Button,{content:e("Save"),disabled:!c,onClick:o})]})]})})}p.defaultProps={};var S=s(44192),m=s(80312),D=s(93779),g=s(40854),y=s.n(g);function v(e){let{accessCard:t,modAccessCard:s,validationErrors:a,listOptions:i,onFieldChange:r,onChangePasswordClicked:o,onIssueClicked:l,onActivateClick:n,onRevokeClick:c,onResetPasswordClick:d,handleBack:E,issueEnabled:A,activateEnable:p,revokeEnable:S,passwordEnable:m,CarrierCodeEnable:D}=e;return(0,I.jsx)(u.TranslationConsumer,{children:e=>(0,I.jsxs)("div",{className:"detailsContainer",children:[(0,I.jsx)("div",{className:"row",children:(0,I.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,I.jsx)("h4",{children:e("Section")})})}),(0,I.jsxs)("div",{className:"row",children:[(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Select,{fluid:!0,placeholder:"Select",value:s.CarrierCode,label:e("AccessCardInfo_x_Carrier"),options:C.Zj(i.CarrierCompanies),onChange:e=>r("CarrierCode",e),error:e(a.CarrierCode),disabled:"AVAILABLE"!==s.CardStatus||D,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),indicator:"required"})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Select,{fluid:!0,placeholder:"Select",value:s.EntityName,label:e("AccessCardInfo_x_IssuedTo"),options:C.Zj(i.EntityTypes),onChange:e=>r("EntityName",e),error:e(a.EntityName),disabled:"AVAILABLE"!==s.CardStatus,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),indicator:"required"})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Select,{fluid:!0,placeholder:"Select",value:s.EntityValue,label:e("AccessCardInfo_x_Details"),options:C.Zj(i.EntityValues),disabled:"AVAILABLE"!==s.CardStatus,onChange:e=>r("EntityValue",e),error:e(a.EntityValue),multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage"),indicator:"required"})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,value:null===s.Password?"":s.Password,label:e("AccessCardInfo_x_Pwd"),disabled:!m||"ELECTRONIC"===s.CardType,onChange:e=>r("Password",e),error:e(a.Password),reserveSpace:!1,type:"password"})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,value:null===s.ConfirmPassword?"":s.ConfirmPassword,label:e("AccessCardInfo_x_ConfirmPassword"),disabled:!m||"ELECTRONIC"===s.CardType,onChange:e=>r("ConfirmPassword",e),error:e(a.ConfirmPassword),reserveSpace:!1,type:"password"})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",style:{marginTop:25},children:(0,I.jsx)(h.Button,{type:"primary",disabled:!m||"ELECTRONIC"===s.CardType,content:e("AccessCardInfo_x_ChangePwd"),onClick:o})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,value:""===t.PIN||null===s.IssueDate?"":new Date(s.IssueDate).toLocaleString(),label:e("AccessCardInfo_x_IssueDate"),disabled:""!==t.IssueDate,onChange:e=>r("IssueDate",e),error:e(a.IssueDate),reserveSpace:!1})}),(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsx)(h.Input,{fluid:!0,value:""===t.PIN||null===s.ActivationTime?"":new Date(s.ActivationTime).toLocaleString(),label:e("AccessCardList_ActivationTime"),disabled:""!==t.ActivationTime,onChange:e=>r("ActivationTime",e),error:e(a.ActivationTime),reserveSpace:!1})})]}),(0,I.jsxs)("div",{className:"row",children:[(0,I.jsx)("div",{className:"col col-lg-2",style:{float:"left"},children:(0,I.jsx)(h.Button,{className:"backButton",onClick:E,content:e("Back")})}),(0,I.jsxs)("div",{className:"col col-lg-10",style:{textAlign:"right"},children:[(0,I.jsx)(h.Button,{disabled:!A||"AVAILABLE"!==s.CardStatus,onClick:l,content:e("AccessCardInfo_x_IssueCard")}),(0,I.jsx)(h.Button,{disabled:!p||"ISSUED"!==s.CardStatus,content:e("AccessCardInfo_x_ActivateCard"),onClick:n}),(0,I.jsx)(h.Button,{disabled:!S||"ISSUED"!==s.CardStatus&&"ACTIVATED"!==s.CardStatus,content:e("AccessCardInfo_x_RevokeID"),onClick:c}),(0,I.jsx)(h.Button,{disabled:!m,content:e("AccessCardInfo_x_ResetPwd"),onClick:d})]})]})]})})}v.defaultProps={};var N=s(7523),T=s(72067),L=s(14159),R=s(11981),b=s(15417),P=s(97105),f=s(40510),x=s(39424),w=s(62900);class k extends a.Component{constructor(){super(...arguments),this.state={accessCard:c().cloneDeep(d.aJ),modAccessCard:{},validationErrors:C.Th(S.fb),isReadyToRender:!1,saveEnabled:!0,issueEnabled:!1,activateEnable:!1,revokeEnable:!1,CarrierCompanies:[],entityTypeList:[],EntityValues:[],modelOpen:!0,CarrierCodeEnable:!1,passwordEnable:!1,isTWICEnable:!1,FASCNId:"",attributeMetaDataList:[],attributeValidationErrors:[],modAttributeMetaDataList:[],attribute:[],accescardKPIList:[],tempAccessCard:{},showAccessCardAuthenticationLayout:!1,showIssueAuthenticationLayout:!1,showRevokeAuthenticationLayout:!1,showActivateAuthenticationLayout:!1,showResetPinAuthenticationLayout:!1,showChangePasswordAuthenticationLayout:!1},this.handleAttributeDataChange=(e,t)=>{try{let s=[],a=c().cloneDeep(this.state.modAttributeMetaDataList),i=a.filter((t=>t.TerminalCode===e.TerminalCode));i.length>0&&Array.isArray(i[0].attributeMetaDataList)&&(s=i[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),s.length>0&&(s[0].DefaultValue=t);const r=c().cloneDeep(this.state.attributeValidationErrors);r.forEach((s=>{s.TerminalCode===e.TerminalCode&&(s.attributeValidationErrors[e.Code]=C.I5(e,t))})),this.setState({attributeValidationErrors:r,modAttributeMetaDataList:a}),e.DataType!==N.IB.INT&&e.DataType!==N.IB.LONG&&e.DataType!==N.IB.FLOAT&&e.DataType!==N.IB.DOUBLE||(t=C.bo(t))}catch(s){console.log("AccessIDManagementDetailsComposite:Error occured on handleAttributeDataChange",s)}},this.handleAuthenticationClose=()=>{this.setState({showAccessCardAuthenticationLayout:!1,showIssueAuthenticationLayout:!1,showRevokeAuthenticationLayout:!1,showActivateAuthenticationLayout:!1,showResetPinAuthenticationLayout:!1,showChangePasswordAuthenticationLayout:!1})},this.onEntitySelectFocus=e=>{const{modAccessCard:t}=this.state;var s=c().cloneDeep(this.state.validationErrors);s.EntityValue="",Object.keys(S.fb).forEach((function(e){s[e]="","EntityName"===e&&(s[e]=C.jr(S.fb[e],t[e]))})),this.setState({validationErrors:s}),Object.values(s).every((function(e){return""===e}))&&y()(T.dW7+"?ShareholderCode="+this.props.selectedShareholder+"&CarrierCode="+t.CarrierCode+"&EntityType="+t.EntityName,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({EntityValues:t.EntityResult}):console.log("Error in onEntitySelectFocus:",t.ErrorList)})).catch((e=>{console.log("Error while getting Entity Code:",e)}))},this.handleChangePassword=()=>{if(this.validatePassword()){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showChangePasswordAuthenticationLayout:e},(()=>{!1===e&&this.changePassword()}))}},this.changePassword=()=>{this.handleAuthenticationClose();try{let a=c().cloneDeep(this.state.modAccessCard);var e=[{key:D.aM,value:a.PIN},{key:"NewPassword",value:a.ConfirmPassword}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:e},s={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[a.PIN],isSuccess:!1,errorMessage:""}]};y()(T.hDx,C.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?(s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,a.Password=null,a.ConfirmPassword=null,this.setState({modAccessCard:a})):(this.setState({CarrierCodeEnable:!1}),s.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in issueAccessCard:",t.ErrorList)),(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{s.messageResultDetails[0].errorMessage=e,(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}))}catch(a){console.log("AccessIDManagementDetailsComposite:Error occured on changePassword",a)}},this.handleissueAccessCard=()=>{if(this.setState({issueEnabled:!1}),this.validateIssue()){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showIssueAuthenticationLayout:e},(()=>{!1===e&&this.issueAccessCard()}))}else this.setState({issueEnabled:!0})},this.issueAccessCard=()=>{this.handleAuthenticationClose();try{this.initializeTheButtonEnable();let a=c().cloneDeep(this.state.modAccessCard);var e=[{key:D.aM,value:a.PIN},{key:"EntityType",value:a.EntityName},{key:"EntityCode",value:a.EntityValue},{key:D._n,value:a.CarrierCode}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:e},s={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[a.PIN],isSuccess:!1,errorMessage:""}]};y()(T.oxp,C.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?this.setState({CarrierCodeEnable:!1},(()=>this.getAccessCard({AccessCardList_x_IDCode:a.PIN}))):(this.setState({CarrierCodeEnable:!1}),s.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in issueAccessCard:",t.ErrorList)),(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{s.messageResultDetails[0].errorMessage=e,(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}))}catch(a){console.log("AccessIDManagementDetailsComposite:Error occured on issueAccessCard",a)}},this.handleActivateAccessCard=()=>{if(this.setState({activateEnable:!1}),this.validateActivate()){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showActivateAuthenticationLayout:e},(()=>{!1===e&&this.activateAccessCard()}))}else this.setState({activateEnable:!0})},this.activateAccessCard=()=>{this.handleAuthenticationClose();try{this.initializeTheButtonEnable();let a=c().cloneDeep(this.state.modAccessCard);var e=[{key:D.aM,value:a.PIN}],t={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:e},s={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[a.PIN],isSuccess:!1,errorMessage:""}]};y()(T.WmE,C.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?this.setState({},(()=>this.getAccessCard({AccessCardList_x_IDCode:a.PIN}))):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in activateAccessCard:",t.ErrorList)),(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{s.messageResultDetails[0].errorMessage=e,(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}))}catch(a){console.log("AccessIDManagementDetailsComposite:Error occured on activateAccessCard",a)}},this.handleRevokeAccessCard=()=>{if(this.setState({revokeEnable:!1}),this.validateRevoke()){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showRevokeAuthenticationLayout:e},(()=>{!1===e&&this.revokeAccessCard()}))}else this.setState({revokeEnable:!0})},this.revokeAccessCard=()=>{this.handleAuthenticationClose();try{this.initializeTheButtonEnable();var e=c().cloneDeep(this.state.validationErrors);let i=c().cloneDeep(this.state.modAccessCard);var t=[{key:D.aM,value:i.PIN},{key:"EntityType",value:i.EntityName},{key:"EntityCode",value:i.EntityValue},{key:D._n,value:i.CarrierCode}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:t},a={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[i.PIN],isSuccess:!1,errorMessage:""}]};y()(T.jKB,C.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?(i.Password="",i.ConfirmPassword="",e.Password="",e.ConfirmPassword="",this.setState({modAccessCard:i,validationErrors:e,CarrierCodeEnable:!1,passwordEnable:!1},(()=>this.getAccessCard({AccessCardList_x_IDCode:i.PIN})))):(a.messageResultDetails[0].errorMessage=s.ErrorList[0],console.log("Error in revokeAccessCard:",s.ErrorList)),(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{a.messageResultDetails[0].errorMessage=e,(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})}))}catch(i){console.log("AccessIDManagementDetailsComposite:Error occured on revokeAccessCard",i)}},this.handleResetPassword=()=>{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showResetPinAuthenticationLayout:e},(()=>{!1===e&&this.resetPassword()}))},this.resetPassword=()=>{this.handleAuthenticationClose();let e=c().cloneDeep(this.state.modAccessCard);if(""!==e.PIN&&null!==e.PIN){var t=[{key:D.aM,value:e.PIN}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:t},a={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[e.PIN],isSuccess:!1,errorMessage:""}]};y()(T.shK,C.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?(a.messageType=t.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=t.IsSuccess):(a.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in resetPassword:",t.ErrorList)),(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((e=>{a.messageResultDetails[0].errorMessage=e,(0,L.toast)((0,I.jsx)(l.A,{children:(0,I.jsx)(R.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})}))}},this.saveAccessCard=()=>{try{this.setState({saveEnabled:!1});let e=c().cloneDeep(this.state.tempAccessCard);""===this.state.accessCard.PIN?this.createAccessCard(e):this.updateAccessCard(e)}catch(e){console.log("AccessCardComposite : Error in saveAccessCard")}},this.handleSave=()=>{try{let e=c().cloneDeep(this.state.modAttributeMetaDataList),t=c().cloneDeep(this.state.modAccessCard);if(e=C.SC(e),t.Attributes=C.Gh(e),this.validateSave()){t=C.pC(P.S.AccessCard,t);let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,s=c().cloneDeep(t);this.setState({showAccessCardAuthenticationLayout:e,tempAccessCard:s},(()=>{!1===e&&this.saveAccessCard()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("AccessIDManagementDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{const e={...this.state.validationErrors},t=c().cloneDeep(this.state.accessCard);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modAccessCard:{...t},validationErrors:e,modAttributeMetaDataList:[]},(()=>{this.localNodeAttribute(),this.handleResetAttributeValidationError()}))}catch(e){console.log("AccessIDManagementDetailsComposite:Error occured on handleReset",e)}},this.handleChange=(e,t)=>{try{const s=c().cloneDeep(this.state.modAccessCard),a=c().cloneDeep(this.state.validationErrors);s[e]=t,"EntityName"===e&&null!==t?(s.EntityValue="",this.setState({modAccessCard:s},(()=>this.onEntitySelectFocus()))):this.setState({modAccessCard:s}),"CarrierCode"===e&&null!==t&&null!==s.EntityName&&this.setState({modAccessCard:s},(()=>this.onEntitySelectFocus())),"CardType"===e&&"ELECTRONIC"===t&&this.getTWICEnabled(),"CardType"===e&&(s.FASCN="",s.ISTWICCARD=!1,a.FASCN="",this.setState({modAccessCard:s,validationErrors:a})),"ISTWICCARD"===e&&!1===t&&(a.FASCN="",s.FASCN="",this.setState({validationErrors:a,modAccessCard:s})),void 0!==S.fb[e]&&(a[e]=C.jr(S.fb[e],t),"EntityName"===e?t===N.Hg.TMUser||t===N.Hg.Staff||t===N.Hg.Visitor?(s.CarrierCode=null,this.setState({modAccessCard:s,CarrierCodeEnable:!0}),a.CarrierCode=""):this.setState({CarrierCodeEnable:!1}):"EntityValue"!==e||s.EntityName!==N.Hg.TMUser&&s.EntityName!==N.Hg.Staff&&s.EntityName!==N.Hg.Visitor?this.setState({CarrierCodeEnable:!1}):(this.setState({CarrierCodeEnable:!0}),a.CarrierCode=""),this.setState({validationErrors:a}))}catch(s){console.log("AccessIDManagementDetailsComposite:Error occured on handleChange",s)}},this.onFASCNBlur=()=>{this.validateFASCN()}}componentWillReceiveProps(e){try{""!==this.state.accessCard.PIN&&void 0===e.selectedRow.AccessCardList_x_IDCode&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo&&this.getAccessCard(e.selectedRow)}catch(t){console.log("AccessIDManagementDetailsComposite:Error occured on componentWillReceiveProps",t)}}initializeTheButtonEnable(){C.pJ(this.props.userDetails.EntityResult.IsArchived);var{issueEnabled:e}={...this.state},{activateEnable:t}={...this.state},{revokeEnable:s}={...this.state};e=C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.qp),t=C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.Mg),s=C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.f3),this.setState({issueEnabled:e,activateEnable:t,revokeEnable:s})}componentDidMount(){try{this.initializeTheButtonEnable(),this.getAccessCard(this.props.selectedRow),this.getCarrierCompanies(),this.getEntityTypeList()}catch(e){console.log("AccessIDManagementDetailsComposite:Error occured on componentDidMount",e)}}getAttributes(){try{y()(T.fKH,C.tW([b.Sw],this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?(null!==t.EntityResult.accessCard&&void 0!==t.EntityResult.accessCard||(t.EntityResult.accessCard=[]),this.setState({attributeMetaDataList:c().cloneDeep(t.EntityResult.accessCard),attributeValidationErrors:C.Fl(t.EntityResult.accessCard)},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?this.state.attributeMetaDataList.length>0&&this.terminalSelectionChange([this.state.attributeMetaDataList[0].TerminalCode]):this.localNodeAttribute()}))):console.log("Failed to get Attributes")}))}catch(e){console.log("Error while getting Attributes:",e)}}localNodeAttribute(){try{var e=c().cloneDeep(this.state.attributeMetaDataList);Array.isArray(e)&&e.length>0&&this.terminalSelectionChange([e[0].TerminalCode])}catch(t){console.log("AccessIDManagementDetailsComposite:Error occured on localNodeAttribute",t)}}terminalSelectionChange(e){try{let i=[];var t=[],s=[];t=c().cloneDeep(this.state.attributeMetaDataList);const r=c().cloneDeep(this.state.attributeValidationErrors);var a=c().cloneDeep(this.state.modAccessCard);e.forEach((e=>{var r=s.find((t=>t.TerminalCode===e));void 0===r?t.forEach((function(t){if(t.TerminalCode===e){var s=a.Attributes.find((t=>t.TerminalCode===e));void 0!==s&&t.attributeMetaDataList.forEach((function(e){var t=s.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),i.push(t)}})):i.push(r)})),s=[],s=i,r.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modAttributeMetaDataList:s,attributeValidationErrors:r})}catch(i){console.log("AccessIDManagementDetailsComposite:Error occured on terminalSelectionChange",i)}}getAccessCard(e){if(d.aJ.ShareholderCode=this.props.selectedShareholder,void 0!==e.AccessCardList_x_IDCode){var t=[{key:D.aM,value:e.AccessCardList_x_IDCode}],s={Shareholdercode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:t};y()(T.dxk,C.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=c().cloneDeep(t.EntityResult),s=c().cloneDeep(t.EntityResult);null!==t.EntityResult.FASCN&&""!==t.EntityResult.FASCN&&(e.ISTWICCARD=!0),null!==t.EntityResult.Password&&(e.Password=null),this.setState({isReadyToRender:!0,accessCard:s,modAccessCard:e,saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.h)}),"ACTIVATED"!==s.CardStatus&&"ISSUED"!==s.CardStatus||this.setState({passwordEnable:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.VL)}),this.initializeTheButtonEnable(),this.getEntityCodeList(),this.getTWICEnabled(),this.getAttributes(),this.getKPIList(this.props.selectedShareholder,t.EntityResult.PIN)}else this.setState({accessCard:c().cloneDeep(d.aJ),modAccessCard:c().cloneDeep(d.aJ),isReadyToRender:!0}),console.log("Error in GetAccessCard:",t.ErrorList)})).catch((t=>{console.log("Error while getting AccessCard:",t,e)}))}else this.setState({accessCard:c().cloneDeep(d.aJ),modAccessCard:c().cloneDeep(d.aJ),isReadyToRender:!0,accescardKPIList:[],saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.add,m.h)},(()=>{this.getAttributes()}))}getCarrierCompanies(){y()(T.Zes+"?ShareholderCode="+this.props.selectedShareholder,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){var s=t.EntityResult.Table2,a=[];s.forEach((e=>{a.push(e.Code)})),this.setState({CarrierCompanies:a})}else console.log("Error in GetCarrierListForRole:",t.ErrorList)})).catch((e=>{console.log("Error while getting Carrier List:",e)}))}getEntityTypeList(){y()(T.ayU+"?ShareholderCode="+this.props.selectedShareholder,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess)if(null!=t.EntityResult){var s=t.EntityResult;this.setState({entityTypeList:s})}else console.log("No entityTypeList identified");else console.log("Error in getEntityTypeList:",t.ErrorList)})).catch((e=>{console.log("Error while getting EntityType List:",e)}))}getKPIList(e,t){if(!0===C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.view,m.bL)){let s={PageName:x.oP,InputParameters:[{key:"ShareholderCode",value:e},{key:"AccessCardCode",value:t}]};y()(T.dxq,C.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({accescardKPIList:t.EntityResult.ListKPIDetails}):(this.setState({accescardKPIList:[]}),console.log("Error in Access Card KPIList:",t.ErrorList))})).catch((e=>{console.log("Error while getting Access Card KPIList:",e)}))}}getFunctionGroupName(){return this.state.showAccessCardAuthenticationLayout?m.h:this.state.showIssueAuthenticationLayout?m.qp:this.state.showRevokeAuthenticationLayout?m.f3:this.state.showActivateAuthenticationLayout?m.Mg:this.state.showResetPinAuthenticationLayout||this.state.showChangePasswordAuthenticationLayout?m.VL:void 0}getAddorEditMode(){return this.state.showAccessCardAuthenticationLayout&&""===this.state.accessCard.PIN?m.i.add:m.i.modify}handleOperation(){return this.state.showAccessCardAuthenticationLayout?this.saveAccessCard:this.state.showIssueAuthenticationLayout?this.issueAccessCard:this.state.showRevokeAuthenticationLayout?this.revokeAccessCard:this.state.showActivateAuthenticationLayout?this.activateAccessCard:this.state.showResetPinAuthenticationLayout?this.resetPassword:this.state.showChangePasswordAuthenticationLayout?this.changePassword:void 0}render(){const e={cardTypes:["ELECTRONIC","VIRTUAL"],CarrierCompanies:this.state.CarrierCompanies,EntityTypes:this.state.entityTypeList,EntityValues:this.state.EntityValues};let t=null;try{t=[{fieldName:"AccessCardInfo_LastUpdated",fieldValue:new Date(this.state.modAccessCard.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modAccessCard.LastUpdatedTime).toLocaleTimeString()},{fieldName:"AccessCardInfo_CreatedTime",fieldValue:new Date(this.state.modAccessCard.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modAccessCard.CreatedTime).toLocaleTimeString()}]}catch(s){console.log(s)}return this.state.isReadyToRender?(0,I.jsxs)("div",{children:[(0,I.jsx)(l.A,{children:(0,I.jsx)(o.A,{entityCode:this.state.accessCard.PIN,newEntityName:"AccessCardInfo_x_NewCard",popUpContents:t})}),(0,I.jsx)(f.A,{KPIList:this.state.accescardKPIList,children:" "}),(0,I.jsx)(l.A,{children:(0,I.jsx)(p,{accessCard:this.state.accessCard,modAccessCard:this.state.modAccessCard,validationErrors:this.state.validationErrors,listOptions:e,onFieldChange:this.handleChange,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled,onFASCNBlur:this.onFASCNBlur,isTWICEnable:this.state.isTWICEnable,modAttributeMetaDataList:this.state.modAttributeMetaDataList,attributeValidationErrors:this.state.attributeValidationErrors,onAttributeDataChange:this.handleAttributeDataChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode})}),(0,I.jsx)(l.A,{children:(0,I.jsx)(v,{accessCard:this.state.accessCard,modAccessCard:this.state.modAccessCard,validationErrors:this.state.validationErrors,listOptions:e,onFieldChange:this.handleChange,onChangePasswordClicked:this.handleChangePassword,onIssueClicked:this.handleissueAccessCard,onActivateClick:this.handleActivateAccessCard,onRevokeClick:this.handleRevokeAccessCard,onResetPasswordClick:this.handleResetPassword,handleBack:this.props.onBack,issueEnabled:this.state.issueEnabled,activateEnable:this.state.activateEnable,revokeEnable:this.state.revokeEnable,passwordEnable:this.state.passwordEnable,CarrierCodeEnable:this.state.CarrierCodeEnable})}),this.state.showAccessCardAuthenticationLayout||this.state.showIssueAuthenticationLayout||this.state.showRevokeAuthenticationLayout||this.state.showActivateAuthenticationLayout||this.state.showResetPinAuthenticationLayout||this.state.showChangePasswordAuthenticationLayout?(0,I.jsx)(w.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:this.getAddorEditMode(),functionGroup:this.getFunctionGroupName(),handleOperation:this.handleOperation(),handleClose:this.handleAuthenticationClose}):null]}):(0,I.jsx)(r.A,{message:"Loading"})}getEntityCodeList(){const{modAccessCard:e}=this.state;null!==this.props.selectedShareholder&&void 0!==e.CarrierCode&&void 0!==e.EntityName&&y()(T.dW7+"?ShareholderCode="+this.props.selectedShareholder+"&CarrierCode="+e.CarrierCode+"&EntityType="+e.EntityName,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({EntityValues:t.EntityResult}):console.log("Error in onEntitySelectFocus:",t.ErrorList)})).catch((e=>{console.log("Error while getting Entity Code:",e)}))}validateIssue(){const{modAccessCard:e}=this.state;var t=c().cloneDeep(this.state.validationErrors);return Object.keys(S.fb).forEach((function(s){"CarrierCode"!==s&&"FASCN"!==s&&(t[s]=C.jr(S.fb[s],e[s]))})),this.setState({validationErrors:t}),Object.values(t).every((function(e){return""===e}))}validateActivate(){return!0}validateRevoke(){return!0}validatePassword(){const{modAccessCard:e}=this.state;var t=c().cloneDeep(this.state.validationErrors);return e.Password.length<=3||e.Password.length>20?t.Password="AccessCardInfo_PwdCriteriaFailed":t.Password="",e.ConfirmPassword.length<=3||e.ConfirmPassword.length>20?t.ConfirmPassword="ERRMSG_ACCESSCARD_PASSWORD_LENGTH_INVALID":t.ConfirmPassword="",e.Password!==e.ConfirmPassword&&(t.ConfirmPassword="AccessCardInfo_x_ConfirmPasswordMatch"),this.setState({validationErrors:t}),Object.values(t).every((function(e){return""===e}))}validateSave(){const{modAccessCard:e,accessCard:t}=this.state;var s=c().cloneDeep(this.state.validationErrors);Object.keys(S.fb).forEach((function(t){"CarrierCode"!==t&&"EntityName"!==t&&"EntityValue"!==t&&"FASCN"!==t&&(s[t]=C.jr(S.fb[t],e[t]))})),null!==e.ShareholderCode&&""!==e.ShareholderCode.trim()||(s.ShareholderCode="MarineReceipt_MandatoryShareholder"),e.Locked!==t.Locked&&(null!==e.Remarks&&""!==e.Remarks||(s.Remarks="Please enter the remarks")),this.setState({validationErrors:s});var a=!0;Object.keys(s).forEach((function(e){"CarrierCode"!==e&&"EntityName"!==e&&"EntityValue"!==e&&"Password"!==e&&"ConfirmPassword"!==e&&""!==s[e]&&(a=!1)}));var i=c().cloneDeep(this.state.attributeValidationErrors);c().cloneDeep(this.state.modAttributeMetaDataList).forEach((e=>{i.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=C.I5(e,e.DefaultValue)}))}))})),this.setState({attributeValidationErrors:i});let r=!0;return i.forEach((e=>{r=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),a&&r}createAccessCard(e){var t=c().cloneDeep(this.state.validationErrors);if(""!==this.state.FASCNId&&(e.PIN=this.state.FASCNId,e.LogicalPIN=this.state.FASCNId,this.setState({FASCNId:""})),!0!==e.ISTWICCARD||(t.FASCN=C.jr(S.fb.FASCN,e.FASCN),""===t.FASCN)){var s=[{key:D.aM,value:e.PIN}];e.CardStatus="AVAILABLE",e.ShareHolderCode=this.props.selectedShareholder;var a={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:s,Entity:e},i={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[e.PIN],isSuccess:!1,errorMessage:""}]};y()(T.NuF,C.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?(this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.h),showAccessCardAuthenticationLayout:!1},(()=>this.getAccessCard({AccessCardList_x_IDCode:e.PIN}))),this.props.deleteCallBack({AccessCardList_x_IDCode:e.PIN})):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.add,m.h),showAccessCardAuthenticationLayout:!1}),console.log("Error in CreateAccessCard:",s.ErrorList)),this.props.onSaved(this.state.modAccessCard,"add",i)})).catch((e=>{this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.add,m.h),showAccessCardAuthenticationLayout:!1}),i.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modAccessCard,"add",i)}))}else this.setState({validationErrors:t,saveEnabled:!0})}updateAccessCard(e){let t=[{key:D.aM,value:e.PIN}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:t,Entity:e},a={messageType:"critical",message:"AccessCardInfoDetails_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[e.PIN],isSuccess:!1,errorMessage:""}]};y()(T.CSx,C.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;a.messageType=s.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.h),showAccessCardAuthenticationLayout:!1},(()=>this.getAccessCard({AccessCardList_x_IDCode:e.PIN}))):(a.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.h),showAccessCardAuthenticationLayout:!1}),console.log("Error in UpdateAccessCard:",s.ErrorList)),this.props.onSaved(this.state.modAccessCard,"update",a)})).catch((e=>{a.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modAccessCard,"modify",a),this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,m.i.modify,m.h),showAccessCardAuthenticationLayout:!1})}))}handleResetAttributeValidationError(){try{var e=c().cloneDeep(this.state.attributeMetaDataList);this.setState({attributeValidationErrors:C.Fl(e)})}catch(t){console.log("handleAttributeValidationError:Error occured on handleResetAttributeValidationError",t)}}getTWICEnabled(){y()(T.h3M,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({isTWICEnable:"1"===t.EntityResult}):console.log("Error in getTWICEnabled:",t.ErrorList)})).catch((e=>{console.log("Error while getTWICEnabled:",e)}))}validateFASCN(){const{modAccessCard:e}=this.state,t=c().cloneDeep(this.state.validationErrors);if(!1===e.ISTWICCARD)return t.FASCN="",this.setState({validationErrors:t}),void console.log("validateFASCN over");console.log("validateFASCN do");var s=[{key:"FASCN",value:e.FASCN}],a={ShareHolderCode:this.props.selectedShareholder,keyDataCode:D.aM,KeyCodes:s};this.setState({saveEnabled:!1}),y()(T.Ua8,C.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var s=e.data;if(!0===s.IsSuccess){var a=s.EntityResult;this.setState({FASCNId:a,saveEnabled:!0})}else console.log("Error while validateFASCN"),t.FASCN="AccessCardInfo_InvalidFASCN",this.setState({validationErrors:t,saveEnabled:!0})})).catch((e=>{console.log("Error while validateFASCN:",e)}))}}const M=(0,i.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(k)},43503:(e,t,s)=>{s.d(t,{A:()=>l});s(65043);var a=s(67907),i=s(72711),r=s(70579);function o(e){let{entityCode:t,newEntityName:s,popUpContents:o}=e;return(0,r.jsx)(a.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(s):t})}),""!==t&&void 0!==t&&o.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(i.Popup,{element:(0,r.jsxs)("div",{children:[e(o[0].fieldName)+" ",":"," "+o[0].fieldValue,(0,r.jsx)(i.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(i.List,{className:"detailsHeaderPopUp",children:o.map((t=>(0,r.jsxs)(i.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}o.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const l=o},85800:(e,t,s)=>{s.d(t,{n:()=>n});s(65043);var a=s(72711),i=s(67907),r=s(7523),o=s(35861),l=s(70579);function n(e){let{selectedAttributeList:t,handleCellDataEdit:s,attributeValidationErrors:n}=e;const c=e=>{if("0000-00-00"===e.DefaultValue)return d(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},d=(e,t)=>{var a=new Date(t);t=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),s(e,t)};return(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,l.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===r.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(n[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==r.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==r.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===r.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>s(t,e)})}):t.DataType.toLowerCase()===r.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":c(t),label:e(t.DisplayName),displayFormat:(0,o.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>d(t,e),onTextChange:e=>{d(t,e)},error:e(n[t.Code]),reserveSpace:!1})}):null:(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(n[t.Code]),reserveSpace:!1})}):(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(a.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>s(t,e),error:e(n[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,s)=>{s.d(t,{$7:()=>f,AN:()=>se,AU:()=>R,Ak:()=>Be,Ao:()=>a,B6:()=>z,C4:()=>_e,CG:()=>Y,Ct:()=>q,Cw:()=>j,EY:()=>T,G$:()=>ze,G6:()=>Xe,GF:()=>Ce,GJ:()=>M,Gj:()=>he,Gl:()=>re,H9:()=>Je,HB:()=>Le,HP:()=>N,Hr:()=>Te,II:()=>it,IQ:()=>D,Jr:()=>W,Jx:()=>me,Ki:()=>te,LP:()=>ie,Lv:()=>r,MK:()=>p,MX:()=>ee,Mx:()=>K,N4:()=>ke,NH:()=>Se,OF:()=>Qe,Ps:()=>F,Q7:()=>qe,QY:()=>_,SF:()=>o,Sq:()=>ve,Sw:()=>le,TQ:()=>$,U7:()=>L,UH:()=>I,UO:()=>oe,V_:()=>Pe,Vy:()=>Ve,W9:()=>ce,WN:()=>m,Wr:()=>i,Ww:()=>X,XP:()=>be,Xk:()=>J,Yb:()=>ye,Yy:()=>E,Z2:()=>Me,ZN:()=>x,ZO:()=>ge,Zu:()=>We,_G:()=>G,_N:()=>h,_u:()=>de,ad:()=>ne,al:()=>De,ao:()=>V,bK:()=>B,bN:()=>S,cf:()=>w,dO:()=>fe,dU:()=>C,dv:()=>l,eE:()=>Z,g:()=>v,gG:()=>n,gS:()=>Re,gT:()=>st,gW:()=>Q,gZ:()=>$e,go:()=>b,gp:()=>H,hq:()=>we,i6:()=>et,ip:()=>ue,k9:()=>A,kI:()=>g,l4:()=>je,l5:()=>y,lA:()=>k,lU:()=>Ye,mD:()=>He,mY:()=>O,mq:()=>c,n$:()=>at,n7:()=>u,nZ:()=>xe,rA:()=>Oe,s$:()=>Fe,s8:()=>Ue,se:()=>pe,tA:()=>Ne,vK:()=>tt,vs:()=>Ie,w2:()=>Ze,w4:()=>Ae,wT:()=>d,wY:()=>P,wf:()=>Ee,wk:()=>ae,xW:()=>U,yM:()=>Ge,yO:()=>Ke});const a="driver",i="carriercompany",r="shareholder",o="baseProduct",l="TRAILER",n="TRAILERCOMPARTMENT",c="terminal",d="customer",h="destination",u="finishedproduct",C="tank",E="marine_vessel",A="marine_trailercompartment",I="supplier",p="vehicle",S="vehicletrailer",m="originterminal",D="bay",g="loadingArm",y="cardreader",v="vehicleprimemover",N="meter",T="SHIPMENT",L="SHIPMENTCOMPARTMENT",R="SHIPMENTDESTINATIONCOMPARTMENT",b="SHIPMENTDETAILS",P="SHIPMENTTRAILERWEIGHBRIDGE",f="SHIPMENTTRAILER",x="SHIPMENTSTATUSTIME",w="MARINEDISPATCH",k="MARINEDISPATCHCOMPARTMENTDETAIL",M="railwagon",j="primemover",O="bcu",_="RAILRECEIPTPLAN",F="RAILRECEIPTWAGONDETAILPLAN",V="RAILUNLOADINGDETAILSFP",H="RAILUNLOADINGDETAILSBP",U="RAILUNLOADINGDETAILSADDITIVE",W="RAILDISPATCHPLAN",B="RAILDISPATCHITEM",G="RAILDISPATCHSTATUSCHANGE",K="RAILDISPATCHWAGON",q="RAILDISPATCHWAGONDETAILPLAN",J="RAILDISPATCHWAGONWEIGHBRIDGE",z="RAILDISPATCHWAGONCOMPARTMENT",Z="RAILLOADINGDETAILSFP",Y="RAILLOADINGDETAILSBP",Q="RAILLOADINGDETAILSADDITIVE",X="marineReceipt",$="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",se="marineLoadingDetailsAdditive",ae="marineLoadingDetailsBP",ie="marineReceiptCompartmentDetail",re="marineUnloadingDetailsFP",oe="marineUnloadingDetailsBP",le="accessCard",ne="LOADINGDETAILSFP",ce="LOADINGDETAILSBP",de="LOADINGDETAILSADDITIVE",he="MARINERECEIPTSTATUSTIME",ue="MARINEDISPATCHSTATUSTIME",Ce="RECEIPT",Ee="UNLOADINGTRANSACTIONS",Ae="ORDER",Ie="ORDERITEM",pe="CONTRACT",Se="CONTRACT_ITEM",me="RECEIPTORIGINTERMINALCOMPARTMENT",De="GeneralTMUser_CAPTAIN",ge="weighbridge",ye="deu",ve="GeneralTMUser_STAFF",Ne="GeneralTMUser_VISITOR",Te="PIPELINEHEADER",Le="SEALMASTER",Re="PIPELINERECEIPT",be="ROADSHIPMENTSLOTINFO",Pe="ROADRECEIPTSLOTINFO",fe="MARINESHIPMENTSLOTINFO",xe="MARINERECEIPTSLOTINFO",we="PIPELINEDISPATCH",ke="PIPELINETRANSACTIONS",Me="PIPELINEDISPATCHSTATUSTIME",je="PIPELINERECEIPTSTATUSTIME",Oe="PROCESSCONFIG",_e="PRODUCTALLOCATIONITEM",Fe="HSEINSPECTIONSHIPMENTRIGIDTRUCK",Ve="HSEINSPECTIONSHIPMENTTRAILER",He="HSEINSPECTIONSHIPMENTPRIMEMOVER",Ue="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",We="HSEINSPECTIONMARINESHIPMENTBARGE",Be="HSEINSPECTIONMARINESHIPMENTSHIP",Ge="HSEINSPECTIONSHIPMENTRAILWAGON",Ke="HSEINSPECTIONSHIPMENTPIPELINE",qe="HSEINSPECTIONRECEIPTRIGIDTRUCK",Je="HSEINSPECTIONRECEIPTTRAILER",ze="HSEINSPECTIONRECEIPTPRIMEMOVER",Ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Ye="HSEINSPECTIONMARINERECEIPTBARGE",Qe="HSEINSPECTIONMARINERECEIPTSHIP",Xe="HSEINSPECTIONRECEIPTRAILWAGON",$e="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",st="COAMANAGEMENT",at="COACUSTOMER",it="COAASSIGNMENT"},97105:(e,t,s)=>{s.d(t,{S:()=>a});const a={Driver:["License1ExpiryDate","License1IssueDate","License2IssueDate","License2ExpiryDate","License3IssueDate","License3ExpiryDate","HazardousLicenseExpiry"],CarrierCompany:["PermitExpiryDate"],PrimeMover:["RoadTaxNoIssueDate","RoadTaxNoExpiryDate","licenseExpiryDate"],Wagon:["LicenseExpiryDate"],Vehicle:["LicenseNoIssueDate","LicenseNoExpiryDate","RoadTaxNoIssueDate","RoadTaxNoExpiryDate","Bondexpirydate","HazardousLicenseExpiry"],Contract:["StartDate","EndDate"],ContractItem:["StartDate","EndDate"],Order:["OrderStartDate","OrderEndDate","OrderDate","DeliveryDate"],AccessCard:["ExpiryDate","IssueDate","PasswordExpiryDate"],Trailer:["HazardousLicenseExpiry"]}},35861:(e,t,s)=>{s.d(t,{F1:()=>l,i7:()=>n,r4:()=>o});var a=s(86178),i=s.n(a),r=(s(15660),s(65043),s(70579));function o(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function l(){let e=window.navigator.userLanguage||window.navigator.language;return i().locale(e),i().localeData().longDateFormat("L")}function n(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=3125.741f5171.chunk.js.map