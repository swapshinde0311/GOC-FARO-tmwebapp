(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[177,5841,8222,4724],{66554:(e,t,i)=>{"use strict";i.d(t,{$:()=>d});var s=i(65043),o=i(72711),r=i(67907),a=i(65187),n=i(69062),l=i(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:c,selectedShareholder:d,onShareholderChange:u,onDelete:h,onAdd:p,popUpContent:m,shrVisible:C,handleBreadCrumbClick:g,addVisible:R,deleteVisible:y}=e;const[S,v]=(0,s.useState)(!1),[D,f]=(0,s.useState)(!1);function x(){t.add&&(m.length>0?f(!1===D):p())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(a.A,{children:[" ",(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)(o.Breadcrumb,{children:[i.parents.map((t=>(0,l.jsx)(o.Breadcrumb.Item,{onClick:()=>{void 0!==g&&null!==g&&g(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(o.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===C?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(o.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:n.Zj(c),onChange:e=>u(e)})})]})})})}),(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)(o.Modal,{open:S,size:"small",children:[(0,l.jsx)(o.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(o.Modal.Footer,{children:[(0,l.jsx)(o.Button,{type:"secondary",content:e("Cancel"),onClick:()=>v(!1)}),(0,l.jsx)(o.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{v(!1),h()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[R?(0,l.jsx)(o.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:x,children:(0,l.jsx)(o.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:D,children:(0,l.jsx)("div",{onMouseLeave:()=>f(!1),children:(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsx)(o.VerticalMenu,{children:(0,l.jsxs)(o.VerticalMenu,{children:[(0,l.jsx)(o.VerticalMenu.Header,{children:e("Common_Create")}),m.map((t=>(0,l.jsx)(o.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,f(!1),void p(e);var e},children:e(t.fieldValue)})))]})})})})}):"",y?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&v(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(o.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};i(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:s,selectedShareholder:o,onShareholderChange:r,onDelete:a,onAdd:n,popUpContent:d,shrVisible:u,handleBreadCrumbClick:h,addVisible:p,deleteVisible:m}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:i,shareholders:s,selectedShareholder:o,onShareholderChange:r,onDelete:a,onAdd:n,popUpContent:d,shrVisible:u,handleBreadCrumbClick:h,addVisible:p,deleteVisible:m})}},62900:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var s=i(65043),o=i(67907),r=i(72711),a=i(72067),n=i(69062),l=i(97508),c=i(44192),d=i(40854),u=i.n(d),h=i(53536),p=i.n(h),m=i(86111),C=i.n(m),g=i(70579);class R extends s.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:n.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const i=p().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(i[e]=n.jr(c.Qh[e],t),this.setState({validationErrors:i,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var i=!0;return i&&(i=Object.values(t).every((function(e){return""===e}))),i},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,i=C().lib.WordArray.random(16),s=C().PBKDF2(t,i,{keySize:8,iterations:100}),o=C().lib.WordArray.random(16),r=C().AES.encrypt(e,s,{iv:o,padding:C().pad.Pkcs7,mode:C().mode.CBC}),l=i.toString()+o.toString()+r.toString();u()(a.KrY+"?encryptedPassword="+encodeURIComponent(l),n.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=n.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,g.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,g.jsx)(o.TranslationConsumer,{children:e=>(0,g.jsxs)(r.Modal,{open:!0,size:"mini",children:[(0,g.jsxs)(r.Modal.Content,{children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,g.jsx)("h4",{children:e("User_Authentication")})}),(0,g.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,g.jsx)(r.Icon,{root:"common",name:"close"})})]}),(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,g.jsx)("div",{className:"col col-lg-12",children:(0,g.jsx)("label",{children:(0,g.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,g.jsx)("div",{className:"col col-lg-12",children:(0,g.jsx)(r.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,g.jsxs)(r.Modal.Footer,{children:[(0,g.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,g.jsx)(r.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const y=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(R)},19380:(e,t,i)=>{"use strict";i.d(t,{A:()=>D});var s=i(65043),o=i(728),r=i(62672),a=i(27976),n=i(44063),l=i(39078),c=i(48546),d=i(82967),u=i(11201),h=i(43439),p=(i(60663),i(48385)),m=i(72711),C=i(67907),g=i(65187),R=i(53536),y=(i(90837),i(70579));const S=e=>{const[t,i]=(0,s.useState)(null),[S]=(0,C.useTranslation)(),v=t=>new o.CollectionView(e.sourceData,{pageSize:t}),[D,f]=(0,s.useState)(v(e.rowsPerPage)),x=s.createRef(),P=s.createRef(),E=s.createRef(),b=s.createRef(),j=s.useRef(),w=s.useRef(e.selectionRequired?[]:null);let T=null;const F=t=>{try{if(I(),e.onRowClick&&t.addEventListener(t.hostElement,"click",(i=>{let s=t.hitTest(i);if(s.target.closest(".wj-cell")&&![...s.target.closest(".wj-cell").classList].includes("wj-group")&&s.cellType===r.CellType.Cell){const i=t.rows[s.row].dataItem;e.onRowClick(i)}})),t.selectionMode=o.asEnum("None",r.SelectionMode),t.select(-1,-1),i(t),e.selectionRequired){T=new u.Selector(t,{itemChecked:(i,s)=>{e.singleSelection&&t.rows.filter((e=>e.isSelected&&1===w.current.filter((t=>R.isEqual(t,e.dataItem))).length)).forEach((e=>{e.isSelected=!1})),e.onSelectionHandle(t.rows.filter((e=>e.isSelected)).map((e=>e.dataItem)))},showCheckAll:!e.singleSelection});let i=T.column.grid;T.column=i.rowHeaders.columns[0],i.headersVisibility=r.HeadersVisibility.All,i.selectionMode=o.asEnum("None",r.SelectionMode)}}catch(s){console.log("Error in gridInitialized: "+s)}};(0,s.useEffect)((()=>{try{if(null!=x){let e=x.current.control;P.current.control.grid=e}f(v(e.rowsPerPage))}catch(t){console.log("Error in grid update:",t)}}),[e.sourceData]),(0,s.useEffect)((()=>{try{t&&e.selectionRequired&&(w.current.length=0,w.current.push(...e.selectedItems),t.rows.forEach((t=>{1===e.selectedItems.filter((e=>R.isEqual(e,t.dataItem))).length?t.isSelected=!0:t.isSelected=!1})),t.refresh())}catch(i){console.log("Error in pre-selecting rows:",i)}}),[e.selectedItems]),(0,s.useEffect)((()=>{try{if(localStorage.getItem(e.parentComponent+"GridState")&&"null"!==localStorage.getItem(e.parentComponent+"GridState")&&t){let s=JSON.parse(localStorage.getItem(e.parentComponent+"GridState")),r=t;r.columns.forEach((e=>{let t=s.columns.filter((t=>t.binding===e.binding));e.visible=t.length>0?t[0].visible:e.visible})),E.current.control.filterDefinition=s.filterDefinition,r.collectionView.deferUpdate((()=>{r.collectionView.sortDescriptions.clear();for(let e=0;e<s.sortDescriptions.length;e++){let t=s.sortDescriptions[e];r.collectionView.sortDescriptions.push(new o.SortDescription(t.property,t.ascending))}}));for(let e=0;e<s.groupDescriptions.length;e++)r.collectionView.groupDescriptions.push(new o.PropertyGroupDescription(s.groupDescriptions[e])),r.columns.filter((t=>t.binding===s.groupDescriptions[e]))[0].visible=!1;if(sessionStorage.getItem(e.parentComponent+"GridState")&&"null"!==sessionStorage.getItem(e.parentComponent+"GridState")){let t=JSON.parse(sessionStorage.getItem(e.parentComponent+"GridState"));r.collectionView.moveToPage(r.collectionView.pageCount-1>=t.pageIndex?t.pageIndex:r.collectionView.pageCount-1),P&&(P.current.control.text=t.searchText)}i(r),t.refresh()}}catch(s){console.log("Error in restoring local storage settings: ",s)}}),[D]),(0,s.useEffect)((()=>{try{t&&j.current&&e.columnPickerRequired&&(j.current.itemsSource=t.columns,j.current.checkedMemberPath="visible",j.current.displayMemberPath="header",j.current.lostFocus.addHandler((()=>{(0,o.hidePopup)(j.current.hostElement)})))}catch(i){console.log("Error in initializing column picker properties:",i)}}),[j.current]),(0,s.useEffect)((()=>()=>{e.columnPickerRequired&&j.current&&(0,o.hidePopup)(j.current.hostElement)}),[]);const N=()=>{try{let s=t;s.itemsSource.pageSize=e.sourceData.length,i(s),h.FlexGridXlsxConverter.saveAsync(t,{includeColumnHeaders:!0,includeCellStyles:!1,formatItem:null},e.exportFileName),s.itemsSource.pageSize=e.rowsPerPage,i(s)}catch(s){console.log("Error in export grid to excel:",s)}},A=(t,i)=>{if(void 0!==i&&null!==i){if("boolean"===typeof t||"Active"===i.Name)return t?(0,y.jsx)(m.Icon,{name:"check",size:"small",color:"green"}):(0,y.jsx)(m.Icon,{name:"close",size:"small",color:"red"});if(""===t||null===t||void 0===t)return t;if(("TerminalCodes"===i.Name||"1"===i.PopOver)&&null!==t)return(s=t).split(",").length>e.terminalsToShow?(0,y.jsx)(m.Popup,{className:"popup-theme-wrap",on:"hover",element:s.split(",").length,children:(0,y.jsx)(m.Card,{children:(0,y.jsx)(m.Card.Content,{children:s})})}):s;if(void 0!==i.DataType&&"DateTime"===i.DataType)return new Date(t).toLocaleDateString()+" "+new Date(t).toLocaleTimeString();if(void 0!==i.DataType&&"Date"===i.DataType)return new Date(t).toLocaleDateString();if(void 0!==i.DataType&&"Time"===i.DataType)return new Date(t).toLocaleTimeString()}var s;return t},k=()=>{try{if(t&&E.current){let i={columns:t.columns.map((e=>({binding:e.binding,visible:e.visible}))),filterDefinition:E.current.control.filterDefinition,sortDescriptions:t.collectionView.sortDescriptions.map((e=>({property:e.property,ascending:e.ascending}))),groupDescriptions:t.collectionView.groupDescriptions.map((e=>e.propertyName?e.propertyName:null))};if(t.collectionView.groupDescriptions&&t.collectionView.groupDescriptions.length>0){[...document.getElementsByClassName("wj-column-selector-group")].forEach((e=>{e.parentNode.parentNode.classList.add("wj-grouped-checkbox")}))}let s={pageIndex:t.collectionView.pageIndex,searchText:P.current.control.text};localStorage.setItem(e.parentComponent+"GridState",JSON.stringify(i)),sessionStorage.setItem(e.parentComponent+"GridState",JSON.stringify(s))}}catch(i){console.log("Error in saving grid state")}},I=()=>{let e=o.culture.FlexGridFilter,t=l.Operator;o.culture.FlexGridFilter.header=S("WijmoGridFilterHeader"),o.culture.FlexGridFilter.ascending="\u2191 "+S("WijmoGridFilterAscending"),o.culture.FlexGridFilter.descending="\u2193 "+S("WijmoGridFilterDescending"),o.culture.FlexGridFilter.apply=S("RoleAdminEdit_Apply"),o.culture.FlexGridFilter.clear=S("OrderCreate_btnClear"),o.culture.FlexGridFilter.conditions=S("WijmoGridFilterCondition"),o.culture.FlexGridFilter.values=S("WijmoGridFilterValue"),o.culture.FlexGridFilter.search=S("LoadingDetailsView_SearchGrid"),o.culture.FlexGridFilter.selectAll=S("WijmoGridFilterSelectAll"),o.culture.FlexGridFilter.and=S("WijmoGridFilterAnd"),o.culture.FlexGridFilter.or=S("WijmoGridFilterOr"),o.culture.FlexGridFilter.cancel=S("AccessCardInfo_Cancel"),e.stringOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterNotEqual"),op:t.NE},{name:S("WijmoGridFilterBeginsWith"),op:t.BW},{name:S("WijmoGridFilterEndsWith"),op:t.EW},{name:S("WijmoGridFilterContains"),op:t.CT},{name:S("WijmoGridFilterDoesNotContain"),op:t.NC}],e.numberOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterNotEqual"),op:t.NE},{name:S("WijmoGridFilterGreaterThan"),op:t.GT},{name:S("WijmoGridFilterLessThan"),op:t.LT},{name:S("WijmoGridFilterGreaterThanOrEqual"),op:t.GE},{name:S("WijmoGridFilterLessThanOrEqual"),op:t.LE}],e.dateOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterDateEarlierThan"),op:t.LT},{name:S("WijmoGridFilterDateLaterThan"),op:t.GT}],e.booleanOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterNotEqual"),op:t.NE}]},L=e=>{try{if(window.screen.width<1024&&e.WidthPx&&""!==e.WidthPx)return parseInt(e.WidthPx)}catch(t){console.log("Error in width:",t)}return e.WidthPercentage.includes("*")?e.WidthPercentage:parseInt(e.WidthPercentage)};return(0,y.jsx)("div",{className:"pl-1",children:(0,y.jsx)(g.A,{children:(0,y.jsx)(C.TranslationConsumer,{children:i=>(0,y.jsxs)(s.Fragment,{children:[(0,y.jsxs)("div",{className:"row pl-0",children:[(0,y.jsx)("div",{className:"col-10 col-sm-12 col-md-5 col-lg-6",children:(0,y.jsx)(c.q,{class:"ui single-input",ref:P,placeholder:i("LoadingDetailsView_SearchGrid")})}),(0,y.jsx)("div",{className:"col-10 col-sm-12 col-md-7 col-lg-6",children:(0,y.jsxs)("div",{style:{float:"right"},children:[e.columnPickerRequired?(0,y.jsxs)(m.Button,{id:"colPicker",actionType:"button",type:"primary",onClick:e=>(e=>{try{let i=j.current.hostElement;i.offsetHeight?((0,o.hidePopup)(i,!0,!0),t.focus()):((0,o.showPopup)(i,e.target,o.PopupPosition.Below,!0,!1),j.current.focus()),j.current.focus(),e.preventDefault()}catch(i){console.log("Error in Column Picker click event:",i)}})(e),children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridColumnPicker")}),(0,y.jsx)("div",{style:{display:"inline-block"},children:(0,y.jsx)(m.Icon,{name:"caret-down",className:"btnIcon",size:"small"})})]}):null,e.exportRequired?(0,y.jsxs)(m.Button,{actionType:"button",type:"primary",className:"mt-3 mt-md-0",onClick:N,children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridExport")}),(0,y.jsx)("div",{style:{display:"inline-block",marginLeft:"0.2rem"},children:(0,y.jsx)("span",{className:"icon-Xls",style:{fontSize:"17px",position:"absolute",top:"3px"}})})]}):null]})})]}),(0,y.jsxs)("div",{className:"tableScroll",children:[e.columnGroupingRequired?(0,y.jsx)(p.u,{className:"group-panel",grid:t,placeholder:i("WijmoGridGroupPanelPlaceholder")}):null,(0,y.jsx)(g.A,{children:(0,y.jsxs)(a.MC,{ref:x,autoGenerateColumns:!1,alternatingRowStep:0,autoRowHeights:!0,headersVisibility:"Column",itemsSource:D,selectionMode:o.asEnum("None",r.SelectionMode),initialized:F,virtualizationThreshold:[0,1e4],onUpdatedView:k,children:[(0,y.jsx)(n.M,{ref:E}),e.columns.map((t=>(0,y.jsx)(a.aK,{header:i(t.Name),binding:t.Name,width:L(t),minWidth:100,isReadOnly:!0,wordWrap:!0,align:"left",children:(0,y.jsx)(a.Gw,{cellType:"Cell",template:i=>(0,y.jsx)("span",{style:null!=e.conditionalRowStyleCheck&&e.conditionalRowStyleCheck(i.item)?{...e.conditionalRowStyles}:null,children:A(i.item[t.Name],t)})})},t.Name)))]})}),e.columnPickerRequired?(0,y.jsx)("div",{className:"column-picker-div",children:(0,y.jsx)(d.qF,{className:"column-picker",initialized:t=>(t=>{e.columnPickerRequired&&(j.current=t)})(t)})}):null]}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)(d.Ne,{ref:b,className:"ml-auto mr-auto mt-3",headerFormat:i("WijmoGridPagingTemplate"),byPage:!0,cv:D})})]})})})})};S.defaultProps={sourceData:[],columns:[],exportRequired:!0,exportFileName:"Grid.xlsx",selectionRequired:!1,columnPickerRequired:!1,columnGroupingRequired:!1,rowsPerPage:10,terminalsToShow:2,singleSelection:!1,selectedItems:[]};const v=S,D=e=>(0,y.jsx)(v,{sourceData:e.data,columns:e.columns,exportRequired:e.exportRequired,exportFileName:e.exportFileName,columnPickerRequired:e.columnPickerRequired,selectionRequired:e.selectionRequired,columnGroupingRequired:e.columnGroupingRequired,conditionalRowStyleCheck:e.conditionalRowStyleCheck,conditionalRowStyles:e.conditionalRowStyles,rowsPerPage:e.rowsPerPage,onSelectionHandle:e.onSelectionHandle,onRowClick:e.onRowClick,parentComponent:e.parentComponent,terminalsToShow:e.terminalsToShow,singleSelection:e.singleSelection,selectedItems:e.selectedItems})},84724:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var s=i(65043),o=i(72711),r=i(67907),a=i(78374),n=i(69062),l=i(70579);function c(e){let{CustomerRecipe:t,modCustomerRecipe:i,validationErrors:s,onFieldChange:c,isEnterpriseNode:d,Customers:u,terminalCodes:h,finishedProducts:p,handleCellDataEdit:m,handleFinishedProductChange:C,handleActiveStatusChange:g,handleTerminalChange:R}=e;const y=e=>(0,l.jsx)(o.Input,{fluid:!0,value:i.FinishedProduct.FinishedProductItems[e.rowIndex][e.field],onChange:t=>m(t,e),reserveSpace:!1});return(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)("div",{className:"detailsContainer",children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(o.Input,{fluid:!0,value:i.Code,label:e("CustomerRecipe_Code"),indicator:"required",disabled:""!==t.Code,onChange:e=>c("Code",e),error:e(s.Code),reserveSpace:!1})}),d?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(o.Select,{fluid:!0,placeholder:"Select",value:i.TerminalCode,disabled:""!==t.TerminalCode,label:e("CustomerRecipe_AssociatedTerminal"),indicator:"required",options:n.Zj(h),onChange:e=>{c("TerminalCode",e),R(e)},error:e(s.TerminalCode),multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}):"",(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(o.Select,{fluid:!0,placeholder:"Select",value:void 0!==i.FinishedProduct&&null!==i.FinishedProduct?i.FinishedProduct.Code:"",label:e("CustomerRecipe_FinishedProduct"),indicator:"required",options:p,onChange:e=>{c("CustomerRecipefinishedProducts",e),C(e)},disabled:""!==t.Code,multiple:!1,reserveSpace:!1,search:!0,error:e(s.CustomerRecipefinishedProducts),noResultsMessage:e("noResultsMessage")})}),(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(o.Select,{fluid:!0,placeholder:"Select",value:i.CustomerCodes,label:e("CustomerRecipe_AssociatedCustomers"),indicator:"required",options:u,onChange:e=>c("CustomerCodes",e),multiple:!0,reserveSpace:!1,search:!0,error:e(s.CustomerCodes),noResultsMessage:e("noResultsMessage")})}),(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(o.Select,{fluid:!0,placeholder:"Select",label:e("CustomerRecipe_Status"),value:i.Status,options:[{text:e("ViewShipment_Ok"),value:!0},{text:e("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>g(e)})}),(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(o.Input,{fluid:!0,value:i.Remarks,label:e("CustomerRecipe_Remarks"),indicator:i.Status!==t.Status?"required":"",error:e(s.Remarks),onChange:e=>c("Remarks",e),reserveSpace:!1})})]}),(0,l.jsx)("div",{className:"row compartmentRow",children:(0,l.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,l.jsx)("h4",{children:e("CustomerRecipe_AssociatedBaseProducts")})})}),(0,l.jsx)("div",{className:"row marginRightZero tableScroll",children:(0,l.jsx)("div",{className:"col-12 detailsTable",children:(0,l.jsxs)(a.bQ,{data:void 0!==i.FinishedProduct&&null!==i.FinishedProduct&&void 0!==i.FinishedProduct.FinishedProductItems&&null!==i.FinishedProduct.FinishedProductItems?i.FinishedProduct.FinishedProductItems:[],scrollable:!0,scrollHeight:"320px",children:[(0,l.jsx)(a.bQ.Column,{className:"compColHeight colminWidth",renderer:e=>null!==e.rowData.BaseProductCode&&void 0!==e.rowData.BaseProductCode&&""!==e.rowData.BaseProductCode&&0!==e.rowData.Version?e.rowData.BaseProductCode:e.rowData.AdditiveCode,header:e("CustomerRecipe_BaseProductCode"),editFieldType:"text"},"BaseProductCode"),(0,l.jsx)(a.bQ.Column,{className:"compColHeight colminWidth",header:e("CustomerRecipe_IsAdditive"),renderer:e=>null!==e.rowData.BaseProductCode&&void 0!==e.rowData.BaseProductCode&&""!==e.rowData.BaseProductCode&&0!==e.rowData.Version?"N":"Y",editFieldType:"text"},"IsAdditive"),(0,l.jsx)(a.bQ.Column,{className:"compColHeight colminWidth",field:"Quantity",header:e("CustomerRecipe_AbsoluteNumber"),editable:!0,editFieldType:"text",customEditRenderer:y},"Quantity")]})})})]})})}c.defaultProps={isEnterpriseNode:!1};var d=i(9256),u=i(44192),h=i(46100),p=i(40854),m=i.n(p),C=i(72067),g=i(97508),R=i(65187),y=i(43503),S=i(93779),v=i(80312),D=i(53536),f=i.n(D),x=i(40252),P=i(62900),E=i(28882),b=i(14159),j=i(11981);class w extends s.Component{constructor(){super(...arguments),this.state={CustomerRecipe:f().cloneDeep(h.Uv),modCustomerRecipe:{},validationErrors:n.Th(u.HO),isReadyToRender:!1,saveEnabled:!1,customerKPIList:[],Customers:[],terminalCodes:this.props.userDetails.EntityResult.IsEnterpriseNode?this.getTerminalList():[],finishedProducts:[],showAuthenticationLayout:!1},this.handleChange=(e,t)=>{try{const i=f().cloneDeep(this.state.modCustomerRecipe),s=f().cloneDeep(this.state.validationErrors);i[e]=t,this.setState({modCustomerRecipe:i}),void 0!==u.HO[e]&&(s[e]=n.jr(u.HO[e],t),this.setState({validationErrors:s})),void 0!==u.HO[e]&&(s[e]=n.jr(u.HO[e],t)),this.setState({modCustomerRecipe:i,validationErrors:s})}catch(i){console.log("CustomerRecipeDetailsComposite:Error occured on handleChange",i)}},this.handleTerminalChange=e=>{this.getFinishedProductList(e),this.getcustomerList(e)},this.handleFinishedProductChange=e=>{try{let t=f().cloneDeep(this.state.modCustomerRecipe);t.FinishedProduct.Code=e,this.getFinishedProduct(e,this.props.selectedShareholder),this.setState({modCustomerRecipe:t})}catch(t){console.log(t)}},this.handleActiveStatusChange=e=>{try{let t=f().cloneDeep(this.state.modCustomerRecipe);t.Status=e,t.Status!==this.state.CustomerRecipe.Status&&(t.Remarks=""),this.setState({modCustomerRecipe:t})}catch(t){console.log(t)}},this.saveCustomerRecipe=()=>{try{this.setState({saveEnabled:!1});let e=f().cloneDeep(this.state.CustomerRecipe),t=f().cloneDeep(this.state.modCustomerRecipe);""===e.Code?this.createCustomerRecipe(t):this.updateCustomerRecipe(t)}catch(e){console.log("CustomerRecipeDetailsComposite : Error in saveCustomerRecipe")}},this.handleSave=()=>{try{let e=f().cloneDeep(this.state.modCustomerRecipe);if(this.validateSave(e)){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showAuthenticationLayout:e},(()=>{!1===e&&this.saveCustomerRecipe()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("CustomerRecipeDetailsComposite:Error occured on handleSave",e)}},this.handleReset=()=>{try{const t={...this.state.validationErrors},i=f().cloneDeep(this.state.CustomerRecipe);if(Object.keys(t).forEach((function(e){t[e]=""})),this.setState({modCustomerRecipe:{...i},validationErrors:t}),""===this.state.CustomerRecipe.Code){var e=this.state.terminalCodes;e=[],this.setState({terminalCodes:e})}}catch(t){console.log("CustomerRecipeDetailsComposite:Error occured on handleReset",t)}},this.handleCellDataEdit=(e,t)=>{let i=f().cloneDeep(this.state.modCustomerRecipe);i.FinishedProduct.FinishedProductItems[t.rowIndex][t.field]=e,this.setState({modCustomerRecipe:i})},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}getFinishedProduct(e,t){var i=[{key:S.xf,value:e}],s={ShareHolderCode:t,keyDataCode:S.xf,KeyCodes:i};m()(C.cfM,n.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data,i=f().cloneDeep(this.state.modCustomerRecipe);t.IsSuccess?Array.isArray(t.EntityResult.FinishedProductItems)&&t.EntityResult.FinishedProductItems.length>0&&(i.FinishedProduct.FinishedProductItems=t.EntityResult.FinishedProductItems,this.setState({modCustomerRecipe:i})):console.log("Error in getFinishedProduct:",t.ErrorList)})).catch((e=>{console.log("Error while getting Finished Product:",e)}))}componentWillReceiveProps(e){try{""!==this.state.CustomerRecipe.Code&&void 0===e.selectedRow.CustomerRecipe_Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo&&this.getCustomerRecipe(e.selectedRow)}catch(t){console.log("CustomerRecipeDetailsComposite:Error occured on componentWillReceiveProps",t)}}componentDidMount(){try{n.pJ(this.props.userDetails.EntityResult.IsArchived),this.getCustomerRecipe(this.props.selectedRow)}catch(e){console.log("CustomerRecipeDetailsComposite:Error occured on componentDidMount",e)}}getTerminalList(){return this.props.terminalList}getFinishedProductList(e){this.setState({finishedProducts:[]}),m()(C.w43+"?ShareholderCode="+this.props.selectedShareholder+"&TerminalCode="+e,n.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess&&Array.isArray(t.EntityResult)&&t.EntityResult.length>0){let e=n.Zj(t.EntityResult);this.setState({finishedProducts:e})}}))}getcustomerList(e){this.setState({Customers:[]}),m()(C.mHO+"?ShareholderCode="+this.props.selectedShareholder,n.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{let i=t.data,s=this.props.userDetails.EntityResult.IsEnterpriseNode;if(!0===i.IsSuccess){let t=[];i.EntityResult.Table.forEach((i=>{s&&i.TerminalCodes.indexOf(e)>-1?t.push(i.Common_Code):s||t.push(i.Common_Code)}));let o=n.Zj(t);this.setState({Customers:o,isReadyToRender:!0})}else this.setState({Customers:[],isReadyToRender:!0}),console.log("Error in GetCustomerListForRole:",i.ErrorList)})).catch((e=>{this.setState({Customers:[],isReadyToRender:!0}),console.log("Error while getting Customer List:",e)}))}initialFPAndCustomer(e){this.getFinishedProductList(e),this.getcustomerList(e)}getCustomerRecipe(e){let t=this.props.userDetails.EntityResult.IsEnterpriseNode?e.TerminalCode:this.props.userDetails.EntityResult.TerminalCode;if(h.Uv.ShareholderCode=this.props.selectedShareholder,void 0===e.CustomerRecipe_Code)return this.props.userDetails.EntityResult.IsEnterpriseNode||this.initialFPAndCustomer(t),void this.setState({CustomerRecipe:f().cloneDeep(h.Uv),modCustomerRecipe:f().cloneDeep(h.Uv),isReadyToRender:!0,customerKPIList:[],saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.b0)});var i=[{key:S.iH,value:e.CustomerRecipe_Code},{key:S.uw,value:t},{key:S.xf,value:e.FinishedProduct_Code}],s={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.iH,KeyCodes:i};m()(C.Xbf,n.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=f().cloneDeep(t.EntityResult);this.initialFPAndCustomer(e.TerminalCode),this.setState({isReadyToRender:!0,CustomerRecipe:e,modCustomerRecipe:e,saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.b0)})}else this.setState({CustomerRecipe:f().cloneDeep(h.Uv),modCustomerRecipe:f().cloneDeep(h.Uv),isReadyToRender:!0}),console.log("Error in GetCustomer:",t.ErrorList)})).catch((t=>{console.log("Error while getting Customer:",t,e)}))}validateSave(e){var t=f().cloneDeep(this.state.validationErrors);Object.keys(u.HO).forEach((function(i){t[i]=n.jr(u.HO[i],e[i])})),e.Status!==this.state.CustomerRecipe.Status&&(null!==e.Remarks&&""!==e.Remarks||(t.Remarks="OriginTerminal_RemarksRequired")),""===e.FinishedProduct.Code||void 0===e.FinishedProduct.Code||null===e.FinishedProduct.Code?t.CustomerRecipefinishedProducts="CustomerRecipeDetails_reqFinishedProduct":t.CustomerRecipefinishedProducts="",this.props.userDetails.EntityResult.IsEnterpriseNode||(t.TerminalCode="");var i;i=Object.values(t).every((function(e){return""===e})),this.setState({validationErrors:t});let s={messageType:"critical",message:"CUSTOMERRECIPE_SavedStatus",messageResultDetails:[]};return e.FinishedProduct.FinishedProductItems.length>0&&e.FinishedProduct.FinishedProductItems.forEach((e=>{let t="";void 0!==E.lD[0].validator&&(t=n.jr(E.lD[0].validator,e.Quantity)),""!==t&&s.messageResultDetails.push({keyFields:[E.lD[0].displayName],keyValues:[e[E.lD[0].field]],isSuccess:!1,errorMessage:t})})),s.messageResultDetails.length>0?((0,b.toast)((0,l.jsx)(R.A,{children:(0,l.jsx)(j.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4}),!1):i}convertStringtoDecimal(e){try{return null!==e.Density&&""!==e.Density&&(e.Density=n.bo(e.Density)),null!==e.ToleranceQuantity&&""!==e.ToleranceQuantity&&(e.ToleranceQuantity=n.bo(e.ToleranceQuantity)),null!==e.ToleranceQuantityForMarine&&""!==e.ToleranceQuantityForMarine&&(e.ToleranceQuantityForMarine=n.bo(e.ToleranceQuantityForMarine)),null!==e.ToleranceQuantityForPipeline&&""!==e.ToleranceQuantityForPipeline&&(e.ToleranceQuantityForPipeline=n.bo(e.ToleranceQuantityForPipeline)),null!==e.ToleranceQuantityForRail&&""!==e.ToleranceQuantityForRail&&(e.ToleranceQuantityForRail=n.bo(e.ToleranceQuantityForRail)),this.state.hazardousEnabled&&null!==e.SFLPercent&&""!==e.SFLPercent&&(e.SFLPercent=n.bo(e.SFLPercent)),e}catch(t){console.log("convertStringtoDecimal error finishedProduct details",t)}}createCustomerRecipe(e){e.FinishedProduct=this.convertStringtoDecimal(e.FinishedProduct);var t=[{key:S.iH,value:e.Code}],i={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.iH,KeyCodes:t,Entity:e},s={messageType:"critical",message:"CustomerRecipeDetails_SavedStatus",messageResultDetails:[{keyFields:["CustomerRecipe_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};m()(C.vsn,n.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data;s.messageType=i.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.b0),showAuthenticationLayout:!1},(()=>this.getCustomerRecipe({CustomerRecipe_Code:e.Code,FinishedProduct_Code:e.FinishedProduct.Code,TerminalCode:e.TerminalCode}))):(s.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.b0),showAuthenticationLayout:!1}),console.log("Error in CreateCustomer:",i.ErrorList)),this.props.onSaved(e,"add",s)})).catch((t=>{this.setState({saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.b0),showAuthenticationLayout:!1}),s.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",s)}))}updateCustomerRecipe(e){let t=[{key:S.iH,value:e.Code}],i={ShareHolderCode:this.props.selectedShareholder,keyDataCode:S.iH,KeyCodes:t,Entity:e},s={messageType:"critical",message:"CustomerRecipeDetails_SavedStatus",messageResultDetails:[{keyFields:["CustomerRecipe_Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};m()(C.k63,n.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data;s.messageType=i.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=i.IsSuccess,!0===i.IsSuccess?this.setState({saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.b0),showAuthenticationLayout:!1},(()=>this.getCustomerRecipe({CustomerRecipe_Code:e.Code,FinishedProduct_Code:e.FinishedProduct.Code,TerminalCode:e.TerminalCode}))):(s.messageResultDetails[0].errorMessage=i.ErrorList[0],this.setState({saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.b0),showAuthenticationLayout:!1}),console.log("Error in UpdateCustomerRecipe:",i.ErrorList)),this.props.onSaved(e,"update",s)})).catch((t=>{s.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"modify",s),this.setState({saveEnabled:n.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.b0),showAuthenticationLayout:!1})}))}render(){const e=[{fieldName:"Cust_LastUpDt",fieldValue:new Date(this.state.modCustomerRecipe.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modCustomerRecipe.LastUpdatedTime).toLocaleTimeString()},{fieldName:"Cust_CreateDt",fieldValue:new Date(this.state.modCustomerRecipe.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modCustomerRecipe.CreatedTime).toLocaleTimeString()}];return this.state.isReadyToRender?(0,l.jsxs)("div",{children:[(0,l.jsx)(R.A,{children:(0,l.jsx)(y.A,{entityCode:this.state.CustomerRecipe.Code,newEntityName:"CustomerRecipe_Title",popUpContents:e})}),(0,l.jsx)(R.A,{children:(0,l.jsx)(c,{CustomerRecipe:this.state.CustomerRecipe,modCustomerRecipe:this.state.modCustomerRecipe,validationErrors:this.state.validationErrors,Customers:this.state.Customers,terminalCodes:this.state.terminalCodes,finishedProducts:this.state.finishedProducts,onFieldChange:this.handleChange,handleFinishedProductChange:this.handleFinishedProductChange,handleActiveStatusChange:this.handleActiveStatusChange,handleTerminalChange:this.handleTerminalChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,handleCellDataEdit:this.handleCellDataEdit})}),(0,l.jsx)(R.A,{children:(0,l.jsx)(d.q,{handleBack:this.props.onBack,handleSave:this.handleSave,handleReset:this.handleReset,saveEnabled:this.state.saveEnabled})}),this.state.showAuthenticationLayout?(0,l.jsx)(P.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:""===this.state.CustomerRecipe.Code?v.i.add:v.i.modify,functionGroup:v.b0,handleOperation:this.saveCustomerRecipe,handleClose:this.handleAuthenticationClose}):null]}):(0,l.jsx)(x.A,{message:"Loading"})}}const T=(0,g.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(w)},93693:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>P});var s=i(65043),o=i(66554),r=i(19380),a=i(70579);function n(e){let{tableData:t,columnDetails:i,pageSize:s,exportRequired:o,exportFileName:n,columnPickerRequired:l,columnGroupingRequired:c,terminalsToShow:d,selectedItems:u,selectionRequired:h,onSelectionChange:p,onRowClick:m,parentComponent:C}=e;return(0,a.jsx)(r.A,{data:t,columns:i,rowsPerPage:s,exportRequired:o,exportFileName:n,columnPickerRequired:l,columnGroupingRequired:c,terminalsToShow:d,selectionRequired:h,onSelectionHandle:p,onRowClick:m,parentComponent:C,selectedItems:u})}var l=i(84724),c=i(40854),d=i.n(c),u=i(72067),h=i(14159),p=(i(92342),i(97508)),m=(i(63973),i(11981)),C=i(69062),g=i(65187),R=i(93779),y=i(40252),S=i(53536),v=i.n(S),D=i(62900),f=i(80312);class x extends s.Component{constructor(){super(...arguments),this.state={isDetails:"false",isReadyToRender:!1,isDetailsModified:"false",operationsVisibilty:{add:!1,delete:!1,shareholder:!0},selectedRow:{},selectedItems:[],selectedShareholder:"",data:{},showAuthenticationLayout:!1},this.componentName="CustomerRecipeList",this.terminalList=[],this.handleAdd=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,e.add=!1,e.shareholder=!1,this.setState({isDetails:"true",selectedRow:{},operationsVisibilty:e})}catch(t){console.log("CustomerRecipeComposite:Error occured on handleAdd",t)}},this.authenticateDelete=()=>{try{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showAuthenticationLayout:e}),!1===e&&this.handleDelete()}catch(e){console.log("CustomerComposite : Error in authenticateDelete")}},this.handleDelete=()=>{try{var{operationsVisibilty:e}={...this.state};e.delete=!1,this.setState({operationsVisibilty:e});let n=v().cloneDeep(this.state.selectedItems);for(var t=[],i=0;i<n.length;i++){var s=this.state.selectedShareholder,o=n[i].CustomerRecipe_Code,r={keyDataCode:0,ShareHolderCode:s,KeyCodes:[{Key:R.iH,Value:o},{Key:R.FR,Value:s},{Key:R.xf,Value:n[i].FinishedProduct_Code},{key:R.uw,value:this.props.userDetails.EntityResult.IsEnterpriseNode||void 0!==n[i].TerminalCode&&""!==n[i].TerminalCode?n[i].TerminalCode:this.props.userDetails.EntityResult.TerminalCode}]};t.push(r)}d()(u.sjx,C.tW(t,this.props.tokenDetails.tokenInfo)).then((t=>{var i=t.data,s=i.isSuccess;null!==i.ResultDataList&&void 0!==i.ResultDataList&&(s=i.ResultDataList.filter((function(e){return!e.IsSuccess})).length!==i.ResultDataList.length);var o=C.Cy(i,"CustomerRecipeDetails_DeletionStatus",["CustomerRecipeCode"]);s?(this.setState({isReadyToRender:!1,showAuthenticationLayout:!1}),this.getCustomerRecipeList(this.state.selectedShareholder),e.delete=!1,this.setState({selectedItems:[],operationsVisibilty:e,selectedRow:{},showAuthenticationLayout:!1})):(e.delete=!0,this.setState({operationsVisibilty:e,showAuthenticationLayout:!1})),o.messageResultDetails.forEach((e=>{e.keyFields.length>0&&(e.keyFields[0]="CustomerRecipe_Code")})),(0,h.toast)((0,a.jsx)(g.A,{children:(0,a.jsx)(m.A,{notificationMessage:o})}),{autoClose:"success"===o.messageType&&1e4})})).catch((e=>{throw e}))}catch(n){console.log("CustomerRecipeComposite:Error occured on handleDelete",n)}},this.handleBack=()=>{try{var{operationsVisibilty:e}={...this.state};e.add=C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.add,f.b0),e.delete=!1,e.shareholder=!0,this.setState({isDetails:"false",selectedRow:{},selectedItems:[],operationsVisibilty:e,isReadyToRender:!1}),this.getCustomerRecipeList(this.state.selectedShareholder)}catch(t){console.log("CustomerRecipeComposite:Error occured on Back click",t)}},this.handleRowClick=e=>{try{var{operationsVisibilty:t}={...this.state};t.add=C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.add,f.b0),t.delete=C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.remove,f.b0),t.shareholder=!1,this.setState({isDetails:"true",selectedRow:e,selectedItems:[e],operationsVisibilty:t})}catch(i){console.log("CustomerRecipeComposite:Error occured on handleRowClick",i)}},this.handleSelection=e=>{try{var{operationsVisibilty:t}={...this.state};t.delete=e.length>0&&C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.remove,f.b0),this.setState({selectedItems:e,operationsVisibilty:t})}catch(i){console.log("CustomerRecipeComposite:Error occured on handleSelection",i)}},this.savedEvent=(e,t,i)=>{try{var{operationsVisibilty:s}={...this.state};if("success"===i.messageType&&(s.add=C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.add,f.b0),s.delete=C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.remove,f.b0),this.setState({isDetailsModified:"true",operationsVisibilty:s})),"success"===i.messageType&&"add"===t){var o=[{CustomerRecipe_Code:e.Code,Common_Status:e.Status,FinishedProduct_Code:e.FinishedProduct.Code,TerminalCode:e.TerminalCode}];this.setState({selectedItems:o})}(0,h.toast)((0,a.jsx)(g.A,{children:(0,a.jsx)(m.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}catch(r){console.log("CustomerRecipeComposite:Error occured on savedEvent",r)}},this.componentWillUnmount=()=>{this.clearStorage(),window.removeEventListener("beforeunload",this.clearStorage)},this.clearStorage=()=>{sessionStorage.removeItem(this.componentName+"GridState")},this.handleShareholderSelectionChange=e=>{try{let{operationsVisibilty:t}={...this.state};t.delete=!1,this.setState({selectedShareholder:e,isReadyToRender:!1,selectedItems:[],operationsVisibilty:t}),this.getCustomerRecipeList(e),this.getTerminalsList(e)}catch(t){console.log("CustomerRecipeComposite:Error occured on handleShareholderSelectionChange",t)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}getTerminalsList(e){try{void 0!==e&&""!==e?d()(u.Oqv,C.tW([e],this.props.tokenDetails.tokenInfo)).then((e=>{if(e.data.IsSuccess){var t=e.data.EntityResult;Array.isArray(t)?this.terminalList=t:this.terminalList=[]}else this.terminalList=[]})):this.terminalList=[]}catch(t){console.log("CustomerComposite:Error occured on getTerminalsList",t)}}getCustomerRecipeList(e){void 0!==e&&""!==e&&d()(u.Cyq+"?ShareholderCode="+e,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({data:t.EntityResult,isReadyToRender:!0}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in GetCustomerRecipeListForRole:",t.ErrorList))})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting Customer Receipe List:",e)}))}componentDidMount(){try{C.pJ(this.props.userDetails.EntityResult.IsArchived);var{operationsVisibilty:e}={...this.state};e.add=C.ab(this.props.userDetails.EntityResult.FunctionsList,f.i.add,f.b0),this.setState({operationsVisibilty:e,selectedShareholder:this.props.userDetails.EntityResult.PrimaryShareholder}),this.getCustomerRecipeList(this.props.userDetails.EntityResult.PrimaryShareholder),this.getTerminalsList(this.props.userDetails.EntityResult.PrimaryShareholder)}catch(t){console.log("CustomerRecipeComposite:Error occured on ComponentDidMount",t)}window.addEventListener("beforeunload",this.clearStorage)}render(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(g.A,{children:(0,a.jsx)(o.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,shareholders:this.props.userDetails.EntityResult.ShareholderList,selectedShareholder:this.state.selectedShareholder,onShareholderChange:this.handleShareholderSelectionChange,onDelete:this.authenticateDelete,onAdd:this.handleAdd,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),"true"===this.state.isDetails?(0,a.jsx)(g.A,{children:(0,a.jsx)(l.default,{selectedRow:this.state.selectedRow,selectedShareholder:this.state.selectedShareholder,terminalList:this.terminalList,onBack:this.handleBack,onSaved:this.savedEvent,genericProps:this.props.activeItem.itemProps},"CustomerRecipeDetails")}):this.state.isReadyToRender?(0,a.jsx)("div",{children:(0,a.jsx)(g.A,{children:(0,a.jsx)(n,{tableData:this.state.data.Table,columnDetails:this.state.data.Column,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,exportRequired:!0,exportFileName:"CustomerRecipeList",columnPickerRequired:!0,selectionRequired:!0,columnGroupingRequired:!0,selectedItems:this.state.selectedItems,onRowClick:this.handleRowClick,onSelectionChange:this.handleSelection,parentComponent:this.componentName})})}):(0,a.jsx)(y.A,{message:"Loading"}),this.state.showAuthenticationLayout?(0,a.jsx)(D.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:f.i.remove,functionGroup:f.b0,handleClose:this.handleAuthenticationClose,handleOperation:this.handleDelete}):null,(0,a.jsx)(g.A,{children:(0,a.jsx)(h.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const P=(0,p.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(x)},43503:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});i(65043);var s=i(67907),o=i(72711),r=i(70579);function a(e){let{entityCode:t,newEntityName:i,popUpContents:a}=e;return(0,r.jsx)(s.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(i):t})}),""!==t&&void 0!==t&&a.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(o.Popup,{element:(0,r.jsxs)("div",{children:[e(a[0].fieldName)+" ",":"," "+a[0].fieldValue,(0,r.jsx)(o.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(o.List,{className:"detailsHeaderPopUp",children:a.map((t=>(0,r.jsxs)(o.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}a.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const n=a},9256:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});i(65043);var s=i(72711),o=i(67907),r=i(70579);function a(e){let{handleBack:t,handleSave:i,handleReset:a,saveEnabled:n}=e;return(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsxs)("div",{className:"row userActionPosition",children:[(0,r.jsx)("div",{className:"col-12 col-md-3 col-lg-4",children:(0,r.jsx)(s.Button,{className:"backButton",onClick:t,content:e("Back")})}),(0,r.jsx)("div",{className:"col-12 col-md-9 col-lg-8",children:(0,r.jsxs)("div",{style:{float:"right"},children:[(0,r.jsx)(s.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:a}),(0,r.jsx)(s.Button,{content:e("Save"),disabled:!n,onClick:i})]})})]})})}a.defaultProps={saveEnabled:!1}},80312:(e,t,i)=>{"use strict";i.d(t,{$3:()=>H,$H:()=>se,$J:()=>pe,$K:()=>Ce,$V:()=>jt,$b:()=>vt,$p:()=>q,AE:()=>P,Al:()=>O,B2:()=>st,By:()=>Pt,CW:()=>Ct,DA:()=>l,Ee:()=>We,FO:()=>F,Fy:()=>Le,G9:()=>it,H8:()=>ee,Hq:()=>nt,Ig:()=>I,Iu:()=>R,JI:()=>ct,JJ:()=>te,JU:()=>z,Jz:()=>ze,KQ:()=>ae,Kk:()=>Ze,Kw:()=>et,LP:()=>Tt,LR:()=>d,Lg:()=>$,Mg:()=>ve,Mm:()=>L,N1:()=>Y,Nm:()=>m,No:()=>ce,Ow:()=>B,P2:()=>r,P8:()=>ye,PD:()=>Ne,PE:()=>u,PG:()=>K,PP:()=>pt,Pb:()=>ke,QB:()=>D,QC:()=>Z,RE:()=>rt,RO:()=>$e,Rc:()=>Rt,Rl:()=>Dt,Rx:()=>gt,TI:()=>y,Tm:()=>me,Ug:()=>X,Ur:()=>Ue,V9:()=>c,VK:()=>U,VL:()=>he,VQ:()=>ne,WD:()=>Ve,Wf:()=>j,YO:()=>A,YY:()=>Fe,Yb:()=>ge,Yg:()=>He,Z9:()=>ht,ZE:()=>dt,ZU:()=>v,_N:()=>yt,_S:()=>wt,_d:()=>Ft,aS:()=>W,aZ:()=>ut,au:()=>xe,b0:()=>bt,bL:()=>Oe,c2:()=>Ge,d4:()=>Ie,dB:()=>g,dD:()=>qe,dK:()=>_,dY:()=>N,de:()=>h,dv:()=>we,eQ:()=>n,f3:()=>De,fF:()=>V,fL:()=>St,fN:()=>xt,fk:()=>w,fl:()=>Re,fr:()=>f,go:()=>o,h:()=>ue,hD:()=>b,hE:()=>T,hh:()=>Xe,hk:()=>re,hz:()=>mt,i:()=>s,j2:()=>at,jN:()=>Q,je:()=>C,jx:()=>G,kL:()=>Ye,ke:()=>Be,km:()=>le,l0:()=>oe,l6:()=>_e,lz:()=>k,m0:()=>S,nS:()=>Ee,nk:()=>lt,nn:()=>x,np:()=>J,oh:()=>ot,op:()=>Ke,pt:()=>Me,qk:()=>de,qp:()=>Se,r6:()=>be,rQ:()=>je,rj:()=>M,rp:()=>a,t3:()=>ft,tM:()=>Ae,to:()=>At,ts:()=>tt,uH:()=>fe,uy:()=>Je,w1:()=>Te,x5:()=>ie,xz:()=>E,y_:()=>Qe,yu:()=>p,yx:()=>Et,z8:()=>Pe,z_:()=>Nt});const s={view:"view",add:"add",modify:"modify",remove:"remove"},o="carriercompany",r="driver",a="customer",n="trailer",l="originterminal",c="destination",d="primemover",u="vehicle",h="shipmentbycompartment",p="shipmentbyproduct",m="ViewShipmentStatus",C="vessel",g="order",R="OrderForceClose",y="contract",S="receiptplanbycompartment",v="ViewMarineShipment",D="MarineShipmentByCompartment",f="ViewMarineReceipt",x="supplier",P="finishedproduct",E="RailDispatch",b="RailReceipt",j="RailRoute",w="RailWagon",T="CloseRailDispatch",F="PrintRailBOL",N="PrintRailFAN",A="RailDispatchLoadSpotAssignment",k="RailDispatchProductAssignment",I="ViewRailDispatch",L="ViewRailLoadingDetails",V="CloseRailReceipt",M="PrintRailBOD",G="PrintRailRAN",O="ViewRailReceipt",q="ViewRailUnLoadingDetails",W="SMS",B="UnAccountedTransactionTank",U="UnAccountedTransactionMeter",_="PipelineDispatch",H="PipelineReceipt",Q="PipelineDispatchManualEntry",z="PipelineReceiptManualEntry",K="LookUpData",J="HSEInspection",$="HSEInspectionConfig",Y="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",se="LeakageManualEntry",oe="Terminal",re="SlotInformation",ae="TankGroup",ne="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",ue="AccessCard",he="ResetPin",pe="SlotConfiguration",me="PrintMarineFAN",Ce="PrintMarineBOL",ge="ViewMarineLoadingDetails",Re="ViewMarineShipmentAuditTrail",ye="CloseMarineShipment",Se="IssueCard",ve="ActivateCard",De="RevokeCard",fe="AutoIDAssociation",xe="MarineReceiptByCompartment",Pe="PrintMarineRAN",Ee="PrintMarineBOD",be="ViewMarineUnloadingDetails",je="ViewMarineReceiptAuditTrail",we="CloseMarineReceipt",Te="WeekendConfig",Fe="EODAdmin",Ne="PrintBOL",Ae="PrintFAN",ke="PrintBOD",Ie="CloseShipment",Le="CloseReceipt",Ve="CONTRACTFORCECLOSE",Me="Captain",Ge="OverrideShipmentSequence",Oe="KPIInformation",qe="Language",We="WebPortalUserMap",Be="BayGroup",Ue="PipelineHeaderSiteView",_e="TankMonitor",He="PersonAdmin",Qe="ProductReconciliationReports",ze="ReportConfiguration",Ke="EXECONFIGURATION",Je="ShareholderAllocation",$e="NotificationGroup",Ye="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",st="TANKSHAREHOLDERPRIMEFUNCTION",ot="ROLEADMIN",rt="ShiftConfig",at="PrinterConfiguration",nt="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",ut="PipelineMeterSiteView",ht="RailSiteView",pt="MarineSiteView",mt="LoadingDetails",Ct="UnloadingDetails",gt="RoadHSEInspection",Rt="RoadHSEInspectionConfig",yt="MarineHSEInspection",St="MarineHSEInspectionConfig",vt="RailHSEInspection",Dt="RailHSEInspectionConfig",ft="PipelineHSEInspection",xt="PipelineHSEInspectionConfig",Pt="PrintRAN",Et="ViewReceiptStatus",bt="customerrecipe",jt="COAParameter",wt="COATemplate",Tt="COAManagement",Ft="COACustomer",Nt="COAAssignment",At="ProductForecastConfiguration"},93779:(e,t,i)=>{"use strict";i.d(t,{$A:()=>N,$L:()=>lt,$Q:()=>qe,Ae:()=>Te,BX:()=>re,Bl:()=>me,Bv:()=>Re,Bw:()=>Z,Cb:()=>T,Cg:()=>j,DN:()=>rt,D_:()=>at,Dm:()=>A,E7:()=>J,EW:()=>I,FN:()=>oe,FR:()=>r,FY:()=>mt,GA:()=>We,GT:()=>v,Ge:()=>ke,HB:()=>ae,JQ:()=>K,KJ:()=>ee,Kz:()=>_,Ln:()=>U,M$:()=>Ue,O5:()=>tt,Of:()=>De,Oo:()=>it,Pk:()=>ge,Pm:()=>Y,Q5:()=>ct,QK:()=>_e,QV:()=>Ze,QZ:()=>dt,Qu:()=>ie,RX:()=>je,Rb:()=>W,Rp:()=>x,SP:()=>C,T5:()=>Ve,UB:()=>y,UT:()=>l,Ui:()=>Q,VA:()=>q,Vk:()=>xe,Wb:()=>Pe,Wv:()=>fe,X3:()=>Ke,Y4:()=>B,Yl:()=>st,Zx:()=>$,_B:()=>ye,_C:()=>w,_R:()=>Ce,_j:()=>de,_n:()=>s,aM:()=>V,aW:()=>Oe,bW:()=>O,c4:()=>ot,cD:()=>n,c_:()=>E,cx:()=>G,dL:()=>ut,eE:()=>le,eS:()=>Qe,eT:()=>f,f:()=>k,f7:()=>pe,fR:()=>ue,g1:()=>ce,gN:()=>Je,gO:()=>H,iH:()=>nt,ij:()=>et,j1:()=>b,jC:()=>Se,je:()=>he,jz:()=>ne,ll:()=>Xe,mM:()=>S,mO:()=>pt,mW:()=>Le,ml:()=>g,mm:()=>Ye,nB:()=>te,nT:()=>Ie,np:()=>Ae,oA:()=>P,oG:()=>ze,oV:()=>X,ok:()=>u,oy:()=>c,pL:()=>Fe,pe:()=>Be,pw:()=>He,qF:()=>a,qQ:()=>ht,qp:()=>h,s0:()=>D,sA:()=>we,st:()=>se,tY:()=>L,uw:()=>z,v6:()=>o,vL:()=>Me,vf:()=>Ne,wH:()=>$e,wO:()=>ve,wX:()=>M,x4:()=>Ee,xf:()=>p,xy:()=>d,yI:()=>R,yV:()=>F,yz:()=>m,zL:()=>be,zf:()=>Ge});const s="CarrierCode",o="TransportationType",r="ShareHolderCode",a="DriverCode",n="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",u="VehicleCode",h="DestinationCode",p="FinishedProductCode",m="ShipmentCode",C="OrderCode",g="ReceiptCode",R="MarineDispatchCode",y="MarineReceiptCode",S="SupplierCode",v="ContractCode",D="RailDispatchCode",f="RailReceiptCode",x="RailRouteCode",P="WagonCode",E="CompartmentCode",b="SMSConfigurationCode",j="PipelineDispatchCode",w="PipelineReceiptCode",T="EmailConfigurationCode",F="BaseProductCode",N="LocationCode",A="SiteViewType",k="EntityCode",I="EntityType",L="CardReaderCode",V="AccessCardCode",M="BcuCode",G="DeuCode",O="WeighBridgeCode",q="Weight",W="OutOfToleranceAllowed",B="LoadingArmCode",U="TransportationType",_="BayCode",H="TransactionNumber",Q="BatchNumber",z="TerminalCode",K="TankGroupCode",J="TankCode",$="MeterCode",Y="ShipmentType",Z="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",se="ProductCategoryType",oe="Reason",re="SealMasterCode",ae="Reason",ne="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",ue="AdjustedPlanQuantity",he="ForceComplete",pe="DispatchStatus",me="HolidayDate",Ce="ActionID",ge="EODTimePrev",Re="TerminalAction",ye="EODTime",Se="MonthStartDay",ve="CaptainCode",De="GeneralTMUserType",fe="GeneralTMUserCode",xe="IsPriority",Pe="ActualTerminalCode",Ee="ShipmentBondNo",be="ReceiptBondNo",je="DeviceType",we="DeviceCode",Te="BayGroup",Fe="PipelineHeaderCode",Ne="ExchangePartner",Ae="PersonID",ke="UserName",Ie="PipelinePlanCode",Le="PipelinePlanType",Ve="ChannelCode",Me="ProcessName",Ge="ReconciliationCode",Oe="NotificationGroupCode",qe="NotificationGroupStatus",We="NotificationGroupDesc",Be="NotificationResSource",Ue="NotificationResMsgCode",_e="NotificationOrigResSource",He="NotificationOrigResMsgCode",Qe="NotificationMessageCode",ze="PositionType",Ke="ExchangeAgreementCode",Je="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Ye="RequestorShareholder",Ze="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",st="PrinterName",ot="LocationType",rt="ForceClosureReason",at="TransactionType",nt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ut="COAManagementFinishedProductCode",ht="COASeqNumber",pt="ForecastDate",mt="ForecastTanks"},50477:()=>{}}]);
//# sourceMappingURL=177.f4410567.chunk.js.map