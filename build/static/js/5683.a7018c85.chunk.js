"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[5683,3235],{15683:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(65043),i=a(72711),r=a(67907),o=a(35861),l=a(7523),n=a(65187),c=a(85800),d=a(70579);function h(e){let{handleSave:t,handleReset:a,temporaryCard:s,modTemporaryCard:h,validationErrors:u,onFieldChange:C,saveEnabled:E,onDateTextChange:m,handleShowCard:p,location:I,TWICEnabled:y,isValidateFASCN:A,isEnterpriseNode:S,modAttributeMetaDataList:D,attributeValidationErrors:T,onAttributeDataChange:v}=e;const N=(e,t)=>{let a=[];return a=e.find((e=>e.TerminalCode===t)),a.attributeValidationErrors};return(0,d.jsx)(r.TranslationConsumer,{children:e=>(0,d.jsxs)("div",{className:"autoDetailsContainer",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:""===h.PIN?"":h.PIN,label:e("AccessCardInfo_x_IDCode"),indicator:"required",onChange:e=>C("PIN",e),error:e(u.PIN),disabled:!0,reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-8",style:{marginTop:24},children:0===I.length?"":(0,d.jsx)(i.Button,{content:e("TempororyCard_ShowTempCard"),className:"backButton",onClick:p})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:null===h.Description?"":h.Description,label:e("AccessCardInfo_Description"),onChange:e=>C("Description",e),error:e(u.Description),reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:h.CardType,label:e("AccessCardList_x_ID_Category"),onChange:e=>C("CardType",e),error:e(u.CardType),disabled:!0,indicator:"required",reserveSpace:!1})}),"ELECTRONIC"===h.CardType&&"1"===y?(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",style:{marginTop:21},children:(0,d.jsx)(i.Checkbox,{label:e("AccessCardInfo_IsTWICCard"),checked:h.ISTWICCARD,onChange:e=>C("ISTWICCARD",e),disabled:""!==s.PIN})}):"",!0===h.ISTWICCARD?(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:null===h.FASCN?"":h.FASCN,label:e("AccessCardInfo_FASCN"),onChange:e=>C("FASCN",e),onBlur:A,error:e(u.FASCN),disabled:""!==s.PIN,indicator:"required",reserveSpace:!1})}):"",(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.DatePicker,{fluid:!0,value:null===h.ExpiryDate?"":new Date(h.ExpiryDate),label:e("AccessCardInfo_x_CardExpiry"),disablePast:!0,indicator:"required",error:e(u.ExpiryDate),onTextChange:(e,t)=>{m("ExpiryDate",e,t)},displayFormat:(0,o.F1)(),reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",style:{marginTop:21},children:(0,d.jsx)(i.Checkbox,{label:e("AccessCardInfo_x_Locked"),checked:h.Locked,onChange:e=>C("Locked",e),disabled:""===s.PIN||h.CardStatus===l.vj.EXPIRED})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:null===h.CardStatus?"":h.CardStatus,label:e("AccessCardInfo_x_CardUsageStatus"),disabled:!0})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4 ",children:(0,d.jsx)(i.Input,{fluid:!0,value:""===s.PIN||void 0===h.LastLockingTime||null===h.LastLockingTime?"":new Date(h.LastLockingTime).toLocaleString(),label:e("DriverInfo_LastLocking"),disabled:!0})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:null===h.Remarks?"":h.Remarks,label:e("AccessCardInfo_Remarks"),disabled:""===s.PIN,onChange:e=>C("Remarks",e),indicator:h.Locked?"required":"",error:e(u.Remarks),reserveSpace:!1})})]}),D.length>0&&!S?D.map((t=>(0,d.jsx)(n.A,{children:(0,d.jsx)(i.Accordion,{children:(0,d.jsx)(i.Accordion.Content,{className:"attributeAccordian",title:S?t.TerminalCode+" - "+e("Attributes_Header"):e("Attributes_Header"),children:(0,d.jsx)(c.n,{selectedAttributeList:t.attributeMetaDataList,handleCellDataEdit:v,attributeValidationErrors:N(T,t.TerminalCode)})})})}))):null,(0,d.jsxs)("div",{className:"detailsButton",children:[(0,d.jsx)(i.Button,{content:e("Channel_Reset"),className:"cancelButton",onClick:a}),(0,d.jsx)(i.Button,{content:e("AccessCardInfo_Save"),disabled:!E,onClick:t})]})]})})}function u(e){let{handleSetLocation:t,location:a}=e;return(0,d.jsx)(r.TranslationConsumer,{children:e=>(0,d.jsxs)("div",{className:"autoDetailsContainer",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:void 0===a?"":a[1],label:e("Location_Code"),disabled:"true",reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:void 0===a?"":a[2],label:e("LocationInfo_LocationType"),disabled:"true",reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:void 0===a?"":a[0],label:e("CardReader_Title"),disabled:"true",reserveSpace:!1})})]}),(0,d.jsx)("div",{className:"detailsButton",children:(0,d.jsx)(i.Button,{content:e("TemporaryCard_SetLocation"),onClick:t})})]})})}h.defaultProps={},u.defaultProps={};var C=a(69062);function E(e){let{temporaryCard:t,modTemporaryCard:a,handleIssueID:s,handleRevoleID:o,handleActivateID:n,validationErrors:c,listOptions:h,onFieldChange:u,issueEnabled:E,activateEnable:m,revokeEnable:p}=e;return(0,d.jsx)(r.TranslationConsumer,{children:e=>(0,d.jsxs)("div",{className:"autoDetailsContainer",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Select,{fluid:!0,placeholder:"Select",indicator:a.EntityName===l.Hg.Visitor||a.EntityName===l.Hg.TMUser||a.EntityName===l.Hg.Staff?"":"required",value:a.EntityName===l.Hg.Visitor||a.EntityName===l.Hg.TMUser||a.EntityName===l.Hg.Staff?"":a.CarrierCode,label:e("AccessCardInfo_x_Carrier"),options:C.Zj(h.carrierCompanies),onChange:e=>u("CarrierCode",e),error:e(c.CarrierCode),disabled:a.CardStatus!==l.vj.AVAILABLE||a.EntityName===l.Hg.Visitor||a.EntityName===l.Hg.TMUser||a.EntityName===l.Hg.Staff,reserveSpace:!1,multiple:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Select,{fluid:!0,placeholder:"Select",indicator:"required",value:a.EntityName,label:e("AccessCardInfo_x_IssuedTo"),options:C.Zj(h.entityTypes),onChange:e=>u("EntityName",e),error:e(c.EntityName),disabled:a.CardStatus!==l.vj.AVAILABLE,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Select,{fluid:!0,placeholder:"Select",indicator:"required",value:a.EntityValue,label:e("AccessCardInfo_x_Details"),options:C.Zj(h.entityValues),onChange:e=>u("EntityValue",e),error:e(c.EntityValue),disabled:a.CardStatus!==l.vj.AVAILABLE,multiple:!1,reserveSpace:!1,search:!0,noResultsMessage:e("noResultsMessage")})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:""===t.PIN||null===a.IssueDate?"":new Date(a.IssueDate).toLocaleString(),label:e("AccessCardInfo_x_IssueDate"),disabled:""!==t.IssueDate,onChange:e=>u("IssueDate",e),error:e(c.IssueDate),reserveSpace:!1})}),(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,d.jsx)(i.Input,{fluid:!0,value:""===t.PIN||null===a.ActivationTime?"":new Date(a.ActivationTime).toLocaleString(),label:e("AccessCardList_ActivationTime"),disabled:""!==t.ActivationTime,onChange:e=>u("ActivationTime",e),error:e(c.ActivationTime),reserveSpace:!1})})]}),(0,d.jsxs)("div",{className:"detailsButton",children:[(0,d.jsx)(i.Button,{disabled:!E||a.CardStatus!==l.vj.AVAILABLE,content:e("AccessCardInfo_x_IssueCard"),onClick:s}),(0,d.jsx)(i.Button,{disabled:!m||a.CardStatus!==l.vj.ISSUED,content:e("AccessCardInfo_x_ActivateCard"),onClick:n}),(0,d.jsx)(i.Button,{disabled:!p||a.CardStatus!==l.vj.ISSUED&&a.CardStatus!==l.vj.ACTIVATED,content:e("AccessCardInfo_x_RevokeID"),onClick:o})]})]})})}E.defaultProps={};var m=a(44192),p=a(46100),I=a(11981),y=a(14159),A=a(40854),S=a.n(A),D=a(72067),T=a(97508),v=(a(38726),a(43503)),N=a(93779),g=a(80312),R=a(53536),L=a.n(R),b=a(15417),f=a(62900),x=a(97105);class P extends s.Component{constructor(){super(...arguments),this.state={location:[],temporaryCard:L().cloneDeep(p.aJ),modTemporaryCard:L().cloneDeep(p.aJ),validationSectionErrors:C.Th(m.R2),validationIDErrors:C.Th(m.ys),saveEnabled:!0,issueEnabled:!1,activateEnable:!1,revokeEnable:!1,carrierCompanies:[],entityValues:[],entityTypes:[],cardReadTime:null,TWICEnabled:null,PIN:null,attribute:[],attributeMetaDataList:[],modAttributeMetaDataList:[],attributeValidationErrors:[],PointName:null,ReadStartTime:null,CardNumber:"",isShow:!1,defaultShow:!0,tempTemporaryCard:{},showAccessCardAuthenticationLayout:!1,showIssueAuthenticationLayout:!1,showRevokeAuthenticationLayout:!1,showActivateAuthenticationLayout:!1},this.onEntitySelectFocus=()=>{const{modTemporaryCard:e}=this.state;var t=L().cloneDeep(this.state.validationSectionErrors);t.EntityValue="",Object.keys(m.R2).forEach((function(a){"EntityName"===a&&(t[a]=C.jr(m.R2[a],e[a]))})),this.setState({validationSectionErrors:t}),Object.values(t).every((function(e){return""===e}))&&S()(D.dW7+"?ShareholderCode="+this.props.selectedShareholder+"&CarrierCode="+e.CarrierCode+"&EntityType="+e.EntityName,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({entityValues:t.EntityResult}):console.log("Error in onEntitySelectFocus:",t.ErrorList)})).catch((e=>{console.log("Error while getting Entity Code:",e)}))},this.handleSectionChange=(e,t)=>{try{const a=L().cloneDeep(this.state.modTemporaryCard),s=L().cloneDeep(this.state.validationSectionErrors);a[e]=t,"EntityName"===e&&null!==t?(a.EntityValue="",this.setState({modTemporaryCard:a},(()=>this.onEntitySelectFocus()))):this.setState({modTemporaryCard:a}),"CarrierCode"===e&&null!==t&&null!==a.EntityName&&this.setState({modTemporaryCard:a},(()=>this.onEntitySelectFocus())),void 0!==m.R2[e]&&(s[e]=C.jr(m.R2[e],t),"EntityName"===e?t!==l.Hg.TMUser&&t!==l.Hg.Staff&&t!==l.Hg.Visitor||(a.CarrierCode=null,this.setState({modTemporaryCard:a}),s.CarrierCode=""):"EntityValue"!==e||a.EntityName!==l.Hg.TMUser&&a.EntityName!==l.Hg.Staff&&a.EntityName!==l.Hg.Visitor||(s.CarrierCode=""),this.setState({validationSectionErrors:s}))}catch(a){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on handleSectionChange",a)}},this.modifyReadByWorkflow=()=>{const e=L().cloneDeep(this.state.PointName);L().cloneDeep(this.state.modTemporaryCard).PointName=this.state.PointName,void 0!==e&&null!==e&&S()(D.H8c+"?accessIDPointName="+e,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;this.setState({ReadStartTime:t.EntityResult}),!0!==t.IsSuccess&&console.log("Error in ModifyReadByWorkflow:",t.ErrorList)}))},this.timerStart=()=>{M=setInterval((()=>{this.readCardData(this.props.userDetails.EntityResult.PrimaryShareholder)}),3e3)},this.timerStop=()=>{clearInterval(M)},this.handleShowCard=()=>{try{const e={...this.state.validationIDErrors},t=L().cloneDeep(this.state.temporaryCard);Object.keys(e).forEach((function(t){e[t]=""})),this.timerStop(),this.modifyReadByWorkflow(),this.setState({modTemporaryCard:{...t},validationIDErrors:e,isShow:!0,defaultShow:!1}),this.timerStart()}catch(e){console.log("temporaryCardDetailsComposite:Error occured on handleShowCard",e)}},this.handleIDChange=(e,t)=>{try{const a=L().cloneDeep(this.state.modTemporaryCard),s=L().cloneDeep(this.state.validationIDErrors);a[e]=t,"ISTWICCARD"===e&&!1===t?(s.FASCN="",a.FASCN="",this.setState({validationIDErrors:s,modTemporaryCard:a,PIN:null})):this.setState({modTemporaryCard:a}),void 0!==m.ys[e]&&(s[e]=C.jr(m.ys[e],t),this.setState({validationIDErrors:s}))}catch(a){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on handleIDChange",a)}},this.handleDateTextChange=(e,t,a)=>{try{var s={...this.state.validationIDErrors},i=L().cloneDeep(this.state.modTemporaryCard);s[e]=a,i[e]=t,this.setState({validationIDErrors:s,modTemporaryCard:i})}catch(a){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on handleDateTextChange",a)}},this.handleAttributeDataChange=(e,t)=>{try{let a=[],s=L().cloneDeep(this.state.modAttributeMetaDataList),i=s.filter((t=>t.TerminalCode===e.TerminalCode));i.length>0&&Array.isArray(i[0].attributeMetaDataList)&&(a=i[0].attributeMetaDataList.filter((t=>t.Code===e.Code))),a.length>0&&(a[0].DefaultValue=t);const r=L().cloneDeep(this.state.attributeValidationErrors);r.forEach((a=>{a.TerminalCode===e.TerminalCode&&(a.attributeValidationErrors[e.Code]=C.I5(e,t))})),this.setState({attributeValidationErrors:r,modAttributeMetaDataList:s}),e.DataType!==l.IB.INT&&e.DataType!==l.IB.LONG&&e.DataType!==l.IB.FLOAT&&e.DataType!==l.IB.DOUBLE||(t=C.bo(t))}catch(a){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on handleAttributeDataChange",a)}},this.saveAccessCard=()=>{try{this.setState({saveEnabled:!1});let e=L().cloneDeep(this.state.tempTemporaryCard);null===e.CardStatus?this.createTemporaryCard(e):this.updateTemporaryCard(e)}catch(e){console.log("AutoAccessCardComposite : Error in saveAutoAccessCard")}},this.handleSave=()=>{try{let e=L().cloneDeep(this.state.modTemporaryCard),t=L().cloneDeep(this.state.modAttributeMetaDataList);if(e.Attributes=C.Gh(t),this.validateSave(e)){e=C.pC(x.S.AccessCard,e);let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,a=L().cloneDeep(e);this.setState({showAccessCardAuthenticationLayout:t,tempTemporaryCard:a},(()=>{!1===t&&this.saveAccessCard()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on handleSave",e)}},this.onFASCNBlur=()=>{this.validateFASCN()},this.handleReset=()=>{try{this.modifyReadByWorkflow();const e={...this.state.validationIDErrors},t=L().cloneDeep(this.state.temporaryCard);Object.keys(e).forEach((function(t){e[t]=""})),this.setState({modTemporaryCard:{...t},validationIDErrors:e},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?(this.terminalSelectionChange(this.state.modTemporaryCard.TerminalCodes),this.handleResetAttributeValidationError()):(this.localNodeAttribute(),this.handleResetAttributeValidationError())}))}catch(e){console.log("temporaryCardDetailsComposite:Error occured on handleReset",e)}},this.IssueAccessCard=()=>{if(this.setState({issueEnabled:!1}),this.validateIssue()){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showIssueAuthenticationLayout:e},(()=>{!1===e&&this.handleIssueID()}))}else this.setState({issueEnabled:!0})},this.handleIssueID=()=>{this.handleAuthenticationClose();try{this.initializeTheButtonEnable();let a=L().cloneDeep(this.state.modTemporaryCard);var e=[{key:N.aM,value:a.PIN},{key:N.f,value:a.EntityValue},{key:N.EW,value:a.EntityName},{key:N._n,value:a.CarrierCode}],t={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:e};let s={messageType:"critical",message:"AutoIDAssociation_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[a.PIN],isSuccess:!1,errorMessage:""}]};S()(D.U0v,C.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.modifyReadByWorkflow(),this.getAccessCard(a.PIN)):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in UpdatetemporaryCard:",t.ErrorList)),(0,y.toast)((0,d.jsx)(n.A,{children:(0,d.jsx)(I.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{s.messageResultDetails[0].errorMessage=e,(0,y.toast)((0,d.jsx)(n.A,{children:(0,d.jsx)(I.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}))}catch(a){console.log("AccessIDManagementDetailsComposite:Error occured on issueAccessCard",a)}},this.activateAccessCard=()=>{this.setState({activateEnable:!1});let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showActivateAuthenticationLayout:e},(()=>{!1===e&&this.handleActivateID()}))},this.handleActivateID=()=>{this.handleAuthenticationClose();try{this.initializeTheButtonEnable();let a=L().cloneDeep(this.state.modTemporaryCard);var e=[{key:N.aM,value:a.PIN}],t={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:e};let s={messageType:"critical",message:"AutoIDAssociation_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[a.PIN],isSuccess:!1,errorMessage:""}]};S()(D.wWc,C.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.modifyReadByWorkflow(),this.getAccessCard(a.PIN)):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in ActivatetemporaryCard:",t.ErrorList)),(0,y.toast)((0,d.jsx)(n.A,{children:(0,d.jsx)(I.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{s.messageResultDetails[0].errorMessage=e,(0,y.toast)((0,d.jsx)(n.A,{children:(0,d.jsx)(I.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}))}catch(a){console.log("AccessIDManagementDetailsComposite:Error occured on activateAccessCard",a)}},this.RevokeAccessCard=()=>{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showRevokeAuthenticationLayout:e},(()=>{!1===e&&this.handleRevoleID()}))},this.handleRevoleID=()=>{this.handleAuthenticationClose();try{this.initializeTheButtonEnable();let a=L().cloneDeep(this.state.modTemporaryCard);var e=[{key:N.aM,value:a.PIN},{key:N.f,value:a.EntityValue},{key:N.EW,value:a.EntityName},{key:N._n,value:a.CarrierCode}],t={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:e};let s={messageType:"critical",message:"AutoIDAssociation_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[a.PIN],isSuccess:!1,errorMessage:""}]};S()(D.dwH,C.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.modifyReadByWorkflow(),this.getAccessCard(a.PIN)):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in RevokeTemporaryCard:",t.ErrorList)),(0,y.toast)((0,d.jsx)(n.A,{children:(0,d.jsx)(I.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{s.messageResultDetails[0].errorMessage=e,(0,y.toast)((0,d.jsx)(n.A,{children:(0,d.jsx)(I.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}))}catch(a){console.log("AccessIDManagementDetailsComposite:Error occured on activateAccessCard",a)}},this.handleAuthenticationClose=()=>{this.setState({showAccessCardAuthenticationLayout:!1,showIssueAuthenticationLayout:!1,showRevokeAuthenticationLayout:!1,showActivateAuthenticationLayout:!1})}}initializeTheButtonEnable(){C.pJ(this.props.userDetails.EntityResult.IsArchived);var{issueEnabled:e}={...this.state},{activateEnable:t}={...this.state},{revokeEnable:a}={...this.state},{saveEnabled:s}={...this.state};e=C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.qp),t=C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.Mg),a=C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.f3),s=C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH),this.setState({issueEnabled:e,activateEnable:t,revokeEnable:a,saveEnabled:s})}componentDidMount(){try{this.initializeTheButtonEnable(),this.getCarrierCompanies(this.props.selectedShareholder),this.getEntityTypeList(this.props.selectedShareholder),this.getAttributes()}catch(e){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on componentDidMount",e)}}componentWillReceiveProps(e){try{if(0!==e.location.length){const{modTemporaryCard:t}=this.state;let a=null;t.PointName=e.location[0][3],a=e.location[0][3],this.setState({location:e.location[0],modTemporaryCard:t,PointName:a}),this.getEntityTypeList(this.props.selectedShareholder)}}catch(t){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on componentWillReceiveProps",t)}}getAttributes(){try{S()(D.fKH,C.tW([b.Sw],this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?(null!==t.EntityResult.accessCard&&void 0!==t.EntityResult.accessCard||(t.EntityResult.accessCard=[]),this.setState({attributeMetaDataList:L().cloneDeep(t.EntityResult.accessCard),attributeValidationErrors:C.Fl(t.EntityResult.accessCard)},(()=>{!1===this.props.userDetails.EntityResult.IsEnterpriseNode&&this.localNodeAttribute()}))):console.log("Failed to get Attributes")}))}catch(e){console.log("Error while getting Attributes:",e)}}getAccessCard(e){p.aJ.ShareholderCode=this.props.selectedShareholder;var t=e;if(void 0!==t){var a=[{key:N.aM,value:t}],s={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:a};S()(D.dxk,C.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{var a=e.data;if(!0===a.IsSuccess){let e=L().cloneDeep(a.EntityResult);if(null!==a.EntityResult.Password&&(e.Password=null),this.setState({temporaryCard:e,modTemporaryCard:e,saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH)},(()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?this.terminalSelectionChange(a.EntityResult.TerminalCodes):this.localNodeAttribute()})),null!==a.EntityResult.FASCN&&""!==a.EntityResult.FASCN){let e=L().cloneDeep(this.state.modTemporaryCard);e.ISTWICCARD=!0,this.setState(e)}}else{let e=L().cloneDeep(p.aJ);e.PIN=t,e.CardType="ELECTRONIC",this.setState({temporaryCard:L().cloneDeep(p.aJ),modTemporaryCard:e,saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH)},(()=>{!1===this.props.userDetails.EntityResult.IsEnterpriseNode&&this.localNodeAttribute()})),console.log("Error in GetAccessCard:",a.ErrorList)}this.getTWICEnabled(),this.getEntityCodesByCarrierAndEntityType(this.props.selectedShareholder)})).catch((e=>{console.log("Error while getting AccessCard:",e)}))}else this.setState({temporaryCard:L().cloneDeep(p.aJ),modTemporaryCard:L().cloneDeep(p.aJ),saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.add,g.uH)},(()=>{!1===this.props.userDetails.EntityResult.IsEnterpriseNode&&this.localNodeAttribute()}))}localNodeAttribute(){try{var e=L().cloneDeep(this.state.attributeMetaDataList);Array.isArray(e)&&e.length>0&&this.terminalSelectionChange([e[0].TerminalCode])}catch(t){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on localNodeAttribute",t)}}terminalSelectionChange(e){try{let i=[];var t=[],a=[];t=L().cloneDeep(this.state.attributeMetaDataList);const r=L().cloneDeep(this.state.attributeValidationErrors);var s=L().cloneDeep(this.state.modTemporaryCard);e.forEach((e=>{var r=a.find((t=>t.TerminalCode===e));void 0===r?t.forEach((function(t){if(t.TerminalCode===e){var a=s.Attributes.find((t=>t.TerminalCode===e));void 0!==a&&t.attributeMetaDataList.forEach((function(e){var t=a.ListOfAttributeData.find((t=>t.AttributeCode===e.Code));void 0!==t&&(e.DefaultValue=t.AttributeValue)})),i.push(t)}})):i.push(r)})),a=[],a=i,r.forEach((t=>{void 0===e.find((e=>t.TerminalCode===e))&&Object.keys(t.attributeValidationErrors).forEach((e=>t.attributeValidationErrors[e]=""))})),this.setState({modAttributeMetaDataList:a,attributeValidationErrors:r})}catch(i){console.log("AutoAccessIDAssociationDetailsComposite:Error occured on terminalSelectionChange",i)}}getTWICEnabled(){S()(D.h3M,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&this.setState({TWICEnabled:t.EntityResult})})).catch((e=>{console.log("Error while getting TWIC Enabled:",e)}))}getCarrierCompanies(e){S()(D.Zes+"?ShareholderCode="+e,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=[];null!==t.EntityResult?(Object.keys(t.EntityResult.Table2).forEach((a=>e.push(t.EntityResult.Table2[a].Code))),this.setState({carrierCompanies:e})):console.log("No carrierCompanies identified.")}else console.log("Error in GetAllCarrierListForRole:",t.ErrorList)})).catch((e=>{console.log("Error while getting Carrier List:",e)}))}getEntityTypeList(e){S()(D.ayU+"?ShareholderCode="+e,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess)if(null!==t.EntityResult){var a,s=t.EntityResult;void 0!==this.state.location[0]&&-1!==this.state.location[0].toLowerCase().indexOf("twic")&&(-1!==s.indexOf(l.eJ.PrimeMover)&&s.remove(l.eJ.PrimeMover),-1!==s.indexOf(l.eJ.RailWagon)&&s.remove(l.eJ.RailWagon),-1!==s.indexOf(l.eJ.Trailer)&&s.remove(l.eJ.Trailer),-1!==s.indexOf(l.eJ.Vehicle)&&s.remove(l.eJ.Vehicle)),a=s,this.setState({entityTypes:a})}else console.log("No entityTypes identified.");else console.log("Error in GetAllCarrierListForRole:",t.ErrorList)})).catch((e=>{console.log("Error while getting Carrier List:",e)}))}getEntityCodesByCarrierAndEntityType(e){const{modTemporaryCard:t}=this.state;null!==this.props.selectedShareholder&&void 0!==t.CarrierCode&&void 0!==t.EntityName&&S()(D.dW7+"?ShareholderCode="+e+"&CarrierCode="+t.CarrierCode+"&EntityType="+t.EntityName,C.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?null!==t.EntityResult?this.setState({entityValues:t.EntityResult}):console.log("No entityValues identified."):console.log("Error in entityValues:",t.ErrorList)})).catch((e=>{console.log("Error while getting entity code:",e)}))}componentWillUnmount(){this.timerStop()}readCardData(e){try{if(void 0!==e&&""!==e&&this.state.location.length>0&&null!==this.state.ReadStartTime){var t=[{key:N.tY,value:this.state.location[0]},{key:"ReadStartTime",value:this.state.ReadStartTime}],a={ShareholderCode:e,keyDataCode:N.aM,KeyCodes:t};S()(D.NL1,C.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?(null!==t.EntityResult&&(this.setState({cardReadTime:t.EntityResult.CardDetectionTime,CardNumber:t.EntityResult.CardNumber,isReadyToRender:!0,isShow:!1}),this.getAccessCard(this.state.CardNumber)),this.timerStop()):(this.setState({CardNumber:"",isReadyToRender:!0}),console.log("Error in ReadCardData:",t.ErrorList))})).catch((e=>{this.setState({CardNumber:"",isReadyToRender:!0}),console.log("Error while read card data:",e)}))}}catch(s){console.log("AutoAccessIDAssociationComposite:Error occured on readCardData",s)}}validateSave(e){var t=L().cloneDeep(this.state.validationIDErrors);Object.keys(m.ys).forEach((function(a){"FASCN"!==a&&(t[a]=C.jr(m.ys[a],e[a]))})),null!==e.ShareholderCode&&""!==e.ShareholderCode.trim()||(t.ShareholderCode="MarineReceipt_MandatoryShareholder"),!0===e.Locked&&(null!==e.Remarks&&""!==e.Remarks||(t.Remarks="AdditiveInjectorInfo_RemarkRequired"));var a=L().cloneDeep(this.state.attributeValidationErrors);L().cloneDeep(this.state.modAttributeMetaDataList).forEach((e=>{a.forEach((t=>{t.TerminalCode===e.TerminalCode&&e.attributeMetaDataList.forEach((e=>{t.attributeValidationErrors[e.Code]=C.I5(e,e.DefaultValue)}))}))})),this.setState({validationIDErrors:t,attributeValidationErrors:a});let s=!0;return a.forEach((e=>{if(!s)return s;s=Object.values(e.attributeValidationErrors).every((function(e){return""===e}))})),s?(s=Object.values(t).every((function(e){return""===e})),s):s}createTemporaryCard(e){e.ShareholderCode=this.props.selectedShareholder,e.CardStatus=l.vj.AVAILABLE,null!==this.state.PIN&&(e.PIN=this.state.PIN,e.LogicalPIN=this.state.PIN);var t=[{key:N.aM,value:e.PIN}],a={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:t,Entity:e},s={messageType:"critical",message:"AutoIDAssociation_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[e.PIN],isSuccess:!1,errorMessage:""}]};S()(D.NuF,C.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;s.messageType=a.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess?(this.modifyReadByWorkflow(),this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH),showAccessCardAuthenticationLayout:!1},(()=>this.getAccessCard(e.PIN)))):(s.messageResultDetails[0].errorMessage=a.ErrorList[0],this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.add,g.uH),showAccessCardAuthenticationLayout:!1}),console.log("Error in CreateTemporaryCard:",a.ErrorList)),this.props.onSaved(e,"add",s)})).catch((t=>{this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.add,g.uH),showAccessCardAuthenticationLayout:!1}),s.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"add",s)}))}updateTemporaryCard(e){e.ShareholderCode=this.props.selectedShareholder,e=C.pC(x.S.AccessCard,e);let t=[{key:N.aM,value:e.PIN}],a={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:t,Entity:e},s={messageType:"critical",message:"AutoIDAssociation_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_x_Title"],keyValues:[e.PIN],isSuccess:!1,errorMessage:""}]};S()(D.CSx,C.tW(a,this.props.tokenDetails.tokenInfo)).then((t=>{var a=t.data;s.messageType=a.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess?(this.modifyReadByWorkflow(),this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH),showAccessCardAuthenticationLayout:!1},(()=>this.getAccessCard(e.PIN)))):(s.messageResultDetails[0].errorMessage=a.ErrorList[0],this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH),showAccessCardAuthenticationLayout:!1}),console.log("Error in UpdatetemporaryCard:",a.ErrorList)),this.props.onSaved(e,"update",s)})).catch((t=>{s.messageResultDetails[0].errorMessage=t,this.props.onSaved(e,"modify",s),this.setState({saveEnabled:C.ab(this.props.userDetails.EntityResult.FunctionsList,g.i.modify,g.uH),showAccessCardAuthenticationLayout:!1})}))}validateFASCN(){const e=L().cloneDeep(this.state.modTemporaryCard),t=L().cloneDeep(this.state.validationIDErrors);if(!1===e.ISTWICCARD)return t.FASCN="",void this.setState({validationIDErrors:t});var a=e.FASCN;if(void 0!==a){var s=[{key:"FASCN",value:a}],i={ShareholderCode:this.props.selectedShareholder,keyDataCode:N.aM,KeyCodes:s},r={messageType:"critical",message:"AutoIDAssociation_SavedStatus",messageResultDetails:[{keyFields:["AccessCardInfo_FASCN"],keyValues:[a],isSuccess:!1,errorMessage:""}]};this.setState({saveEnabled:!1}),S()(D.Ua8,C.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var a=e.data;if(r.messageType=a.IsSuccess?"success":"critical",r.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess)return this.setState({PIN:a.EntityResult,saveEnabled:!0}),!0;t.FASCN="AccessCardInfo_InvalidFASCN",this.setState({validationIDErrors:t,saveEnabled:!0})})).catch((e=>{console.log("Error while validateFASCN:",e)}))}}handleResetAttributeValidationError(){try{var e=L().cloneDeep(this.state.attributeMetaDataList);this.setState({attributeValidationErrors:C.Fl(e)})}catch(t){console.log("AccessIDManagementDetailsComposite:Error occured on handleResetAttributeValidationError",t)}}validateIssue(){const{modTemporaryCard:e}=this.state;var t=L().cloneDeep(this.state.validationSectionErrors);return Object.keys(m.R2).forEach((function(a){"CarrierCode"!==a&&(t[a]=C.jr(m.R2[a],e[a]))})),this.setState({validationSectionErrors:t}),Object.values(t).every((function(e){return""===e}))}getFunctionGroupName(){return this.state.showAccessCardAuthenticationLayout?g.uH:this.state.showIssueAuthenticationLayout?g.qp:this.state.showRevokeAuthenticationLayout?g.f3:this.state.showActivateAuthenticationLayout?g.Mg:void 0}getAddorEditMode(){return this.state.showAccessCardAuthenticationLayout&&""===this.state.temporaryCard.PIN?g.i.add:g.i.modify}handleOperation(){return this.state.showAccessCardAuthenticationLayout?this.saveAccessCard:this.state.showIssueAuthenticationLayout?this.handleIssueID:this.state.showRevokeAuthenticationLayout?this.handleRevoleID:this.state.showActivateAuthenticationLayout?this.handleActivateID:void 0}render(){const e={carrierCompanies:this.state.carrierCompanies,entityTypes:this.state.entityTypes,entityValues:this.state.entityValues};let t=null;try{t=[{fieldName:"AccessCardList_LastUpdated",fieldValue:new Date(this.state.modTemporaryCard.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modTemporaryCard.LastUpdatedTime).toLocaleTimeString()},{fieldName:"AccessCardInfo_CreatedTime",fieldValue:new Date(this.state.modTemporaryCard.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modTemporaryCard.CreatedTime).toLocaleTimeString()},{fieldName:"TemporaryCard_CardSwipeTime",fieldValue:void 0!==this.state.cardReadTime&&null!==this.state.cardReadTime?new Date(this.state.cardReadTime).toLocaleDateString()+" "+new Date(this.state.cardReadTime).toLocaleTimeString():""}]}catch(o){console.log(o)}let a="TemporaryCard_ShowCard"+l.uV+this.state.location[0];function s(e){try{return e.split(l.uV)[0]}catch(o){return console.log(o),""}}function i(e){try{let t=e.split(l.uV);return t.splice(0,1),t}catch(o){return console.log(o),[]}}return(0,d.jsxs)("div",{children:[(0,d.jsx)(n.A,{children:(0,d.jsx)(r.TranslationConsumer,{children:e=>(0,d.jsx)("div",{className:"autoHeaderContainer",children:this.state.defaultShow?(0,d.jsx)("h3",{children:e("TemporaryCard_SelectLocationForCard")}):this.state.isShow?(0,d.jsx)("h3",{children:e(s(a),i(a))}):""})})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(v.A,{newEntityName:"TemporaryCard_LocationDetails"})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(u,{handleSetLocation:this.props.onSetLocation,location:this.state.location})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(v.A,{entityCode:this.state.temporaryCard.PIN,newEntityName:"AccessCardList_x_AccessCardDetails",popUpContents:t})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(h,{temporaryCard:this.state.temporaryCard,modTemporaryCard:this.state.modTemporaryCard,validationErrors:this.state.validationIDErrors,saveEnabled:this.state.saveEnabled,onFieldChange:this.handleIDChange,onDateTextChange:this.handleDateTextChange,handleShowCard:this.handleShowCard,handleSave:this.handleSave,handleReset:this.handleReset,location:this.state.location,TWICEnabled:this.state.TWICEnabled,isValidateFASCN:this.onFASCNBlur,isFASCNShow:this.state.isFASCNShow,modAttributeMetaDataList:this.state.modAttributeMetaDataList,attributeValidationErrors:this.state.attributeValidationErrors,onAttributeDataChange:this.handleAttributeDataChange,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(v.A,{newEntityName:"AccessCardInfo_DetailsSection"})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(E,{temporaryCard:this.state.temporaryCard,modTemporaryCard:this.state.modTemporaryCard,validationErrors:this.state.validationSectionErrors,listOptions:e,onFieldChange:this.handleSectionChange,handleIssueID:this.IssueAccessCard,handleRevoleID:this.RevokeAccessCard,handleActivateID:this.activateAccessCard,issueEnabled:this.state.issueEnabled,activateEnable:this.state.activateEnable,revokeEnable:this.state.revokeEnable})}),this.state.showAccessCardAuthenticationLayout||this.state.showIssueAuthenticationLayout||this.state.showRevokeAuthenticationLayout||this.state.showActivateAuthenticationLayout?(0,d.jsx)(f.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:this.getAddorEditMode(),functionGroup:this.getFunctionGroupName(),handleOperation:this.handleOperation(),handleClose:this.handleAuthenticationClose}):null]})}}let M;const j=(0,T.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(P)},43503:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(67907),i=a(72711),r=a(70579);function o(e){let{entityCode:t,newEntityName:a,popUpContents:o}=e;return(0,r.jsx)(s.TranslationConsumer,{children:e=>(0,r.jsx)("div",{className:"headerContainer",children:(0,r.jsxs)("div",{className:"row headerSpacing",children:[(0,r.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,r.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(a):t})}),""!==t&&void 0!==t&&o.length>0?(0,r.jsx)("div",{className:"headerItemRight",children:(0,r.jsx)(i.Popup,{element:(0,r.jsxs)("div",{children:[e(o[0].fieldName)+" ",":"," "+o[0].fieldValue,(0,r.jsx)(i.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,r.jsx)(i.List,{className:"detailsHeaderPopUp",children:o.map((t=>(0,r.jsxs)(i.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}o.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const l=o},85800:(e,t,a)=>{a.d(t,{n:()=>n});a(65043);var s=a(72711),i=a(67907),r=a(7523),o=a(35861),l=a(70579);function n(e){let{selectedAttributeList:t,handleCellDataEdit:a,attributeValidationErrors:n}=e;const c=e=>{if("0000-00-00"===e.DefaultValue)return d(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},d=(e,t)=>{var s=new Date(t);t=s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2),a(e,t)};return(0,l.jsx)(i.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,l.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===r.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(n[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==r.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==r.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==r.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===r.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(s.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>a(t,e)})}):t.DataType.toLowerCase()===r.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(s.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":c(t),label:e(t.DisplayName),displayFormat:(0,o.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>d(t,e),onTextChange:e=>{d(t,e)},error:e(n[t.Code]),reserveSpace:!1})}):null:(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(n[t.Code]),reserveSpace:!1})}):(0,l.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,l.jsx)(s.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>a(t,e),error:e(n[t.Code]),reserveSpace:!1})})))})})})})}},15417:(e,t,a)=>{a.d(t,{$7:()=>x,AN:()=>ae,AU:()=>L,Ak:()=>Be,Ao:()=>s,B6:()=>Z,C4:()=>Ve,CG:()=>Y,Ct:()=>q,Cw:()=>w,EY:()=>g,G$:()=>Ze,G6:()=>Xe,GF:()=>Ce,GJ:()=>k,Gj:()=>he,Gl:()=>re,H9:()=>Ke,HB:()=>Re,HP:()=>N,Hr:()=>ge,II:()=>it,IQ:()=>S,Jr:()=>U,Jx:()=>Ae,Ki:()=>te,LP:()=>ie,Lv:()=>r,MK:()=>I,MX:()=>ee,Mx:()=>J,N4:()=>je,NH:()=>ye,OF:()=>Qe,Ps:()=>H,Q7:()=>qe,QY:()=>V,SF:()=>o,Sq:()=>ve,Sw:()=>le,TQ:()=>$,U7:()=>R,UH:()=>p,UO:()=>oe,V_:()=>fe,Vy:()=>Fe,W9:()=>ce,WN:()=>A,Wr:()=>i,Ww:()=>X,XP:()=>be,Xk:()=>K,Yb:()=>Te,Yy:()=>E,Z2:()=>ke,ZN:()=>P,ZO:()=>De,Zu:()=>Ue,_G:()=>G,_N:()=>h,_u:()=>de,ad:()=>ne,al:()=>Se,ao:()=>F,bK:()=>B,bN:()=>y,cf:()=>M,dO:()=>xe,dU:()=>C,dv:()=>l,eE:()=>z,g:()=>v,gG:()=>n,gS:()=>Le,gT:()=>at,gW:()=>Q,gZ:()=>$e,go:()=>b,gp:()=>_,hq:()=>Me,i6:()=>et,ip:()=>ue,k9:()=>m,kI:()=>D,l4:()=>we,l5:()=>T,lA:()=>j,lU:()=>Ye,mD:()=>_e,mY:()=>O,mq:()=>c,n$:()=>st,n7:()=>u,nZ:()=>Pe,rA:()=>Oe,s$:()=>He,s8:()=>We,se:()=>Ie,tA:()=>Ne,vK:()=>tt,vs:()=>pe,w2:()=>ze,w4:()=>me,wT:()=>d,wY:()=>f,wf:()=>Ee,wk:()=>se,xW:()=>W,yM:()=>Ge,yO:()=>Je});const s="driver",i="carriercompany",r="shareholder",o="baseProduct",l="TRAILER",n="TRAILERCOMPARTMENT",c="terminal",d="customer",h="destination",u="finishedproduct",C="tank",E="marine_vessel",m="marine_trailercompartment",p="supplier",I="vehicle",y="vehicletrailer",A="originterminal",S="bay",D="loadingArm",T="cardreader",v="vehicleprimemover",N="meter",g="SHIPMENT",R="SHIPMENTCOMPARTMENT",L="SHIPMENTDESTINATIONCOMPARTMENT",b="SHIPMENTDETAILS",f="SHIPMENTTRAILERWEIGHBRIDGE",x="SHIPMENTTRAILER",P="SHIPMENTSTATUSTIME",M="MARINEDISPATCH",j="MARINEDISPATCHCOMPARTMENTDETAIL",k="railwagon",w="primemover",O="bcu",V="RAILRECEIPTPLAN",H="RAILRECEIPTWAGONDETAILPLAN",F="RAILUNLOADINGDETAILSFP",_="RAILUNLOADINGDETAILSBP",W="RAILUNLOADINGDETAILSADDITIVE",U="RAILDISPATCHPLAN",B="RAILDISPATCHITEM",G="RAILDISPATCHSTATUSCHANGE",J="RAILDISPATCHWAGON",q="RAILDISPATCHWAGONDETAILPLAN",K="RAILDISPATCHWAGONWEIGHBRIDGE",Z="RAILDISPATCHWAGONCOMPARTMENT",z="RAILLOADINGDETAILSFP",Y="RAILLOADINGDETAILSBP",Q="RAILLOADINGDETAILSADDITIVE",X="marineReceipt",$="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",ae="marineLoadingDetailsAdditive",se="marineLoadingDetailsBP",ie="marineReceiptCompartmentDetail",re="marineUnloadingDetailsFP",oe="marineUnloadingDetailsBP",le="accessCard",ne="LOADINGDETAILSFP",ce="LOADINGDETAILSBP",de="LOADINGDETAILSADDITIVE",he="MARINERECEIPTSTATUSTIME",ue="MARINEDISPATCHSTATUSTIME",Ce="RECEIPT",Ee="UNLOADINGTRANSACTIONS",me="ORDER",pe="ORDERITEM",Ie="CONTRACT",ye="CONTRACT_ITEM",Ae="RECEIPTORIGINTERMINALCOMPARTMENT",Se="GeneralTMUser_CAPTAIN",De="weighbridge",Te="deu",ve="GeneralTMUser_STAFF",Ne="GeneralTMUser_VISITOR",ge="PIPELINEHEADER",Re="SEALMASTER",Le="PIPELINERECEIPT",be="ROADSHIPMENTSLOTINFO",fe="ROADRECEIPTSLOTINFO",xe="MARINESHIPMENTSLOTINFO",Pe="MARINERECEIPTSLOTINFO",Me="PIPELINEDISPATCH",je="PIPELINETRANSACTIONS",ke="PIPELINEDISPATCHSTATUSTIME",we="PIPELINERECEIPTSTATUSTIME",Oe="PROCESSCONFIG",Ve="PRODUCTALLOCATIONITEM",He="HSEINSPECTIONSHIPMENTRIGIDTRUCK",Fe="HSEINSPECTIONSHIPMENTTRAILER",_e="HSEINSPECTIONSHIPMENTPRIMEMOVER",We="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Ue="HSEINSPECTIONMARINESHIPMENTBARGE",Be="HSEINSPECTIONMARINESHIPMENTSHIP",Ge="HSEINSPECTIONSHIPMENTRAILWAGON",Je="HSEINSPECTIONSHIPMENTPIPELINE",qe="HSEINSPECTIONRECEIPTRIGIDTRUCK",Ke="HSEINSPECTIONRECEIPTTRAILER",Ze="HSEINSPECTIONRECEIPTPRIMEMOVER",ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",Ye="HSEINSPECTIONMARINERECEIPTBARGE",Qe="HSEINSPECTIONMARINERECEIPTSHIP",Xe="HSEINSPECTIONRECEIPTRAILWAGON",$e="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",at="COAMANAGEMENT",st="COACUSTOMER",it="COAASSIGNMENT"},97105:(e,t,a)=>{a.d(t,{S:()=>s});const s={Driver:["License1ExpiryDate","License1IssueDate","License2IssueDate","License2ExpiryDate","License3IssueDate","License3ExpiryDate","HazardousLicenseExpiry"],CarrierCompany:["PermitExpiryDate"],PrimeMover:["RoadTaxNoIssueDate","RoadTaxNoExpiryDate","licenseExpiryDate"],Wagon:["LicenseExpiryDate"],Vehicle:["LicenseNoIssueDate","LicenseNoExpiryDate","RoadTaxNoIssueDate","RoadTaxNoExpiryDate","Bondexpirydate","HazardousLicenseExpiry"],Contract:["StartDate","EndDate"],ContractItem:["StartDate","EndDate"],Order:["OrderStartDate","OrderEndDate","OrderDate","DeliveryDate"],AccessCard:["ExpiryDate","IssueDate","PasswordExpiryDate"],Trailer:["HazardousLicenseExpiry"]}},35861:(e,t,a)=>{a.d(t,{F1:()=>l,i7:()=>n,r4:()=>o});var s=a(86178),i=a.n(s),r=(a(15660),a(65043),a(70579));function o(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function l(){let e=window.navigator.userLanguage||window.navigator.language;return i().locale(e),i().localeData().longDateFormat("L")}function n(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}}}]);
//# sourceMappingURL=5683.a7018c85.chunk.js.map