(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[4447,8149,5841,8222],{13255:(e,t,s)=>{"use strict";s.d(t,{B:()=>l});s(65043);var i=s(72711),n=s(67907),o=s(65187),r=s(69062),a=(s(38726),s(70579));function l(e){let{operationsVisibilty:t,breadcrumbItem:s,terminals:l,selectedTerminal:c,onTerminalChange:h,handleBreadCrumbClick:d}=e;return(0,a.jsxs)("div",{className:"row",style:{marginTop:"10px"},children:[(0,a.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-5 col-xl-7",children:(0,a.jsxs)(o.A,{children:[" ",(0,a.jsx)(n.TranslationConsumer,{children:e=>(0,a.jsxs)(i.Breadcrumb,{children:[s.parents.map((t=>(0,a.jsx)(i.Breadcrumb.Item,{onClick:()=>d(t.itemCode,s.parents),children:e(t.localizedKey)},t.itemCode))),(0,a.jsx)(i.Breadcrumb.Item,{children:e(s.localizedKey)},s.itemCode)]})})]})}),(0,a.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-7 col-xl-5",children:(0,a.jsx)(n.TranslationConsumer,{children:e=>(0,a.jsxs)("div",{className:"compartmentIcon",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("h4",{className:"shrText",children:[e("Common_Terminal"),":"]})}),(0,a.jsx)("div",{className:"opSelect",children:(0,a.jsx)(i.Select,{placeholder:e("Common_Terminal"),value:c,disabled:!t.terminal,options:r.Zj(l),onChange:e=>h(e)})})]})})})]})}l.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},terminals:[],selectedTerminal:""}},62900:(e,t,s)=>{"use strict";s.d(t,{A:()=>S});var i=s(65043),n=s(67907),o=s(72711),r=s(72067),a=s(69062),l=s(97508),c=s(44192),h=s(40854),d=s.n(h),p=s(53536),m=s.n(p),u=s(86111),T=s.n(u),g=s(70579);class C extends i.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:a.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const s=m().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(s[e]=a.jr(c.Qh[e],t),this.setState({validationErrors:s,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var s=!0;return s&&(s=Object.values(t).every((function(e){return""===e}))),s},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,s=T().lib.WordArray.random(16),i=T().PBKDF2(t,s,{keySize:8,iterations:100}),n=T().lib.WordArray.random(16),o=T().AES.encrypt(e,i,{iv:n,padding:T().pad.Pkcs7,mode:T().mode.CBC}),l=s.toString()+n.toString()+o.toString();d()(r.KrY+"?encryptedPassword="+encodeURIComponent(l),a.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=a.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,g.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,g.jsx)(n.TranslationConsumer,{children:e=>(0,g.jsxs)(o.Modal,{open:!0,size:"mini",children:[(0,g.jsxs)(o.Modal.Content,{children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,g.jsx)("h4",{children:e("User_Authentication")})}),(0,g.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,g.jsx)(o.Icon,{root:"common",name:"close"})})]}),(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,g.jsx)("div",{className:"col col-lg-12",children:(0,g.jsx)("label",{children:(0,g.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,g.jsx)("div",{className:"col col-lg-12",children:(0,g.jsx)(o.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,g.jsxs)(o.Modal.Footer,{children:[(0,g.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,g.jsx)(o.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const S=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(C)},14091:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var i=s(65043),n=s(13255),o=s(8058),r=s(60446),a=s.n(r),l=s(20199),c=s(67907),h=s(70579);class d extends i.Component{constructor(){super(...arguments),this.state={}}render(){return"slotSummaryBlockWindowClosed"===this.props.slotBlockType?(0,h.jsx)(c.TranslationConsumer,{children:e=>(0,h.jsxs)("div",{className:this.props.slotBlockType,children:[(0,h.jsx)("div",{className:"slotBlockDateDiv",children:(0,h.jsx)("span",{className:"slotBlockDateSpan",children:this.props.date.get("date")})}),(0,h.jsx)("div",{className:"slotBlockBookingsDiv",children:(0,h.jsxs)("span",{className:"slotBlockBookingsSpan",children:[e("SlotBookingWindow")," ",this.props.date.subtract(this.props.bookingWindow,"day").format("DD MMM")]})})]})}):(0,h.jsx)(c.TranslationConsumer,{children:e=>(0,h.jsxs)("div",{className:this.props.slotBlockType,onClick:()=>this.props.onslotBlockClik(this.props.date),children:[(0,h.jsx)("div",{className:"slotBlockDateDiv",children:(0,h.jsx)("span",{className:"slotBlockDateSpan",children:this.props.date.get("date")})}),(0,h.jsx)("div",{className:"slotBlockBookingsDiv",children:(0,h.jsxs)("span",{className:"slotBlockBookingsSpan",children:[this.props.slotObject.BookingsDone," ",e("SlotBookingsDone")]})}),"slotSummaryBlockOlderDate"===this.props.slotBlockType?(0,h.jsx)("div",{className:"slotBlockLoadingsDiv",children:(0,h.jsxs)("span",{className:"slotBlockLoadingsSpan",children:[this.props.slotObject.LoadingsDone," ",e("SlotLoadingsDone")]})}):(0,h.jsx)("div",{className:"slotBlockAvailableDiv",children:(0,h.jsxs)("span",{className:"slotBlockAvailableSpan",children:[this.props.slotObject.AvailableSlots," ",e("SlotsAvailable")]})})]})})}}const p=d;var m=s(72711),u=s(65187),T=s(40252),g=s(7523);class C extends i.Component{constructor(){super(...arguments),this.state={}}getOperationalHours(){let e="",t=this.props.slotConfigurations.filter((e=>e.TerminalCode===this.props.terminal.Code));if(t.length>0){let s=t[0].SlotParams.filter((e=>"SlotStartTime"===e.Name));s.length>0&&(e+=s[0].Value),s=t[0].SlotParams.filter((e=>"SlotEndTime"===e.Name)),e+=" - ",s.length>0&&(e+=s[0].Value)}return e}getslotBlockObject(e,t){let s=t.filter((t=>t.SlotDate===e.format("YYYY-MM-DD")));return s.length>0?s[0]:null}getSlotBlockType(e,t,s){let i=this.getslotBlockObject(e,t),n="slotSummaryBlock",o=-1*(new Date).getTimezoneOffset()-this.props.terminal.TimeZone,r=a()().subtract(o,"minute"),l=a()();return n=a()(i.SlotEndTime).isBefore(l)?"slotSummaryBlockOlderDate":a()(i.SlotDate).diff(r,"day")>=s?"slotSummaryBlockWindowClosed":"slotSummaryBlock",n}getSlotSummaryLayout(e,t,s){if(e)return(0,h.jsx)(T.A,{loadingClass:"nestedList",message:""});if(t.length>0){let e=7,s=this.props.slotConfigurations.filter((e=>e.TerminalCode===this.props.terminal.Code));if(s.length>0){let t=s[0].SlotParams.filter((e=>"AdvanceSlotBookMaxDays"===e.Name));t.length>0&&(e=t[0].Value)}let i=this.props.selectedDate;i=i.set("date",1),i=i.set("hour",0),i=i.set("minute",0),i=i.set("second",0),i=i.set("millisecond",0);let n=i.day(),o=i.daysInMonth(),r=[],c=[];a().extend(l);let d=a().weekdays(),m=i.set("month",i.month()-1).daysInMonth();for(let t=0;t<n;++t)c.push(m-n+t+1);for(let t=1;t<=o;++t)r.push({date:i.set("date",t)});return(0,h.jsxs)("div",{className:"tableScroll",children:[(0,h.jsx)("div",{className:"slotBlocksDispalyTablet",children:(0,h.jsx)("div",{className:"slotBlocksDispaly",children:d.map((e=>(0,h.jsx)("div",{style:{width:"14%",textAlign:"center"},children:(0,h.jsx)("span",{children:e})})))})}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"slotSummaryTable",children:[c.map((e=>(0,h.jsx)("div",{className:"slotSummaryEmptyTableBlock",children:(0,h.jsx)("div",{className:"slotSummaryEmptyBlock"})}))),r.map((s=>(0,h.jsx)("div",{className:"slotSummaryFilledTableBlock",children:(0,h.jsx)(u.A,{children:(0,h.jsx)(p,{date:s.date,slotObject:this.getslotBlockObject(s.date,t),slotBlockType:this.getSlotBlockType(s.date,t,e),bookingWindow:e,onslotBlockClik:this.props.onslotBlockClik})})})))]})})]})}return(0,h.jsx)(c.TranslationConsumer,{children:e=>(0,h.jsx)("div",{children:s===g.Mv.SHIPMENT?e("ShipmentSlotSummaryEmpty"):e("ReceiptSlotSummaryEmpty")})})}getTabControl(){return this.props.operationsVisibilty.shipments&&this.props.operationsVisibilty.receipts?(0,h.jsx)(c.TranslationConsumer,{children:e=>(0,h.jsxs)(m.Tab,{activeIndex:this.props.defaultTabIndex,onTabChange:e=>{this.props.onTabChange(e)},children:[(0,h.jsx)(m.Tab.Pane,{title:e("Common_Shipments"),children:this.getSlotSummaryLayout(this.props.isShipmentsRefreshing,this.props.shipmentsSummary,g.Mv.SHIPMENT)}),(0,h.jsx)(m.Tab.Pane,{title:e("Common_Receipts"),children:this.getSlotSummaryLayout(this.props.isReceiptsRefreshing,this.props.receiptsSummary,g.Mv.RECEIPT)})]})}):this.props.operationsVisibilty.shipments?(0,h.jsx)(c.TranslationConsumer,{children:e=>(0,h.jsx)(m.Tab,{activeIndex:this.props.defaultTabIndex,onTabChange:e=>{this.props.onTabChange(e)},children:(0,h.jsx)(m.Tab.Pane,{title:e("Common_Shipments"),children:this.getSlotSummaryLayout(this.props.isShipmentsRefreshing,this.props.shipmentsSummary,g.Mv.SHIPMENT)})})}):this.props.operationsVisibilty.receipts?(0,h.jsx)(c.TranslationConsumer,{children:e=>(0,h.jsx)(m.Tab,{activeIndex:this.props.defaultTabIndex,onTabChange:e=>{this.props.onTabChange(e)},children:(0,h.jsx)(m.Tab.Pane,{title:e("Common_Receipts"),children:this.getSlotSummaryLayout(this.props.isReceiptsRefreshing,this.props.receiptsSummary,g.Mv.RECEIPT)})})}):void 0}render(){let e=this.props.selectedDate;return(0,h.jsx)(c.TranslationConsumer,{children:t=>(0,h.jsxs)("div",{className:"slotSummaryPane",children:[(0,h.jsxs)("div",{className:"row lightBackground",children:[(0,h.jsx)("div",{className:"col-12 col-md-7 col-lg-8 slotDateColHeader",children:(0,h.jsxs)("div",{className:"slotBlocksDispaly",children:[(0,h.jsx)("div",{children:(0,h.jsx)(m.Icon,{onClick:()=>this.props.onDateChange("month",-1),style:{cursor:"pointer"},root:"common",name:"double-caret-left",exactSize:24})}),(0,h.jsx)("div",{className:"slotDateSpan",children:(0,h.jsx)("span",{children:e.format("DD-MMM-YYYY")})}),(0,h.jsx)("div",{children:(0,h.jsx)(m.Icon,{onClick:()=>this.props.onDateChange("month",1),style:{cursor:"pointer"},root:"common",name:"double-caret-right",exactSize:24})})]})}),(0,h.jsx)("div",{className:"col-12 col-md-5 col-lg-4 below-text",style:{textAlign:"right"},children:(0,h.jsxs)("span",{className:"ui error-message",children:[this.props.terminal.Code," ",t("SlotOpHours"),this.getOperationalHours()]})})]}),this.getTabControl()]})})}}const S=C;var f=s(40854),I=s.n(f),E=s(69062),y=(s(63973),s(72067)),R=s(97508),A=s(53536),P=s.n(A),N=s(14159),D=(s(92342),s(11981)),v=s(80312),M=s(15417);class b extends i.Component{constructor(){super(...arguments),this.refreshTimer=null,this.state={operationsVisibilty:{add:!1,modify:!1,cancel:!1,shipments:!1,receipts:!1,terminal:!0},isDetails:!1,selectedTerminal:{Key:{Code:""},Value:[]},terminals:[],shipmentsSummary:[],receiptsSummary:[],selectedDate:a()().set("hour",0).set("minute",0).set("second",0).set("millisecond",0),currentTabIndex:0,isShipmentsRefreshing:!0,isReceiptsRefreshing:!0,slotConfigurations:[],attributeMetaDataList:[]},this.startRefreshTimer=()=>{let e=5;try{let t=this.state.slotConfigurations.filter((e=>e.TerminalCode===this.state.selectedTerminal.Key.Code));if(t.length>0&&t[0].SlotParams.length>0){let s=t[0].SlotParams.filter((e=>"RefreshInterval"===e.Name));s.length>0&&(e=s[0].Value)}}catch(t){console.log("Unable to fetch refresh Interval",t)}this.refreshTimer=setInterval((()=>{this.getTransactionsSummary(g.Mv.SHIPMENT),this.getTransactionsSummary(g.Mv.RECEIPT)}),60*e*1e3)},this.stopRefreshTimer=()=>{null!==this.refreshTimer&&clearInterval(this.refreshTimer)},this.handleDateChange=(e,t)=>{try{let s=this.state.selectedDate,i=this.state.isDetails;s=s.add(t,e),!1===i?this.setState({selectedDate:s,isShipmentsRefreshing:!0,isReceiptsRefreshing:!0},(()=>{this.stopRefreshTimer(),this.getTransactionsSummary(g.Mv.SHIPMENT),this.getTransactionsSummary(g.Mv.RECEIPT),this.startRefreshTimer()})):this.setState({selectedDate:s})}catch(s){console.log("SlotBookComposite:Error occured on handleDateChange",s)}},this.handleTerminalChange=e=>{try{let t=this.state.terminals.filter((t=>t.Key.Code===e)),s=this.state.slotConfigurations.filter((t=>t.TerminalCode===e));t.length>0&&this.setState({selectedTerminal:t[0],isShipmentsRefreshing:!0,isReceiptsRefreshing:!0},(()=>{if(this.stopRefreshTimer(),s.length>0&&s[0].SlotParams.length>0)this.getTransactionsSummary(g.Mv.SHIPMENT),this.getTransactionsSummary(g.Mv.RECEIPT),this.startRefreshTimer();else{let e={messageType:"critical",message:"SlotConfigurationsEmpty",messageResultDetails:[]};this.setState({isShipmentsRefreshing:!1,isReceiptsRefreshing:!1,shipmentsSummary:[],receiptsSummary:[]}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4})}}))}catch(t){console.log("SlotBookComposite:Error occured on handleTerminalChange",t)}},this.handleSlotBlockClick=e=>{try{let t=P().cloneDeep(this.state.operationsVisibilty);t.terminal=!1,this.setState({selectedDate:e,isDetails:!0,operationsVisibilty:t}),this.stopRefreshTimer()}catch(t){console.log("SlotBookComposite:Error occured on handleTerminalChange",t)}},this.handleBackClick=()=>{let e=P().cloneDeep(this.state.operationsVisibilty);e.terminal=!0,this.setState({isDetails:!1,isShipmentsRefreshing:!0,isReceiptsRefreshing:!0,operationsVisibilty:e}),this.stopRefreshTimer(),this.getTransactionsSummary(g.Mv.SHIPMENT),this.getTransactionsSummary(g.Mv.RECEIPT),this.startRefreshTimer()},this.handleTabChange=e=>{this.setState({currentTabIndex:e})}}getAttributesMetaData(){try{let e=this.getTransportationType(),t=[];e===g.LY.ROAD?t=[M.XP,M.V_]:e===g.LY.MARINE&&(t=[M.dO,M.nZ]),I()(y.fKH,E.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({attributeMetaDataList:P().cloneDeep(t.EntityResult)}):console.log("Error in getAttributes:")}))}catch(e){console.log("Error while getAttributes:",e)}}getInitialConfigurations(){this.getTerminals()}getTerminals(){let e={messageType:"critical",message:"TerminalList_NotAvailable",messageResultDetails:[]};I()(y.sL3+"0",E.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;!0===s.IsSuccess&&Array.isArray(s.EntityResult)&&s.EntityResult.length>0?this.setState({terminals:s.EntityResult,selectedTerminal:s.EntityResult[0]},(()=>this.getSlotConfigurations())):(this.setState({isReceiptsRefreshing:!1,isShipmentsRefreshing:!1}),console.log("Error while getting Terminal List:",s),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4}))})).catch((t=>{this.setState({isReceiptsRefreshing:!1,isShipmentsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4}),console.log("Error while getting Terminal List:",t)}))}getTransportationType(){var e=g.LY.ROAD;const{itemProps:t}=this.props.activeItem;return void 0!==t&&void 0!==t.transportationType&&(e=t.transportationType),e}getSlotConfigurations(){let e={messageType:"critical",message:"SlotConfigurationsEmpty",messageResultDetails:[]};I()(y.OCt+this.getTransportationType(),E.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{var s=t.data;!0===s.IsSuccess&&Array.isArray(s.EntityResult)&&s.EntityResult.length>0?this.setState({slotConfigurations:s.EntityResult},(()=>{s.EntityResult[0].SlotParams.length>0?(this.stopRefreshTimer(),this.getTransactionsSummary(g.Mv.SHIPMENT),this.getTransactionsSummary(g.Mv.RECEIPT),this.startRefreshTimer()):(this.setState({isReceiptsRefreshing:!1,isShipmentsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4}))})):(this.setState({isReceiptsRefreshing:!1,isShipmentsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4}),console.log("Error while getting getSlotConfigurations:",s))})).catch((t=>{this.setState({isReceiptsRefreshing:!1,isShipmentsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:e})}),{autoClose:"success"===e.messageType&&1e4}),console.log("Error while getting getSlotConfigurations:",t)}))}getslotSummary(e){let t={messageType:"critical",message:e.TransactionSource===g.Mv.SHIPMENT?"ShipmentSlotSummaryEmpty":"ReceiptSlotSummaryEmpty",messageResultDetails:[]};I()(y.GOe,E.tW(e,this.props.tokenDetails.tokenInfo)).then((s=>{let i=s.data;!0===i.IsSuccess&&Array.isArray(i.EntityResult.Table)&&i.EntityResult.Table.length>0?e.TransactionSource===g.Mv.SHIPMENT?this.setState({shipmentsSummary:i.EntityResult.Table,isShipmentsRefreshing:!1}):this.setState({receiptsSummary:i.EntityResult.Table,isReceiptsRefreshing:!1}):(e.TransactionSource===g.Mv.SHIPMENT?this.setState({isShipmentsRefreshing:!1}):this.setState({isReceiptsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4}),console.log("Error while getting getSlotSummary:",i))})).catch((s=>{e.TransactionSource===g.Mv.SHIPMENT?this.setState({isShipmentsRefreshing:!1}):this.setState({isReceiptsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4}),console.log("Error while getting getSlotSummary:",s)}))}getTransactionsSummary(e){if(e===g.Mv.SHIPMENT?this.state.operationsVisibilty.shipments:this.state.operationsVisibilty.receipts){let t=this.state.selectedDate,s=this.state.selectedTerminal.Key.Code;if(this.state.slotConfigurations.filter((e=>e.TerminalCode===s)).length>0){let i={TerminalCode:s,TransportationType:this.getTransportationType(),TransactionSource:e,Month:t.get("month")+1,Year:t.get("year")};this.getslotSummary(i)}else{let t={messageType:"critical",message:"SlotConfigurationsEmpty",messageResultDetails:[]};e===g.Mv.SHIPMENT?this.setState({isShipmentsRefreshing:!1}):this.setState({isReceiptsRefreshing:!1}),(0,N.toast)((0,h.jsx)(u.A,{children:(0,h.jsx)(D.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4}),console.log("Slot configurations not available for selected termianl")}}}componentDidMount(){try{E.pJ(this.props.userDetails.EntityResult.IsArchived),this.setinitialAccessLevels(),this.getAttributesMetaData(),this.getInitialConfigurations()}catch(e){console.log("SlotBookComposite:Error occured on componentDidMount",e)}}componentWillUnmount(){this.stopRefreshTimer()}setinitialAccessLevels(){let e=this.getTransportationType(),t=v.de,s=v.m0,i=E.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.view,v.hk);switch(e){case g.LY.ROAD:t=v.de,s=v.m0;break;case g.LY.MARINE:t=v.QB,s=v.fr;break;default:t=v.de,s=v.m0}let n=P().cloneDeep(this.state.operationsVisibilty);n.add=E.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.hk),n.modify=E.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.hk),n.cancel=E.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.remove,v.hk),n.shipments=E.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.view,t)&&i,n.receipts=E.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.view,s)&&i,this.setState({operationsVisibilty:n})}render(){return(0,h.jsxs)("div",{children:[(0,h.jsx)(u.A,{children:(0,h.jsx)(n.B,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,terminals:this.state.terminals.map((function(e){return e.Key.Code})),selectedTerminal:this.state.selectedTerminal.Key.Code,onTerminalChange:this.handleTerminalChange,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),this.state.isDetails?(0,h.jsx)(u.A,{children:(0,h.jsx)(o.default,{selectedDate:this.state.selectedDate,terminal:this.state.selectedTerminal,slotConfigurations:this.state.slotConfigurations,transportationType:void 0!==this.props.activeItem.itemProps.transportationType?this.props.activeItem.itemProps.transportationType:g.LY.ROAD,attributeMetaDataList:this.state.attributeMetaDataList,defaultTabIndex:this.state.currentTabIndex,operationsVisibilty:this.state.operationsVisibilty,onBackClick:this.handleBackClick,onTabChange:this.handleTabChange,onDateChange:this.handleDateChange})}):(0,h.jsx)("div",{className:"slotLayoutOuterPane",children:(0,h.jsx)(u.A,{children:(0,h.jsx)(S,{terminal:this.state.selectedTerminal.Key,transportationType:void 0!==this.props.activeItem.itemProps.transportationType?this.props.activeItem.itemProps.transportationType:g.LY.ROAD,shipmentsSummary:this.state.shipmentsSummary,receiptsSummary:this.state.receiptsSummary,selectedDate:this.state.selectedDate,operationsVisibilty:this.state.operationsVisibilty,isShipmentsRefreshing:this.state.isShipmentsRefreshing,isReceiptsRefreshing:this.state.isReceiptsRefreshing,slotConfigurations:this.state.slotConfigurations,defaultTabIndex:this.state.currentTabIndex,onDateChange:this.handleDateChange,onslotBlockClik:this.handleSlotBlockClick,onTabChange:this.handleTabChange})})}),(0,h.jsx)(u.A,{children:(0,h.jsx)(N.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const O=(0,R.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(b)},15417:(e,t,s)=>{"use strict";s.d(t,{$7:()=>b,AN:()=>se,AU:()=>D,Ak:()=>Ge,Ao:()=>i,B6:()=>Q,C4:()=>we,CG:()=>$,Ct:()=>K,Cw:()=>L,EY:()=>P,G$:()=>Qe,G6:()=>Ze,GF:()=>me,GJ:()=>k,Gj:()=>de,Gl:()=>oe,H9:()=>qe,HB:()=>Ne,HP:()=>A,Hr:()=>Pe,II:()=>nt,IQ:()=>I,Jr:()=>F,Jx:()=>fe,Ki:()=>te,LP:()=>ne,Lv:()=>o,MK:()=>C,MX:()=>ee,Mx:()=>Y,N4:()=>_e,NH:()=>Se,OF:()=>Je,Ps:()=>B,Q7:()=>Ke,QY:()=>w,SF:()=>r,Sq:()=>Re,Sw:()=>ae,TQ:()=>X,U7:()=>N,UH:()=>g,UO:()=>re,V_:()=>Me,Vy:()=>He,W9:()=>ce,WN:()=>f,Wr:()=>n,Ww:()=>Z,XP:()=>ve,Xk:()=>q,Yb:()=>ye,Yy:()=>u,Z2:()=>ke,ZN:()=>O,ZO:()=>Ee,Zu:()=>Fe,_G:()=>W,_N:()=>d,_u:()=>he,ad:()=>le,al:()=>Ie,ao:()=>H,bK:()=>G,bN:()=>S,cf:()=>x,dO:()=>be,dU:()=>m,dv:()=>a,eE:()=>z,g:()=>R,gG:()=>l,gS:()=>De,gT:()=>st,gW:()=>J,gZ:()=>Xe,go:()=>v,gp:()=>U,hq:()=>xe,i6:()=>et,ip:()=>pe,k9:()=>T,kI:()=>E,l4:()=>Le,l5:()=>y,lA:()=>_,lU:()=>$e,mD:()=>Ue,mY:()=>j,mq:()=>c,n$:()=>it,n7:()=>p,nZ:()=>Oe,rA:()=>je,s$:()=>Be,s8:()=>Ve,se:()=>Ce,tA:()=>Ae,vK:()=>tt,vs:()=>ge,w2:()=>ze,w4:()=>Te,wT:()=>h,wY:()=>M,wf:()=>ue,wk:()=>ie,xW:()=>V,yM:()=>We,yO:()=>Ye});const i="driver",n="carriercompany",o="shareholder",r="baseProduct",a="TRAILER",l="TRAILERCOMPARTMENT",c="terminal",h="customer",d="destination",p="finishedproduct",m="tank",u="marine_vessel",T="marine_trailercompartment",g="supplier",C="vehicle",S="vehicletrailer",f="originterminal",I="bay",E="loadingArm",y="cardreader",R="vehicleprimemover",A="meter",P="SHIPMENT",N="SHIPMENTCOMPARTMENT",D="SHIPMENTDESTINATIONCOMPARTMENT",v="SHIPMENTDETAILS",M="SHIPMENTTRAILERWEIGHBRIDGE",b="SHIPMENTTRAILER",O="SHIPMENTSTATUSTIME",x="MARINEDISPATCH",_="MARINEDISPATCHCOMPARTMENTDETAIL",k="railwagon",L="primemover",j="bcu",w="RAILRECEIPTPLAN",B="RAILRECEIPTWAGONDETAILPLAN",H="RAILUNLOADINGDETAILSFP",U="RAILUNLOADINGDETAILSBP",V="RAILUNLOADINGDETAILSADDITIVE",F="RAILDISPATCHPLAN",G="RAILDISPATCHITEM",W="RAILDISPATCHSTATUSCHANGE",Y="RAILDISPATCHWAGON",K="RAILDISPATCHWAGONDETAILPLAN",q="RAILDISPATCHWAGONWEIGHBRIDGE",Q="RAILDISPATCHWAGONCOMPARTMENT",z="RAILLOADINGDETAILSFP",$="RAILLOADINGDETAILSBP",J="RAILLOADINGDETAILSADDITIVE",Z="marineReceipt",X="UNACCOUNTEDMETERTRANSACTION",ee="UNACCOUNTEDTANKTRANSACTION",te="marineLoadingDetailsFP",se="marineLoadingDetailsAdditive",ie="marineLoadingDetailsBP",ne="marineReceiptCompartmentDetail",oe="marineUnloadingDetailsFP",re="marineUnloadingDetailsBP",ae="accessCard",le="LOADINGDETAILSFP",ce="LOADINGDETAILSBP",he="LOADINGDETAILSADDITIVE",de="MARINERECEIPTSTATUSTIME",pe="MARINEDISPATCHSTATUSTIME",me="RECEIPT",ue="UNLOADINGTRANSACTIONS",Te="ORDER",ge="ORDERITEM",Ce="CONTRACT",Se="CONTRACT_ITEM",fe="RECEIPTORIGINTERMINALCOMPARTMENT",Ie="GeneralTMUser_CAPTAIN",Ee="weighbridge",ye="deu",Re="GeneralTMUser_STAFF",Ae="GeneralTMUser_VISITOR",Pe="PIPELINEHEADER",Ne="SEALMASTER",De="PIPELINERECEIPT",ve="ROADSHIPMENTSLOTINFO",Me="ROADRECEIPTSLOTINFO",be="MARINESHIPMENTSLOTINFO",Oe="MARINERECEIPTSLOTINFO",xe="PIPELINEDISPATCH",_e="PIPELINETRANSACTIONS",ke="PIPELINEDISPATCHSTATUSTIME",Le="PIPELINERECEIPTSTATUSTIME",je="PROCESSCONFIG",we="PRODUCTALLOCATIONITEM",Be="HSEINSPECTIONSHIPMENTRIGIDTRUCK",He="HSEINSPECTIONSHIPMENTTRAILER",Ue="HSEINSPECTIONSHIPMENTPRIMEMOVER",Ve="HSEINSPECTIONSHIPMENTNONFILLINGVEHICLE",Fe="HSEINSPECTIONMARINESHIPMENTBARGE",Ge="HSEINSPECTIONMARINESHIPMENTSHIP",We="HSEINSPECTIONSHIPMENTRAILWAGON",Ye="HSEINSPECTIONSHIPMENTPIPELINE",Ke="HSEINSPECTIONRECEIPTRIGIDTRUCK",qe="HSEINSPECTIONRECEIPTTRAILER",Qe="HSEINSPECTIONRECEIPTPRIMEMOVER",ze="HSEINSPECTIONRECEIPTNONFILLINGVEHICLE",$e="HSEINSPECTIONMARINERECEIPTBARGE",Je="HSEINSPECTIONMARINERECEIPTSHIP",Ze="HSEINSPECTIONRECEIPTRAILWAGON",Xe="HSEINSPECTIONRECEIPTPIPELINE",et="SHAREHOLDERAGREEMENT",tt="COATEMPLATE",st="COAMANAGEMENT",it="COACUSTOMER",nt="COAASSIGNMENT"},80312:(e,t,s)=>{"use strict";s.d(t,{$3:()=>Y,$H:()=>ie,$J:()=>me,$K:()=>Te,$V:()=>Dt,$b:()=>It,$p:()=>U,AE:()=>A,Al:()=>H,B2:()=>it,By:()=>At,CW:()=>Tt,DA:()=>l,Ee:()=>Ve,FO:()=>b,Fy:()=>Le,G9:()=>st,H8:()=>ee,Hq:()=>at,Ig:()=>k,Iu:()=>C,JI:()=>ct,JJ:()=>te,JU:()=>q,Jz:()=>qe,KQ:()=>re,Kk:()=>Ze,Kw:()=>et,LP:()=>Mt,LR:()=>h,Lg:()=>$,Mg:()=>Ie,Mm:()=>L,N1:()=>J,Nm:()=>u,No:()=>ce,Ow:()=>F,P2:()=>o,P8:()=>Se,PD:()=>Oe,PE:()=>d,PG:()=>Q,PP:()=>mt,Pb:()=>_e,QB:()=>E,QC:()=>Z,RE:()=>ot,RO:()=>$e,Rc:()=>Ct,Rl:()=>Et,Rx:()=>gt,TI:()=>S,Tm:()=>ue,Ug:()=>X,Ur:()=>Ge,V9:()=>c,VK:()=>G,VL:()=>pe,VQ:()=>ae,WD:()=>je,Wf:()=>D,YO:()=>x,YY:()=>be,Yb:()=>ge,Yg:()=>Ye,Z9:()=>pt,ZE:()=>ht,ZU:()=>I,_N:()=>St,_S:()=>vt,_d:()=>bt,aS:()=>V,aZ:()=>dt,au:()=>Re,b0:()=>Nt,bL:()=>He,c2:()=>Be,d4:()=>ke,dB:()=>g,dD:()=>Ue,dK:()=>W,dY:()=>O,de:()=>p,dv:()=>ve,eQ:()=>a,f3:()=>Ee,fF:()=>j,fL:()=>ft,fN:()=>Rt,fk:()=>v,fl:()=>Ce,fr:()=>y,go:()=>n,h:()=>de,hD:()=>N,hE:()=>M,hh:()=>Xe,hk:()=>oe,hz:()=>ut,i:()=>i,j2:()=>rt,jN:()=>K,je:()=>T,jx:()=>B,kL:()=>Je,ke:()=>Fe,km:()=>le,l0:()=>ne,l6:()=>We,lz:()=>_,m0:()=>f,nS:()=>Pe,nk:()=>lt,nn:()=>R,np:()=>z,oh:()=>nt,op:()=>Qe,pt:()=>we,qk:()=>he,qp:()=>fe,r6:()=>Ne,rQ:()=>De,rj:()=>w,rp:()=>r,t3:()=>yt,tM:()=>xe,to:()=>xt,ts:()=>tt,uH:()=>ye,uy:()=>ze,w1:()=>Me,x5:()=>se,xz:()=>P,y_:()=>Ke,yu:()=>m,yx:()=>Pt,z8:()=>Ae,z_:()=>Ot});const i={view:"view",add:"add",modify:"modify",remove:"remove"},n="carriercompany",o="driver",r="customer",a="trailer",l="originterminal",c="destination",h="primemover",d="vehicle",p="shipmentbycompartment",m="shipmentbyproduct",u="ViewShipmentStatus",T="vessel",g="order",C="OrderForceClose",S="contract",f="receiptplanbycompartment",I="ViewMarineShipment",E="MarineShipmentByCompartment",y="ViewMarineReceipt",R="supplier",A="finishedproduct",P="RailDispatch",N="RailReceipt",D="RailRoute",v="RailWagon",M="CloseRailDispatch",b="PrintRailBOL",O="PrintRailFAN",x="RailDispatchLoadSpotAssignment",_="RailDispatchProductAssignment",k="ViewRailDispatch",L="ViewRailLoadingDetails",j="CloseRailReceipt",w="PrintRailBOD",B="PrintRailRAN",H="ViewRailReceipt",U="ViewRailUnLoadingDetails",V="SMS",F="UnAccountedTransactionTank",G="UnAccountedTransactionMeter",W="PipelineDispatch",Y="PipelineReceipt",K="PipelineDispatchManualEntry",q="PipelineReceiptManualEntry",Q="LookUpData",z="HSEInspection",$="HSEInspectionConfig",J="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",se="SiteView",ie="LeakageManualEntry",ne="Terminal",oe="SlotInformation",re="TankGroup",ae="Tank",le="SealMaster",ce="TankEODEntry",he="UnmatchedLocalTransactions",de="AccessCard",pe="ResetPin",me="SlotConfiguration",ue="PrintMarineFAN",Te="PrintMarineBOL",ge="ViewMarineLoadingDetails",Ce="ViewMarineShipmentAuditTrail",Se="CloseMarineShipment",fe="IssueCard",Ie="ActivateCard",Ee="RevokeCard",ye="AutoIDAssociation",Re="MarineReceiptByCompartment",Ae="PrintMarineRAN",Pe="PrintMarineBOD",Ne="ViewMarineUnloadingDetails",De="ViewMarineReceiptAuditTrail",ve="CloseMarineReceipt",Me="WeekendConfig",be="EODAdmin",Oe="PrintBOL",xe="PrintFAN",_e="PrintBOD",ke="CloseShipment",Le="CloseReceipt",je="CONTRACTFORCECLOSE",we="Captain",Be="OverrideShipmentSequence",He="KPIInformation",Ue="Language",Ve="WebPortalUserMap",Fe="BayGroup",Ge="PipelineHeaderSiteView",We="TankMonitor",Ye="PersonAdmin",Ke="ProductReconciliationReports",qe="ReportConfiguration",Qe="EXECONFIGURATION",ze="ShareholderAllocation",$e="NotificationGroup",Je="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",st="ShareholderAgreement",it="TANKSHAREHOLDERPRIMEFUNCTION",nt="ROLEADMIN",ot="ShiftConfig",rt="PrinterConfiguration",at="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",ht="STAFF_VISITOR",dt="PipelineMeterSiteView",pt="RailSiteView",mt="MarineSiteView",ut="LoadingDetails",Tt="UnloadingDetails",gt="RoadHSEInspection",Ct="RoadHSEInspectionConfig",St="MarineHSEInspection",ft="MarineHSEInspectionConfig",It="RailHSEInspection",Et="RailHSEInspectionConfig",yt="PipelineHSEInspection",Rt="PipelineHSEInspectionConfig",At="PrintRAN",Pt="ViewReceiptStatus",Nt="customerrecipe",Dt="COAParameter",vt="COATemplate",Mt="COAManagement",bt="COACustomer",Ot="COAAssignment",xt="ProductForecastConfiguration"},93779:(e,t,s)=>{"use strict";s.d(t,{$A:()=>O,$L:()=>lt,$Q:()=>Ue,Ae:()=>Me,BX:()=>oe,Bl:()=>ue,Bv:()=>Ce,Bw:()=>Z,Cb:()=>M,Cg:()=>D,DN:()=>ot,D_:()=>rt,Dm:()=>x,E7:()=>z,EW:()=>k,FN:()=>ne,FR:()=>o,FY:()=>ut,GA:()=>Ve,GT:()=>I,Ge:()=>_e,HB:()=>re,JQ:()=>Q,KJ:()=>ee,Kz:()=>W,Ln:()=>G,M$:()=>Ge,O5:()=>tt,Of:()=>Ee,Oo:()=>st,Pk:()=>ge,Pm:()=>J,Q5:()=>ct,QK:()=>We,QV:()=>Ze,QZ:()=>ht,Qu:()=>se,RX:()=>De,Rb:()=>V,Rp:()=>R,SP:()=>T,T5:()=>je,UB:()=>S,UT:()=>l,Ui:()=>K,VA:()=>U,Vk:()=>Re,Wb:()=>Ae,Wv:()=>ye,X3:()=>Qe,Y4:()=>F,Yl:()=>it,Zx:()=>$,_B:()=>Se,_C:()=>v,_R:()=>Te,_j:()=>he,_n:()=>i,aM:()=>j,aW:()=>He,bW:()=>H,c4:()=>nt,cD:()=>a,c_:()=>P,cx:()=>B,dL:()=>dt,eE:()=>le,eS:()=>Ke,eT:()=>y,f:()=>_,f7:()=>me,fR:()=>de,g1:()=>ce,gN:()=>ze,gO:()=>Y,iH:()=>at,ij:()=>et,j1:()=>N,jC:()=>fe,je:()=>pe,jz:()=>ae,ll:()=>Xe,mM:()=>f,mO:()=>mt,mW:()=>Le,ml:()=>g,mm:()=>Je,nB:()=>te,nT:()=>ke,np:()=>xe,oA:()=>A,oG:()=>qe,oV:()=>X,ok:()=>d,oy:()=>c,pL:()=>be,pe:()=>Fe,pw:()=>Ye,qF:()=>r,qQ:()=>pt,qp:()=>p,s0:()=>E,sA:()=>ve,st:()=>ie,tY:()=>L,uw:()=>q,v6:()=>n,vL:()=>we,vf:()=>Oe,wH:()=>$e,wO:()=>Ie,wX:()=>w,x4:()=>Pe,xf:()=>m,xy:()=>h,yI:()=>C,yV:()=>b,yz:()=>u,zL:()=>Ne,zf:()=>Be});const i="CarrierCode",n="TransportationType",o="ShareHolderCode",r="DriverCode",a="CustomerCode",l="TrailerCode",c="OriginTerminalCode",h="PrimeMoverCode",d="VehicleCode",p="DestinationCode",m="FinishedProductCode",u="ShipmentCode",T="OrderCode",g="ReceiptCode",C="MarineDispatchCode",S="MarineReceiptCode",f="SupplierCode",I="ContractCode",E="RailDispatchCode",y="RailReceiptCode",R="RailRouteCode",A="WagonCode",P="CompartmentCode",N="SMSConfigurationCode",D="PipelineDispatchCode",v="PipelineReceiptCode",M="EmailConfigurationCode",b="BaseProductCode",O="LocationCode",x="SiteViewType",_="EntityCode",k="EntityType",L="CardReaderCode",j="AccessCardCode",w="BcuCode",B="DeuCode",H="WeighBridgeCode",U="Weight",V="OutOfToleranceAllowed",F="LoadingArmCode",G="TransportationType",W="BayCode",Y="TransactionNumber",K="BatchNumber",q="TerminalCode",Q="TankGroupCode",z="TankCode",$="MeterCode",J="ShipmentType",Z="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",se="FPTransactionID",ie="ProductCategoryType",ne="Reason",oe="SealMasterCode",re="Reason",ae="OperationName",le="FPTransactionID",ce="ProductCategoryType",he="CompartmentSeqNoInVehicle",de="AdjustedPlanQuantity",pe="ForceComplete",me="DispatchStatus",ue="HolidayDate",Te="ActionID",ge="EODTimePrev",Ce="TerminalAction",Se="EODTime",fe="MonthStartDay",Ie="CaptainCode",Ee="GeneralTMUserType",ye="GeneralTMUserCode",Re="IsPriority",Ae="ActualTerminalCode",Pe="ShipmentBondNo",Ne="ReceiptBondNo",De="DeviceType",ve="DeviceCode",Me="BayGroup",be="PipelineHeaderCode",Oe="ExchangePartner",xe="PersonID",_e="UserName",ke="PipelinePlanCode",Le="PipelinePlanType",je="ChannelCode",we="ProcessName",Be="ReconciliationCode",He="NotificationGroupCode",Ue="NotificationGroupStatus",Ve="NotificationGroupDesc",Fe="NotificationResSource",Ge="NotificationResMsgCode",We="NotificationOrigResSource",Ye="NotificationOrigResMsgCode",Ke="NotificationMessageCode",qe="PositionType",Qe="ExchangeAgreementCode",ze="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Je="RequestorShareholder",Ze="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",st="ShiftName",it="PrinterName",nt="LocationType",ot="ForceClosureReason",rt="TransactionType",at="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",ht="COAParameterCode",dt="COAManagementFinishedProductCode",pt="COASeqNumber",mt="ForecastDate",ut="ForecastTanks"},6890:(e,t,s)=>{"use strict";s.d(t,{x:()=>r});var i=s(728),n=s(65043),o=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),r=function(e){function t(s,o,r){var a=e.call(this,s)||this;a._objPropHash={},a._isMounted=!1,a._mountedCBs=[],a._hostRef=function(e){return a._hostRefValue=e},a._beforeRender=new i.Event,a._afterRender=new i.Event,a._beforeWillUnmount=new i.Event,a._afterWillUnmount=new i.Event,a._beforeDidUpdate=new i.Event,a._afterDidUpdate=new i.Event,t._reactMajorVersion||(t._reactMajorVersion=parseInt(n.version)),a.props=s,a.controlType=o;for(var l=0,c=r&&r.objectProps||[];l<c.length;l++){var h=c[l];a._objPropHash[h]=!0}return a}return o(t,e),t.prototype.render=function(){this._onBeforeRender();var e=this._renderImpl();return this._onAfterRender(),e},t.prototype.componentDidMount=function(){var e=this;if(this._isChild()){var s=this.props[t._propsParent];s&&s._mountedCB((function(){e._setParent(s)}))}else this._prepareControl();return this.control},t.prototype.componentWillUnmount=function(){this._onBeforeWillUnmount(),this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var e=this.control;if(e)if(this._isChild()){var t=this._getParentProp();if(t){var s=this.parent.control[t];if((0,i.isArray)(s)){var n=s.indexOf(e);n>-1&&s.splice(n,1)}}}else e instanceof i.Control&&setTimeout((function(){e.hostElement&&(e._orgOuter=null,e.dispose())}));this._onAfterWillUnmount()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.componentDidUpdate=function(e){this._onBeforeDidUpdate();var t=this.control;this._copy(t,this.props,e),this._onAfterDidUpdate()},t.prototype._mountedCB=function(e){this._isMounted?e():this._mountedCBs.push(e)},t.prototype._renderImpl=function(){var e={};e[t._propsParent]=this;var s=n.Children.map(this.props.children,(function(t){return t&&n.cloneElement(t,e)})),i={ref:this._hostRef};return this._isChild()&&(i.style={display:"none"}),n.createElement("div",i,s)},t.prototype._onBeforeRender=function(e){this._beforeRender.raise(this,e)},t.prototype._onAfterRender=function(e){this._afterRender.raise(this,e)},t.prototype._onBeforeWillUnmount=function(e){this._beforeWillUnmount.raise(this,e)},t.prototype._onAfterWillUnmount=function(e){this._afterWillUnmount.raise(this,e)},t.prototype._onBeforeDidUpdate=function(e){this._beforeDidUpdate.raise(this,e)},t.prototype._onAfterDidUpdate=function(e){this._afterDidUpdate.raise(this,e)},t.prototype._createControl=function(){var e=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new this.controlType(e)},t.prototype._prepareControl=function(){var e=this._getElement(),s=this.props;e&&!this._isChild()&&t._copyAttrs(e,s,i.Control._rxInputAtts);var n=this.control=this._createControl(),o=n instanceof i.Control,r=t;this._siblingId||(null==this.constructor[r._typeSiblingIdProp]&&(this.constructor[r._typeSiblingIdProp]=++r._siblingDirId+""),this._siblingId=this.constructor[r._typeSiblingIdProp]),e.setAttribute(r._typeSiblingIdProp,this._siblingId);var a={};for(var l in s){var c=s[l];this._ignoreProp(l)||(0,i.isUndefined)(c)||(l in n?a[l]=c:this._setHostAttribute(e,l,c))}o?n.initialize(a):this._copy(n,a,null,!0),this._isMounted=!0;var h=this._mountedCBs;this._mountedCBs=[];for(var d=0,p=h;d<p.length;d++)(0,p[d])();(0,i.isFunction)(s.initialized)&&s.initialized(n)},t.prototype._initParent=function(){var e=this._getParentProp();if(e){var t=this.parent.control,s=t[e];if((0,i.isArray)(s)){var n=this._getSiblingIndex();(n<0||n>=s.length)&&(n=s.length),s.splice(n,0,this.control),this._siblingInsertedEH=this._siblingInserted.bind(this),this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else t[e]=this.control}},t.prototype._setParent=function(e){if(e!==this.parent){if(this.parent)throw"Wijmo child component is already attached to a different parent.";this.parent=e,this._prepareControl(),this._initParent()}},t.prototype._isChild=function(){return null!=this._parentProp||null!=this._parentInCtor},t.prototype._isParentInCtor=function(){return!0===this._parentInCtor},t.prototype._getParentProp=function(){return this.props.wjProperty||this._parentProp},t.prototype._getSiblingIndex=function(){var e=this._getElement(),s=e.parentElement;if(!s)return-1;for(var i=s.childNodes,n=-1,o=this._siblingId,r=0;r<i.length;r++){var a=i[r];if(1==a.nodeType&&a.getAttribute(t._typeSiblingIdProp)==o&&(++n,a===e))return n}return-1},t.prototype._siblingInserted=function(e){if(e.target===this._getElement()){var t=this._getSiblingIndex(),s=this.control,i=this.parent.control[this._getParentProp()],n=i.indexOf(s);t>=0&&n>=0&&t!==n&&(i.splice(n,1),t=Math.min(t,i.length),i.splice(t,0,s))}},t.prototype._copy=function(e,t,s,n){if(void 0===n&&(n=!1),e&&t){var o,r=e===this.control;for(var a in t)if(!this._ignoreProp(a)||!r){var l=t[a];if(a in e){if(this._isEvent(e,a))n&&(0,i.isFunction)(l)&&e[a].addHandler(l);else if(!s||!this._sameValue(s[a],l))if(null==l)e[a]=l;else if((0,i.isPrimitive)(l)||(0,i.isFunction)(l)||this._objPropHash[a]&&e===(o||(o=this.control)))e[a]=l;else if((0,i.isArray)(l)&&(0,i.isArray)(e[a])){var c=e[a],h=l;if(h.length==c.length)for(var d=0;d<h.length;d++)this._copy(c[d],h[d])}else(0,i.isObject)(l)&&this._copy(e[a],t[a])}else this._setHostAttribute(e.hostElement,a,t[a])}}},t.prototype._setHostAttribute=function(e,t,s){if(e)switch(t){case"className":var n=this._appliedClassName;n!==s&&((0,i.removeClass)(e,n),(0,i.addClass)(e,s),this._appliedClassName=s);break;case"style":(0,i.setCss)(e,s);break;default:null!=e[t]?e[t]=s:"string"==typeof s&&"$"!==t[0]&&e.setAttribute(t,s)}},t.prototype._sameValue=function(e,t){return e==t||i.DateTime.equals(e,t)},t.prototype._isEvent=function(e,t){var s=e&&e[t];return null!=s&&s instanceof i.Event},t.prototype._getElement=function(){return this._hostRefValue},t.prototype._ignoreProp=function(e){return"children"===e},t._copyAttrs=function(e,t,s){if(e)for(var i in t)i.match(s)&&e.setAttribute(i,t[i])},t.isInStrictMode=function(e){return!!(e.hasOwnProperty("_reactInternalFiber")&&1&e._reactInternalFiber.mode)},t._propsParent="$parent",t._typeSiblingIdProp="_wjSiblingIdProp",t._siblingDirId=0,t}(n.Component)},20199:function(e){e.exports=function(){"use strict";return function(e,t,s){var i=t.prototype,n=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,s,i,o){var r=e.name?e:e.$locale(),a=n(r[t]),l=n(r[s]),c=a||l.map((function(e){return e.slice(0,i)}));if(!o)return c;var h=r.weekStart;return c.map((function(e,t){return c[(t+(h||0))%7]}))},r=function(){return s.Ls[s.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,s){return t||s.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return l.bind(this)()},s.localeData=function(){var e=r();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},s.months=function(){return o(r(),"months")},s.monthsShort=function(){return o(r(),"monthsShort","months",3)},s.weekdays=function(e){return o(r(),"weekdays",null,null,e)},s.weekdaysShort=function(e){return o(r(),"weekdaysShort","weekdays",3,e)},s.weekdaysMin=function(e){return o(r(),"weekdaysMin","weekdays",2,e)}}}()},50477:()=>{}}]);
//# sourceMappingURL=4447.e6934126.chunk.js.map