(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[1438,5841,8222,4872],{66554:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(65043),i=s(72711),n=s(67907),o=s(65187),r=s(69062),l=s(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:c,selectedShareholder:d,onShareholderChange:h,onDelete:u,onAdd:p,popUpContent:m,shrVisible:y,handleBreadCrumbClick:g,addVisible:C,deleteVisible:E}=e;const[D,S]=(0,a.useState)(!1),[x,A]=(0,a.useState)(!1);function R(){t.add&&(m.length>0?A(!1===x):p())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(o.A,{children:[" ",(0,l.jsx)(n.TranslationConsumer,{children:e=>(0,l.jsxs)(i.Breadcrumb,{children:[s.parents.map((t=>(0,l.jsx)(i.Breadcrumb.Item,{onClick:()=>{void 0!==g&&null!==g&&g(t.itemCode,s.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(i.Breadcrumb.Item,{children:e(s.localizedKey)},s.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(n.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===y?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(i.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:r.Zj(c),onChange:e=>h(e)})})]})})})}),(0,l.jsx)(n.TranslationConsumer,{children:e=>(0,l.jsxs)(i.Modal,{open:D,size:"small",children:[(0,l.jsx)(i.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(i.Modal.Footer,{children:[(0,l.jsx)(i.Button,{type:"secondary",content:e("Cancel"),onClick:()=>S(!1)}),(0,l.jsx)(i.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{S(!1),u()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[C?(0,l.jsx)(i.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:R,children:(0,l.jsx)(i.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:x,children:(0,l.jsx)("div",{onMouseLeave:()=>A(!1),children:(0,l.jsx)(n.TranslationConsumer,{children:e=>(0,l.jsx)(i.VerticalMenu,{children:(0,l.jsxs)(i.VerticalMenu,{children:[(0,l.jsx)(i.VerticalMenu.Header,{children:e("Common_Create")}),m.map((t=>(0,l.jsx)(i.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,A(!1),void p(e);var e},children:e(t.fieldValue)})))]})})})})}):"",E?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&S(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(i.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};s(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:a,selectedShareholder:i,onShareholderChange:n,onDelete:o,onAdd:r,popUpContent:d,shrVisible:h,handleBreadCrumbClick:u,addVisible:p,deleteVisible:m}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:s,shareholders:a,selectedShareholder:i,onShareholderChange:n,onDelete:o,onAdd:r,popUpContent:d,shrVisible:h,handleBreadCrumbClick:u,addVisible:p,deleteVisible:m})}},62900:(e,t,s)=>{"use strict";s.d(t,{A:()=>E});var a=s(65043),i=s(67907),n=s(72711),o=s(72067),r=s(69062),l=s(97508),c=s(44192),d=s(40854),h=s.n(d),u=s(53536),p=s.n(u),m=s(86111),y=s.n(m),g=s(70579);class C extends a.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:r.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const s=p().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(s[e]=r.jr(c.Qh[e],t),this.setState({validationErrors:s,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var s=!0;return s&&(s=Object.values(t).every((function(e){return""===e}))),s},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,s=y().lib.WordArray.random(16),a=y().PBKDF2(t,s,{keySize:8,iterations:100}),i=y().lib.WordArray.random(16),n=y().AES.encrypt(e,a,{iv:i,padding:y().pad.Pkcs7,mode:y().mode.CBC}),l=s.toString()+i.toString()+n.toString();h()(o.KrY+"?encryptedPassword="+encodeURIComponent(l),r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=r.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,g.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,g.jsx)(i.TranslationConsumer,{children:e=>(0,g.jsxs)(n.Modal,{open:!0,size:"mini",children:[(0,g.jsxs)(n.Modal.Content,{children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,g.jsx)("h4",{children:e("User_Authentication")})}),(0,g.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,g.jsx)(n.Icon,{root:"common",name:"close"})})]}),(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,g.jsx)("div",{className:"col col-lg-12",children:(0,g.jsx)("label",{children:(0,g.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,g.jsx)("div",{className:"col col-lg-12",children:(0,g.jsx)(n.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,g.jsxs)(n.Modal.Footer,{children:[(0,g.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,g.jsx)(n.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const E=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(C)},74872:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(65043),i=s(78374),n=s(72711),o=s(67907),r=s(35861),l=s(70579);function c(e){let{entryDate:t,modAssociations:s,selectedAssociations:a,listOptions:c,onFieldChange:d,onTankSearchChange:h,handleAddAssociation:u,handleDeleteAssociation:p,handleAssociationSelectionChange:m,handleCellDataEdit:y,isEnterpriseNode:g}=e;const[C]=(0,o.useTranslation)(),E=(e,t)=>(0,l.jsx)(n.Select,{className:"selectDropwdown",value:s[e.rowIndex][e.field],fluid:!0,options:t,onChange:t=>y(t,e),indicator:"required",reserveSpace:!1,search:!0,noResultsMessage:C("noResultsMessage")}),D=e=>(0,l.jsx)(n.Select,{fluid:!0,value:s[e.rowIndex][e.field],options:(0,r.r4)(c.tankCode,C("Common_Select")),onChange:t=>y(t,e),search:!0,reserveSpace:!1,noResultsMessage:C("noResultsMessage"),onSearch:h}),S=e=>(0,l.jsx)(n.Input,{fluid:!0,value:s[e.rowIndex][e.field],onChange:t=>y(t,e),reserveSpace:!1}),x=e=>{const{value:t}=e;return"number"===typeof t?t.toLocaleString():t};return(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsxs)("div",{className:"detailsContainer",children:[(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{style:{padding:"0 15px 15px 15px"},children:(0,l.jsx)(n.DatePicker,{fluid:!0,value:null===t?"":new Date(t),label:e("TankEODEntry_EODEntryDate"),type:"date",displayFormat:(0,r.F1)(),indicator:"required",onChange:e=>d("EntryTime",e),reserveSpace:!1})})}),(0,l.jsxs)("div",{className:"row compartmentRow",children:[(0,l.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,l.jsx)("h4",{children:e("TankEODEntry_PageTitle")})}),(0,l.jsx)("div",{className:"col col-md-4 col-lg-3 col-xl-3",children:(0,l.jsxs)("div",{className:"compartmentIconContainer",children:[(0,l.jsxs)("div",{onClick:u,className:"compartmentIcon",children:[(0,l.jsx)("div",{children:(0,l.jsx)(n.Icon,{root:"common",name:"badge-plus",size:"medium"})}),(0,l.jsx)("div",{className:"margin_l10",children:(0,l.jsx)("h5",{className:"font14",children:e("FinishedProductInfo_Add")})})]}),(0,l.jsxs)("div",{onClick:p,className:"compartmentIcon margin_l30",children:[(0,l.jsx)("div",{children:(0,l.jsx)(n.Icon,{root:"common",name:"delete",size:"medium"})}),(0,l.jsx)("div",{className:"margin_l10",children:(0,l.jsx)("h5",{className:"font14",children:e("DestAdd_Delete")})})]})]})})]}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-12 detailsTable",children:(0,l.jsxs)(i.bQ,{data:s,selectionMode:"multiple",selection:a,onSelectionChange:m,children:[(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"TankCode",header:e("TankEODEntry_TankCode"),editable:!0,editFieldType:"text",customEditRenderer:e=>D(e)},"TankCode"),(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"BaseProductCode",header:e("TankEODEntry_Product"),editable:!0,editFieldType:"text",customEditRenderer:e=>E(e,c.baseProductCode)},"BaseProductCode"),(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"EOPGrossVolume",header:e("TankEODEntry_GrossQty"),editable:!0,editFieldType:"text",renderer:e=>x(e),customEditRenderer:S},"EOPGrossVolume"),(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"EOPNetVolume",header:e("TankEODEntry_NetQty"),editable:!0,editFieldType:"text",renderer:e=>x(e),customEditRenderer:S},"EOPNetVolume"),(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"QuantityUOM",header:e("TankUnaccountedTransaction_QuantityUOM"),editable:!0,editFieldType:"text",customEditRenderer:e=>E(e,c.quantityUOM)},"QuantityUOM"),(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"EOPMassVolume",header:e("TankEODEntry_MassVolume"),editable:!0,editFieldType:"text",renderer:e=>x(e),customEditRenderer:S},"EOPMassVolume"),(0,l.jsx)(i.bQ.Column,{className:"compColHeight",field:"MassQuantityUOM",header:e("TankEODEntry_MassQuantityUOM"),editable:!0,editFieldType:"text",customEditRenderer:e=>E(e,c.densityQuantityUOM)},"MassQuantityUOM")]})})})]})})}c.defaultProps={isEnterpriseNode:!1};var d=s(53536),h=s.n(d),u=s(69062),p=s(9966),m=s(72067),y=s(7523),g=s(28882),C=s(80312),E=s(40854),D=s.n(E),S=s(65187),x=s(40252),A=s(50805),R=s(97508),M=s(62900);class v extends a.Component{constructor(){super(...arguments),this.state={entryDate:new Date,isReadyToRender:!1,associations:[],modAssociations:[],selectedAssociations:[],tankCodeOptions:[],tankCodeSearchOptions:[],baseProductCodeOptions:[],quantityUOMOptions:[],massQuantityUOMOptions:[],saveEnabled:!1,showAuthenticationLayout:!1,tempAssociations:{}},this.handleAssociationSelectionChange=e=>{this.setState({selectedAssociations:e})},this.handleAddAssociation=()=>{if(!this.props.userDetails.EntityResult.IsArchived)try{const e=h().cloneDeep(this.state.modAssociations),t={BaseProductCode:"",BOPGrossVolume:"",BOPMassVolume:"",BOPNetVolume:"",EOPGrossVolume:"",EOPMassVolume:"",EOPNetVolume:"",MassQuantityUOM:"",QuantityUOM:"",ReconciliationCode:"",TransactionTotalGrossQty:"",TransactionTotalNetQty:"",TankCode:""};t.SeqNumber=u.Mz(this.state.modAssociations),e.push(t),this.setState({modAssociations:e,selectedAssociations:[]})}catch(e){console.log("TankManualEntryDetailsComposite: Error occurred on handleAddAssociation",e)}},this.handleDeleteAssociation=()=>{if(!this.props.userDetails.EntityResult.IsArchived)try{if(null!=this.state.selectedAssociations&&this.state.selectedAssociations.length>0&&this.state.modAssociations.length>0){let e=h().cloneDeep(this.state.modAssociations);this.state.selectedAssociations.forEach(((t,s)=>{e=e.filter(((e,s)=>e.SeqNumber!==t.SeqNumber))})),this.setState({modAssociations:e})}this.setState({selectedAssociations:[]})}catch(e){console.log("TankManualEntryDetailsComposite: Error occurred on handleDeleteAssociation",e)}},this.handleChange=(e,t)=>{try{this.getTankManualEntryData(t),this.setState({entryDate:t})}catch(s){console.log("TankManualEntryDetailsComposite: Error occurred on handleChange",s)}},this.handleCellDataEdit=(e,t)=>{let s=h().cloneDeep(this.state.modAssociations);s[t.rowIndex][t.field]=e,this.setState({modAssociations:s})},this.handleTankSearchChange=e=>{try{let t=this.state.tankCodeOptions.filter((t=>t.value.toLowerCase().includes(e.toLowerCase())));t.length>y.bM&&(t=t.slice(0,y.bM)),this.setState({tankCodeSearchOptions:t})}catch(t){console.log("TankManualEntryDetailsComposite: Error occurred on handleTankSearchChange",t)}},this.handleTankManualEntry=()=>{this.setState({saveEnabled:!1}),this.handleAuthenticationClose();let e=h().cloneDeep(this.state.tempAssociations);for(let s of e)s.EOPGrossVolume=u.bo(s.EOPGrossVolume),s.EOPNetVolume=u.bo(s.EOPNetVolume),s.EOPMassVolume=u.bo(s.EOPMassVolume),s.MassQuantityUOM=u.bo(s.MassQuantityUOM);const t=0===this.state.associations.length;this.updateTankEODData(t,e)},this.handleSave=()=>{try{const e=h().cloneDeep(this.state.modAssociations);if(this.validateSave(e)){let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,s=h().cloneDeep(e);this.setState({showAuthenticationLayout:t,tempAssociations:s},(()=>{!1===t&&this.handleTankManualEntry()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("TankManualEntryDetailsComposite: Error occurred on handleSave",e)}},this.handleReset=()=>{try{this.setState({entryDate:new Date,modAssociations:[]})}catch(e){console.log("TankManualEntryDetailsComposite: Error occurred on handleSave",e)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}componentDidMount(){try{u.pJ(this.props.userDetails.EntityResult.IsArchived),this.getTankCodes(this.props.userDetails.EntityResult.PrimaryShareholder),this.getBaseProductCodes(),this.getUOMs(),this.getTankManualEntryData(this.state.entryDate)}catch(e){console.log("TankManualEntryDetailsComposite: Error occurred on componentDidMount",e)}}componentWillReceiveProps(){try{this.getTankManualEntryData(this.state.entryDate)}catch(e){console.log("TankManualEntryDetailsComposite: Error occurred on componentWillReceiveProps",e)}}getTankCodes(e){D()(m.Ibp+"?ShareholderCode="+e,u.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult)){const e=u.Zj(t.EntityResult);let s=h().cloneDeep(e);s.length>y.bM&&(s=s.slice(0,y.bM)),this.setState({tankCodeOptions:e,tankCodeSearchOptions:s})}}else console.log("Error in getTankCode:",t.ErrorList)})).catch((e=>{console.log("Error in getTankCode:",e)}))}getBaseProductCodes(){D()(m.mD_,u.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&void 0!==t.EntityResult){const e=[];for(let s in t.EntityResult)for(let a of t.EntityResult[s])e.push(a);this.setState({baseProductCodeOptions:u.Zj(e)})}}else console.log("Error in getBaseProductList:",t.ErrorList)})).catch((e=>{console.log("Error while getting Base Product List:",e)}))}getUOMs(){D()(m.WFM,u.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){if(null!==t.EntityResult&&Array.isArray(t.EntityResult.VOLUME)){const e=[],s=[];t.EntityResult.VOLUME.forEach((t=>{e.push({text:t,value:t})})),t.EntityResult.MASS.forEach((t=>{e.push({text:t,value:t}),s.push({text:t,value:t})})),this.setState({quantityUOMOptions:e,massQuantityUOMOptions:s})}}else console.log("Error in GetUOMList:",t.ErrorList)})).catch((e=>{console.log("Error in GetUOMList:",e)}))}getTankManualEntryData(e){D()(m.tOp+"?EntryDate="+e.toISOString(),u.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess){const e=null===t.EntityResult?[]:t.EntityResult;this.setState({isReadyToRender:!0,associations:e,modAssociations:h().cloneDeep(e),saveEnabled:u.ab(this.props.userDetails.EntityResult.FunctionsList,C.i.modify,C.No)})}else this.setState({isReadyToRender:!0,associations:[],modAssociations:[],saveEnabled:!1}),console.log("Error in getTankManualEntryData:",t.ErrorList)})).catch((e=>{console.log("Error while getting TankManualEntryData:",e)}))}getTankCodeSearchOptions(){return h().cloneDeep(this.state.tankCodeSearchOptions)}validateSave(e){const t={messageType:"critical",message:"TankEODEntry_SavedStatus",messageResultDetails:[]};return Array.isArray(e)&&e.length>0?e.forEach((e=>{g.uQ.forEach((s=>{let a="";void 0!==s.validator&&(a=u.jr(s.validator,e[s.field])),""!==a&&t.messageResultDetails.push({keyFields:[s.displayName],keyValues:[e[s.field]],isSuccess:!1,errorMessage:a})})),""===e.EOPMassVolume&&""!==e.MassQuantityUOM||""===e.MassQuantityUOM&&""!==e.EOPMassVolume?t.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:"MassQtyMassUOM_ProvidedTogether"}):e.EOPMassVolume<0&&t.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:"TankManualEntry_MassQtyNonNegative"})})):t.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:"ERRMSG_RECONCILIATIONTANKDATALIST_EMPTY"}),!(t.messageResultDetails.length>0)||(this.props.onSaved(this.state.modRailReceipt,"update",t),!1)}updateTankEODData(e,t){const s=[{key:"EntryDate",value:this.state.entryDate}],a={ShareHolderCode:this.props.selectedShareholder,KeyCodes:s,Entity:t},i={messageType:"critical",message:"TankEODEntry_SavedStatus",messageResultDetails:[{keyFields:["TankEODEntry_EODEntryDate"],keyValues:[this.state.entryDate.toLocaleDateString()],isSuccess:!1,errorMessage:""}]};D()(e?m.Xhf:m.OPv,u.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;i.messageType=t.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?this.getTankManualEntryData(this.state.entryDate):(this.setState({saveEnabled:!0}),i.messageResultDetails[0].errorMessage=t.ErrorList[0],console.log("Error in updateTankEODData:",t.ErrorList)),this.props.onSaved(this.state.modAssociations,"update",i)})).catch((e=>{i.messageResultDetails[0].errorMessage=e,this.props.onSaved(this.state.modAssociations,"modify",i),this.setState({saveEnabled:!0})}))}render(){return this.state.isReadyToRender?(0,l.jsxs)("div",{children:[(0,l.jsx)(S.A,{children:(0,l.jsx)(c,{entryDate:this.state.entryDate,modAssociations:this.state.modAssociations,selectedAssociations:this.state.selectedAssociations,listOptions:{tankCode:this.getTankCodeSearchOptions(),baseProductCode:this.state.baseProductCodeOptions,quantityUOM:this.state.quantityUOMOptions,densityQuantityUOM:this.state.massQuantityUOMOptions},onFieldChange:this.handleChange,onTankSearchChange:this.handleTankSearchChange,handleAddAssociation:this.handleAddAssociation,handleDeleteAssociation:this.handleDeleteAssociation,handleAssociationSelectionChange:this.handleAssociationSelectionChange,handleCellDataEdit:this.handleCellDataEdit,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode})}),(0,l.jsx)(S.A,{children:(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col",style:{textAlign:"right"},children:[(0,l.jsx)(n.Button,{content:e("LookUpData_btnReset"),className:"cancelButton",onClick:this.handleReset}),(0,l.jsx)(n.Button,{content:e("Save"),disabled:!this.state.saveEnabled,onClick:this.handleSave})]})})})}),this.state.showAuthenticationLayout?(0,l.jsx)(M.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:C.i.add,functionGroup:C.No,handleOperation:this.handleTankManualEntry,handleClose:this.handleAuthenticationClose}):null]}):(0,l.jsx)(x.A,{message:"Loading"})}}const b=(0,R.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})),(e=>({userAction:(0,A.zH)(p,e)})))(v)},33244:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(65043),i=s(66554),n=s(74872),o=s(40252),r=s(65187),l=s(97508),c=(s(38726),s(14159)),d=s(11981),h=(s(92342),s(53536)),u=s.n(h),p=s(69062),m=s(70579);class y extends a.Component{constructor(){super(...arguments),this.state={isReadyToRender:!1,operationsVisibility:{add:!1,delete:!1,shareholder:!1},selectedShareholder:"",refreshFlag:{}},this.savedEvent=(e,t,s)=>{try{const e=u().cloneDeep(this.state.operationsVisibility);"success"===s.messageType&&this.setState({operationsVisibility:e}),(0,c.toast)((0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})}catch(a){console.log("TankManualEntry: Error occurred on savedEvent",a)}},this.handleAdd=()=>{try{const e=u().cloneDeep(this.state.operationsVisibility);e.add=!1,this.setState({operationsVisibility:e,refreshFlag:{}})}catch(e){console.log("TankManualEntry: Error occurred on handleAdd")}}}componentDidMount(){try{p.pJ(this.props.userDetails.EntityResult.IsArchived),this.setState({isReadyToRender:!0,selectedShareholder:this.props.userDetails.EntityResult.PrimaryShareholder,refreshFlag:{}})}catch(e){console.log("TankManualEntry: Error occurred on componentDidMount",e)}}render(){return(0,m.jsxs)("div",{children:[(0,m.jsx)(r.A,{children:(0,m.jsx)(i.$,{operationsVisibilty:this.state.operationsVisibility,breadcrumbItem:this.props.activeItem,onAdd:this.handleAdd,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),this.state.isReadyToRender?(0,m.jsx)(n.default,{onSaved:this.savedEvent,onRefresh:this.state.refreshFlag,selectedShareholder:this.state.selectedShareholder},"TankManualEntryDetails"):(0,m.jsx)(o.A,{message:"Loading"}),(0,m.jsx)(r.A,{children:(0,m.jsx)(c.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const g=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(y)},80312:(e,t,s)=>{"use strict";s.d(t,{$3:()=>G,$H:()=>ae,$J:()=>pe,$K:()=>ye,$V:()=>kt,$b:()=>St,$p:()=>B,AE:()=>M,Al:()=>F,B2:()=>at,By:()=>Mt,CW:()=>yt,DA:()=>l,Ee:()=>_e,FO:()=>O,Fy:()=>Ie,G9:()=>st,H8:()=>ee,Hq:()=>rt,Ig:()=>w,Iu:()=>C,JI:()=>ct,JJ:()=>te,JU:()=>K,Jz:()=>Ke,KQ:()=>oe,Kk:()=>Ze,Kw:()=>et,LP:()=>jt,LR:()=>d,Lg:()=>$,Mg:()=>Se,Mm:()=>I,N1:()=>Y,Nm:()=>m,No:()=>ce,Ow:()=>Q,P2:()=>n,P8:()=>Ee,PD:()=>Te,PE:()=>h,PG:()=>W,PP:()=>pt,Pb:()=>Ne,QB:()=>x,QC:()=>Z,RE:()=>nt,RO:()=>$e,Rc:()=>Ct,Rl:()=>xt,Rx:()=>gt,TI:()=>E,Tm:()=>me,Ug:()=>X,Ur:()=>He,V9:()=>c,VK:()=>H,VL:()=>ue,VQ:()=>re,WD:()=>Ve,Wf:()=>k,YO:()=>P,YY:()=>Oe,Yb:()=>ge,Yg:()=>Ge,Z9:()=>ut,ZE:()=>dt,ZU:()=>S,_N:()=>Et,_S:()=>ft,_d:()=>Ot,aS:()=>_,aZ:()=>ht,au:()=>Re,b0:()=>bt,bL:()=>Fe,c2:()=>Le,d4:()=>we,dB:()=>g,dD:()=>Be,dK:()=>q,dY:()=>T,de:()=>u,dv:()=>fe,eQ:()=>r,f3:()=>xe,fF:()=>V,fL:()=>Dt,fN:()=>Rt,fk:()=>f,fl:()=>Ce,fr:()=>A,go:()=>i,h:()=>he,hD:()=>b,hE:()=>j,hh:()=>Xe,hk:()=>ne,hz:()=>mt,i:()=>a,j2:()=>ot,jN:()=>z,je:()=>y,jx:()=>L,kL:()=>Ye,ke:()=>Qe,km:()=>le,l0:()=>ie,l6:()=>qe,lz:()=>N,m0:()=>D,nS:()=>ve,nk:()=>lt,nn:()=>R,np:()=>J,oh:()=>it,op:()=>We,pt:()=>Ue,qk:()=>de,qp:()=>De,r6:()=>be,rQ:()=>ke,rj:()=>U,rp:()=>o,t3:()=>At,tM:()=>Pe,to:()=>Pt,ts:()=>tt,uH:()=>Ae,uy:()=>Je,w1:()=>je,x5:()=>se,xz:()=>v,y_:()=>ze,yu:()=>p,yx:()=>vt,z8:()=>Me,z_:()=>Tt});const a={view:"view",add:"add",modify:"modify",remove:"remove"},i="carriercompany",n="driver",o="customer",r="trailer",l="originterminal",c="destination",d="primemover",h="vehicle",u="shipmentbycompartment",p="shipmentbyproduct",m="ViewShipmentStatus",y="vessel",g="order",C="OrderForceClose",E="contract",D="receiptplanbycompartment",S="ViewMarineShipment",x="MarineShipmentByCompartment",A="ViewMarineReceipt",R="supplier",M="finishedproduct",v="RailDispatch",b="RailReceipt",k="RailRoute",f="RailWagon",j="CloseRailDispatch",O="PrintRailBOL",T="PrintRailFAN",P="RailDispatchLoadSpotAssignment",N="RailDispatchProductAssignment",w="ViewRailDispatch",I="ViewRailLoadingDetails",V="CloseRailReceipt",U="PrintRailBOD",L="PrintRailRAN",F="ViewRailReceipt",B="ViewRailUnLoadingDetails",_="SMS",Q="UnAccountedTransactionTank",H="UnAccountedTransactionMeter",q="PipelineDispatch",G="PipelineReceipt",z="PipelineDispatchManualEntry",K="PipelineReceiptManualEntry",W="LookUpData",J="HSEInspection",$="HSEInspectionConfig",Y="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",se="SiteView",ae="LeakageManualEntry",ie="Terminal",ne="SlotInformation",oe="TankGroup",re="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",he="AccessCard",ue="ResetPin",pe="SlotConfiguration",me="PrintMarineFAN",ye="PrintMarineBOL",ge="ViewMarineLoadingDetails",Ce="ViewMarineShipmentAuditTrail",Ee="CloseMarineShipment",De="IssueCard",Se="ActivateCard",xe="RevokeCard",Ae="AutoIDAssociation",Re="MarineReceiptByCompartment",Me="PrintMarineRAN",ve="PrintMarineBOD",be="ViewMarineUnloadingDetails",ke="ViewMarineReceiptAuditTrail",fe="CloseMarineReceipt",je="WeekendConfig",Oe="EODAdmin",Te="PrintBOL",Pe="PrintFAN",Ne="PrintBOD",we="CloseShipment",Ie="CloseReceipt",Ve="CONTRACTFORCECLOSE",Ue="Captain",Le="OverrideShipmentSequence",Fe="KPIInformation",Be="Language",_e="WebPortalUserMap",Qe="BayGroup",He="PipelineHeaderSiteView",qe="TankMonitor",Ge="PersonAdmin",ze="ProductReconciliationReports",Ke="ReportConfiguration",We="EXECONFIGURATION",Je="ShareholderAllocation",$e="NotificationGroup",Ye="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",st="ShareholderAgreement",at="TANKSHAREHOLDERPRIMEFUNCTION",it="ROLEADMIN",nt="ShiftConfig",ot="PrinterConfiguration",rt="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",ht="PipelineMeterSiteView",ut="RailSiteView",pt="MarineSiteView",mt="LoadingDetails",yt="UnloadingDetails",gt="RoadHSEInspection",Ct="RoadHSEInspectionConfig",Et="MarineHSEInspection",Dt="MarineHSEInspectionConfig",St="RailHSEInspection",xt="RailHSEInspectionConfig",At="PipelineHSEInspection",Rt="PipelineHSEInspectionConfig",Mt="PrintRAN",vt="ViewReceiptStatus",bt="customerrecipe",kt="COAParameter",ft="COATemplate",jt="COAManagement",Ot="COACustomer",Tt="COAAssignment",Pt="ProductForecastConfiguration"},35861:(e,t,s)=>{"use strict";s.d(t,{F1:()=>r,i7:()=>l,r4:()=>o});var a=s(86178),i=s.n(a),n=(s(15660),s(65043),s(70579));function o(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function r(){let e=window.navigator.userLanguage||window.navigator.language;return i().locale(e),i().localeData().longDateFormat("L")}function l(e){return(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:e}),(0,n.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}},50477:()=>{}}]);
//# sourceMappingURL=1438.7889958d.chunk.js.map