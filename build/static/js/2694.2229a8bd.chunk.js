"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[2694,5841,8222],{29089:(t,e,s)=>{s.r(e),s.d(e,{default:()=>j});var i=s(65043),a=s(40252),o=s(65187),n=s(78374),r=s(67907),l=s(72711),c=s(70579);function d(t){let{tableData:e,pageSize:s,onRowClick:i,modNotificationData:a,handleSave:o,onFieldChange:d,onActiveStatusChange:h,handleReset:u,validationErrors:p,notificationData:g,saveEnabled:D}=t;const[y]=(0,r.useTranslation)();return(0,c.jsxs)("div",{className:"detailsContainer",style:{marginTop:"-2rem"},children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(l.Input,{fluid:!0,value:a.GroupCode,indicator:"required",onChange:t=>d("GroupCode",t),label:y("NotificationGroup_GroupCode"),error:y(p.GroupCode),reserveSpace:!1,disabled:""!==g.GroupCode})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(l.Select,{fluid:!0,placeholder:y("Common_Select"),label:y("NotificationGroup_Status"),value:""===a.Active||void 0===a.Active||null===a.Active||a.Active,options:[{text:y("ViewShipment_Ok"),value:!0},{text:y("ViewShipmentStatus_Inactive"),value:!1}],onChange:t=>d("Active",t)})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(l.Input,{fluid:!0,value:a.Description,onChange:t=>d("Description",t),label:y("NotificationGroup_Description"),error:y(p.Description),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-9 col-lg-12",children:(0,c.jsxs)("div",{style:{float:"right"},children:[(0,c.jsx)(l.Button,{content:y("NotificationGroup_Reset"),className:"cancelButton",onClick:()=>u()}),(0,c.jsx)(l.Button,{type:"primary",content:y("NotificationGroup_Save"),disabled:!D,onClick:()=>o()})]})})]}),(0,c.jsx)("div",{className:"row marginRightZero tableScroll",children:(0,c.jsx)("div",{className:"col-12 detailsTable",children:(0,c.jsxs)(n.bQ,{data:e,search:!0,onCellClick:t=>void 0!==i?i(t):{},children:[(0,c.jsx)(n.bQ.ActionBar,{}),(0,c.jsx)(n.bQ.Column,{className:"compColHeight colminWidth notificationgroupstatus",field:"GroupCode",sortable:!0,header:y("NotificationGroup_GroupCode")},"GroupCode"),(0,c.jsx)(n.bQ.Column,{className:"compColHeight colminWidth notificationgroupstatus",field:"Active",header:y("NotificationGroup_Status"),renderer:t=>function(t){const{value:e,field:s}=t;return"boolean"===typeof e||"Active"===s?e?(0,c.jsx)(l.Icon,{name:"check",size:"small",color:"green"}):(0,c.jsx)(l.Icon,{name:"close",size:"small",color:"red"}):""===e||null===e||void 0===e?e:void 0}(t)},"Active"),(0,c.jsx)(n.bQ.Column,{className:"compColHeight colminWidth",field:"Description",header:y("NotificationGroup_Description")},"Description"),Array.isArray(e)&&e.length>s?(0,c.jsx)(n.bQ.Pagination,{}):""]})})})]})}var h=s(14159),u=(s(92342),s(53536)),p=s.n(u),g=s(66554),D=s(40854),y=s.n(D),f=s(72067),m=s(69062),v=s(80312),C=s(46100),b=s(44192),R=s(97508),S=s(11981),N=s(93779),E=s(62900);class A extends i.Component{constructor(){super(...arguments),this.state={isDetails:!1,isReadyToRender:!1,isDetailsModified:!1,operationsVisibilty:{add:!1,delete:!1,shareholder:!1},selectedRow:[],data:[],notificationData:p().cloneDeep(C.CK),validationErrors:m.Th(b.Pr),modNotificationData:{},saveEnabled:!1,showAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1,tempNotificationData:{}},this.handleAdd=()=>{try{var{operationsVisibilty:t}={...this.state};t.delete=!1,t.add=!1,this.setState({isDetails:!0,operationsVisibilty:t}),this.setDefaultValues()}catch(e){console.log("NotificationGroupComposite:Error occured on handleAdd",e)}},this.handleRowClick=t=>{try{var{operationsVisibilty:e}={...this.state};e.add=m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.RO),e.delete=!0,this.setState({isDetails:!0,notificationData:t.rowData,modNotificationData:t.rowData,operationsVisibilty:e})}catch(s){console.log("NotificationGroupComposite:Error occured on Row click",s)}},this.handleReset=()=>{try{const{validationErrors:t}={...this.state},e=p().cloneDeep(this.state.notificationData);Object.keys(t).forEach((function(e){t[e]=""})),this.setState({modNotificationData:{...e},validationErrors:t})}catch(t){console.log("NotificationGroupDetailsComposite:Error occured on handleReset",t)}},this.handleChange=(t,e)=>{try{const s=p().cloneDeep(this.state.modNotificationData);s[t]=e,this.setState({modNotificationData:s});const i=p().cloneDeep(this.state.validationErrors);void 0!==b.Pr[t]&&(i[t]=m.jr(b.Pr[t],e),this.setState({validationErrors:i}))}catch(s){console.log("NotificationGroupDetailsComposite:Error occured on handleChange",s)}},this.handleDelete=()=>{try{this.handleAuthenticationClose();let s=p().cloneDeep(this.state.modNotificationData);var{operationsVisibilty:t}={...this.state};t.delete=!1,this.setState({operationsVisibilty:t});var e=s.GroupCode;let i=[{key:N.aW,value:e}],a={keyDataCode:N.aW,KeyCodes:i},n={messageType:"critical",message:"NotificationGroup_DeleteMsg",messageResultDetails:[{keyFields:["NotificationGroup_GroupCode"],keyValues:[e],isSuccess:!1,errorMessage:""}]};y()(f.yCp,m.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var s=e.data;n.messageType=s.IsSuccess?"success":"critical",n.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?(t.delete=!1,this.setState({isReadyToRender:!1,operationsVisibilty:t},(()=>{this.getNotificationGroupList(),this.setDefaultValues()}))):(n.messageResultDetails[0].errorMessage="Notification_DelFailure",t.delete=!0,this.setState({operationsVisibilty:t})),(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:n})}),{autoClose:"success"===n.messageType&&1e4})})).catch((t=>{console.log("Error occured while deleting:"+t);var{operationsVisibilty:e}={...this.state};e.delete=!0,this.setState({operationsVisibilty:e}),n.messageResultDetails[0].errorMessage=t,(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:n})}),{autoClose:"success"===n.messageType&&1e4})}))}catch(s){console.log("NotificationgroupComposite:Error occured on handleDelete",s)}},this.addUpdateNotificationGroup=()=>{try{this.handleAuthenticationClose(),this.setState({saveEnabled:!1});let t=p().cloneDeep(this.state.tempNotificationData);""===this.state.notificationData.GroupCode?this.CreateNotificationGroup(t):this.updateNotificationGroup(t)}catch(t){console.log("Notificatioon Details Composite : Error in addUpdateNotificationGroup")}},this.handleSave=()=>{try{let t=p().cloneDeep(this.state.modNotificationData);if(this.validateSave(t)){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,s=p().cloneDeep(t);this.setState({showAuthenticationLayout:e,tempNotificationData:s},(()=>{!1===e&&this.addUpdateNotificationGroup()}))}else this.setState({saveEnabled:!0})}catch(t){console.log("NotificationGroupComposite:Error occured on handleSave",t)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1})},this.authenticateDelete=()=>{try{let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showDeleteAuthenticationLayout:t}),!1===t&&this.handleDelete()}catch(t){console.log("NotificationGroup Delete : Error in authenticateDelete")}}}componentDidMount(){try{m.pJ(this.props.userDetails.EntityResult.IsArchived);var{operationsVisibilty:t}={...this.state};t.add=m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.RO),this.setState({operationsVisibilty:t}),this.getNotificationGroupList()}catch(e){console.log("NotificationGroupComposite:Error occured on componentDidMount",e)}}validateSave(t){var e=p().cloneDeep(this.state.validationErrors);Object.keys(b.Pr).forEach((function(s){e[s]=m.jr(b.Pr[s],t[s])})),this.setState({validationErrors:e});var s=!0;return s&&(s=Object.values(e).every((function(t){return""===t}))),s}setDefaultValues(){this.setState({modNotificationData:p().cloneDeep(C.CK),notificationData:p().cloneDeep(C.CK)})}CreateNotificationGroup(t){try{t.Active=""===t.Active||void 0===t.Active||t.Active;let e=[{key:N.aW,value:t.GroupCode},{key:N.$Q,value:t.Active},{key:N.GA,value:t.Description}],s={keyDataCode:N.aW,KeyCodes:e},i={messageType:"critical",message:"NotificationGroup_SuccessMsg",messageResultDetails:[{keyFields:["NotificationGroup_GroupCode"],keyValues:[t.GroupCode],isSuccess:!1,errorMessage:""}]};y()(f.p_h,m.tW(s,this.props.tokenDetails.tokenInfo)).then((e=>{let s=e.data;i.messageType=s.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.RO),notificationData:t,modNotificationData:t},(()=>{this.getNotificationGroupList()})):(i.messageResultDetails[0].errorMessage=s.ErrorList[0],this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.RO)}),console.log("Error in NotificationGroup:",s.ErrorList));const a={...this.state.operationsVisibilty};"success"===i.messageType&&(a.add=!0,a.delete=!0,this.setState({isDetails:!0,operationsVisibilty:a})),(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})})).catch((t=>{this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.RO)}),i.messageResultDetails[0].errorMessage=t,(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}))}catch(e){console.log("Error in Createnotificationgroup",e)}}updateNotificationGroup(t){try{let e=[{key:N.aW,value:t.GroupCode},{key:N.$Q,value:t.Active},{key:N.GA,value:t.Description}],s={keyDataCode:N.aW,KeyCodes:e},i={messageType:"critical",message:"NotificationGroup_SuccessMsg",messageResultDetails:[{keyFields:["NotificationGroup_GroupCode"],keyValues:[t.GroupCode],isSuccess:!1,errorMessage:""}]};y()(f.YwC,m.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let e=t.data;i.messageType=e.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=e.IsSuccess,!0===e.IsSuccess?this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.RO)},(()=>{this.getNotificationGroupList()})):(i.messageResultDetails[0].errorMessage=e.ErrorList[0],this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.RO)})),(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})})).catch((t=>{this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.RO)}),i.messageResultDetails[0].errorMessage=t,(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}))}catch(e){console.log("Error  while updatenotificatiogroup",e)}}getNotificationGroupList(){try{y()(f.nUP,m.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{var e=t.data;!0===e.IsSuccess?this.setState({data:e.EntityResult,isReadyToRender:!0,saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.RO)}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in getNotificationGroupList:",e.ErrorList))})).catch((t=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting getNotificationGroupList:",t)}))}catch(t){console.log("Error while getnotificationlist",t)}}getActionType(){return this.state.showDeleteAuthenticationLayout?v.i.remove:this.state.showAuthenticationLayout?""===this.state.notificationData.GroupCode?v.i.add:v.i.modify:void 0}getOperation(){return this.state.showDeleteAuthenticationLayout?this.handleDelete:this.state.showAuthenticationLayout?this.addUpdateNotificationGroup:void 0}render(){return(0,c.jsxs)("div",{className:"buttonstyle",children:[(0,c.jsx)(o.A,{children:(0,c.jsx)(g.$,{operationsVisibilty:this.state.operationsVisibilty,shareholders:this.props.userDetails.EntityResult.ShareholderList,onDelete:this.authenticateDelete,onAdd:this.handleAdd,shrVisible:!1})}),this.state.isReadyToRender?(0,c.jsx)(o.A,{children:(0,c.jsx)(d,{tableData:this.state.data.Table,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,terminalsToShow:this.props.userDetails.EntityResult.PageAttibutes.NoOfTerminalsToShow,onRowClick:this.handleRowClick,modNotificationData:this.state.modNotificationData,notificationData:this.state.notificationData,isDetails:this.state.isDetails,handleSave:this.handleSave,onFieldChange:this.handleChange,handleReset:this.handleReset,validationErrors:this.state.validationErrors,saveEnabled:this.state.saveEnabled})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(a.A,{message:"Loading"})}),(0,c.jsx)(o.A,{children:(0,c.jsx)(h.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})}),this.state.showAuthenticationLayout||this.state.showDeleteAuthenticationLayout?(0,c.jsx)(E.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:this.getActionType(),functionGroup:v.RO,handleOperation:this.getOperation(),handleClose:this.handleAuthenticationClose}):null]})}}const j=(0,R.Ng)((t=>({userDetails:t.getUserDetails.userDetails,tokenDetails:t.getUserDetails.TokenAuth})))(A)},7020:(t,e,s)=>{s.r(e),s.d(e,{default:()=>j});var i=s(65043),a=s(40252),o=s(65187),n=s(78374),r=s(67907),l=s(72711),c=s(70579);function d(t){let{tableData:e,pageSize:s,onRowClick:i,modNotificationData:a,handleSave:o,onFieldChange:d,handleReset:h,validationErrors:u,saveEnabled:p}=t;const[g]=(0,r.useTranslation)();return(0,c.jsxs)("div",{className:"detailsContainer",style:{marginTop:"-2rem"},children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(l.Input,{fluid:!0,value:a.MessageSource,indicator:"required",onChange:t=>d("MessageSource",t),label:g("NotificationRestriction_Source"),error:g(u.MessageSource),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(l.Input,{fluid:!0,value:a.MessageCode,onChange:t=>d("MessageCode",t),indicator:"required",label:g("NotificationRestriction_MessageCode"),error:g(u.MessageCode),reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsxs)("div",{style:{float:"right",marginTop:"1.5rem"},children:[(0,c.jsx)(l.Button,{content:g("NotificationGroup_Reset"),className:"cancelButton",onClick:()=>h()}),(0,c.jsx)(l.Button,{type:"primary",content:g("NotificationGroup_Save"),disabled:!p,onClick:()=>o()})]})})]}),(0,c.jsx)("div",{className:"row marginRightZero tableScroll",children:(0,c.jsx)("div",{className:"col-12 detailsTable",children:(0,c.jsxs)(n.bQ,{data:e,search:!0,onCellClick:t=>void 0!==i?i(t):{},children:[(0,c.jsx)(n.bQ.ActionBar,{}),(0,c.jsx)(n.bQ.Column,{className:"compColHeight colminWidth",field:"MessageSource",sortable:!0,header:g("NotificationRestriction_Source")},"MessageSource"),(0,c.jsx)(n.bQ.Column,{className:"compColHeight colminWidth",field:"MessageCode",header:g("NotificationRestriction_MessageCode")},"MessageCode"),Array.isArray(e)&&e.length>s?(0,c.jsx)(n.bQ.Pagination,{}):""]})})})]})}var h=s(14159),u=(s(92342),s(53536)),p=s.n(u),g=s(66554),D=s(40854),y=s.n(D),f=s(72067),m=s(69062),v=s(80312),C=s(46100),b=s(44192),R=s(97508),S=s(11981),N=s(93779),E=s(62900);class A extends i.Component{constructor(){super(...arguments),this.state={isDetails:!1,isReadyToRender:!1,isDetailsModified:!1,operationsVisibilty:{add:!1,delete:!1,shareholder:!1},selectedRow:{},data:[],notificationData:p().cloneDeep(C.lQ),validationErrors:m.Th(b.M8),modNotificationData:{},saveEnabled:!1,showAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1,tempNotificationData:{}},this.handleAdd=()=>{try{var{operationsVisibilty:t}={...this.state};t.delete=!1,t.add=!1,this.setState({isDetails:!0,operationsVisibilty:t}),this.setDefaultValues()}catch(e){console.log("NotificationRestrictionComposite:Error occured on handleAdd",e)}},this.handleRowClick=t=>{try{var{operationsVisibilty:e}={...this.state};e.add=m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.kL),e.delete=!0,this.setState({isDetails:!0,notificationData:t.rowData,modNotificationData:t.rowData,operationsVisibilty:e})}catch(s){console.log("NotificationRestrictionComposite:Error occured on Row click",s)}},this.handleReset=()=>{try{const{validationErrors:t}={...this.state},e=p().cloneDeep(this.state.notificationData);Object.keys(t).forEach((function(e){t[e]=""})),this.setState({modNotificationData:{...e},validationErrors:t})}catch(t){console.log("NotificationGroupDetailsComposite:Error occured on handleReset",t)}},this.handleChange=(t,e)=>{try{const s=p().cloneDeep(this.state.modNotificationData);s[t]=e,this.setState({modNotificationData:s});const i=p().cloneDeep(this.state.validationErrors);void 0!==b.M8[t]&&(i[t]=m.jr(b.M8[t],e),this.setState({validationErrors:i}))}catch(s){console.log("NotificationGroupDetailsComposite:Error occured on handleChange",s)}},this.handleDelete=()=>{try{this.handleAuthenticationClose();let s=p().cloneDeep(this.state.modNotificationData);var{operationsVisibilty:t}={...this.state};t.delete=!1,this.setState({operationsVisibilty:t});var e=s.MessageCode;let i=[{key:N.M$,value:s.MessageCode},{key:N.pe,value:s.MessageSource}],a={keyDataCode:N.M$,KeyCodes:i},n={messageType:"critical",message:"NotificationRestriction_DeleteMsg",messageResultDetails:[{keyFields:["NotificationGroup_GroupCode"],keyValues:[e],isSuccess:!1,errorMessage:""}]};y()(f.hAF,m.tW(a,this.props.tokenDetails.tokenInfo)).then((e=>{var s=e.data;n.messageType=s.IsSuccess?"success":"critical",n.messageResultDetails[0].isSuccess=s.IsSuccess,!0===s.IsSuccess?(t.delete=!1,this.setState({isReadyToRender:!1,operationsVisibilty:t},(()=>{this.getNotificationRestrictionList(),this.setDefaultValues()}))):(n.messageResultDetails[0].errorMessage="Notification_DelFailure",t.delete=!0,this.setState({operationsVisibilty:t})),(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:n})}),{autoClose:"success"===n.messageType&&1e4})})).catch((t=>{console.log("Error occured while deleting:"+t);var{operationsVisibilty:e}={...this.state};e.delete=!0,this.setState({operationsVisibilty:e}),n.messageResultDetails[0].errorMessage=t,(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:n})}),{autoClose:"success"===n.messageType&&1e4})}))}catch(s){console.log("NotificationgroupComposite:Error occured on handleDelete",s)}},this.addUpdateNotificationRestriction=()=>{try{this.handleAuthenticationClose(),this.setState({saveEnabled:!1});let t=p().cloneDeep(this.state.tempNotificationData);""===this.state.notificationData.MessageSource?this.CreateNotificationRestriction(t):this.updateNotificationRestriction(t)}catch(t){console.log("Restrict Notification Details Composite : Error in addUpdateNotificationRestriction")}},this.handleSave=()=>{try{let t=p().cloneDeep(this.state.modNotificationData);if(this.validateSave(t)){let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,s=p().cloneDeep(t);this.setState({showAuthenticationLayout:e,tempNotificationData:s},(()=>{!1===e&&this.addUpdateNotificationRestriction()}))}else this.setState({saveEnabled:!0})}catch(t){console.log("NotificationGroupComposite:Error occured on handleSave",t)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1})},this.authenticateDelete=()=>{try{let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showDeleteAuthenticationLayout:t}),!1===t&&this.handleDelete()}catch(t){console.log("NotificationResctriction Delete : Error in authenticateDelete")}}}componentDidMount(){try{m.pJ(this.props.userDetails.EntityResult.IsArchived);var{operationsVisibilty:t}={...this.state};t.add=m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.kL),this.setState({operationsVisibilty:t}),this.getNotificationRestrictionList()}catch(e){console.log("NotificationGroupComposite:Error occured on componentDidMount",e)}}setDefaultValues(){this.setState({modNotificationData:p().cloneDeep(C.lQ),notificationData:p().cloneDeep(C.lQ)})}validateSave(t){try{var e=p().cloneDeep(this.state.validationErrors);Object.keys(b.M8).forEach((function(s){e[s]=m.jr(b.M8[s],t[s])})),this.setState({validationErrors:e});var s=!0;return s&&(s=Object.values(e).every((function(t){return""===t}))),s}catch(i){console.log("Error in Validatesave",i)}}CreateNotificationRestriction(t){try{let e=[{key:N.M$,value:t.MessageCode},{key:N.pe,value:t.MessageSource}],s={keyDataCode:N.M$,KeyCodes:e},i={messageType:"critical",message:"NotificationRestriction_SuccessMsg",messageResultDetails:[{keyFields:["NotificationRestriction_MessageCode"],keyValues:[t.MessageCode],isSuccess:!1,errorMessage:""}]};y()(f.ess,m.tW(s,this.props.tokenDetails.tokenInfo)).then((t=>{let e=t.data;i.messageType=e.IsSuccess?"success":"critical",console.log(e),i.messageResultDetails[0].isSuccess=e.IsSuccess,!0===e.IsSuccess?this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.kL)},(()=>{this.getNotificationRestrictionList(),this.setDefaultValues()})):(i.messageResultDetails[0].errorMessage=e.ErrorList[0],this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.kL)}),console.log("Error in NotificationGroup:",e.ErrorList));const s={...this.state.operationsVisibilty};"success"===i.messageType&&(s.add=!0,s.delete=!1,this.setState({isDetails:!0,operationsVisibilty:s})),(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})})).catch((t=>{this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.add,v.kL)}),i.messageResultDetails[0].errorMessage=t,(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4})}))}catch(e){console.log("Error in getnotificationrestriction",e)}}updateNotificationRestriction(t){try{let e=p().cloneDeep(this.state.notificationData),s=[{key:N.M$,value:t.MessageCode},{key:N.pe,value:t.MessageSource},{key:N.pw,value:e.MessageCode},{key:N.QK,value:e.MessageSource}],i={keyDataCode:N.M$,KeyCodes:s},a={messageType:"critical",message:"NotificationRestriction_SuccessMsg",messageResultDetails:[{keyFields:["NotificationRestriction_MessageCode"],keyValues:[t.MessageCode],isSuccess:!1,errorMessage:""}]};y()(f.HAz,m.tW(i,this.props.tokenDetails.tokenInfo)).then((t=>{let e=t.data;if(a.messageType=e.IsSuccess?"success":"critical",a.messageResultDetails[0].isSuccess=e.IsSuccess,!0===e.IsSuccess){this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.kL)},(()=>{this.getNotificationRestrictionList(),this.setDefaultValues()}));const t={...this.state.operationsVisibilty};"success"===a.messageType&&(t.add=!0,t.delete=!1,this.setState({isDetails:!0,operationsVisibilty:t}))}else a.messageResultDetails[0].errorMessage=e.ErrorList[0],this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.kL)});console.log("Error in update NotificationGroup:",e.ErrorList),(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})})).catch((t=>{this.setState({saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.kL)}),a.messageResultDetails[0].errorMessage=t,(0,h.toast)((0,c.jsx)(o.A,{children:(0,c.jsx)(S.A,{notificationMessage:a})}),{autoClose:"success"===a.messageType&&1e4})}))}catch(e){console.log("Error in update NotificationGroup",e)}}getNotificationRestrictionList(){try{y()(f.AmM,m.Jm(this.props.tokenDetails.tokenInfo)).then((t=>{var e=t.data;!0===e.IsSuccess?this.setState({data:e.EntityResult,isReadyToRender:!0,saveEnabled:m.ab(this.props.userDetails.EntityResult.FunctionsList,v.i.modify,v.kL)}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in getNotificationGroupList:",e.ErrorList))})).catch((t=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting getNotificationGroupList:",t)}))}catch(t){console.log("Error in getNotificationRestriction",t)}}getActionType(){return this.state.showDeleteAuthenticationLayout?v.i.remove:this.state.showAuthenticationLayout?""===this.state.notificationData.MessageSource?v.i.add:v.i.modify:void 0}getOperation(){return this.state.showDeleteAuthenticationLayout?this.handleDelete:this.state.showAuthenticationLayout?this.addUpdateNotificationRestriction:void 0}render(){return(0,c.jsxs)("div",{className:"buttonstyle",children:[(0,c.jsx)(o.A,{children:(0,c.jsx)(g.$,{operationsVisibilty:this.state.operationsVisibilty,shareholders:this.props.userDetails.EntityResult.ShareholderList,onDelete:this.authenticateDelete,onAdd:this.handleAdd,shrVisible:!1})}),this.state.isReadyToRender?(0,c.jsx)(o.A,{children:(0,c.jsx)(d,{tableData:this.state.data.Table,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,terminalsToShow:this.props.userDetails.EntityResult.PageAttibutes.NoOfTerminalsToShow,selectedRow:this.state.selectedRow,onRowClick:this.handleRowClick,modNotificationData:this.state.modNotificationData,isDetails:this.state.isDetails,handleSave:this.handleSave,onFieldChange:this.handleChange,handleReset:this.handleReset,validationErrors:this.state.validationErrors,saveEnabled:this.state.saveEnabled})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(a.A,{message:"Loading"})}),(0,c.jsx)(o.A,{children:(0,c.jsx)(h.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})}),this.state.showAuthenticationLayout||this.state.showDeleteAuthenticationLayout?(0,c.jsx)(E.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:this.getActionType(),functionGroup:v.kL,handleOperation:this.getOperation(),handleClose:this.handleAuthenticationClose}):null]})}}const j=(0,R.Ng)((t=>({userDetails:t.getUserDetails.userDetails,tokenDetails:t.getUserDetails.TokenAuth})))(A)},5768:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var i=s(65043),a=s(65187),o=s(66554),n=s(72711),r=s(29089),l=s(7020),c=s(92562),d=s(65173),h=s.n(d),u=s(97508),p=s(67907),g=s(70579);class D extends i.Component{render(){return(0,g.jsxs)("div",{children:[(0,g.jsx)(a.A,{children:(0,g.jsx)(o.$,{breadcrumbItem:this.props.activeItem,shareholders:this.props.userDetails.EntityResult.ShareholderList,deleteVisible:!1,addVisible:!1,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),(0,g.jsx)(p.TranslationConsumer,{children:t=>(0,g.jsx)("div",{className:"notificationTabAlignment",children:(0,g.jsxs)(n.Tab,{defaultActiveIndex:0,children:[(0,g.jsx)(n.Tab.Pane,{title:t("Group"),children:(0,g.jsx)(r.default,{})}),(0,g.jsx)(n.Tab.Pane,{title:t("Messages"),children:(0,g.jsx)(c.default,{})}),(0,g.jsx)(n.Tab.Pane,{title:t("Restriction"),children:(0,g.jsx)(l.default,{})})]})})})]})}}const y=(0,u.Ng)((t=>({userDetails:t.getUserDetails.userDetails,tokenDetails:t.getUserDetails.TokenAuth})))(D);r.default.propTypes={activeItem:h().object}}}]);
//# sourceMappingURL=2694.2229a8bd.chunk.js.map