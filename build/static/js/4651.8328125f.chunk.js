"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[4651],{54651:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var o=i(65043),s=i(97508),a=i(65173),n=i.n(a),r=i(65187),l=(i(92342),i(63973),i(67907)),d=i(40854),c=i.n(d),h=i(72067),m=i(69062),p=i(80312),u=i(72711),C=i(78374),f=i(93779),S=i(53536),g=i.n(S),T=(i(86178),i(60446)),y=i.n(T),x=i(7523),D=i(70579);class k extends o.Component{constructor(e){super(e),this.state={timeSpan:"",time:"",isBooked:!1}}componentDidMount(){try{let e=this.props.slotTime.startLTTime.format("HH:mm"),t=e+" - "+this.props.slotTime.endLTTime.format("HH:mm");this.setState({time:e,timeSpan:t,isBooked:this.props.slotTime.booked})}catch(e){console.log("BookSlotComposite:Error occurred on componentDidMount",e)}}render(){return(0,D.jsx)(r.A,{children:(0,D.jsx)(l.TranslationConsumer,{children:e=>(0,D.jsxs)("div",{children:[this.state.isBooked?"":(0,D.jsxs)("div",{className:"mobile-tobebook-slot-card",children:[(0,D.jsx)("div",{className:"mobile-slot-time-text",children:(0,D.jsx)("span",{children:this.state.time})}),!1===this.props.operationsVisibilty.add?"":(0,D.jsx)("div",{className:"mobile-slot-button-div",children:(0,D.jsx)(u.Button,{type:"primary",size:"small",content:e("COMMON_BOOK_NOW"),onClick:this.props.handleSlotBook})})]}),this.state.isBooked?(0,D.jsxs)("div",{className:"mobile-booked-slot-card",children:[!1===this.props.isCanCancel?"":(0,D.jsx)("div",{className:"mobile-cancel-slot-icon",onClick:this.props.handleCancelBook,children:(0,D.jsx)(u.Icon,{root:"common",name:"close",size:"small"})}),(0,D.jsx)("div",{className:"mobile-booked-slot-icon",children:(0,D.jsx)(u.Icon,{root:"common",name:"badge-check",size:"large"})}),(0,D.jsx)("div",{className:"mobile-booked-slot-timespan",children:(0,D.jsx)("span",{children:this.state.timeSpan})})]}):""]})})})}}const b=(0,s.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(k);var B=i(10766),E=i(45217);const M=e=>(0,D.jsx)(r.A,{children:(0,D.jsx)(l.TranslationConsumer,{children:t=>(0,D.jsx)("div",{id:"confirmModal",children:(0,D.jsx)(u.Modal,{className:"common-loading-modal",open:e.isOpen,size:"large",children:(0,D.jsx)(u.Modal.Content,{children:(0,D.jsx)("div",{style:{textAlign:"center",fontSize:"20px",minHeight:"100px"},children:(0,D.jsx)(u.Loader,{text:e.loadingMessage})})})})})})});M.defaultProps={isOpen:!1};const R=M;class L extends o.Component{constructor(e){super(e),this.state={selectedSlot:{},slots:[],tempSlotInfo:{},showCancelModal:!1,showUpdateModal:!1,isRefreshing:!1,showTipModal:!1,tipSuccess:!1,tipMessage:""}}componentDidMount(){try{this.generateSlots()}catch(e){console.log("BaySlotComposite:Error occurred on componentDidUpdate",e)}}componentDidUpdate(){try{let e=window.document.getElementById(this.props.locationCode+"Div");if(null!=e){let t=this.props.slotTimeList.find((e=>e.booked));if(null!=t){let i=102*this.props.slotTimeList.filter((e=>e.isVisible)).indexOf(t);e.scrollLeft=i}}}catch(e){console.log("BaySlotComposite:Error occurred on componentDidUpdate",e)}}success(e){this.showMessage(!0,!0,e)}failed(e){this.showMessage(!0,!1,e)}showMessage(e,t,i){this.setState({showTipModal:e,tipSuccess:t,tipMessage:i})}getBookSlotParam(e){let t=e.startCurrentTime,i=e.endCurrentTime;return{Remarks:"Mobile Slot Booked",TransactionType:this.props.isShipment?"1":"2",TransactionCode:this.props.transaction.Code,Status:x.P4.BOOKED,StartTime:t,EndTime:i,LocationCode:this.props.locationCode,ShareholderCode:this.props.transaction.ShareholderCode,TerminalCode:this.props.selectedTerminal.Key.Code,TransportationType:x.LY.ROAD,Attributes:[]}}getCancelBookParam(e){let t=-1*(new Date).getTimezoneOffset()-this.props.selectedTerminal.Key.TimeZone,i=y()(e.startLTTime),o=y()(e.endLTTime);return{Remarks:"Mobile Slot Canceled",TransactionType:this.props.isShipment?"1":"2",TransactionCode:this.props.transaction.Code,Status:x.P4.BOOKED,StartTime:i.add(t,"minute").toDate(),EndTime:o.add(t,"minute").toDate(),LocationCode:this.props.locationCode,ShareholderCode:this.props.transaction.ShareholderCode,TerminalCode:this.props.selectedTerminal.Key.Code,TransportationType:x.LY.ROAD,ReferenceNumber:this.props.transaction.ReferenceNumber,Attributes:[]}}generateSlots(){let e=this.props.slotTimeList.map((e=>{if(e.isVisible){let t=this.isCanCancelBook(e);return(0,D.jsx)(b,{slotTime:e,isCanCancel:t,handleSlotBook:()=>this.bookSlot(e),handleCancelBook:()=>this.cancelBook(e),operationsVisibilty:this.props.operationsVisibilty,terminalZone:this.props.selectedTerminal.Key.TimeZone})}}));this.setState({slots:e})}isCanCancelBook(e){if(!1===this.props.operationsVisibilty.cancel)return!1;let t=this.props.slotParameters,i=y()().add(-1*t.timeDifference,"minute").add(t.minSlotMinutesToBook,"minute"),o=y()(e.startCurrentTime).add(-1*t.timeDifference,"minutes");return!1!==i.isBefore(o)}bookSlot(e){this.props.transaction.SlotBooked?this.updateBookSlot(e):this.createBookSlot(e)}createBookSlot(e){try{let t={ShareHolderCode:"",keyDataCode:0,KeyCodes:null,Entity:this.getBookSlotParam(e)};c()(h.E9R,m.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;!0===t.IsSuccess?this.props.refreshSlotState("COMMON_BOOKING_SUCCESSFUL","CREATE",t.EntityResult):(this.failed(t.ErrorList[0]),console.log("Error while Booking Slot:",t))})).catch((e=>{this.failed("error"),console.log("Error while Booking Slot:",e)}))}catch(t){this.failed("error"),console.log("Error while Booking Slot",t)}}updateBookSlot(e){try{this.setState({selectedSlot:e},(()=>this.showUpdateConfirmModal(!0)))}catch(t){console.log("Error while Update Book Slot",t)}}confirmUpdateBook(){try{let e=g().cloneDeep(this.state.selectedSlot),t={ShareHolderCode:"",keyDataCode:0,KeyCodes:null,Entity:this.getCancelBookParam(e)};c()(h.y4Q,m.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{this.showUpdateConfirmModal(!1);let t=e.data;!0===t.IsSuccess?this.props.refreshSlotState("COMMON_UPDATE_BOOKING_SUCCESSFUL","UPDATE",t.EntityResult):(this.failed(t.ErrorList[0]),console.log("Error while Booking Slot:",t))})).catch((e=>{this.failed("error"),console.log("Error while Booking Slot:",e)}))}catch(e){this.failed("error"),console.log("Error while Booking Slot",e)}}showUpdateConfirmModal(e){this.setState({showUpdateModal:e})}showCancelConfirmModal(e){this.setState({showCancelModal:e})}cancelBook(e){try{this.setState({selectedSlot:e},(()=>this.showCancelConfirmModal(!0)))}catch(t){console.log("Error while Cancel Book Slot",t)}}confirmCancelBook(){try{let e=g().cloneDeep(this.state.selectedSlot),t={ShareHolderCode:"",keyDataCode:0,KeyCodes:null,Entity:this.getCancelBookParam(e)};this.showCancelConfirmModal(!1),c()(h.HER,m.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;!0===t.IsSuccess?this.props.refreshSlotState("COMMON_CANCEL_BOOKING_SUCCESSFUL","CANCEL",t.EntityResult):(this.failed(t.ErrorList[0]),console.log("Error while  Cancle Slot:",t))})).catch((e=>{this.showCancelConfirmModal(!1),this.failed("error"),console.log("Error while  Cancel Slot:",e)}))}catch(e){this.showCancelConfirmModal(!1),this.failed("error"),console.log("Error while Cancel Slot",e)}}render(){try{let e=[];this.props.productList.map((t=>{0===this.props.bayFPList.filter((e=>e===t.FinishedProductCode)).length&&e.push((0,D.jsxs)("div",{style:{marginBottom:"5px",display:"flex"},children:[(0,D.jsx)("div",{style:{marginRight:"10px",fontSize:"1.75rem"},children:(0,D.jsx)(u.Icon,{root:"common",name:"close",size:"small"})}),(0,D.jsx)("div",{children:t.FinishedProductCode})]}))}));let t=g().cloneDeep(this.state.slots),i=this.props.bayFPList.map((e=>e+" "));return i="Support Products:"+i,(0,D.jsx)(r.A,{children:(0,D.jsx)(l.TranslationConsumer,{children:o=>(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"slotBlocksDispaly",children:[(0,D.jsx)("div",{children:(0,D.jsx)("div",{className:"mobile-bay-card",children:0===e.length?(0,D.jsx)("div",{className:"mobile-bay-fp-list",children:(0,D.jsx)(u.Tooltip,{content:i,element:(0,D.jsx)("span",{children:this.props.locationCode}),position:"top center",event:"focus",hoverable:!0})}):(0,D.jsxs)("div",{className:"mobile-horizontal-center",children:[(0,D.jsxs)("div",{className:"mobile-bay-not-compatible-tooltip",children:[(0,D.jsx)("span",{style:{marginRight:"5px"},children:(0,D.jsx)(u.Icon,{root:"common",name:"badge-warning",size:"small"})}),(0,D.jsx)(u.Tooltip,{content:i,element:(0,D.jsx)("span",{children:this.props.locationCode}),position:"top center",event:"focus",hoverable:!0})]}),(0,D.jsx)("div",{className:"mobile-bay-not-compatible-fp",children:e})]})})}),(0,D.jsx)("div",{id:this.props.locationCode+"Div",className:"slotBlocksDispaly mobile-slot",children:t})]}),(0,D.jsx)(R,{isOpen:this.state.isRefreshing,loadingMessage:"Loading"}),(0,D.jsx)(E.A,{isOpen:this.state.showCancelModal,confirmMessage:"COMMON_CANCEL_CONFIRM",handleNo:()=>this.showCancelConfirmModal(!1),handleYes:()=>this.confirmCancelBook()}),(0,D.jsx)(B.A,{isSuccess:this.state.tipSuccess,isOpen:this.state.showTipModal,message:this.state.tipMessage,handleClose:()=>{this.setState({showTipModal:!1})}}),(0,D.jsx)(E.A,{isOpen:this.state.showUpdateModal,confirmMessage:"BOOKING_MODIFY_CONFIRM",handleNo:()=>this.showUpdateConfirmModal(!1),handleYes:()=>this.confirmUpdateBook()})]})})})}catch(e){console.log("Error while render BaySlotComposite:",e)}}}const N=(0,s.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(L);class j extends o.Component{constructor(e){super(e),this.state={transaction:this.props.transaction,terminalList:[],bayList:[],selectedTerminal:{Key:{Code:""},Value:[]},selectedDate:y()(),slotConfigurations:this.props.slotConfigutationList,slotTimeList:[],slotParameters:{slotStartTime:y()(),slotEndTime:y()(),slotDuration:30,timeDifference:0,minSlotMinutesToBook:30,maxSlotDaysToBook:7,minSlotChangeMinutes:90,maxSlots:1,refreshTime:5,terminalCode:""},baySlotList:[],isRefreshing:!1,bookedSlotList:[],showTipModal:!1,tipSuccess:!1,tipMessage:""},this.handleTerminalChange=e=>{try{let t=this.state.terminalList.filter((t=>t.Key.Code===e));if(0==t.length)return;let i=this.state.slotConfigurations.filter((t=>t.TerminalCode===e));i.length>0&&i[0].SlotParams.length>0?this.setState({selectedTerminal:t[0]},(()=>{this.getBaysforTerminal()})):this.failed("SlotConfigurationsEmpty")}catch(t){this.failed("error"),console.log("SlotBookComposite:Error occured on handleTerminalChange",t)}},this.handleDateChange=e=>{try{let t=this.state.selectedDate;t=t.add(e,"day"),this.setState({selectedDate:t},(()=>{this.setSlotParam()}))}catch(t){console.log("error in handleDateChanage",t)}}}componentDidMount(){try{this.getTerminalList(),this.refreshSlotState=this.refreshSlotState.bind(this)}catch(e){console.log("RoadSlotBookComposite:Error occurred on componentDidMount",e)}}success(e){this.showMessage(!0,!0,e)}failed(e){this.showMessage(!0,!1,e)}showMessage(e,t,i){this.setState({showTipModal:e,tipSuccess:t,tipMessage:i})}getTerminalList(){c()(h.sL3+"0",m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess)if(Array.isArray(t.EntityResult)&&t.EntityResult.length>0){let e=this.fiterTerminalList(t.EntityResult);if(e.length>0){let t=e.find((e=>e.Key.Code===this.state.transaction.BookedTerminal));null!==t&&void 0!==t||(t=e[0]),this.setDefaultSelectDate(t.Key.TimeZone),this.setState({terminalList:e,selectedTerminal:t},(()=>{this.handleTerminalChange(this.state.selectedTerminal.Key.Code)}))}else this.failed("TerminalList_NotAvailable")}else console.log("Error while getting Terminal List:",t),this.failed("TerminalList_NotAvailable");else console.log("Error while getting Terminal List:",t),this.failed("TerminalList_NotAvailable")})).catch((e=>{this.failed("error"),console.log("Error while getting Terminal List:",e)}))}setDefaultSelectDate(e){let t=y()();this.props.isEditBook&&(t=this.state.transaction.StartTime);let i=-1*(new Date).getTimezoneOffset()-e;t=y()(t).add(-1*i,"minutes").set("hour",0).set("minute",0).set("second",0).set("millisecond",0),this.setState({selectedDate:t})}fiterTerminalList(e){let t=[],i=this.state.transaction.PlannedTerminal.split(",");return e.map((e=>{-1!==i.indexOf(e.Key.Code)&&t.push(e)})),t}getBaysforTerminal(){c()(h.G2Z+"?TransportationType="+x.LY.ROAD+"&TerminalCode="+this.state.selectedTerminal.Key.Code,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess)if(Array.isArray(t.EntityResult)&&t.EntityResult.length>0){let e=this.props.isShipment?t.EntityResult.filter((e=>"BOTH"===e.BayType||"LOADING"===e.BayType)):t.EntityResult.filter((e=>"BOTH"===e.BayType||"UNLOADING"===e.BayType)),i=[];e.forEach((e=>{let t={bayCode:e.BayCode,active:e.Active,bayType:e.BayType,shareholder:[]};Array.isArray(e.SupportedProducts)&&e.SupportedProducts.forEach((e=>{if(e.Active){let i=t.shareholder.filter((t=>t.shCode===e.Shareholdercode));i.length>0?i[0].fpCodes.push(e.Code):t.shareholder.push({shCode:e.Shareholdercode,fpCodes:[e.Code]})}})),i.push(t)})),this.setState({bayList:i},(()=>{this.setSlotParam()}))}else this.failed("BaySearch_NoResult"),console.log("No Bays found:",t);else this.failed("BaySearch_NoResult"),console.log("Error while getting bays:",t)})).catch((e=>{this.failed("BaySearch_NoResult"),console.log("Error while getting getBaysforTerminal:",e)}))}getTerminalDropdownOptions(){let e=this.state.terminalList.map((function(e){return e.Key.Code}));return m.Zj(e)}getBookedSlotList(){let e=this.state.slotParameters,t={TerminalCode:e.terminalCode,TransportationType:x.LY.ROAD,TransactionSource:this.props.isShipment?x.Mv.SHIPMENT:x.Mv.RECEIPT,FromDate:e.slotStartTime.add(e.timeDifference,"minute").toDate(),ToDate:e.slotEndTime.add(e.timeDifference,"minute").toDate()};c()(h.ghg,m.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data,i=[];!0===t.IsSuccess?Array.isArray(t.EntityResult)&&(i=t.EntityResult):this.failed(t.ErrorList[0]),this.setState({bookedSlotList:i},(()=>{this.setBaySlotList()}))})).catch((e=>{this.setState({bookedSlotList:[]},(()=>{this.setBaySlotList()})),this.failed(e)}))}isSelectedDateOutofRange(e){let t=this.state.slotParameters;if(null===t||t.timeDifference<=0)return!0;let i=y()().add(-1*t.timeDifference,"minute");return e.diff(i,"day")<0||e.diff(i,"day")>=t.maxSlotDaysToBook}isProductCompatibleWithBay(e){let t=this.props.productList;if(0===t.length||0===e.length)return!1;for(let i=0;i<t.length;i++)if(0!==e.filter((e=>e===t[i].FinishedProductCode)).length)return!0;return!1}getBaySupportProductList(e,t){let i=e.shareholder.filter((e=>e.shCode===t));return 0===i.length?[]:i[0].fpCodes}setSlotParam(){let e=this.state.selectedTerminal.Key.TimeZone,t=this.state.slotConfigurations.filter((e=>e.TerminalCode===this.state.selectedTerminal.Key.Code));if(0===t.length)return void this.failed("SlotConfigurationsEmpty");let i=-1*(new Date).getTimezoneOffset()-e,o=this.state.selectedDate,s=this.state.selectedDate,a="00:00",n="23:59",r="30",l=1,d=30,c=7,h=90,m=5,p=t[0].SlotParams.filter((e=>"SlotStartTime"===e.Name));p.length>0&&(a=p[0].Value),p=t[0].SlotParams.filter((e=>"SlotEndTime"===e.Name)),p.length>0&&(n=p[0].Value),p=t[0].SlotParams.filter((e=>"SlotDuration"===e.Name)),p.length>0&&(r=p[0].Value),p=t[0].SlotParams.filter((e=>"MaxNoOfSlots"===e.Name)),p.length>0&&(l=p[0].Value),p=t[0].SlotParams.filter((e=>"AdvanceSlotBookMaxDays"===e.Name)),p.length>0&&(c=p[0].Value),p=t[0].SlotParams.filter((e=>"BookAdvSlotMinutes"===e.Name)),p.length>0&&(d=p[0].Value),p=t[0].SlotParams.filter((e=>"ChangeAdvSlotMinutes"===e.Name)),p.length>0&&(h=p[0].Value),p=t[0].SlotParams.filter((e=>"RefreshInterval"===e.Name)),p.length>0&&(m=p[0].Value),o=o.set("hour",a.split(":")[0]).set("minute",a.split(":")[1]),s=s.set("hour",n.split(":")[0]).set("minute",n.split(":")[1]),o.diff(s,"minute")>=0&&(s=s.add(1,"day"));let u=g().cloneDeep(o),C=1,f=[];for(;u<s;){let e=u.add(r,"minute");f.push({slNo:C,startLTTime:u,startCurrentTime:u.add(i,"minute"),endLTTime:e,endCurrentTime:e.add(i,"minute"),booked:!1,isVisible:!0}),u=e,C+=1}let S={slotStartTime:o,slotEndTime:s,slotDuration:r,timeDifference:i,terminalCode:this.state.selectedTerminal.Key.Code,maxSlots:l,minSlotChangeMinutes:h,minSlotMinutesToBook:d,maxSlotDaysToBook:c,refreshTime:m};this.setState({slotTimeList:f,slotParameters:S},(()=>{this.getBookedSlotList()}))}handleSlotTimeList(e){let t=g().cloneDeep(this.state.slotTimeList);if(e.bayCode!==this.state.transaction.BookedBay)return t;let i=g().cloneDeep(this.state.slotParameters),o=this.state.transaction.StartTime,s=this.state.transaction.EndTime,a=y()(o).add(-1*i.timeDifference,"minutes"),n=y()(s).add(-1*i.timeDifference,"minutes");if(0!=this.state.selectedDate.diff(a,"day"))return t;if(!1===this.state.transaction.SlotBooked)return t;if(this.state.transaction.BookedTerminal!==this.state.selectedTerminal.Key.Code)return t;t.forEach((e=>{let t=y()(e.startLTTime),i=y()(e.endLTTime);t>=a&&i<=n&&(e.booked=!0)}));let r=t.filter((e=>e.booked));if(r.length<=1)return t;let l=r[0],d=r[r.length-1];return l.endCurrentTime=d.endCurrentTime,l.endLTTime=d.endLTTime,t=t.filter((e=>!1===e.booked)),t.push(l),t.sort(((e,t)=>e.slNo>=t.slNo?1:-1)),t}setBaySlotList(){try{let e=this.props.productList,t=0===e.length?"":e[0].ShareholderCode,i=[];this.state.bayList.forEach((o=>{let s=this.getBaySupportProductList(o,t),a=this.isProductCompatibleWithBay(s);if(a){let t=this.handleSlotTimeList(o);t.forEach((e=>{e.isVisible=this.isSlotVisible(o,e,a)})),0!==t.filter((e=>e.isVisible)).length&&i.push((0,D.jsx)("div",{style:{marginBottom:"16px",height:"100px"},className:"mobile-bay-slot-div-content",children:(0,D.jsx)(N,{isShipment:this.props.isShipment,slotTimeList:t,locationCode:o.bayCode,isBayCompatible:a,productList:e,bayFPList:s,isEditBook:this.props.isEditBook,transaction:this.state.transaction,selectedDate:this.state.selectedDate,selectedTerminal:this.state.selectedTerminal,operationsVisibilty:this.props.operationsVisibilty,slotParameters:this.state.slotParameters,refreshSlotState:this.refreshSlotState})}))}})),this.setState({baySlotList:i})}catch(e){console.log("RoadSlotBookComposite::setBaySlotList:"+e)}}isSlotVisible(e,t,i){if(t.booked)return!0;if(!i)return!1;if(!1===this.props.operationsVisibilty.add)return!1;let o=g().cloneDeep(this.state.slotParameters),s=y()().add(-1*o.timeDifference,"minute"),a=s.add(o.minSlotMinutesToBook,"minute"),n=y()(this.state.transaction.StartTime).add(-1*o.timeDifference,"minutes");if(!0===this.state.transaction.SlotBooked&&!1===a.isBefore(n))return!1;if(!1===a.isBefore(t.startLTTime))return!1;if(this.state.selectedDate.diff(s,"day")>=o.maxSlotDaysToBook)return!1;let r=g().cloneDeep(this.state.bookedSlotList);return 0===r.length||(r=r.filter((t=>t.TerminalCode===this.state.selectedTerminal.Key.Code&&t.TransactionCode!==this.state.transaction.Code&&t.TransportationType+""===x.LY.ROAD&&t.LocationCode===e.bayCode)),0===r.length||(r.forEach((e=>{e.StartTime=y()(e.StartTime).add(-1*o.timeDifference,"minute"),e.EndTime=y()(e.EndTime).add(-1*o.timeDifference,"minute")})),0===r.filter((e=>e.StartTime<=t.startLTTime&&e.EndTime>=t.endLTTime)).length))}refreshSlotState(e,t,i){let o=g().cloneDeep(this.state.transaction);"CREATE"===t||"UPDATE"===t?(o.ReferenceNumber=i.ReferenceNumber,o.StartTime=i.StartTime,o.EndTime=i.EndTime,o.BookedTerminal=i.TerminalCode,o.BookedBay=i.LocationCode,o.SlotBooked=!0):"CANCEL"===t&&(o.ReferenceNumber="",o.StartTime="",o.EndTime="",o.BookedTerminal="",o.BookedBay="",o.SlotBooked=!1),this.setState({transaction:o},(()=>{this.getBookedSlotList(),this.success(e)}))}render(){try{let e=this.getTerminalDropdownOptions(),t=g().cloneDeep(this.state.baySlotList);return(0,D.jsx)(r.A,{children:(0,D.jsx)(l.TranslationConsumer,{children:i=>(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"ui breadcrumb pl-1 mobile-bread-crumb mobile-align-items-start",children:[(0,D.jsx)("div",{className:"section mt-sm-2 mt-lg-0",style:{cursor:"pointer"},onClick:this.props.handleBackClick,children:(0,D.jsx)(u.Icon,{root:"common",name:"caret-left",className:"caretLeft"})}),(0,D.jsx)("div",{className:"section pl-1 mt-sm-2 mt-lg-0",children:(0,D.jsx)("span",{children:this.props.isShipment?i("TruckShipment")+" - "+this.props.transaction.Code:i("TruckReceipt")+" - "+this.props.transaction.Code})})]}),(0,D.jsx)("div",{id:"terminal",children:(0,D.jsxs)("div",{className:"mobile-terminal-select",children:[(0,D.jsx)("span",{children:i("Common_Terminal")}),(0,D.jsx)(u.Select,{className:"mobile-select",placeholder:i("Common_Terminal"),value:this.state.selectedTerminal.Key.Code,options:e,fluid:!0,onChange:e=>this.handleTerminalChange(e),disabled:this.state.transaction.SlotBooked})]})}),(0,D.jsx)("div",{id:"Date",className:"mobile-date-selector",children:(0,D.jsxs)("div",{className:"slotBlocksDispaly",style:{justifyContent:"center"},children:[(0,D.jsx)("div",{children:(0,D.jsx)(u.Icon,{onClick:()=>this.handleDateChange(-1),style:{cursor:"pointer"},root:"common",name:"caret-left",exactSize:24})}),(0,D.jsx)("div",{className:"mobile-slot-date-span",children:(0,D.jsx)("span",{children:this.state.selectedDate.format("DD MMM YYYY")})}),(0,D.jsx)("div",{children:(0,D.jsx)(u.Icon,{onClick:()=>this.handleDateChange(1),style:{cursor:"pointer"},root:"common",name:"caret-right",exactSize:24})})]})}),0!==t.length?(0,D.jsx)("div",{id:"content",className:"mobile-bay-slot-div",children:t}):(0,D.jsx)("div",{className:"col-12 col-md-12 col-lg-12",style:{textAlign:"center"},children:i("MarineDashboard_NoDataAvailable")}),(0,D.jsx)(R,{isOpen:this.state.isRefreshing,loadingMessage:"Loading"}),(0,D.jsx)(B.A,{isSuccess:this.state.tipSuccess,isOpen:this.state.showTipModal,message:this.state.tipMessage,handleClose:()=>{this.setState({showTipModal:!1})}})]})})})}catch(e){console.log("Error while render RoadSlotBookComposite:",e)}}}const O=(0,s.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(j);class w extends o.Component{constructor(e){super(e),this.state={transactionList:[],allTransactionList:[],compartmentList:[],expandedRows:[],bookedTransactionList:[],driverBayQueueInfo:null,isSlotBooking:!1,isEditBook:!1,bookingTransaction:null,bookingFPList:[],modifyModalOpen:!1,filterKeyword:"",slotConfigurations:[],operationsVisibilty:{add:!1,modify:!1,cancel:!1},showTipModal:!1,tipSuccess:!1,tipMessage:""},this.terminalRender=this.terminalRender.bind(this),this.toggleExpand=this.toggleExpand.bind(this),this.rowExpansionTemplate=this.rowExpansionTemplate.bind(this),this.editRender=this.editRender.bind(this),this.filterTransaction=this.filterTransaction.bind(this),this.dateRender=this.dateRender.bind(this),this.slotRender=this.slotRender.bind(this)}componentDidMount(){try{this.initAccessLevel(),this.getTransactionList(),this.getBayQueueInfoForUser(),this.startBayQueueInfoTimer()}catch(e){console.log("RoadSummaryComposite:Error occurred on componentDidMount",e)}}componentWillUnmount(){this.stopBayQueueInfoTimer()}success(e){this.showMessage(!0,!0,e)}failed(e){this.showMessage(!0,!1,e)}showMessage(e,t,i){this.setState({showTipModal:e,tipSuccess:t,tipMessage:i})}initAccessLevel(){let e=g().cloneDeep(this.state.operationsVisibilty);e.add=m.ab(this.props.userDetails.EntityResult.FunctionsList,p.i.add,p.hk),e.modify=m.ab(this.props.userDetails.EntityResult.FunctionsList,p.i.modify,p.hk),e.cancel=m.ab(this.props.userDetails.EntityResult.FunctionsList,p.i.remove,p.hk),this.setState({operationsVisibilty:e})}getTransactionList(){let e={TransactionType:this.props.isShipment?0:1};c()(h._Be,m.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;if(!0===t.IsSuccess){let e=this.handleTransactionList(t.EntityResult);this.setState({transactionList:e,allTransactionList:e,bookedTransactionList:e.filter((e=>e.SlotBooked))},(()=>{this.filterTransaction(this.state.filterKeyword),this.getSlotConfigurations()}))}else this.setState({transactionList:[],allTransactionList:[],bookedTransactionList:[]}),this.failed(t.ErrorList[0]),console.log("Failed in RoadSummaryComposite getTransactionList:",t.ErrorList)})).catch((e=>{this.failed("error"),console.log("Error in RoadSummaryComposite getTransactionList:",e)}))}startBayQueueInfoTimer(){let e=parseInt(this.props.bayQueueInfoRefreshInterval);this.bayQueueInfoTimer=setInterval((()=>{this.getBayQueueInfoForUser()}),1e3*e)}stopBayQueueInfoTimer(){null!=this.bayQueueInfoTimer&&(clearInterval(this.bayQueueInfoTimer),this.bayQueueInfoTimer=null)}getBayQueueInfoForUser(){let e={TransactionType:this.props.isShipment?0:1};c()(h.q6T,m.tW(e,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;!0===t.IsSuccess?Array.isArray(t.EntityResult.Table)&&t.EntityResult.Table.length>0&&this.setState({driverBayQueueInfo:t.EntityResult.Table[0]}):(this.setState({driverBayQueueInfo:null}),this.failed(t.ErrorList[0]),console.log("Failed in RoadSummaryComposite getBayQueueInfoForDriver:",t.ErrorList))})).catch((e=>{this.setState({driverBayQueueInfo:null}),this.failed("error"),console.log("Error in RoadSummaryComposite getBayQueueInfoForDriver:",e)}))}handleTransactionList(e){let t=[];return e.forEach((e=>{e.SlotBooked?e.TerminalCode=e.BookedTerminal:e.TerminalCode=e.PlannedTerminal;let i=g().cloneDeep(e);t.push(i)})),t}packCompartmentParam(e){let t=[{key:this.props.isShipment?f.yz:f.ml,value:e.Code}];return{ShareHolderCode:e.ShareholderCode,keyDataCode:this.props.isShipment?f.yz:f.ml,KeyCodes:t}}getCompartmentsInfo(e){let t=g().cloneDeep(this.state.compartmentList);0===(this.props.isShipment?t.filter((t=>t.ShipmentCode===e.Code)):t.filter((t=>t.ReceiptCode===e.Code))).length&&this.getTransactionDetail(e,(e=>{this.props.isShipment?e.EntityResult.ShipmentDetailsInfo.map((e=>{t.push(e)})):e.EntityResult.ReceiptCompartmentsInfo.map((e=>{t.push(e)})),this.setState({compartmentList:t})}))}terminalRender(e){if(e.rowData.SlotBooked){const t=this.state.expandedRows.includes(e.rowData);return(0,D.jsx)("div",{className:"terminal-icon",onClick:()=>{this.toggleExpand(e.rowData,t)},children:(0,D.jsx)(u.Icon,{root:"common",name:t?"caret-up":"caret-down"})})}return(0,D.jsx)("div",{className:"terminal-text",children:e.rowData.TerminalCode})}rowExpansionTemplate(e,t){try{let i=this.props.isShipment?this.state.compartmentList.filter((t=>t.ShipmentCode===e.Code)):this.state.compartmentList.filter((t=>t.ReceiptCode===e.Code));return(0,D.jsx)(r.A,{children:(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"mobile-pending-transaction-div-terminal",children:t+": "+e.BookedTerminal}),(0,D.jsx)("div",{className:"mobile-pending-transaction-tr-datatable mobile-large-font-datable mobile-pending-transaction-product",children:(0,D.jsxs)(C.bQ,{showHeader:!1,data:i,selectionMode:"single",children:[(0,D.jsx)(C.bQ.Column,{field:"FinishedProductCode"}),(0,D.jsx)(C.bQ.Column,{className:"text-align-center"}),(0,D.jsx)(C.bQ.Column,{renderer:this.quantityRender}),(0,D.jsx)(C.bQ.Column,{renderer:t=>this.editRender(t,e)})]})})]})})}catch(i){console.log("Error while rowExpansionTemplate:",i,e.Code)}}toggleExpand(e,t){try{let i=this.state.expandedRows,o=g().cloneDeep(this.state.bookedTransactionList);if(t){let t=i.findIndex((t=>JSON.stringify(t)===JSON.stringify(e)));i.splice(t,1),o.push(e)}else i.push(e),o=o.filter((t=>t.Code!==e.Code)),this.getCompartmentsInfo(e);this.setState({expandedRows:i,bookedTransactionList:o},(()=>{let i=document.getElementById("transactionTable").querySelector("table").querySelectorAll("tr.p-datatable-row");[].forEach.call(i,(function(i){-1!==i.innerHTML.indexOf(e.Code)&&(t?i.classList.remove("mobile-expanded-tr"):i.classList.add("mobile-expanded-tr"))}))}))}catch(i){console.log("Error in toggleExpand:",i,e.Code)}}editRender(e,t){try{if(!1===this.state.operationsVisibilty.modify)return"";let i=g().cloneDeep(this.state.compartmentList);if(i=this.props.isShipment?i.filter((t=>t.ShipmentCode===e.rowData.ShipmentCode)):i.filter((t=>t.ReceiptCode===e.rowData.ReceiptCode)),e.rowData.CompartmentCode===i[i.length-1].CompartmentCode){let i=this.isPastTimeForBookSlot(t);return(0,D.jsx)("div",{className:"terminal-icon",onClick:()=>this.confirmEditBooking(e.rowData,i),children:i?(0,D.jsx)("span",{className:"icon-BookInfo-view",size:"small"}):(0,D.jsx)(u.Icon,{root:"common",name:"edit",size:"small"})})}}catch(i){console.log("Error in RoadSummaryComposite editRender",i)}}getSlotConfigurations(){c()(h.OCt+x.LY.ROAD,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;!0===t.IsSuccess&&Array.isArray(t.EntityResult)&&t.EntityResult.length>0?this.setState({slotConfigurations:t.EntityResult}):console.log("Error while getting getSlotConfigurations:",t)})).catch((e=>{console.log("Error while getting getSlotConfigurations:",e)}))}isPastTimeForBookSlot(e){let t=this.state.slotConfigurations.filter((t=>t.TerminalCode===e.BookedTerminal));if(0==t.length)return!1;let i=t[0].SlotParams.filter((e=>"BookAdvSlotMinutes"===e.Name));if(i.length>0){let t=i[0].Value,o=new Date,s=-1*o.getTimezoneOffset()-e.TimeZone,a=y()(e.StartTime).add(-1*s,"minute"),n=y()(o).add(-1*s,"minute");if(!1===y()(n).add(t,"minute").isBefore(a))return!0}return!1}quantityRender(e){return e.rowData.Quantity+" "+e.rowData.QuantityUOM}slotRender(e,t){return e.rowData.SlotBooked?(0,D.jsx)(u.Icon,{root:"common",name:"badge-check",size:"medium"}):!1===this.state.operationsVisibilty.add?"":(0,D.jsx)(u.Button,{className:"border-radius-20",type:"primary",size:"small",content:t,onClick:()=>this.startSlotBooking(e.rowData)})}dateRender(e){if(e.rowData.SlotBooked){let t=y()(e.rowData.StartTime),i=y()(e.rowData.EndTime),o=e.rowData.TimeZone,s=-1*(new Date).getTimezoneOffset()-o,a=t.add(-1*s,"minutes");return(0,D.jsxs)("div",{children:[a.format("DD MMM YY"),(0,D.jsx)("br",{}),a.format("HH:mm")+" - "+i.add(-1*s,"minutes").format("HH:mm")]})}return y()(e.rowData.Date).format("DD MMM YY")}filterTransaction(e){this.setState({filterKeyword:e});let t=g().cloneDeep(this.state.allTransactionList);""!=e&&(t=t.filter((t=>-1!=t.Code.toUpperCase().indexOf(e.toUpperCase())))),this.setState({transactionList:t})}startEditBooking(){this.setState({isSlotBooking:!0}),this.showModifyConfirmModal(!1)}confirmEditBooking(e,t){try{let i=g().cloneDeep(this.state.compartmentList);i=this.props.isShipment?i.filter((t=>t.ShipmentCode===e.ShipmentCode)):i.filter((t=>t.ReceiptCode===e.ReceiptCode));let o=this.props.isShipment?this.state.allTransactionList.filter((t=>t.Code===e.ShipmentCode)):this.state.allTransactionList.filter((t=>t.Code===e.ReceiptCode)),s=0===o.length?null:o[0];this.setState({bookingTransaction:s,bookingFPList:i,isEditBook:!0},(()=>this.stopBayQueueInfoTimer())),0==t?this.showModifyConfirmModal(!0):this.setState({isSlotBooking:!0})}catch(i){console.log("Error in confirmEditBooking:",i)}}startSlotBooking(e){this.getTransactionDetail(e,(t=>{this.setState({isSlotBooking:!0,bookingTransaction:e,bookingFPList:this.props.isShipment?t.EntityResult.ShipmentDetailsInfo:t.EntityResult.ReceiptCompartmentsInfo,isEditBook:!1},(()=>this.stopBayQueueInfoTimer()))}))}getTransactionDetail(e,t,i){const o=this.props.isShipment?h.TJ4:h.r$n;c()(o,m.tW(this.packCompartmentParam(e),this.props.tokenDetails.tokenInfo)).then((e=>{let o=e.data;!0===o.IsSuccess?t(o):(void 0!==i&&null!==i&&i(o),this.failed(o.ErrorList[0]))})).catch((t=>{this.failed("error"),console.log("Error while getTransactionDetail:",t,e.Code)}))}endSlotBooking(){this.setState({isSlotBooking:!1,expandedRows:[]},(()=>{this.getTransactionList(),this.startBayQueueInfoTimer()}))}showModifyConfirmModal(e){this.setState({modifyModalOpen:e})}render(){return(0,D.jsx)(r.A,{children:(0,D.jsx)(l.TranslationConsumer,{children:e=>(0,D.jsxs)("div",{children:[this.state.isSlotBooking?(0,D.jsx)(O,{isShipment:this.props.isShipment,transaction:this.state.bookingTransaction,slotConfigutationList:this.state.slotConfigurations,productList:this.state.bookingFPList,isEditBook:this.state.isEditBook,handleBackClick:()=>this.endSlotBooking(),operationsVisibilty:this.state.operationsVisibilty}):"",this.state.isSlotBooking?"":(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"ui breadcrumb pl-1 mobile-bread-crumb mobile-align-items-start",children:[(0,D.jsx)("div",{className:"section mt-sm-2 mt-lg-0",style:{cursor:"pointer"},onClick:this.props.backToHomePage,children:(0,D.jsx)(u.Icon,{root:"common",name:"caret-left",className:"caretLeft"})}),(0,D.jsx)("div",{className:"section pl-1 mt-sm-2 mt-lg-0",children:(0,D.jsx)("span",{children:this.props.isShipment?e("SHIPMENT_SUMMARY"):e("RECEIPT_SUMMARY")})})]}),(0,D.jsxs)("div",{id:"content",className:"mobile-padding-0-30 mobile-margin-top-30",children:[null===this.state.driverBayQueueInfo?"":(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"mobile-half-width-card mobile-half-width-card-borderRight mobile-left-card-radius",children:[(0,D.jsx)("div",{className:"mobile-bay-queueinfo-baycode",children:this.state.driverBayQueueInfo.BayCode}),(0,D.jsx)("div",{className:"mobile-bay-queueinfo-transactioncode",children:this.state.driverBayQueueInfo.TransactionCode})]}),(0,D.jsx)("div",{className:"mobile-half-width-card mobile-right-card-radius",children:(0,D.jsxs)("div",{className:"mobile-bay-queueinfo-queuenumber",children:[e("COMMON_QUEUE")," - ",this.state.driverBayQueueInfo.QueueNumber]})})]}),(0,D.jsx)("div",{className:"mobile-find-your-transaction",children:(0,D.jsx)("span",{children:this.props.isShipment?e("FIND_YOUR_SHIPMENT"):e("FIND_YOUR_RECEIPT")})}),(0,D.jsx)("div",{children:(0,D.jsx)(u.Input,{style:{border:"none"},className:"input-example mobile-input",placeholder:this.props.isShipment?e("COMMON_ENTER_SHIPMENT_CODE"):e("COMMON_ENTER_RECEIPT_CODE"),icon:(0,D.jsx)(u.Icon,{name:"search",root:"common",size:"small"}),value:this.state.filterKeyword,onChange:this.filterTransaction,fluid:!0})}),(0,D.jsx)("div",{className:"mobile-pending-transaction-text",children:(0,D.jsx)("span",{children:this.props.isShipment?e("kpi_dashboardPendingShip"):e("kpi_dashboardPendingReceipts")})})]}),(0,D.jsx)("div",{className:"mobile-pending-transaction-datatable",children:(0,D.jsxs)(C.bQ,{data:this.state.transactionList,search:!1,globalFilterValue:"",selection:this.state.bookedTransactionList,searchPlaceholder:this.props.isShipment?e("COMMON_ENTER_SHIPMENT_CODE"):e("COMMON_ENTER_RECEIPT_CODE"),expandedRows:this.state.expandedRows,rowExpansionTemplate:t=>this.rowExpansionTemplate(t,e("Booked_Terminal")),selectionMode:"multiple",onSelectionChange:this.selectionChanged,id:"transactionTable",children:[(0,D.jsx)(C.bQ.Column,{header:e("Common_Code"),field:"Code",className:"header-transaction-code"}),(0,D.jsx)(C.bQ.Column,{header:e("COMMON_SLOT"),renderer:t=>this.slotRender(t,e("SlotBook_Book")),className:"text-align-center"}),(0,D.jsx)(C.bQ.Column,{header:e("Rpt_Date"),renderer:this.dateRender}),(0,D.jsx)(C.bQ.Column,{header:e("Common_Terminal"),renderer:this.terminalRender})]})})]}),(0,D.jsx)(E.A,{isOpen:this.state.modifyModalOpen,confirmMessage:"BOOKING_MODIFY_CONFIRM",handleNo:()=>this.showModifyConfirmModal(!1),handleYes:()=>this.startEditBooking()}),(0,D.jsx)(B.A,{isSuccess:this.state.tipSuccess,isOpen:this.state.showTipModal,message:this.state.tipMessage,handleClose:()=>{this.setState({showTipModal:!1})}})]})})})}}const v=(0,s.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(w);O.propTypes={isShipment:n().bool.isRequired,backToHomePage:n().func}},45217:(e,t,i)=>{i.d(t,{A:()=>l});i(65043);var o=i(72711),s=i(65187),a=i(67907),n=(i(63973),i(70579));const r=e=>(0,n.jsx)(s.A,{children:(0,n.jsx)(a.TranslationConsumer,{children:t=>(0,n.jsx)("div",{id:"confirmModal",children:(0,n.jsx)(o.Modal,{open:e.isOpen,size:"large",children:(0,n.jsx)(o.Modal.Content,{children:(0,n.jsxs)("div",{style:{textAlign:"center",fontSize:"20px"},children:[(0,n.jsx)("div",{children:(0,n.jsx)("b",{children:t(e.confirmMessage)})}),(0,n.jsxs)("div",{style:{marginTop:"50px"},children:[(0,n.jsx)(o.Button,{type:"secondary",content:t("COMMON_NO"),onClick:()=>e.handleNo()}),(0,n.jsx)(o.Button,{type:"primary",content:t("COMMON_YES"),onClick:()=>e.handleYes()})]})]})})})})})});r.defaultProps={isOpen:!1};const l=r},10766:(e,t,i)=>{i.d(t,{A:()=>l});i(65043);var o=i(72711),s=i(65187),a=i(67907),n=(i(63973),i(70579));const r=e=>(0,n.jsx)(s.A,{children:(0,n.jsx)(a.TranslationConsumer,{children:t=>(0,n.jsxs)("div",{children:[e.isSuccess?(0,n.jsx)("div",{id:"successModal",children:(0,n.jsx)(o.Modal,{open:e.isOpen,size:"large",children:(0,n.jsx)(o.Modal.Content,{children:(0,n.jsxs)("div",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold"},children:[(0,n.jsx)("div",{style:{marginBottom:"20px"},children:(0,n.jsx)(o.Icon,{className:"font-color-success",root:"common",name:"badge-check",size:"medium"})}),(0,n.jsx)("div",{children:t(e.message)}),(0,n.jsx)("div",{style:{marginTop:"50px"},children:(0,n.jsx)(o.Button,{type:"primary",content:t("COMMON_CLOSE"),onClick:()=>e.handleClose()})})]})})})}):"",e.isSuccess?"":(0,n.jsx)("div",{id:"failedModal",children:(0,n.jsx)(o.Modal,{open:e.isOpen,size:"large",children:(0,n.jsx)(o.Modal.Content,{children:(0,n.jsxs)("div",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold"},children:[(0,n.jsx)("div",{style:{marginBottom:"20px"},children:(0,n.jsx)(o.Icon,{className:"font-color-failed",root:"common",name:"badge-warning",size:"medium"})}),(0,n.jsx)("div",{children:t(e.message)}),(0,n.jsx)("div",{style:{marginTop:"50px"},children:(0,n.jsx)(o.Button,{type:"primary",content:t("COMMON_CLOSE"),onClick:()=>e.handleClose()})})]})})})})]})})});r.defaultProps={isOpen:!1,isSuccess:!0};const l=r},80312:(e,t,i)=>{i.d(t,{$3:()=>z,$H:()=>oe,$J:()=>pe,$K:()=>Ce,$V:()=>Mt,$b:()=>yt,$p:()=>V,AE:()=>b,Al:()=>U,B2:()=>ot,By:()=>bt,CW:()=>Ct,DA:()=>l,Ee:()=>Fe,FO:()=>N,Fy:()=>Pe,G9:()=>it,H8:()=>ee,Hq:()=>rt,Ig:()=>v,Iu:()=>S,JI:()=>dt,JJ:()=>te,JU:()=>W,Jz:()=>We,KQ:()=>ne,Kk:()=>$e,Kw:()=>et,LP:()=>Lt,LR:()=>c,Lg:()=>Z,Mg:()=>ye,Mm:()=>P,N1:()=>J,Nm:()=>u,No:()=>de,Ow:()=>Q,P2:()=>a,P8:()=>ge,PD:()=>je,PE:()=>h,PG:()=>G,PP:()=>pt,Pb:()=>we,QB:()=>x,QC:()=>$,RE:()=>at,RO:()=>Ze,Rc:()=>St,Rl:()=>xt,Rx:()=>ft,TI:()=>g,Tm:()=>ue,Ug:()=>X,Ur:()=>He,V9:()=>d,VK:()=>H,VL:()=>me,VQ:()=>re,WD:()=>Ie,Wf:()=>M,YO:()=>O,YY:()=>Ne,Yb:()=>fe,Yg:()=>ze,Z9:()=>mt,ZE:()=>ct,ZU:()=>y,_N:()=>gt,_S:()=>Rt,_d:()=>Nt,aS:()=>F,aZ:()=>ht,au:()=>ke,b0:()=>Et,bL:()=>Ue,c2:()=>_e,d4:()=>ve,dB:()=>f,dD:()=>Ve,dK:()=>K,dY:()=>j,de:()=>m,dv:()=>Re,eQ:()=>r,f3:()=>xe,fF:()=>I,fL:()=>Tt,fN:()=>kt,fk:()=>R,fl:()=>Se,fr:()=>D,go:()=>s,h:()=>he,hD:()=>E,hE:()=>L,hh:()=>Xe,hk:()=>ae,hz:()=>ut,i:()=>o,j2:()=>nt,jN:()=>Y,je:()=>C,jx:()=>_,kL:()=>Je,ke:()=>Qe,km:()=>le,l0:()=>se,l6:()=>Ke,lz:()=>w,m0:()=>T,nS:()=>Be,nk:()=>lt,nn:()=>k,np:()=>q,oh:()=>st,op:()=>Ge,pt:()=>Ae,qk:()=>ce,qp:()=>Te,r6:()=>Ee,rQ:()=>Me,rj:()=>A,rp:()=>n,t3:()=>Dt,tM:()=>Oe,to:()=>Ot,ts:()=>tt,uH:()=>De,uy:()=>qe,w1:()=>Le,x5:()=>ie,xz:()=>B,y_:()=>Ye,yu:()=>p,yx:()=>Bt,z8:()=>be,z_:()=>jt});const o={view:"view",add:"add",modify:"modify",remove:"remove"},s="carriercompany",a="driver",n="customer",r="trailer",l="originterminal",d="destination",c="primemover",h="vehicle",m="shipmentbycompartment",p="shipmentbyproduct",u="ViewShipmentStatus",C="vessel",f="order",S="OrderForceClose",g="contract",T="receiptplanbycompartment",y="ViewMarineShipment",x="MarineShipmentByCompartment",D="ViewMarineReceipt",k="supplier",b="finishedproduct",B="RailDispatch",E="RailReceipt",M="RailRoute",R="RailWagon",L="CloseRailDispatch",N="PrintRailBOL",j="PrintRailFAN",O="RailDispatchLoadSpotAssignment",w="RailDispatchProductAssignment",v="ViewRailDispatch",P="ViewRailLoadingDetails",I="CloseRailReceipt",A="PrintRailBOD",_="PrintRailRAN",U="ViewRailReceipt",V="ViewRailUnLoadingDetails",F="SMS",Q="UnAccountedTransactionTank",H="UnAccountedTransactionMeter",K="PipelineDispatch",z="PipelineReceipt",Y="PipelineDispatchManualEntry",W="PipelineReceiptManualEntry",G="LookUpData",q="HSEInspection",Z="HSEInspectionConfig",J="Email",$="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",oe="LeakageManualEntry",se="Terminal",ae="SlotInformation",ne="TankGroup",re="Tank",le="SealMaster",de="TankEODEntry",ce="UnmatchedLocalTransactions",he="AccessCard",me="ResetPin",pe="SlotConfiguration",ue="PrintMarineFAN",Ce="PrintMarineBOL",fe="ViewMarineLoadingDetails",Se="ViewMarineShipmentAuditTrail",ge="CloseMarineShipment",Te="IssueCard",ye="ActivateCard",xe="RevokeCard",De="AutoIDAssociation",ke="MarineReceiptByCompartment",be="PrintMarineRAN",Be="PrintMarineBOD",Ee="ViewMarineUnloadingDetails",Me="ViewMarineReceiptAuditTrail",Re="CloseMarineReceipt",Le="WeekendConfig",Ne="EODAdmin",je="PrintBOL",Oe="PrintFAN",we="PrintBOD",ve="CloseShipment",Pe="CloseReceipt",Ie="CONTRACTFORCECLOSE",Ae="Captain",_e="OverrideShipmentSequence",Ue="KPIInformation",Ve="Language",Fe="WebPortalUserMap",Qe="BayGroup",He="PipelineHeaderSiteView",Ke="TankMonitor",ze="PersonAdmin",Ye="ProductReconciliationReports",We="ReportConfiguration",Ge="EXECONFIGURATION",qe="ShareholderAllocation",Ze="NotificationGroup",Je="NotificationRestriction",$e="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",ot="TANKSHAREHOLDERPRIMEFUNCTION",st="ROLEADMIN",at="ShiftConfig",nt="PrinterConfiguration",rt="CustomerAgreement",lt="BaySCADAConfiguration",dt="RailReceiptUnloadSpotAssignment",ct="STAFF_VISITOR",ht="PipelineMeterSiteView",mt="RailSiteView",pt="MarineSiteView",ut="LoadingDetails",Ct="UnloadingDetails",ft="RoadHSEInspection",St="RoadHSEInspectionConfig",gt="MarineHSEInspection",Tt="MarineHSEInspectionConfig",yt="RailHSEInspection",xt="RailHSEInspectionConfig",Dt="PipelineHSEInspection",kt="PipelineHSEInspectionConfig",bt="PrintRAN",Bt="ViewReceiptStatus",Et="customerrecipe",Mt="COAParameter",Rt="COATemplate",Lt="COAManagement",Nt="COACustomer",jt="COAAssignment",Ot="ProductForecastConfiguration"},93779:(e,t,i)=>{i.d(t,{$A:()=>j,$L:()=>lt,$Q:()=>Ve,Ae:()=>Le,BX:()=>ae,Bl:()=>ue,Bv:()=>Se,Bw:()=>$,Cb:()=>L,Cg:()=>M,DN:()=>at,D_:()=>nt,Dm:()=>O,E7:()=>q,EW:()=>v,FN:()=>se,FR:()=>a,FY:()=>ut,GA:()=>Fe,GT:()=>y,Ge:()=>we,HB:()=>ne,JQ:()=>G,KJ:()=>ee,Kz:()=>K,Ln:()=>H,M$:()=>He,O5:()=>tt,Of:()=>xe,Oo:()=>it,Pk:()=>fe,Pm:()=>J,Q5:()=>dt,QK:()=>Ke,QV:()=>$e,QZ:()=>ct,Qu:()=>ie,RX:()=>Me,Rb:()=>F,Rp:()=>k,SP:()=>C,T5:()=>Ie,UB:()=>g,UT:()=>l,Ui:()=>Y,VA:()=>V,Vk:()=>ke,Wb:()=>be,Wv:()=>De,X3:()=>Ge,Y4:()=>Q,Yl:()=>ot,Zx:()=>Z,_B:()=>ge,_C:()=>R,_R:()=>Ce,_j:()=>ce,_n:()=>o,aM:()=>I,aW:()=>Ue,bW:()=>U,c4:()=>st,cD:()=>r,c_:()=>B,cx:()=>_,dL:()=>ht,eE:()=>le,eS:()=>Ye,eT:()=>D,f:()=>w,f7:()=>pe,fR:()=>he,g1:()=>de,gN:()=>qe,gO:()=>z,iH:()=>rt,ij:()=>et,j1:()=>E,jC:()=>Te,je:()=>me,jz:()=>re,ll:()=>Xe,mM:()=>T,mO:()=>pt,mW:()=>Pe,ml:()=>f,mm:()=>Je,nB:()=>te,nT:()=>ve,np:()=>Oe,oA:()=>b,oG:()=>We,oV:()=>X,ok:()=>h,oy:()=>d,pL:()=>Ne,pe:()=>Qe,pw:()=>ze,qF:()=>n,qQ:()=>mt,qp:()=>m,s0:()=>x,sA:()=>Re,st:()=>oe,tY:()=>P,uw:()=>W,v6:()=>s,vL:()=>Ae,vf:()=>je,wH:()=>Ze,wO:()=>ye,wX:()=>A,x4:()=>Be,xf:()=>p,xy:()=>c,yI:()=>S,yV:()=>N,yz:()=>u,zL:()=>Ee,zf:()=>_e});const o="CarrierCode",s="TransportationType",a="ShareHolderCode",n="DriverCode",r="CustomerCode",l="TrailerCode",d="OriginTerminalCode",c="PrimeMoverCode",h="VehicleCode",m="DestinationCode",p="FinishedProductCode",u="ShipmentCode",C="OrderCode",f="ReceiptCode",S="MarineDispatchCode",g="MarineReceiptCode",T="SupplierCode",y="ContractCode",x="RailDispatchCode",D="RailReceiptCode",k="RailRouteCode",b="WagonCode",B="CompartmentCode",E="SMSConfigurationCode",M="PipelineDispatchCode",R="PipelineReceiptCode",L="EmailConfigurationCode",N="BaseProductCode",j="LocationCode",O="SiteViewType",w="EntityCode",v="EntityType",P="CardReaderCode",I="AccessCardCode",A="BcuCode",_="DeuCode",U="WeighBridgeCode",V="Weight",F="OutOfToleranceAllowed",Q="LoadingArmCode",H="TransportationType",K="BayCode",z="TransactionNumber",Y="BatchNumber",W="TerminalCode",G="TankGroupCode",q="TankCode",Z="MeterCode",J="ShipmentType",$="ShipmentStatus",X="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",oe="ProductCategoryType",se="Reason",ae="SealMasterCode",ne="Reason",re="OperationName",le="FPTransactionID",de="ProductCategoryType",ce="CompartmentSeqNoInVehicle",he="AdjustedPlanQuantity",me="ForceComplete",pe="DispatchStatus",ue="HolidayDate",Ce="ActionID",fe="EODTimePrev",Se="TerminalAction",ge="EODTime",Te="MonthStartDay",ye="CaptainCode",xe="GeneralTMUserType",De="GeneralTMUserCode",ke="IsPriority",be="ActualTerminalCode",Be="ShipmentBondNo",Ee="ReceiptBondNo",Me="DeviceType",Re="DeviceCode",Le="BayGroup",Ne="PipelineHeaderCode",je="ExchangePartner",Oe="PersonID",we="UserName",ve="PipelinePlanCode",Pe="PipelinePlanType",Ie="ChannelCode",Ae="ProcessName",_e="ReconciliationCode",Ue="NotificationGroupCode",Ve="NotificationGroupStatus",Fe="NotificationGroupDesc",Qe="NotificationResSource",He="NotificationResMsgCode",Ke="NotificationOrigResSource",ze="NotificationOrigResMsgCode",Ye="NotificationMessageCode",We="PositionType",Ge="ExchangeAgreementCode",qe="ProductTransferAgreementCode",Ze="ShareholderAgreementStatus",Je="RequestorShareholder",$e="LenderShareholder",Xe="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",ot="PrinterName",st="LocationType",at="ForceClosureReason",nt="TransactionType",rt="CustomerRecipeCode",lt="COATemplateCode",dt="COAManagementCode",ct="COAParameterCode",ht="COAManagementFinishedProductCode",mt="COASeqNumber",pt="ForecastDate",ut="ForecastTanks"},92342:()=>{}}]);
//# sourceMappingURL=4651.8328125f.chunk.js.map