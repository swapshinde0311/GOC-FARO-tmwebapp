"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[5824,5841,8222,5050,3235],{66554:(e,t,i)=>{i.d(t,{$:()=>d});var o=i(65043),r=i(72711),a=i(67907),s=i(65187),n=i(69062),l=i(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:c,selectedShareholder:d,onShareholderChange:u,onDelete:h,onAdd:m,popUpContent:p,shrVisible:g,handleBreadCrumbClick:C,addVisible:x,deleteVisible:y}=e;const[S,f]=(0,o.useState)(!1),[j,D]=(0,o.useState)(!1);function v(){t.add&&(p.length>0?D(!1===j):m())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(s.A,{children:[" ",(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsxs)(r.Breadcrumb,{children:[i.parents.map((t=>(0,l.jsx)(r.Breadcrumb.Item,{onClick:()=>{void 0!==C&&null!==C&&C(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(r.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===g?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(r.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:n.Zj(c),onChange:e=>u(e)})})]})})})}),(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsxs)(r.Modal,{open:S,size:"small",children:[(0,l.jsx)(r.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(r.Modal.Footer,{children:[(0,l.jsx)(r.Button,{type:"secondary",content:e("Cancel"),onClick:()=>f(!1)}),(0,l.jsx)(r.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{f(!1),h()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[x?(0,l.jsx)(r.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:v,children:(0,l.jsx)(r.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:j,children:(0,l.jsx)("div",{onMouseLeave:()=>D(!1),children:(0,l.jsx)(a.TranslationConsumer,{children:e=>(0,l.jsx)(r.VerticalMenu,{children:(0,l.jsxs)(r.VerticalMenu,{children:[(0,l.jsx)(r.VerticalMenu.Header,{children:e("Common_Create")}),p.map((t=>(0,l.jsx)(r.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,D(!1),void m(e);var e},children:e(t.fieldValue)})))]})})})})}):"",y?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&f(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(r.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};i(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:o,selectedShareholder:r,onShareholderChange:a,onDelete:s,onAdd:n,popUpContent:d,shrVisible:u,handleBreadCrumbClick:h,addVisible:m,deleteVisible:p}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:i,shareholders:o,selectedShareholder:r,onShareholderChange:a,onDelete:s,onAdd:n,popUpContent:d,shrVisible:u,handleBreadCrumbClick:h,addVisible:m,deleteVisible:p})}},19380:(e,t,i)=>{i.d(t,{A:()=>j});var o=i(65043),r=i(728),a=i(62672),s=i(27976),n=i(44063),l=i(39078),c=i(48546),d=i(82967),u=i(11201),h=i(43439),m=(i(60663),i(48385)),p=i(72711),g=i(67907),C=i(65187),x=i(53536),y=(i(90837),i(70579));const S=e=>{const[t,i]=(0,o.useState)(null),[S]=(0,g.useTranslation)(),f=t=>new r.CollectionView(e.sourceData,{pageSize:t}),[j,D]=(0,o.useState)(f(e.rowsPerPage)),v=o.createRef(),P=o.createRef(),R=o.createRef(),w=o.createRef(),b=o.useRef(),N=o.useRef(e.selectionRequired?[]:null);let F=null;const T=t=>{try{if(I(),e.onRowClick&&t.addEventListener(t.hostElement,"click",(i=>{let o=t.hitTest(i);if(o.target.closest(".wj-cell")&&![...o.target.closest(".wj-cell").classList].includes("wj-group")&&o.cellType===a.CellType.Cell){const i=t.rows[o.row].dataItem;e.onRowClick(i)}})),t.selectionMode=r.asEnum("None",a.SelectionMode),t.select(-1,-1),i(t),e.selectionRequired){F=new u.Selector(t,{itemChecked:(i,o)=>{e.singleSelection&&t.rows.filter((e=>e.isSelected&&1===N.current.filter((t=>x.isEqual(t,e.dataItem))).length)).forEach((e=>{e.isSelected=!1})),e.onSelectionHandle(t.rows.filter((e=>e.isSelected)).map((e=>e.dataItem)))},showCheckAll:!e.singleSelection});let i=F.column.grid;F.column=i.rowHeaders.columns[0],i.headersVisibility=a.HeadersVisibility.All,i.selectionMode=r.asEnum("None",a.SelectionMode)}}catch(o){console.log("Error in gridInitialized: "+o)}};(0,o.useEffect)((()=>{try{if(null!=v){let e=v.current.control;P.current.control.grid=e}D(f(e.rowsPerPage))}catch(t){console.log("Error in grid update:",t)}}),[e.sourceData]),(0,o.useEffect)((()=>{try{t&&e.selectionRequired&&(N.current.length=0,N.current.push(...e.selectedItems),t.rows.forEach((t=>{1===e.selectedItems.filter((e=>x.isEqual(e,t.dataItem))).length?t.isSelected=!0:t.isSelected=!1})),t.refresh())}catch(i){console.log("Error in pre-selecting rows:",i)}}),[e.selectedItems]),(0,o.useEffect)((()=>{try{if(localStorage.getItem(e.parentComponent+"GridState")&&"null"!==localStorage.getItem(e.parentComponent+"GridState")&&t){let o=JSON.parse(localStorage.getItem(e.parentComponent+"GridState")),a=t;a.columns.forEach((e=>{let t=o.columns.filter((t=>t.binding===e.binding));e.visible=t.length>0?t[0].visible:e.visible})),R.current.control.filterDefinition=o.filterDefinition,a.collectionView.deferUpdate((()=>{a.collectionView.sortDescriptions.clear();for(let e=0;e<o.sortDescriptions.length;e++){let t=o.sortDescriptions[e];a.collectionView.sortDescriptions.push(new r.SortDescription(t.property,t.ascending))}}));for(let e=0;e<o.groupDescriptions.length;e++)a.collectionView.groupDescriptions.push(new r.PropertyGroupDescription(o.groupDescriptions[e])),a.columns.filter((t=>t.binding===o.groupDescriptions[e]))[0].visible=!1;if(sessionStorage.getItem(e.parentComponent+"GridState")&&"null"!==sessionStorage.getItem(e.parentComponent+"GridState")){let t=JSON.parse(sessionStorage.getItem(e.parentComponent+"GridState"));a.collectionView.moveToPage(a.collectionView.pageCount-1>=t.pageIndex?t.pageIndex:a.collectionView.pageCount-1),P&&(P.current.control.text=t.searchText)}i(a),t.refresh()}}catch(o){console.log("Error in restoring local storage settings: ",o)}}),[j]),(0,o.useEffect)((()=>{try{t&&b.current&&e.columnPickerRequired&&(b.current.itemsSource=t.columns,b.current.checkedMemberPath="visible",b.current.displayMemberPath="header",b.current.lostFocus.addHandler((()=>{(0,r.hidePopup)(b.current.hostElement)})))}catch(i){console.log("Error in initializing column picker properties:",i)}}),[b.current]),(0,o.useEffect)((()=>()=>{e.columnPickerRequired&&b.current&&(0,r.hidePopup)(b.current.hostElement)}),[]);const A=()=>{try{let o=t;o.itemsSource.pageSize=e.sourceData.length,i(o),h.FlexGridXlsxConverter.saveAsync(t,{includeColumnHeaders:!0,includeCellStyles:!1,formatItem:null},e.exportFileName),o.itemsSource.pageSize=e.rowsPerPage,i(o)}catch(o){console.log("Error in export grid to excel:",o)}},k=(t,i)=>{if(void 0!==i&&null!==i){if("boolean"===typeof t||"Active"===i.Name)return t?(0,y.jsx)(p.Icon,{name:"check",size:"small",color:"green"}):(0,y.jsx)(p.Icon,{name:"close",size:"small",color:"red"});if(""===t||null===t||void 0===t)return t;if(("TerminalCodes"===i.Name||"1"===i.PopOver)&&null!==t)return(o=t).split(",").length>e.terminalsToShow?(0,y.jsx)(p.Popup,{className:"popup-theme-wrap",on:"hover",element:o.split(",").length,children:(0,y.jsx)(p.Card,{children:(0,y.jsx)(p.Card.Content,{children:o})})}):o;if(void 0!==i.DataType&&"DateTime"===i.DataType)return new Date(t).toLocaleDateString()+" "+new Date(t).toLocaleTimeString();if(void 0!==i.DataType&&"Date"===i.DataType)return new Date(t).toLocaleDateString();if(void 0!==i.DataType&&"Time"===i.DataType)return new Date(t).toLocaleTimeString()}var o;return t},E=()=>{try{if(t&&R.current){let i={columns:t.columns.map((e=>({binding:e.binding,visible:e.visible}))),filterDefinition:R.current.control.filterDefinition,sortDescriptions:t.collectionView.sortDescriptions.map((e=>({property:e.property,ascending:e.ascending}))),groupDescriptions:t.collectionView.groupDescriptions.map((e=>e.propertyName?e.propertyName:null))};if(t.collectionView.groupDescriptions&&t.collectionView.groupDescriptions.length>0){[...document.getElementsByClassName("wj-column-selector-group")].forEach((e=>{e.parentNode.parentNode.classList.add("wj-grouped-checkbox")}))}let o={pageIndex:t.collectionView.pageIndex,searchText:P.current.control.text};localStorage.setItem(e.parentComponent+"GridState",JSON.stringify(i)),sessionStorage.setItem(e.parentComponent+"GridState",JSON.stringify(o))}}catch(i){console.log("Error in saving grid state")}},I=()=>{let e=r.culture.FlexGridFilter,t=l.Operator;r.culture.FlexGridFilter.header=S("WijmoGridFilterHeader"),r.culture.FlexGridFilter.ascending="\u2191 "+S("WijmoGridFilterAscending"),r.culture.FlexGridFilter.descending="\u2193 "+S("WijmoGridFilterDescending"),r.culture.FlexGridFilter.apply=S("RoleAdminEdit_Apply"),r.culture.FlexGridFilter.clear=S("OrderCreate_btnClear"),r.culture.FlexGridFilter.conditions=S("WijmoGridFilterCondition"),r.culture.FlexGridFilter.values=S("WijmoGridFilterValue"),r.culture.FlexGridFilter.search=S("LoadingDetailsView_SearchGrid"),r.culture.FlexGridFilter.selectAll=S("WijmoGridFilterSelectAll"),r.culture.FlexGridFilter.and=S("WijmoGridFilterAnd"),r.culture.FlexGridFilter.or=S("WijmoGridFilterOr"),r.culture.FlexGridFilter.cancel=S("AccessCardInfo_Cancel"),e.stringOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterNotEqual"),op:t.NE},{name:S("WijmoGridFilterBeginsWith"),op:t.BW},{name:S("WijmoGridFilterEndsWith"),op:t.EW},{name:S("WijmoGridFilterContains"),op:t.CT},{name:S("WijmoGridFilterDoesNotContain"),op:t.NC}],e.numberOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterNotEqual"),op:t.NE},{name:S("WijmoGridFilterGreaterThan"),op:t.GT},{name:S("WijmoGridFilterLessThan"),op:t.LT},{name:S("WijmoGridFilterGreaterThanOrEqual"),op:t.GE},{name:S("WijmoGridFilterLessThanOrEqual"),op:t.LE}],e.dateOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterDateEarlierThan"),op:t.LT},{name:S("WijmoGridFilterDateLaterThan"),op:t.GT}],e.booleanOperators=[{name:S("WijmoGridFilterUnset"),op:null},{name:S("WijmoGridFilterEqual"),op:t.EQ},{name:S("WijmoGridFilterNotEqual"),op:t.NE}]},M=e=>{try{if(window.screen.width<1024&&e.WidthPx&&""!==e.WidthPx)return parseInt(e.WidthPx)}catch(t){console.log("Error in width:",t)}return e.WidthPercentage.includes("*")?e.WidthPercentage:parseInt(e.WidthPercentage)};return(0,y.jsx)("div",{className:"pl-1",children:(0,y.jsx)(C.A,{children:(0,y.jsx)(g.TranslationConsumer,{children:i=>(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)("div",{className:"row pl-0",children:[(0,y.jsx)("div",{className:"col-10 col-sm-12 col-md-5 col-lg-6",children:(0,y.jsx)(c.q,{class:"ui single-input",ref:P,placeholder:i("LoadingDetailsView_SearchGrid")})}),(0,y.jsx)("div",{className:"col-10 col-sm-12 col-md-7 col-lg-6",children:(0,y.jsxs)("div",{style:{float:"right"},children:[e.columnPickerRequired?(0,y.jsxs)(p.Button,{id:"colPicker",actionType:"button",type:"primary",onClick:e=>(e=>{try{let i=b.current.hostElement;i.offsetHeight?((0,r.hidePopup)(i,!0,!0),t.focus()):((0,r.showPopup)(i,e.target,r.PopupPosition.Below,!0,!1),b.current.focus()),b.current.focus(),e.preventDefault()}catch(i){console.log("Error in Column Picker click event:",i)}})(e),children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridColumnPicker")}),(0,y.jsx)("div",{style:{display:"inline-block"},children:(0,y.jsx)(p.Icon,{name:"caret-down",className:"btnIcon",size:"small"})})]}):null,e.exportRequired?(0,y.jsxs)(p.Button,{actionType:"button",type:"primary",className:"mt-3 mt-md-0",onClick:A,children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:i("WijmoGridExport")}),(0,y.jsx)("div",{style:{display:"inline-block",marginLeft:"0.2rem"},children:(0,y.jsx)("span",{className:"icon-Xls",style:{fontSize:"17px",position:"absolute",top:"3px"}})})]}):null]})})]}),(0,y.jsxs)("div",{className:"tableScroll",children:[e.columnGroupingRequired?(0,y.jsx)(m.u,{className:"group-panel",grid:t,placeholder:i("WijmoGridGroupPanelPlaceholder")}):null,(0,y.jsx)(C.A,{children:(0,y.jsxs)(s.MC,{ref:v,autoGenerateColumns:!1,alternatingRowStep:0,autoRowHeights:!0,headersVisibility:"Column",itemsSource:j,selectionMode:r.asEnum("None",a.SelectionMode),initialized:T,virtualizationThreshold:[0,1e4],onUpdatedView:E,children:[(0,y.jsx)(n.M,{ref:R}),e.columns.map((t=>(0,y.jsx)(s.aK,{header:i(t.Name),binding:t.Name,width:M(t),minWidth:100,isReadOnly:!0,wordWrap:!0,align:"left",children:(0,y.jsx)(s.Gw,{cellType:"Cell",template:i=>(0,y.jsx)("span",{style:null!=e.conditionalRowStyleCheck&&e.conditionalRowStyleCheck(i.item)?{...e.conditionalRowStyles}:null,children:k(i.item[t.Name],t)})})},t.Name)))]})}),e.columnPickerRequired?(0,y.jsx)("div",{className:"column-picker-div",children:(0,y.jsx)(d.qF,{className:"column-picker",initialized:t=>(t=>{e.columnPickerRequired&&(b.current=t)})(t)})}):null]}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)(d.Ne,{ref:w,className:"ml-auto mr-auto mt-3",headerFormat:i("WijmoGridPagingTemplate"),byPage:!0,cv:j})})]})})})})};S.defaultProps={sourceData:[],columns:[],exportRequired:!0,exportFileName:"Grid.xlsx",selectionRequired:!1,columnPickerRequired:!1,columnGroupingRequired:!1,rowsPerPage:10,terminalsToShow:2,singleSelection:!1,selectedItems:[]};const f=S,j=e=>(0,y.jsx)(f,{sourceData:e.data,columns:e.columns,exportRequired:e.exportRequired,exportFileName:e.exportFileName,columnPickerRequired:e.columnPickerRequired,selectionRequired:e.selectionRequired,columnGroupingRequired:e.columnGroupingRequired,conditionalRowStyleCheck:e.conditionalRowStyleCheck,conditionalRowStyles:e.conditionalRowStyles,rowsPerPage:e.rowsPerPage,onSelectionHandle:e.onSelectionHandle,onRowClick:e.onRowClick,parentComponent:e.parentComponent,terminalsToShow:e.terminalsToShow,singleSelection:e.singleSelection,selectedItems:e.selectedItems})},85050:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var o=i(65043),r=i(67907),a=i(69062),s=i(78374),n=i(72711),l=(i(85800),i(65187)),c=i(70579);function d(e){let{coaManagementFinishedProduct:t,listOptions:i,pageSize:o}=e;return(0,c.jsx)(r.TranslationConsumer,{children:e=>(0,c.jsxs)("div",{className:"detailsContainer",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(n.Input,{fluid:!0,value:t.COACode,label:e("COAManagementFinishedProductCode"),indicator:"required",disabled:!0,reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(n.Input,{fluid:!0,value:t.FinishedProductCode,label:e("COAManagementFinishedProductFinishedProductCode"),disabled:!0,reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(n.Input,{fluid:!0,value:t.FinishedProductName,label:e("COAManagementFinishedProductFinishedProductName"),disabled:!0,reserveSpace:!1})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,c.jsx)(n.Input,{fluid:!0,value:t.LOTNumber,label:e("COAManagementFinishedProductLOTNumber"),disabled:!0,reserveSpace:!1})})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-12 col-md-12 col-lg-12",children:[(0,c.jsx)("h4",{children:e("COAManagementFinishedProduct_Configuration")}),(0,c.jsx)("div",{className:"detailsTable",children:(0,c.jsxs)(s.bQ,{data:i.templateParameters,search:!0,rows:o,searchPlaceholder:e("LoadingDetailsView_SearchGrid"),children:[(0,c.jsx)(s.bQ.Column,{className:"compColHeight",field:"ParameterName",header:e("COAManagementDetail_ParameterName")},"ParameterName"),(0,c.jsx)(s.bQ.Column,{className:"compColHeight",field:"Specification",header:e("COAManagementDetail_Specification")},"Specification"),(0,c.jsx)(s.bQ.Column,{className:"compColHeight",field:"Method",header:e("COAManagementDetail_Method")},"Method"),(0,c.jsx)(s.bQ.Column,{className:"compColHeight",field:"Result",header:e("COAManagementDetail_Result")},"Result"),(0,c.jsx)(s.bQ.Column,{className:"compColHeight",field:"SortIndex",header:e("COAManagementDetail_SortIndex")},"SortIndex"),Array.isArray(i.templateParameters)&&i.templateParameters.length>o?(0,c.jsx)(s.bQ.Pagination,{}):""]})})]}),(0,c.jsx)("div",{})]})]})})}d.defaultProps={templateParameters:[]};var u=i(40854),h=i.n(u),m=i(72067),p=i(97508),g=(i(38726),i(43503)),C=i(93779),x=i(53536),y=i.n(x),S=i(40252),f=i(7523),j=i(73571);class D extends o.Component{constructor(){super(...arguments),this.state={coaManagementFinishedProduct:{},isReadyToRender:!1,templateParameters:[],showReport:!1},this.handleModalBack=()=>{this.setState({showReport:!1})},this.handleViewFinishedProductCOAReport=()=>{void 0===this.reportServiceURI?h()(m.yTV,a.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{e.data.IsSuccess&&(this.reportServiceURI=e.data.EntityResult,this.setState({showReport:!0}))})):this.setState({showReport:!0})}}componentWillReceiveProps(e){try{""!==this.state.coaManagementFinishedProduct.COACode&&void 0===e.selectedRow.COACode&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo&&this.getCOAManagementFinishedProduct(e.selectedRow)}catch(t){console.log("COAManagementFinishedProductDetailsComposite:Error occured on componentWillReceiveProps",t)}}componentDidMount(){try{a.pJ(this.props.userDetails.EntityResult.IsArchived),this.getCOAManagementFinishedProduct(this.props.selectedRow)}catch(e){console.log("COAManagementFinishedProductDetailsComposite:Error occured on componentDidMount",e)}}getCOAManagementFinishedProduct(e){var t=[{key:C.dL,value:e.COACode}],i={ShareHolderCode:this.props.selectedShareholder,keyDataCode:C.dL,KeyCodes:t};h()(m.Owe,a.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(!0===t.IsSuccess){let e=t.EntityResult.COAManagementDetailsList;var i=[];Array.isArray(e)&&e.forEach((e=>{var t={ParameterName:void 0===e.ParameterName?e.AnalysisParameterName:e.ParameterName,Specification:e.Specification,Method:e.Method,SortIndex:e.SortIndex,Result:e.Result};i.push(t)})),this.setState({isReadyToRender:!0,coaManagementFinishedProduct:y().cloneDeep(t.EntityResult),templateParameters:i})}else this.setState({coaManagementFinishedProduct:{},isReadyToRender:!0},(()=>{})),console.log("Error in getCOAManagementFinishedProduct:",t.ErrorList)})).catch((t=>{console.log("Error while getting coaManagementFinishedProduct:",t,e)}))}renderModal(){let e=null;e=this.props.userDetails.EntityResult.IsArchived?"TM/"+f.mD+"/FinishedProductCOAReport":"TM/"+f.PZ+"/FinishedProductCOAReport";let t={Culture:this.props.userDetails.EntityResult.UICulture,COACode:this.state.coaManagementFinishedProduct.COACode};return(0,c.jsx)(j.A,{showReport:this.state.showReport,handleBack:this.handleModalBack,handleModalClose:this.handleModalBack,proxyServerHost:m._Oi,reportServiceHost:this.reportServiceURI,filePath:e,parameters:t})}render(){const e={templateParameters:this.state.templateParameters},t=[{fieldName:"COAManagementFinishedProduct_LastUpDt",fieldValue:new Date(this.state.coaManagementFinishedProduct.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.coaManagementFinishedProduct.LastUpdatedTime).toLocaleTimeString()},{fieldName:"COAManagementFinishedProduct_LastUpdatedBy",fieldValue:this.state.coaManagementFinishedProduct.LastUpdatedBy}];return this.state.isReadyToRender?(0,c.jsxs)("div",{children:[(0,c.jsx)(l.A,{children:(0,c.jsx)(g.A,{entityCode:this.state.coaManagementFinishedProduct.COACode,newEntityName:"COAManagementFinishedProduct_Title",popUpContents:t})}),(0,c.jsx)(l.A,{children:(0,c.jsx)(d,{coaManagementFinishedProduct:this.state.coaManagementFinishedProduct,genericProps:this.props.genericProps,listOptions:e,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize})}),(0,c.jsx)(l.A,{children:(0,c.jsx)(r.TranslationConsumer,{children:e=>(0,c.jsxs)("div",{className:"row userActionPosition",children:[(0,c.jsx)("div",{className:"col col-2",children:(0,c.jsx)(n.Button,{className:"backButton",onClick:this.props.onBack,content:e("Back")})}),(0,c.jsx)("div",{className:"col col-10",style:{textAlign:"right"},children:(0,c.jsx)(n.Button,{content:e("COA_ViewFinishedProductCOAReport"),onClick:()=>this.handleViewFinishedProductCOAReport()})})]})})}),this.renderModal()]}):(0,c.jsx)(S.A,{message:"Loading"})}}const v=(0,p.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(D)},65824:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var o=i(65043),r=i(97508),a=i(65187),s=i(66554),n=i(85050),l=i(19380),c=i(70579);function d(e){let{tableData:t,columnDetails:i,pageSize:o,exportRequired:r,exportFileName:a,columnPickerRequired:s,columnGroupingRequired:n,selectionRequired:d,onSelectionChange:u,onRowClick:h,parentComponent:m}=e;return(0,c.jsx)(l.A,{data:t,columns:i,rowsPerPage:o,exportRequired:r,exportFileName:a,columnPickerRequired:s,columnGroupingRequired:n,selectionRequired:d,onSelectionHandle:u,onRowClick:h,parentComponent:m})}var u=i(40252),h=i(14159),m=(i(92342),i(72067)),p=i(69062),g=i(40854),C=i.n(g),x=i(15821);class y extends o.Component{constructor(){super(...arguments),this.state={isDetails:"false",isReadyToRender:!1,isDetailsModified:"false",operationsVisibilty:{add:!1,delete:!1,shareholder:!0},selectedRow:{},selectedItems:[],selectedShareholder:"",data:{},showAuthenticationLayout:!1,isEnable:!0},this.componentName="COAManagementFinishedProductList",this.handleBack=()=>{try{var{operationsVisibilty:e}={...this.state};e.shareholder=!0,this.setState({isDetails:"false",selectedRow:{},selectedItems:[],operationsVisibilty:e,isReadyToRender:!1}),this.getcoaManagementFinishedProductList(this.state.selectedShareholder)}catch(t){console.log("COAManagementFinishedProductComposite:Error occured on Back click",t)}},this.handleRowClick=e=>{try{var{operationsVisibilty:t}={...this.state};t.shareholder=!1,this.setState({isDetails:"true",selectedRow:e,selectedItems:[e],operationsVisibilty:t})}catch(i){console.log("COAManagementFinishedProductComposite:Error occured on handleRowClick",i)}},this.handleSelection=e=>{try{this.setState({selectedItems:e})}catch(t){console.log("COAManagementFinishedProductComposite:Error occured on handleSelection",t)}},this.componentWillUnmount=()=>{this.clearStorage(),window.removeEventListener("beforeunload",this.clearStorage)},this.clearStorage=()=>{sessionStorage.removeItem(this.componentName+"GridState")},this.handleShareholderSelectionChange=e=>{try{this.setState({selectedShareholder:e,isReadyToRender:!1}),this.getcoaManagementFinishedProductList(e)}catch(t){console.log("COAManagementFinishedProductComposite:Error occured on handleShareholderSelectionChange",t)}},this.handleAuthenticationClose=()=>{this.setState({showAuthenticationLayout:!1})}}getcoaManagementFinishedProductList(e){void 0!==e&&""!==e&&C()(m.JZ0+"?ShareholderCode="+e,p.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({data:t.EntityResult,isReadyToRender:!0}):(this.setState({data:[],isReadyToRender:!0}),console.log("Error in GetCOAManagementFinishedProductListForRole:",t.ErrorList))})).catch((e=>{this.setState({data:[],isReadyToRender:!0}),console.log("Error while getting COAManagementFinishedProduct List:",e)}))}componentDidMount(){try{p.pJ(this.props.userDetails.EntityResult.IsArchived),this.getLookUpData()}catch(e){console.log("COAManagementComposite:Error occured on ComponentDidMount",e)}window.addEventListener("beforeunload",this.clearStorage)}getLookUpData(){C()(m.xAA+"?LookUpTypeCode=COA",p.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;if(!0===t.IsSuccess){let e="TRUE"===t.EntityResult.COAEnable.toUpperCase();this.setState({lookUpData:t.EntityResult,isEnable:e}),e&&(this.setState({selectedShareholder:this.props.userDetails.EntityResult.PrimaryShareholder}),this.getcoaManagementFinishedProductList(this.props.userDetails.EntityResult.PrimaryShareholder))}else console.log("Error in getLookUpData: ",t.ErrorList)})).catch((e=>{console.log("COAManagementFinishedProductComposite: Error occurred on getLookUpData",e)}))}render(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(a.A,{children:(0,c.jsx)(s.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,shareholders:this.props.userDetails.EntityResult.ShareholderList,selectedShareholder:this.state.selectedShareholder,onShareholderChange:this.handleShareholderSelectionChange,handleBreadCrumbClick:this.props.handleBreadCrumbClick,addVisible:!1,deleteVisible:!1})}),"true"===this.state.isDetails?(0,c.jsx)(a.A,{children:(0,c.jsx)(n.default,{selectedRow:this.state.selectedRow,selectedShareholder:this.state.selectedShareholder,onBack:this.handleBack,genericProps:this.props.activeItem.itemProps},"COAManagementFinishedProductDetails")}):this.state.isReadyToRender?(0,c.jsx)("div",{children:(0,c.jsx)(a.A,{children:(0,c.jsx)(d,{tableData:this.state.data.Table,columnDetails:this.state.data.Column,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,exportRequired:!0,exportFileName:"COAManagementFinishedProductList",columnPickerRequired:!0,columnGroupingRequired:!0,onRowClick:this.handleRowClick,onSelectionChange:this.handleSelection,parentComponent:this.componentName})})}):(0,c.jsx)(c.Fragment,{children:this.state.isEnable?(0,c.jsx)(u.A,{loadingClass:"Loading"}):(0,c.jsx)(x.default,{errorMessage:"COADisabled"})}),(0,c.jsx)(a.A,{children:(0,c.jsx)(h.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})}}const S=(0,r.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(y)},43503:(e,t,i)=>{i.d(t,{A:()=>n});i(65043);var o=i(67907),r=i(72711),a=i(70579);function s(e){let{entityCode:t,newEntityName:i,popUpContents:s}=e;return(0,a.jsx)(o.TranslationConsumer,{children:e=>(0,a.jsx)("div",{className:"headerContainer",children:(0,a.jsxs)("div",{className:"row headerSpacing",children:[(0,a.jsx)("div",{className:"col paddingHeaderItemLeft",children:(0,a.jsx)("span",{style:{margin:"auto"},className:"headerLabel",children:""===t||void 0===t?e(i):t})}),""!==t&&void 0!==t&&s.length>0?(0,a.jsx)("div",{className:"headerItemRight",children:(0,a.jsx)(r.Popup,{element:(0,a.jsxs)("div",{children:[e(s[0].fieldName)+" ",":"," "+s[0].fieldValue,(0,a.jsx)(r.Icon,{style:{marginLeft:"10px"},root:"common",name:"caret-down",size:"small"})]}),position:"bottom left",children:(0,a.jsx)(r.List,{className:"detailsHeaderPopUp",children:s.map((t=>(0,a.jsxs)(r.List.Content,{className:"detailsHeaderPopUpListPadding",children:[e(t.fieldName)+" ",":"," "+t.fieldValue]},"content.fieldName")))})})}):""]})})})}s.defaultProps={entityCode:"",newEntityName:"",popUpContents:[]};const n=s},85800:(e,t,i)=>{i.d(t,{n:()=>l});i(65043);var o=i(72711),r=i(67907),a=i(7523),s=i(35861),n=i(70579);function l(e){let{selectedAttributeList:t,handleCellDataEdit:i,attributeValidationErrors:l}=e;const c=e=>{if("0000-00-00"===e.DefaultValue)return d(e,new Date),new Date;var t=e.DefaultValue.split("-");return new Date(t[0],t[1]-1,t[2])},d=(e,t)=>{var o=new Date(t);t=o.getFullYear()+"-"+("0"+(o.getMonth()+1)).slice(-2)+"-"+("0"+o.getDate()).slice(-2),i(e,t)};return(0,n.jsx)(r.TranslationConsumer,{children:e=>(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-12 attributeDetails-wrap",children:(0,n.jsx)("div",{className:"row",children:t.map((t=>t.DataType.toLowerCase()===a.pe.STRING.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(o.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>i(t,e),error:e(l[t.Code]),reserveSpace:!1})}):t.DataType.toLowerCase()!==a.pe.INT.toLowerCase()&&t.DataType.toLowerCase()!==a.pe.LONG.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()!==a.pe.FLOAT.toLowerCase()&&t.DataType.toLowerCase()!==a.pe.DOUBLE.toLowerCase()||!0!==t.IsVisible?t.DataType.toLowerCase()===a.pe.BOOL.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(o.Checkbox,{className:"deviceCheckBox customDeviceCheckBox",label:e(t.DisplayName),checked:null===t.DefaultValue?"":"true"===t.DefaultValue.toString().toLowerCase(),disabled:!0===t.IsReadonly,onChange:e=>i(t,e)})}):t.DataType.toLowerCase()===a.pe.DATETIME.toLowerCase()&&!0===t.IsVisible?(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(o.DatePicker,{fluid:!0,value:null===t.DefaultValue||""===t.DefaultValue?"":c(t),label:e(t.DisplayName),displayFormat:(0,s.F1)(),showYearSelector:"true",indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>d(t,e),onTextChange:e=>{d(t,e)},error:e(l[t.Code]),reserveSpace:!1})}):null:(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(o.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue||""===t.DefaultValue?"":t.DefaultValue.toLocaleString(),indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>i(t,e),error:e(l[t.Code]),reserveSpace:!1})}):(0,n.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,n.jsx)(o.Input,{fluid:!0,label:e(t.DisplayName),value:null===t.DefaultValue?"":t.DefaultValue,indicator:!0===t.IsMandatory?"required":null,disabled:!0===t.IsReadonly,onChange:e=>i(t,e),error:e(l[t.Code]),reserveSpace:!1})})))})})})})}},73571:(e,t,i)=>{i.d(t,{A:()=>m});i(65043);var o=i(72711),r=i(728),a=i(92569),s=i(47766),n=(i(60663),i(7523)),l=i(97508),c=i(70579);function d(e){let{proxyServerHost:t,reportServiceHost:i,parameters:o,filePath:r,...n}=e;const l=t+"api/report",d=(e,t)=>{const i=t.settings.beforeSend;t.settings.beforeSend=function(t){i&&i(t),n.userDetails.EntityResult.IsWebPortalUser||(t.withCredentials=!0),t.URL_DEBUG.indexOf("parameters")>-1&&(t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=e.hostElement;setTimeout((()=>{var e=t.querySelector(".wj-viewer-splitter"),i=t.querySelector(".wj-viewer-tabsleft").querySelectorAll("li")[2];i.disabled||(i.className="hidden",e.click())}),1e3)}})}};let u={Authorization:"Bearer "+n.tokenDetails.tokenInfo};const h=(e,o)=>{s._ReportService.prototype.load=function(e){var o=this,r=new s._Promise;return this._checkReportController(r)?(this.httpRequest(this._getReportInstancesUrl(),{method:"POST",data:e}).then((function(e){var a=s._parseReportExecutionInfo(e.responseText);o._instanceId=a.id,o._status=s._ExecutionStatus.loaded,o._outlinesLocation=a.outlinesLocation,o._statusLocation=a.statusLocation.replace(i,t),o._pageSettingsLocation=a.pageSettingsLocation,o._featuresLocation=a.featuresLocation,o._parametersLocation=a.parametersLocation,r.resolve(a)}),(function(e){r.reject(o._getError(e))})),r):r}};return(0,c.jsx)("div",{children:n.userDetails.EntityResult.IsWebPortalUser?(0,c.jsx)("div",{children:(0,c.jsx)(a.R,{requestHeaders:u,style:{height:"80vh"},parameters:o,serviceUrl:l,filePath:r,initialized:h,beforeSendRequest:d})}):(0,c.jsx)("div",{children:(0,c.jsx)(a.R,{style:{height:"80vh"},parameters:o,serviceUrl:l,filePath:r,initialized:h,beforeSendRequest:d})})})}d.defaultProps={parameters:{}},r.setLicenseKey(n.yQ);const u=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(d);var h=i(67907);function m(e){let{proxyServerHost:t,reportServiceHost:i,filePath:r,handleBack:a,showReport:s,handleModalClose:n,parameters:l}=e;const[d]=(0,h.useTranslation)();return(0,c.jsx)(o.Modal,{style:{padding:"0px"},size:"fullscreen",open:s,children:(0,c.jsxs)("div",{children:[(0,c.jsx)(o.Header,{title:d("Header_TerminalManager"),menu:!1}),(0,c.jsx)(u,{proxyServerHost:t,reportServiceHost:i,filePath:r,parameters:l}),(0,c.jsx)("div",{style:{marginTop:"10px",marginLeft:"20px"},children:(0,c.jsx)(o.Button,{className:"backButton",onClick:a,content:d("Report_Back")})})]})})}m.defaultProps={parameters:{}}},93779:(e,t,i)=>{i.d(t,{$A:()=>A,$L:()=>lt,$Q:()=>qe,Ae:()=>Fe,BX:()=>ae,Bl:()=>pe,Bv:()=>xe,Bw:()=>$,Cb:()=>F,Cg:()=>b,DN:()=>at,D_:()=>st,Dm:()=>k,E7:()=>K,EW:()=>I,FN:()=>re,FR:()=>a,FY:()=>pt,GA:()=>We,GT:()=>f,Ge:()=>Ee,HB:()=>se,JQ:()=>J,KJ:()=>ee,Kz:()=>_,Ln:()=>U,M$:()=>Ue,O5:()=>tt,Of:()=>je,Oo:()=>it,Pk:()=>Ce,Pm:()=>Y,Q5:()=>ct,QK:()=>_e,QV:()=>$e,QZ:()=>dt,Qu:()=>ie,RX:()=>be,Rb:()=>W,Rp:()=>v,SP:()=>g,T5:()=>Le,UB:()=>y,UT:()=>l,Ui:()=>z,VA:()=>q,Vk:()=>ve,Wb:()=>Pe,Wv:()=>De,X3:()=>Je,Y4:()=>B,Yl:()=>ot,Zx:()=>X,_B:()=>ye,_C:()=>N,_R:()=>ge,_j:()=>de,_n:()=>o,aM:()=>L,aW:()=>Ve,bW:()=>V,c4:()=>rt,cD:()=>n,c_:()=>R,cx:()=>G,dL:()=>ut,eE:()=>le,eS:()=>ze,eT:()=>D,f:()=>E,f7:()=>me,fR:()=>ue,g1:()=>ce,gN:()=>Ke,gO:()=>H,iH:()=>nt,ij:()=>et,j1:()=>w,jC:()=>Se,je:()=>he,jz:()=>ne,ll:()=>Ze,mM:()=>S,mO:()=>mt,mW:()=>Me,ml:()=>C,mm:()=>Ye,nB:()=>te,nT:()=>Ie,np:()=>ke,oA:()=>P,oG:()=>Qe,oV:()=>Z,ok:()=>u,oy:()=>c,pL:()=>Te,pe:()=>Be,pw:()=>He,qF:()=>s,qQ:()=>ht,qp:()=>h,s0:()=>j,sA:()=>Ne,st:()=>oe,tY:()=>M,uw:()=>Q,v6:()=>r,vL:()=>Oe,vf:()=>Ae,wH:()=>Xe,wO:()=>fe,wX:()=>O,x4:()=>Re,xf:()=>m,xy:()=>d,yI:()=>x,yV:()=>T,yz:()=>p,zL:()=>we,zf:()=>Ge});const o="CarrierCode",r="TransportationType",a="ShareHolderCode",s="DriverCode",n="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",u="VehicleCode",h="DestinationCode",m="FinishedProductCode",p="ShipmentCode",g="OrderCode",C="ReceiptCode",x="MarineDispatchCode",y="MarineReceiptCode",S="SupplierCode",f="ContractCode",j="RailDispatchCode",D="RailReceiptCode",v="RailRouteCode",P="WagonCode",R="CompartmentCode",w="SMSConfigurationCode",b="PipelineDispatchCode",N="PipelineReceiptCode",F="EmailConfigurationCode",T="BaseProductCode",A="LocationCode",k="SiteViewType",E="EntityCode",I="EntityType",M="CardReaderCode",L="AccessCardCode",O="BcuCode",G="DeuCode",V="WeighBridgeCode",q="Weight",W="OutOfToleranceAllowed",B="LoadingArmCode",U="TransportationType",_="BayCode",H="TransactionNumber",z="BatchNumber",Q="TerminalCode",J="TankGroupCode",K="TankCode",X="MeterCode",Y="ShipmentType",$="ShipmentStatus",Z="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",oe="ProductCategoryType",re="Reason",ae="SealMasterCode",se="Reason",ne="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",ue="AdjustedPlanQuantity",he="ForceComplete",me="DispatchStatus",pe="HolidayDate",ge="ActionID",Ce="EODTimePrev",xe="TerminalAction",ye="EODTime",Se="MonthStartDay",fe="CaptainCode",je="GeneralTMUserType",De="GeneralTMUserCode",ve="IsPriority",Pe="ActualTerminalCode",Re="ShipmentBondNo",we="ReceiptBondNo",be="DeviceType",Ne="DeviceCode",Fe="BayGroup",Te="PipelineHeaderCode",Ae="ExchangePartner",ke="PersonID",Ee="UserName",Ie="PipelinePlanCode",Me="PipelinePlanType",Le="ChannelCode",Oe="ProcessName",Ge="ReconciliationCode",Ve="NotificationGroupCode",qe="NotificationGroupStatus",We="NotificationGroupDesc",Be="NotificationResSource",Ue="NotificationResMsgCode",_e="NotificationOrigResSource",He="NotificationOrigResMsgCode",ze="NotificationMessageCode",Qe="PositionType",Je="ExchangeAgreementCode",Ke="ProductTransferAgreementCode",Xe="ShareholderAgreementStatus",Ye="RequestorShareholder",$e="LenderShareholder",Ze="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",ot="PrinterName",rt="LocationType",at="ForceClosureReason",st="TransactionType",nt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ut="COAManagementFinishedProductCode",ht="COASeqNumber",mt="ForecastDate",pt="ForecastTanks"},35861:(e,t,i)=>{i.d(t,{F1:()=>n,i7:()=>l,r4:()=>s});var o=i(86178),r=i.n(o),a=(i(15660),i(65043),i(70579));function s(e,t){if(Array.isArray(e)){0===e.filter((e=>e.text===t)).length&&e.unshift({value:null,text:t})}return e}function n(){let e=window.navigator.userLanguage||window.navigator.language;return r().locale(e),r().localeData().longDateFormat("L")}function l(e){return(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("div",{class:"ui red circular empty label badge  circle-padding"})]})}},92342:()=>{}}]);
//# sourceMappingURL=5824.e5019762.chunk.js.map