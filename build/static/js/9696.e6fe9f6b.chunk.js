(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[9696,8149,5841,8222],{26182:(e,t,i)=>{"use strict";i.d(t,{y:()=>c});i(65043);var s=i(72711),o=i(67907),n=i(65187),a=i(69062),r=i(70579);function l(e){let{operationsVisibilty:t,breadcrumbItem:i,terminals:l,selectedTerminal:c,onTerminalChange:d,handleBreadCrumbClick:h}=e;return(0,r.jsxs)("div",{className:"row",style:{marginTop:"10px"},children:[(0,r.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-5 col-xl-7",children:(0,r.jsxs)(n.A,{children:[" ",(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsxs)(s.Breadcrumb,{children:[i.parents.map((t=>(0,r.jsx)(s.Breadcrumb.Item,{onClick:()=>{void 0!==h&&null!==h&&h(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,r.jsx)(s.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,r.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-7 col-xl-5",children:(0,r.jsx)(o.TranslationConsumer,{children:e=>(0,r.jsxs)("div",{className:"compartmentIcon",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("h4",{className:"shrText",children:[e("Common_Terminal"),":"]})}),(0,r.jsx)("div",{className:"opSelect",children:(0,r.jsx)(s.Select,{placeholder:e("Common_Terminal"),value:c,disabled:!t.terminal,options:a.Zj(l),onChange:e=>d(e)})})]})})})]})}l.defaultProps={breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},terminals:[],selectedTerminal:""};i(38726);function c(e){let{breadcrumbItem:t,operationsVisibilty:i,terminals:s,selectedTerminal:o,onTerminalChange:n,handleBreadCrumbClick:a}=e;return(0,r.jsx)(l,{operationsVisibilty:i,breadcrumbItem:t,terminals:s,selectedTerminal:o,onTerminalChange:n,handleBreadCrumbClick:a})}},62900:(e,t,i)=>{"use strict";i.d(t,{A:()=>T});var s=i(65043),o=i(67907),n=i(72711),a=i(72067),r=i(69062),l=i(97508),c=i(44192),d=i(40854),h=i.n(d),p=i(53536),u=i.n(p),m=i(86111),C=i.n(m),y=i(70579);class g extends s.Component{constructor(){super(...arguments),this.state={isPasswordRequired:!1,Password:"",validationErrors:r.Th(c.Qh),authenticationResponse:"",btnAuthenticateEnabled:!0},this.onFieldChange=(e,t)=>{this.setState({Password:t});const i=u().cloneDeep(this.state.validationErrors);void 0!==c.Qh[e]&&(i[e]=r.jr(c.Qh[e],t),this.setState({validationErrors:i,authenticationResponse:""}))},this.validatePassword=e=>{this.setState({btnAuthenticateEnabled:!1});const t={...this.state.validationErrors};null!==e&&""!==e||(t.Password="UserValidationForm_ReqfldValPassword"),this.setState({validationErrors:t});var i=!0;return i&&(i=Object.values(t).every((function(e){return""===e}))),i},this.onCloseClick=()=>{this.setState({isPasswordRequired:!1,authenticationResponse:"",btnAuthenticateEnabled:!0},(()=>this.props.handleClose()))},this.AuthenticateUser=()=>{if(this.validatePassword(this.state.Password)){this.setState({authenticationResponse:""});try{var e=this.state.Password,t=this.props.Username,i=C().lib.WordArray.random(16),s=C().PBKDF2(t,i,{keySize:8,iterations:100}),o=C().lib.WordArray.random(16),n=C().AES.encrypt(e,s,{iv:o,padding:C().pad.Pkcs7,mode:C().mode.CBC}),l=i.toString()+o.toString()+n.toString();h()(a.KrY+"?encryptedPassword="+encodeURIComponent(l),r.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess&&"true"===t.EntityResult.toLowerCase()?(this.setState({isPasswordRequired:!1}),this.props.handleOperation()):this.setState({authenticationResponse:t.ErrorList[0],btnAuthenticateEnabled:!0})})).catch((e=>{this.setState({authenticationResponse:e,btnAuthenticateEnabled:!0})}))}catch(c){this.setState({authenticationResponse:c,btnAuthenticateEnabled:!0})}}else this.setState({btnAuthenticateEnabled:!0})}}componentDidMount(){try{this.IsPasswordRequired()}catch(e){console.log("BaseProductDetailsComposite:Error occured on componentDidMount",e)}}IsPasswordRequired(){try{let e=r.Hp(this.props.userDetails.EntityResult.roleFunctionInfo,this.props.functionName,this.props.functionGroup);this.setState({isPasswordRequired:e}),!1===e&&this.props.handleOperation()}catch(e){console.log("Error in IsPasswordRequired method:",e)}}render(){return(0,y.jsx)("div",{children:!0===this.state.isPasswordRequired?(0,y.jsx)(o.TranslationConsumer,{children:e=>(0,y.jsxs)(n.Modal,{open:!0,size:"mini",children:[(0,y.jsxs)(n.Modal.Content,{children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col col-lg-8",style:{marginLeft:"10px"},children:(0,y.jsx)("h4",{children:e("User_Authentication")})}),(0,y.jsx)("div",{className:"col-12 col-lg-3",style:{textAlign:"right"},onClick:this.onCloseClick,children:(0,y.jsx)(n.Icon,{root:"common",name:"close"})})]}),(0,y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,y.jsx)("div",{className:"col col-lg-12",children:(0,y.jsx)("label",{children:(0,y.jsxs)("h5",{children:[e("UserValidation_Form_AccountName"),":",this.props.Username]})})}),(0,y.jsx)("div",{className:"col col-lg-12",children:(0,y.jsx)(n.Input,{fluid:!0,type:"password",disablePasswordToggle:!1,value:this.state.Password,indicator:"required",onChange:e=>this.onFieldChange("Password",e),label:e("AccessCardInfo_x_Pwd"),error:e(this.state.validationErrors.Password),reserveSpace:!1})})]})]}),(0,y.jsxs)(n.Modal.Footer,{children:[(0,y.jsx)("span",{className:"ui error-message autherrormsg",children:e(this.state.authenticationResponse)}),(0,y.jsx)(n.Button,{type:"primary",disabled:!this.state.btnAuthenticateEnabled,content:e("UserValidationForm_Authentication"),onClick:this.AuthenticateUser})]})]})}):null})}}const T=(0,l.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(g)},66513:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>O});var s=i(65043),o=i(69062),n=i(93779),a=i(7523),r=i(72067),l=i(14159),c=i(11981),d=i(97508),h=i(40854),p=i.n(h),u=i(65187),m=i(40252),C=(i(92342),i(53536)),y=i.n(C),g=i(72711),T=i(16231),v=i(24914),A=i(46100),L=i(80432),S=i(43503),x=i(67907),D=i(70579);function f(e){let{gantry:t,modGantry:i,selectedLocationType:s,onFieldChange:o,validationErrors:n,onActiveStatusChange:a}=e;const[r]=(0,x.useTranslation)();return(0,D.jsx)("div",{className:"detailsContainer",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(g.Input,{fluid:!0,value:i.Code,label:r(s+"Code"),indicator:"required",disabled:""!==t.Code,onChange:e=>o("Code",e),error:r(n.Code),reserveSpace:!1})}),(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(g.Input,{fluid:!0,value:i.Name,label:r(s+"Name"),indicator:"required",onChange:e=>o("Name",e),error:r(n.Name),reserveSpace:!1})}),(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(g.Input,{fluid:!0,value:i.ParentCode,label:r("Common_Terminal"),disabled:!0,reserveSpace:!1})}),(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(g.Select,{fluid:!0,placeholder:r("FinishedProductInfo_Select"),label:r("Cust_Status"),value:i.Active,options:[{text:r("ViewShipment_Ok"),value:!0},{text:r("ViewShipmentStatus_Inactive"),value:!1}],onChange:e=>a(e)})}),(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(g.Input,{fluid:!0,value:null===i.EntityRemarks?"":i.EntityRemarks,label:r("Cust_Remarks"),onChange:e=>o("EntityRemarks",e),indicator:i.Active!==t.Active?"required":"",error:r(n.EntityRemarks),reserveSpace:!1})})]})})}var E=i(44192),R=i(80312),b=i(62900);class j extends s.Component{constructor(){super(...arguments),this.state={gantry:{},modGantry:{},saveEnabled:!1,isDeleteEnabled:!1,selectedLocationType:"",isReadyToRender:!1,validationErrors:o.Th(E.Ed),showDeleteAuthenticationLayout:!1,showSaveAuthenticationLayout:!1,tempGantry:{}},this.saveGantry=()=>{try{this.setState({saveEnabled:!1});let e=y().cloneDeep(this.state.tempGantry);""===this.state.gantry.Code?this.createGantry(e):this.updateGantry(e)}catch(e){console.log("GantryComposite : Error in saveGantry")}},this.handleSave=()=>{try{let e=this.fillDetails();if(this.validateSave(e)){let t=!0!==this.props.userDetails.EntityResult.IsWebPortalUser,i=y().cloneDeep(e);this.setState({showSaveAuthenticationLayout:t,tempGantry:i},(()=>{!1===t&&this.saveGantry()}))}else this.setState({saveEnabled:!0})}catch(e){console.log("GantryDetailsComposite:Error occured on handleSave",e)}},this.handleActiveStatusChange=e=>{try{let t=y().cloneDeep(this.state.modGantry);t.Active=e,t.Active!==this.state.gantry.Active&&(t.EntityRemarks=""),this.setState({modGantry:t})}catch(t){console.log("GantryDetailsComposite:Error occured on handleActiveStatusChange",t)}},this.handleChange=(e,t)=>{try{let i=y().cloneDeep(this.state.modGantry);i[e]=t;const s={...this.state.validationErrors};i.Active===this.state.gantry.Active&&(this.state.gantry.EntityRemarks!==i.EntityRemarks&&""!==i.EntityRemarks||(s.EntityRemarks=""),""===i.EntityRemarks&&(i.EntityRemarks=this.state.gantry.EntityRemarks)),"Active"===e&&i.Active!==this.state.gantry.Active&&(i.EntityRemarks=""),void 0!==E.Ed[e]&&(s[e]=o.jr(E.Ed[e],t)),this.setState({validationErrors:s,modGantry:i})}catch(i){console.log("GantryDetailsComposite:Error occured on handleChange",i)}},this.handleDelete=()=>{try{var e=this.state.modGantry.Code,t={keyDataCode:0,ShareHolderCode:"",KeyCodes:[{Key:n.$A,Value:e},{Key:n.uw,Value:this.props.selectedTerminal}]};if("SPUR"===this.state.selectedLocationType){let i={messageType:"critical",message:[this.state.selectedLocationType+"DeletionStatus"],messageResultDetails:[{keyFields:[a.uA.SPUR+"Code"],keyValues:[e],isSuccess:!1,errorMessage:""}]};p()(r.dx0,o.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;i.messageType=t.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.setState({isDeleteEnabled:!1,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,o.k5(this.props.transportationtype)),showDeleteAuthenticationLayout:!1}),this.getGantry({selectedlocation:this.state.modGantry.Code,selectedTerminal:this.props.selectedTerminal,isClone:!0,locationtype:this.state.selectedLocationType})):(i.messageResultDetails[0].errorMessage=t.ErrorList[0],this.setState({isDeleteEnabled:!0,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,o.k5(this.props.transportationtype)),showDeleteAuthenticationLayout:!1})),this.props.onDelete(this.state.modGantry,"delete",i)}))}else{let i={messageType:"critical",message:[this.state.selectedLocationType+"DeletionStatus"],messageResultDetails:[{keyFields:[a.uA.GANTRY+"Code"],keyValues:[e],isSuccess:!1,errorMessage:""}]};p()(r.fJR,o.tW(t,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;i.messageType=t.IsSuccess?"success":"critical",i.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.setState({isDeleteEnabled:!1,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,o.k5(this.props.transportationtype)),showDeleteAuthenticationLayout:!1}),this.getGantry({selectedlocation:this.state.modGantry.Code,selectedTerminal:this.props.selectedTerminal,isClone:!0,locationtype:this.state.selectedLocationType})):(i.messageResultDetails[0].errorMessage=t.ErrorList[0],this.setState({isDeleteEnabled:!0,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,o.k5(this.props.transportationtype)),showDeleteAuthenticationLayout:!1})),this.props.onDelete(this.state.modGantry,"delete",i)}))}}catch(i){console.log("GantryDetailsComposite:Error occured on handleDelete",i)}},this.authenticateDelete=()=>{try{let e=!0!==this.props.userDetails.EntityResult.IsWebPortalUser;this.setState({showDeleteAuthenticationLayout:e}),!1===e&&this.handleDelete()}catch(e){console.log("GantryComposite : Error in authenticateDelete")}},this.handleAuthenticationClose=()=>{this.setState({showSaveAuthenticationLayout:!1,showDeleteAuthenticationLayout:!1})}}componentDidMount(){try{o.pJ(this.props.userDetails.EntityResult.IsArchived),this.getGantry(this.props)}catch(e){console.log("GantryDetailsComposite:Error occured on componentDidMount",e)}}componentWillReceiveProps(e){try{if(void 0===e.Code&&this.props.tokenDetails.tokenInfo===e.tokenDetails.tokenInfo){this.getGantry(e);let t={...this.state.validationErrors};Object.keys(t).forEach((e=>{t[e]=""})),this.setState({validationErrors:t})}}catch(t){console.log("GantryDetailsComposite:Error occured on componentWillReceiveProps",t)}}getGantry(e){try{let s=e.selectedlocation,l=e.selectedTerminal;if("SPUR"===e.locationtype?(this.setState({selectedLocationType:a.uA.SPUR}),A.fj.LocationType=a.uA.SPUR):(this.setState({selectedLocationType:a.uA.GANTRY}),A.fj.LocationType=a.uA.GANTRY),A.fj.ParentCode=e.selectedTerminal,!0===e.isClone)return void this.setState({gantry:y().cloneDeep(A.fj),modGantry:y().cloneDeep(A.fj),selectedLocationType:A.fj.LocationType,isReadyToRender:!0,isDeleteEnabled:!1,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,o.k5(this.props.transportationtype))});if(void 0===s||""===s)return void this.setState({gantry:y().cloneDeep(A.fj),modGantry:y().cloneDeep(A.fj),selectedLocationType:A.fj.LocationType,isReadyToRender:!0,isDeleteEnabled:!1,saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,o.k5(this.props.transportationtype))});var t=[{key:n.uw,value:l},{key:n.f,value:s},{key:n.EW,value:A.fj.LocationType}],i={ShareHolderCode:"",keyDataCode:n.$A,KeyCodes:t};p()(r.E2U,o.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?this.setState({gantry:y().cloneDeep(t.EntityResult),modGantry:y().cloneDeep(t.EntityResult),selectedLocationType:y().cloneDeep(t.EntityResult.EntityTypeCode),isReadyToRender:!0,isDeleteEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.remove,o.k5(this.props.transportationtype)),saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.modify,o.k5(this.props.transportationtype))}):(this.setState({gantry:y().cloneDeep(A.fj),modGantry:y().cloneDeep(A.fj),isReadyToRender:!0,isDeleteEnabled:!1}),console.log("GantryDetailsComposite:Error in GetGantry",t.ErrorList))}))}catch(s){console.log("GantryDetailsComposite:Error while getting gantry:",s)}}fillDetails(){try{let e=y().cloneDeep(this.state.modGantry);return e.EntityTypeCode=this.state.selectedLocationType,e.ParentCode=this.props.selectedTerminal,e.TerminalCode=this.props.selectedTerminal,e}catch(e){console.log("GantryDetailsComposite:Error occured on filldetails",e)}}validateSave(e){const t={...this.state.validationErrors};Object.keys(E.Ed).forEach((function(i){void 0!==e[i]&&(t[i]=o.jr(E.Ed[i],e[i]))})),e.Active!==this.state.gantry.Active&&(null!==e.EntityRemarks&&""!==e.EntityRemarks||(t.EntityRemarks="OriginTerminal_RemarksRequired"));let i={messageType:"critical",message:[this.state.selectedLocationType+"SavedSuccess"],messageResultDetails:[]};this.setState({validationErrors:t});var s=Object.values(t).every((function(e){return""===e}));return i.messageResultDetails.length>0?(this.props.onSaved(this.state.modGantry,"update",i),!1):s}createGantry(e){try{let t=[{key:n.f,value:e.Code}],i={ShareHolderCode:"",keyDataCode:n.$A,KeyCodes:t,Entity:e},s={messageType:"critical",message:[this.state.selectedLocationType+"SavedSuccess"],messageResultDetails:[{keyFields:[this.state.selectedLocationType+"Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};p()(r.ks4,o.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,o.k5(this.props.transportationtype)),showSaveAuthenticationLayout:!1}),this.getGantry({selectedlocation:this.state.modGantry.Code,selectedTerminal:this.props.selectedTerminal,isClone:!1,locationtype:this.state.selectedLocationType})):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,o.k5(this.props.transportationtype)),showSaveAuthenticationLayout:!1})),this.props.onSaved(this.state.modGantry,"add",s)}))}catch(t){console.log("GantryDetailsComposite:Error occured on createLocation",t)}}updateGantry(e){try{let t=[{key:n.f,value:e.Code}],i={ShareHolderCode:"",keyDataCode:n.$A,KeyCodes:t,Entity:e},s={messageType:"critical",message:[this.state.selectedLocationType+"SavedSuccess"],messageResultDetails:[{keyFields:[this.state.selectedLocationType+"Code"],keyValues:[e.Code],isSuccess:!1,errorMessage:""}]};p()(r.f80,o.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;s.messageType=t.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=t.IsSuccess,!0===t.IsSuccess?(this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,o.k5(this.props.transportationtype)),showSaveAuthenticationLayout:!1}),this.getGantry({selectedlocation:this.state.modGantry.Code,selectedTerminal:this.props.selectedTerminal,isClone:!1,locationtype:this.state.selectedLocationType})):(s.messageResultDetails[0].errorMessage=t.ErrorList[0],this.setState({saveEnabled:o.ab(this.props.userDetails.EntityResult.FunctionsList,R.i.add,o.k5(this.props.transportationtype)),showSaveAuthenticationLayout:!1})),this.props.onSaved(this.state.modGantry,"add",s)}))}catch(t){console.log("GantryDetailsComposite:Error occured on createLocation",t)}}handleOperation(){return this.state.showDeleteAuthenticationLayout?this.handleDelete:this.saveGantry}getFunctionGroupName(){return this.state.selectedLocationType===a.uA.SPUR?R.Z9:R.x5}getFunctionName(){return this.state.showDeleteAuthenticationLayout?R.i.remove:""===this.state.gantry.Code?R.i.add:R.i.modify}render(){const e=[{fieldName:"DriverInfo_LastUpdated",fieldValue:new Date(this.state.modGantry.LastUpdatedTime).toLocaleDateString()+" "+new Date(this.state.modGantry.LastUpdatedTime).toLocaleTimeString()},{fieldName:"DriverInfo_LastActive",fieldValue:void 0!==this.state.modGantry.LastActive&&null!==this.state.modGantry.LastActive?new Date(this.state.modGantry.LastActive).toLocaleDateString()+" "+new Date(this.state.modGantry.LastActive).toLocaleTimeString():""},{fieldName:"DriverInfo_CreatedTime",fieldValue:new Date(this.state.modGantry.CreatedTime).toLocaleDateString()+" "+new Date(this.state.modGantry.CreatedTime).toLocaleTimeString()}];return this.state.isReadyToRender?(0,D.jsxs)("div",{children:[(0,D.jsx)(u.A,{children:(0,D.jsx)(S.A,{entityCode:this.state.gantry.Code,newEntityName:"New"+this.state.selectedLocationType,popUpContents:e})}),(0,D.jsx)(u.A,{children:(0,D.jsx)(f,{gantry:this.state.gantry,modGantry:this.state.modGantry,selectedLocationType:this.state.selectedLocationType,onActiveStatusChange:this.handleActiveStatusChange,validationErrors:this.state.validationErrors,onFieldChange:this.handleChange})}),(0,D.jsx)(u.A,{children:(0,D.jsx)(L.E,{isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,handleSave:this.handleSave,handleDelete:this.authenticateDelete,saveEnabled:this.state.saveEnabled,isDeleteEnabled:this.state.isDeleteEnabled})}),this.state.showDeleteAuthenticationLayout||this.state.showSaveAuthenticationLayout?(0,D.jsx)(b.A,{Username:this.props.userDetails.EntityResult.UserName,functionName:this.getFunctionName(),functionGroup:this.getFunctionGroupName(),handleClose:this.handleAuthenticationClose,handleOperation:this.handleOperation()}):null]}):(0,D.jsx)(m.A,{message:"Loading"})}}const k=(0,d.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(j);var I=i(67596),_=i(2554),w=i(83903),N=i(24015);i(63962);const P=g.Tree.Content.Item;class M extends s.Component{constructor(){super(...arguments),this.state={isLoading:!1,isChildLoadDevice:!1,isLoadingMeter:!1,isLoadingArm:!1,terminalList:[],bcuDeviceList:[],locationCode:"",isClone:!1,locationType:"",deviceType:"",selectedLocationCode:"",selectedDeviceCode:"",deviceCode:"",loadingArmCode:"",deviceModel:"",parentCode:"",meterLineType:"",siteExpandedItems:[],bcuExpandedItems:[]},this.handleMenuExpandCollapse=e=>{let t=this.state.siteExpandedItems;if(t.includes(e)){let i=t.findIndex((t=>t===e));t.splice(i,1)}else t.push(e);this.setState({siteExpandedItems:t})},this.savedEvent=(e,t,i)=>{try{(0,l.toast)((0,D.jsx)(u.A,{children:(0,D.jsx)(c.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4}),this.getBCUTreeView(this.state.deviceCode)}catch(s){console.log("SiteTreeView:Error occured on savedEvent",s)}},this.deleteEvent=(e,t,i)=>{try{(0,l.toast)((0,D.jsx)(u.A,{children:(0,D.jsx)(c.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4}),this.getBCUTreeView(this.state.deviceCode)}catch(s){console.log("SiteTreeView:Error occured on deleteEvent",s)}}}getBCUTreeView(e){try{var t=[{key:n.Dm,value:a.Dm.ROAD_BCUVIEW},{key:n.wX,value:e},{key:n.uw,value:this.props.selectedTerminal}],i={ShareHolderCode:"",keyDataCode:n.Dm,KeyCodes:t};p()(r._xh,o.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;!0===t.IsSuccess?Array.isArray(t.EntityResult)&&t.EntityResult.length>0&&this.setState({isReadyToRender:!0,bcuDeviceList:y().cloneDeep(t.EntityResult)}):this.setState({isReadyToRender:!1,bcuDeviceList:[]})}))}catch(s){console.log("SiteTreeView:Error occured in getBCUTreeView",s)}}setTitle(e,t,i){this.setState({isLoading:!0,isChildLoadDevice:!1,isLoadingArm:!1,isLoadingMeter:!1,locationCode:e,isClone:!1,locationType:t,selectedLocationCode:e,parentCode:i})}setArmTitle(e){this.setState({isLoading:!1,isChildLoadDevice:!1,isLoadingArm:!0,isLoadingMeter:!1,isClone:!1,loadingArmCode:e})}setMeterTitle(e,t,i){this.setState({isLoading:!1,isChildLoadDevice:!1,isLoadingArm:!1,isLoadingMeter:!0,isClone:!1,meterCode:e,meterLineType:t,parentCode:i})}childComponent(e,t,i){this.setState({isChildLoadDevice:!1,deviceType:t,deviceModel:i,deviceCode:e,selectedDeviceCode:e,isReadyToRender:!1},(()=>{this.setState({isChildLoadDevice:!0,isLoading:!1,isLoadingArm:!1,isLoadingMeter:!1,isReadyToRender:!0})})),void 0!==e&&this.getBCUTreeView(e)}parentComponentClick(){this.setState({isChildLoadDevice:!1,isLoading:!1,isLoadingArm:!1,isLoadingMeter:!1})}isAddClick(e,t,i){this.setState({isLoading:!0,isClone:!0,locationType:t,locationCode:e,parentCode:i})}isNewClick(e){this.setState({isLoading:!1,isChildLoadDevice:!1,isLoadingArm:!0,isLoadingMeter:!1,isClone:!0,loadingArmCode:e})}isNewMeterClick(e,t,i){this.setState({isLoading:!1,isChildLoadDevice:!1,isLoadingArm:!1,isLoadingMeter:!0,isClone:!0,meterCode:e,meterLineType:t,parentCode:i})}buildDevices(e){try{return e.map((e=>e.DeviceCode.length>8?(0,D.jsx)(g.Tooltip,{content:e.DeviceCode,element:(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+(e.DeviceType===a.k6.WEIGH_BRIDGE?"icon-Weigh-Bridge":"icon-"+(0,o.cd)(a.k6,e.DeviceType))}),title:this.getSelectedDeviceCode(e.DeviceCode),onTitleClick:()=>this.childComponent(e.DeviceCode,e.DeviceType,e.DeviceModel)}),position:"bottom right",size:"mini",hoverable:!0}):(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+(e.DeviceType===a.k6.WEIGH_BRIDGE?"icon-Weigh-Bridge":"icon-"+(0,o.cd)(a.k6,e.DeviceType))}),title:this.getSelectedDeviceCode(e.DeviceCode),onTitleClick:()=>this.childComponent(e.DeviceCode,e.DeviceType,e.DeviceModel)})))}catch(t){console.log("SiteViewTree: Error occured in buildDevices")}}getSelectedDeviceCode(e){try{return this.state.selectedDeviceCode===e?e.length>8?(0,D.jsx)("span",{className:"active",children:e.substring(0,8)+"..."}):(0,D.jsx)("span",{className:"active",children:e}):e.length>8?(0,D.jsx)("span",{children:e.substring(0,8)+"..."}):(0,D.jsx)("span",{children:e})}catch(t){console.log("SiteViewTree: Error occured in getSelectedDeviceCode")}}getSelectedLocationCode(e){try{return this.state.selectedLocationCode===e?e.length>8?(0,D.jsx)("span",{className:"active",children:e.substring(0,8)+"..."}):(0,D.jsx)("span",{className:"active",children:e}):e.length>8?(0,D.jsx)("span",{children:e.substring(0,8)+"..."}):(0,D.jsx)("span",{children:e})}catch(t){console.log("SiteViewTree: Error occured in getSelectedLocatioCode")}}getLocalisedTooltip(e){return(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsxs)("span",{children:[" ",t(e)]})})}buildTree(e){try{return e.LocationCode.length>8?(0,D.jsx)(g.Tooltip,{content:e.LocationCode,element:(0,D.jsx)(P,{onClick:()=>this.handleMenuExpandCollapse(e.LocationCode),icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+(e.LocationType===a.uA.ISLAND?"icon-Island":"MarineBay"===e.LocationType?"icon-Berth":"icon-Bay")}),title:this.getSelectedLocationCode(e.LocationCode),actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isAddClick(e.LocationCode,e.LocationType,e.AssociatedLocationCode)})}),expanded:this.state.siteExpandedItems.includes(e.LocationCode),onTitleClick:()=>this.setTitle(e.LocationCode,e.LocationType,e.AssociatedLocationCode),children:e.AssociatedLocationsList.length>0&&e.AssociatedDevices.length>0||e.LocationType===a.uA.ISLAND&&e.AssociatedDevices.length>0?this.buildIslandTree(e):e.AssociatedLocationsList.length>0?e.AssociatedLocationsList.map((e=>this.buildTree(e))):e.AssociatedDevices.length>0?this.buildDevices(e.AssociatedDevices):e.LocationType===a.uA.ISLAND?(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddBay"),onClick:()=>this.isAddClick("",a.uA.BAY,e.LocationCode)})}):(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddIsland"),onClick:()=>this.isAddClick("",a.uA.ISLAND,e.LocationCode)})})}),position:"top right",size:"mini",hoverable:!0}):(0,D.jsx)(P,{onClick:()=>this.handleMenuExpandCollapse(e.LocationCode),icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+(e.LocationType===a.uA.ISLAND?"icon-Island":"MarineBay"===e.LocationType?"icon-Berth":"icon-Bay")}),title:this.getSelectedLocationCode(e.LocationCode),actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isAddClick(e.LocationCode,e.LocationType,e.AssociatedLocationCode)})}),expanded:this.state.siteExpandedItems.includes(e.LocationCode),onTitleClick:()=>this.setTitle(e.LocationCode,e.LocationType,e.AssociatedLocationCode),children:e.AssociatedLocationsList.length>0&&e.AssociatedDevices.length>0||e.LocationType===a.uA.ISLAND&&e.AssociatedDevices.length>0?this.buildIslandTree(e):e.AssociatedLocationsList.length>0?e.AssociatedLocationsList.map((e=>this.buildTree(e))):e.AssociatedDevices.length>0?this.buildDevices(e.AssociatedDevices):e.LocationType===a.uA.ISLAND?(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddBay"),onClick:()=>this.isAddClick("",a.uA.BAY,e.LocationCode)})}):(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddIsland"),onClick:()=>this.isAddClick("",a.uA.ISLAND,e.LocationCode)})})})}catch(t){console.log("SiteViewTree: Error occured in buildTree")}}buildIslandTree(e){let t=[];try{return t.push(this.buildDevices(e.AssociatedDevices)),e.AssociatedLocationsList.length>0?t.push(e.AssociatedLocationsList.map((e=>this.buildTree(e)))):t.push((0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddBay"),onClick:()=>this.isAddClick("",a.uA.BAY,e.LocationCode)})})),t}catch(i){console.log("SiteViewTree: Error occured in buildIslandTree")}}handleLocationTree(e){let t=[],i=[];return e.forEach((e=>{var s=e.LocationType.replace(/ /g,"");i.push(e),null!==e.LocationCode&&t.push(e.LocationCode.length>8?(0,D.jsx)(g.Tooltip,{content:e.LocationCode,element:(0,D.jsx)(P,{onClick:()=>this.handleMenuExpandCollapse(e.LocationCode),icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+"icon-"+s}),title:this.getSelectedLocationCode(e.LocationCode),actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isAddClick(e.LocationCode,e.LocationType,e.AssociatedLocationCode)})}),expanded:this.state.siteExpandedItems.includes(e.LocationCode),onTitleClick:()=>this.setTitle(e.LocationCode,e.LocationType,e.AssociatedLocationCode),children:e.AssociatedLocationsList.length>0?e.AssociatedLocationsList.map((e=>this.buildTree(e))):e.AssociatedDevices.length>0?this.buildDevices(e.AssociatedDevices):e.LocationType===a.uA.ISLAND?(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddBay"),onClick:()=>this.isAddClick("",a.uA.BAY,e.LocationCode)})}):e.LocationType===a.uA.SPUR?(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("LocationInfo_AddCluster"),onClick:()=>this.isAddClick("",a.uA.CLUSTER,e.LocationCode)})}):(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddIsland"),onClick:()=>this.isAddClick("",a.uA.ISLAND,e.LocationCode)})})}),position:"top right",size:"mini",hoverable:!0}):(0,D.jsx)(P,{onClick:()=>this.handleMenuExpandCollapse(e.LocationCode),icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+("MarineBay"===e.LocationType?"icon-Berth":"icon-"+s)}),title:this.getSelectedLocationCode(e.LocationCode),actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isAddClick(e.LocationCode,e.LocationType,e.AssociatedLocationCode)})}),expanded:this.state.siteExpandedItems.includes(e.LocationCode),onTitleClick:()=>this.setTitle(e.LocationCode,e.LocationType,e.AssociatedLocationCode),children:e.AssociatedLocationsList.length>0?e.AssociatedLocationsList.map((e=>this.buildTree(e))):e.AssociatedDevices.length>0?this.buildDevices(e.AssociatedDevices):e.LocationType===a.uA.ISLAND?(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddBay"),onClick:()=>this.isAddClick("",a.uA.BAY,e.LocationCode)})}):e.LocationType===a.uA.SPUR?(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("LocationInfo_AddCluster"),onClick:()=>this.isAddClick("",a.uA.CLUSTER,e.LocationCode)})}):(0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("SiteView_AddIsland"),onClick:()=>this.isAddClick("",a.uA.ISLAND,e.LocationCode)})})})),"EntryGate"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddEntryGate"),onClick:()=>this.isAddClick("",a.uA.ENTRYGATE)})})),"Bay"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddGantry"),onClick:()=>this.isAddClick("",a.uA.GANTRY)})})),"ExitGate"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddExitGate"),onClick:()=>this.isAddClick("",a.uA.EXITGATE)})})),"ReportingOffice"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddReportingOffice"),onClick:()=>this.isAddClick("",a.uA.REPORTINGOFFICE)})})),"BOLOffice"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddBOLOffice"),onClick:()=>this.isAddClick("",a.uA.BOLOFFICE)})})),"MarineBay"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:t=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:t("LocationInfo_AddBerth"),onClick:()=>this.isAddClick("",e.LocationType)})})),"RailEntryGate"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddRailEntryGate"),onClick:()=>this.isAddClick("",a.uA.RAILENTRYGATE)})})),"RailExitGate"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddRailExitGate"),onClick:()=>this.isAddClick("",a.uA.RAILEXITGATE)})})),"RailLoadingArea"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddSpur"),onClick:()=>this.isAddClick("",a.uA.SPUR)})})),"Cluster"===e.LocationType&&null===e.LocationCode&&t.push((0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("LocationInfo_AddCluster"),onClick:()=>this.isAddClick("",a.uA.CLUSTER)})}))})),t}buildBcuTree(e){try{return e.length>0?e.map((e=>e.Code.length>8?(0,D.jsx)(g.Tooltip,{content:e.Code,element:(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Status&&e.Status?"":"redIcon ")+"icon-LoadingArm"}),title:e.Code.substring(0,8)+"...",actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isNewClick(e.Code)})}),expanded:!0,onTitleClick:()=>this.setArmTitle(e.Code),children:e.AssociatedMeterList.map((t=>(0,D.jsx)(P,{title:t.MeterLineType,expanded:!0,onTitleClick:()=>this.parentComponentClick(),children:t.MeterList.length>0?t.MeterList.map((e=>e.Code.length>8?(0,D.jsx)(g.Tooltip,{content:e.Code,element:(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+"icon-Meter"}),title:e.Code.substring(0,8)+"...",actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isNewMeterClick(e.Code,e.MeterLineType,e.LoadingArmCode)})}),expanded:!0,onTitleClick:()=>this.setMeterTitle(e.Code,e.MeterLineType,e.LoadingArmCode)}),position:"bottom right",size:"mini",hoverable:!0}):(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+"icon-Meter"}),title:e.Code,actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isNewMeterClick(e.Code,e.MeterLineType,e.LoadingArmCode)})}),expanded:!0,onTitleClick:()=>this.setMeterTitle(e.Code,e.MeterLineType,e.LoadingArmCode),position:"bottom right",size:"mini",hoverable:!0}))):(0,D.jsx)(x.TranslationConsumer,{children:i=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:i("SiteView_AddMeter"),onClick:i=>this.isNewMeterClick("",t.MeterLineType,e.Code)})})})))})}):(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Status&&e.Status?"":"redIcon ")+"icon-LoadingArm"}),title:e.Code,actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isNewClick(e.Code)})}),expanded:!0,onTitleClick:()=>this.setArmTitle(e.Code),children:e.AssociatedMeterList.map((t=>(0,D.jsx)(P,{title:t.MeterLineType,expanded:!0,onTitleClick:()=>this.parentComponentClick(),children:t.MeterList.length>0?t.MeterList.map((e=>e.Code.length>8?(0,D.jsx)(g.Tooltip,{content:e.Code,element:(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+"icon-Meter"}),title:e.Code.substring(0,8)+"...",actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isNewMeterClick(e.Code,e.MeterLineType,e.LoadingArmCode)})}),expanded:!0,onTitleClick:()=>this.setMeterTitle(e.Code,e.MeterLineType,e.LoadingArmCode)}),position:"bottom right",size:"mini",hoverable:!0}):(0,D.jsx)(P,{icon:(0,D.jsx)("span",{style:{fontSize:"24px",marginRight:"6px"},className:(null!==e.Active&&e.Active?"":"redIcon ")+"icon-Meter"}),title:e.Code,actionRenderer:(0,D.jsx)(g.Tooltip,{content:this.getLocalisedTooltip("Siteview_New"),position:"bottom left",size:"mini",element:(0,D.jsx)(g.Icon,{root:"common",name:"duplicate",size:"medium",onClick:t=>this.isNewMeterClick(e.Code,e.MeterLineType,e.LoadingArmCode)})}),expanded:!0,onTitleClick:()=>this.setMeterTitle(e.Code,e.MeterLineType,e.LoadingArmCode)}))):(0,D.jsx)(x.TranslationConsumer,{children:i=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:i("SiteView_AddMeter"),onClick:i=>this.isNewMeterClick("",t.MeterLineType,e.Code)})})})))}))):(0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddLoadingArm"),onClick:()=>this.isNewClick("")})})}catch(t){console.log("SiteViewTree: Error occured in buildBcuTree")}}render(){const e=(0,D.jsx)(g.Tree,{children:(0,D.jsx)(g.Tree.Content,{children:this.props.terminalList.map((e=>(0,D.jsx)(P,{title:e.TerminalNode,expanded:!0,onTitleClick:()=>this.parentComponentClick(),children:e.LocationDetailsList.length>0?(0,D.jsx)(D.Fragment,{children:this.handleLocationTree(e.LocationDetailsList)}):(0,D.jsx)(x.TranslationConsumer,{children:e=>(0,D.jsxs)("div",{className:"button-group",children:[(0,D.jsx)("div",{children:(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddEntryGate"),onClick:()=>this.isAddClick("",a.uA.ENTRYGATE)})}),(0,D.jsx)("div",{children:(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddReportingOffice"),onClick:()=>this.isAddClick("",a.uA.REPORTINGOFFICE)})}),(0,D.jsx)("div",{children:(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddGantry"),onClick:()=>this.isAddClick("",a.uA.GANTRY)})}),(0,D.jsx)("div",{children:(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddBOLOffice"),onClick:()=>this.isAddClick("",a.uA.BOLOFFICE)})}),(0,D.jsx)("div",{children:(0,D.jsx)(g.Button,{type:"secondary",className:"dotted-botton",content:e("SiteView_AddExitGate"),onClick:()=>this.isAddClick("",a.uA.EXITGATE)})})]})})})))})}),t=(0,D.jsx)(g.Tree,{children:(0,D.jsx)(g.Tree.Content,{children:this.state.bcuDeviceList.map((e=>(0,D.jsx)(P,{title:e.DeviceCode,expanded:!0,onTitleClick:()=>this.childComponent(e.DeviceCode,this.state.deviceType,this.state.deviceModel),children:this.buildBcuTree(e.AssociatedArmsList)})))})});return(0,D.jsx)(s.Fragment,{children:(0,D.jsx)(x.TranslationConsumer,{children:i=>(0,D.jsxs)("div",{style:{display:"flex"},children:[(0,D.jsx)("div",{className:"treeview-container",children:(0,D.jsx)(g.SidebarLayout,{className:"sideBarHeight treeSidebarWidget",children:(0,D.jsx)("div",{className:"sidebar",children:(0,D.jsxs)(g.Tab,{activeIndex:this.props.activeTab,onTabChange:e=>this.props.onTabChange(e),children:[(0,D.jsx)(g.Tab.Pane,{title:i("SiteView_Title"),children:e}),(0,D.jsx)(g.Tab.Pane,{title:i("SiteView_BCUView"),children:t})]})})})}),(0,D.jsx)("div",{className:"main-content-container",children:(0,D.jsx)("div",{className:"treeviewContent",children:this.state.isLoading?this.state.locationType===a.uA.GANTRY||"RailLoadingArea"===this.state.locationType||this.state.locationType===a.uA.SPUR?(0,D.jsx)(u.A,{children:(0,D.jsx)(k,{selectedlocation:this.state.locationCode,locationtype:this.state.locationType,selectedTerminal:this.props.selectedTerminal,isClone:this.state.isClone,onSaved:this.props.onSaved,onDelete:this.props.onDelete,transportationtype:this.props.transportationtype})}):this.state.locationType===a.uA.ISLAND||"Island"===this.state.locationType?(0,D.jsx)(u.A,{children:(0,D.jsx)(_.default,{selectedlocation:this.state.locationCode,locationtype:this.state.locationType,selectedTerminal:this.props.selectedTerminal,parentCode:this.state.parentCode,isClone:this.state.isClone,onSaved:this.props.onSaved,onDelete:this.props.onDelete,transportationtype:this.props.transportationtype})}):this.state.locationType===a.uA.BAY||"Bay"===this.state.locationType||"MarineBay"===this.state.locationType||this.state.locationType===a.uA.BERTH||this.state.locationType===a.uA.CLUSTER?(0,D.jsx)(u.A,{children:(0,D.jsx)(w.default,{selectedlocation:this.state.locationCode,locationtype:this.state.locationType,selectedTerminal:this.props.selectedTerminal,parentCode:this.state.parentCode,isClone:this.state.isClone,onSaved:this.props.onSaved,onDelete:this.props.onDelete,transportationtype:this.props.transportationtype})}):(0,D.jsx)(u.A,{children:(0,D.jsx)(T.default,{selectedlocation:this.state.locationCode,locationtype:this.state.locationType,selectedTerminal:this.props.selectedTerminal,isClone:this.state.isClone,onSaved:this.props.onSaved,onDelete:this.props.onDelete,transportationtype:this.props.transportationtype})}):this.state.isChildLoadDevice?(0,D.jsx)(u.A,{children:(0,D.jsx)(v.default,{deviceCode:this.state.deviceCode,deviceType:this.state.deviceType,selectedTerminal:this.props.selectedTerminal,onSaved:this.props.onSaved,IsSiteView:!0})}):this.state.isLoadingArm?(0,D.jsx)(u.A,{children:(0,D.jsx)(I.default,{loadingArmCode:this.state.loadingArmCode,deviceCode:this.state.deviceCode,selectedTerminal:this.props.selectedTerminal,isClone:this.state.isClone,onSaved:this.savedEvent,onDelete:this.deleteEvent,transportationtype:this.props.transportationtype})}):this.state.isLoadingMeter?(0,D.jsx)(u.A,{children:(0,D.jsx)(N.default,{meterCode:this.state.meterCode,parentCode:this.state.parentCode,meterLineType:this.state.meterLineType,isClone:this.state.isClone,onSaved:this.savedEvent,onDelete:this.deleteEvent,selectedTerminal:this.props.selectedTerminal,deviceCode:this.state.deviceCode,transportationtype:this.props.transportationtype})}):null})})]})})})}}const B=(0,d.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(M);var V=i(26182);class G extends s.Component{constructor(){super(...arguments),this.state={operationsVisibilty:{terminal:!0},terminalOptions:[],terminalList:[],selectedTerminal:"",isReadyToRender:!1,terminalChange:!1,activeTab:0,transportationType:""},this.handleTabChange=e=>{try{this.setState({activeTab:e})}catch(t){console.log("SiteViewComposite: Error occurred on handleTabChange",t)}},this.handleTerminalSelectionChange=e=>{try{this.setState({selectedTerminal:e,isReadyToRender:!0,terminalChange:!0,activeTab:0}),this.getSiteTreeView(e)}catch(t){console.log("SiteViewComposite:Error occured on handleTerminalSelectionChange",t)}},this.savedEvent=(e,t,i)=>{try{let e={...this.state.operationsVisibilty};"success"===i.messageType&&this.setState({operationsVisibilty:e}),(0,l.toast)((0,D.jsx)(u.A,{children:(0,D.jsx)(c.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4}),this.getSiteTreeView(this.state.selectedTerminal)}catch(s){console.log("SiteViewComposite:Error occured on savedEvent",s)}},this.deleteEvent=(e,t,i)=>{try{let e={...this.state.operationsVisibilty};"success"===i.messageType&&this.setState({operationsVisibilty:e}),(0,l.toast)((0,D.jsx)(u.A,{children:(0,D.jsx)(c.A,{notificationMessage:i})}),{autoClose:"success"===i.messageType&&1e4}),this.getSiteTreeView(this.state.selectedTerminal)}catch(s){console.log("SiteViewComposite:Error occured on deleteEvent",s)}}}componentDidMount(){try{this.setState({selectedTerminal:this.state.terminalOptions[0]}),this.getTerminalList(),this.props.userDetails.EntityResult.IsEnterpriseNode?this.setState({operationsVisibilty:{terminal:!0}}):this.setState({operationsVisibilty:{terminal:!1}})}catch(e){console.log("SiteViewComposite:Error occured on ComponentDidMount",e)}}getTerminalList(){try{p()(r.Oqv,o.tW(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;!0===t.IsSuccess&&(Array.isArray(t.EntityResult)&&t.EntityResult.length>0&&this.setState({terminalOptions:t.EntityResult,isReadyToRender:!0,activeTab:0}),this.setState({selectedTerminal:this.state.terminalOptions[0]}),this.getSiteTreeView(this.state.selectedTerminal))}))}catch(e){console.log("SiteViewComposite:Error occured on getTerminalsList",e)}}getSiteTreeView(e){var t="";void 0!==this.props.activeItem.itemProps&&void 0!==this.props.activeItem.itemProps.transportationType&&(t=this.props.activeItem.itemProps.transportationType);var i="";"MARINE"===t&&(i=a.Dm.MARINE_SITEVIEW),"ROAD"===t&&(i=a.Dm.ROAD_SITEVIEW),"RAIL"===t&&(i=a.Dm.RAIL_SITEVIEW);try{var s=[{key:n.Dm,value:i},{key:n.uw,value:e}],l={ShareHolderCode:"",keyDataCode:n.Dm,KeyCodes:s};p()(r.Prz,o.tW(l,this.props.tokenDetails.tokenInfo)).then((e=>{this.setState({terminalList:[],isReadyToRender:!0});var i=e.data;!0===i.IsSuccess?this.setState({terminalList:y().cloneDeep(i.EntityResult),isReadyToRender:!0,transportationtype:t}):this.setState({isReadyToRender:!1,terminalList:[]})}))}catch(c){console.log("SiteViewComposite:Error occured in getSiteTreeView",c)}}render(){return this.state.isReadyToRender?(0,D.jsxs)("div",{children:[(0,D.jsx)(u.A,{children:(0,D.jsx)(V.y,{breadcrumbItem:this.props.activeItem,operationsVisibilty:this.state.operationsVisibilty,terminals:this.state.terminalOptions,selectedTerminal:this.state.selectedTerminal,onTerminalChange:this.handleTerminalSelectionChange,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),(0,D.jsx)(u.A,{children:(0,D.jsx)("div",{className:"projectMasterList",children:(0,D.jsx)(B,{terminalList:this.state.terminalList,selectedTerminal:this.state.selectedTerminal,onSaved:this.savedEvent,onDelete:this.deleteEvent,activeTab:this.state.activeTab,onTabChange:this.handleTabChange,transportationtype:this.state.transportationtype})})}),(0,D.jsx)(u.A,{children:(0,D.jsx)(l.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]}):(0,D.jsx)(m.A,{message:"Loading"})}}const O=(0,d.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(G)},80312:(e,t,i)=>{"use strict";i.d(t,{$3:()=>H,$H:()=>se,$J:()=>ue,$K:()=>Ce,$V:()=>Rt,$b:()=>At,$p:()=>O,AE:()=>D,Al:()=>G,B2:()=>st,By:()=>Dt,CW:()=>Ct,DA:()=>l,Ee:()=>Ue,FO:()=>k,Fy:()=>Pe,G9:()=>it,H8:()=>ee,Hq:()=>rt,Ig:()=>N,Iu:()=>g,JI:()=>ct,JJ:()=>te,JU:()=>Y,Jz:()=>Ye,KQ:()=>ae,Kk:()=>Xe,Kw:()=>et,LP:()=>jt,LR:()=>d,Lg:()=>$,Mg:()=>Ae,Mm:()=>P,N1:()=>J,Nm:()=>m,No:()=>ce,Ow:()=>F,P2:()=>n,P8:()=>Te,PD:()=>Ie,PE:()=>h,PG:()=>K,PP:()=>ut,Pb:()=>we,QB:()=>L,QC:()=>X,RE:()=>nt,RO:()=>$e,Rc:()=>gt,Rl:()=>Lt,Rx:()=>yt,TI:()=>T,Tm:()=>me,Ug:()=>Z,Ur:()=>ze,V9:()=>c,VK:()=>z,VL:()=>pe,VQ:()=>re,WD:()=>Me,Wf:()=>R,YO:()=>_,YY:()=>ke,Yb:()=>ye,Yg:()=>He,Z9:()=>pt,ZE:()=>dt,ZU:()=>A,_N:()=>Tt,_S:()=>bt,_d:()=>kt,aS:()=>U,aZ:()=>ht,au:()=>xe,b0:()=>Et,bL:()=>Ge,c2:()=>Ve,d4:()=>Ne,dB:()=>y,dD:()=>Oe,dK:()=>W,dY:()=>I,de:()=>p,dv:()=>be,eQ:()=>r,f3:()=>Le,fF:()=>M,fL:()=>vt,fN:()=>xt,fk:()=>b,fl:()=>ge,fr:()=>S,go:()=>o,h:()=>he,hD:()=>E,hE:()=>j,hh:()=>Ze,hk:()=>ne,hz:()=>mt,i:()=>s,j2:()=>at,jN:()=>q,je:()=>C,jx:()=>V,kL:()=>Je,ke:()=>Fe,km:()=>le,l0:()=>oe,l6:()=>We,lz:()=>w,m0:()=>v,nS:()=>fe,nk:()=>lt,nn:()=>x,np:()=>Q,oh:()=>ot,op:()=>Ke,pt:()=>Be,qk:()=>de,qp:()=>ve,r6:()=>Ee,rQ:()=>Re,rj:()=>B,rp:()=>a,t3:()=>St,tM:()=>_e,to:()=>_t,ts:()=>tt,uH:()=>Se,uy:()=>Qe,w1:()=>je,x5:()=>ie,xz:()=>f,y_:()=>qe,yu:()=>u,yx:()=>ft,z8:()=>De,z_:()=>It});const s={view:"view",add:"add",modify:"modify",remove:"remove"},o="carriercompany",n="driver",a="customer",r="trailer",l="originterminal",c="destination",d="primemover",h="vehicle",p="shipmentbycompartment",u="shipmentbyproduct",m="ViewShipmentStatus",C="vessel",y="order",g="OrderForceClose",T="contract",v="receiptplanbycompartment",A="ViewMarineShipment",L="MarineShipmentByCompartment",S="ViewMarineReceipt",x="supplier",D="finishedproduct",f="RailDispatch",E="RailReceipt",R="RailRoute",b="RailWagon",j="CloseRailDispatch",k="PrintRailBOL",I="PrintRailFAN",_="RailDispatchLoadSpotAssignment",w="RailDispatchProductAssignment",N="ViewRailDispatch",P="ViewRailLoadingDetails",M="CloseRailReceipt",B="PrintRailBOD",V="PrintRailRAN",G="ViewRailReceipt",O="ViewRailUnLoadingDetails",U="SMS",F="UnAccountedTransactionTank",z="UnAccountedTransactionMeter",W="PipelineDispatch",H="PipelineReceipt",q="PipelineDispatchManualEntry",Y="PipelineReceiptManualEntry",K="LookUpData",Q="HSEInspection",$="HSEInspectionConfig",J="Email",X="Shareholder",Z="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",se="LeakageManualEntry",oe="Terminal",ne="SlotInformation",ae="TankGroup",re="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",he="AccessCard",pe="ResetPin",ue="SlotConfiguration",me="PrintMarineFAN",Ce="PrintMarineBOL",ye="ViewMarineLoadingDetails",ge="ViewMarineShipmentAuditTrail",Te="CloseMarineShipment",ve="IssueCard",Ae="ActivateCard",Le="RevokeCard",Se="AutoIDAssociation",xe="MarineReceiptByCompartment",De="PrintMarineRAN",fe="PrintMarineBOD",Ee="ViewMarineUnloadingDetails",Re="ViewMarineReceiptAuditTrail",be="CloseMarineReceipt",je="WeekendConfig",ke="EODAdmin",Ie="PrintBOL",_e="PrintFAN",we="PrintBOD",Ne="CloseShipment",Pe="CloseReceipt",Me="CONTRACTFORCECLOSE",Be="Captain",Ve="OverrideShipmentSequence",Ge="KPIInformation",Oe="Language",Ue="WebPortalUserMap",Fe="BayGroup",ze="PipelineHeaderSiteView",We="TankMonitor",He="PersonAdmin",qe="ProductReconciliationReports",Ye="ReportConfiguration",Ke="EXECONFIGURATION",Qe="ShareholderAllocation",$e="NotificationGroup",Je="NotificationRestriction",Xe="NotificationConfig",Ze="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",st="TANKSHAREHOLDERPRIMEFUNCTION",ot="ROLEADMIN",nt="ShiftConfig",at="PrinterConfiguration",rt="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",ht="PipelineMeterSiteView",pt="RailSiteView",ut="MarineSiteView",mt="LoadingDetails",Ct="UnloadingDetails",yt="RoadHSEInspection",gt="RoadHSEInspectionConfig",Tt="MarineHSEInspection",vt="MarineHSEInspectionConfig",At="RailHSEInspection",Lt="RailHSEInspectionConfig",St="PipelineHSEInspection",xt="PipelineHSEInspectionConfig",Dt="PrintRAN",ft="ViewReceiptStatus",Et="customerrecipe",Rt="COAParameter",bt="COATemplate",jt="COAManagement",kt="COACustomer",It="COAAssignment",_t="ProductForecastConfiguration"},93779:(e,t,i)=>{"use strict";i.d(t,{$A:()=>I,$L:()=>lt,$Q:()=>Oe,Ae:()=>je,BX:()=>ne,Bl:()=>me,Bv:()=>ge,Bw:()=>X,Cb:()=>j,Cg:()=>R,DN:()=>nt,D_:()=>at,Dm:()=>_,E7:()=>Q,EW:()=>N,FN:()=>oe,FR:()=>n,FY:()=>mt,GA:()=>Ue,GT:()=>A,Ge:()=>we,HB:()=>ae,JQ:()=>K,KJ:()=>ee,Kz:()=>W,Ln:()=>z,M$:()=>ze,O5:()=>tt,Of:()=>Le,Oo:()=>it,Pk:()=>ye,Pm:()=>J,Q5:()=>ct,QK:()=>We,QV:()=>Xe,QZ:()=>dt,Qu:()=>ie,RX:()=>Re,Rb:()=>U,Rp:()=>x,SP:()=>C,T5:()=>Me,UB:()=>T,UT:()=>l,Ui:()=>q,VA:()=>O,Vk:()=>xe,Wb:()=>De,Wv:()=>Se,X3:()=>Ke,Y4:()=>F,Yl:()=>st,Zx:()=>$,_B:()=>Te,_C:()=>b,_R:()=>Ce,_j:()=>de,_n:()=>s,aM:()=>M,aW:()=>Ge,bW:()=>G,c4:()=>ot,cD:()=>r,c_:()=>f,cx:()=>V,dL:()=>ht,eE:()=>le,eS:()=>qe,eT:()=>S,f:()=>w,f7:()=>ue,fR:()=>he,g1:()=>ce,gN:()=>Qe,gO:()=>H,iH:()=>rt,ij:()=>et,j1:()=>E,jC:()=>ve,je:()=>pe,jz:()=>re,ll:()=>Ze,mM:()=>v,mO:()=>ut,mW:()=>Pe,ml:()=>y,mm:()=>Je,nB:()=>te,nT:()=>Ne,np:()=>_e,oA:()=>D,oG:()=>Ye,oV:()=>Z,ok:()=>h,oy:()=>c,pL:()=>ke,pe:()=>Fe,pw:()=>He,qF:()=>a,qQ:()=>pt,qp:()=>p,s0:()=>L,sA:()=>be,st:()=>se,tY:()=>P,uw:()=>Y,v6:()=>o,vL:()=>Be,vf:()=>Ie,wH:()=>$e,wO:()=>Ae,wX:()=>B,x4:()=>fe,xf:()=>u,xy:()=>d,yI:()=>g,yV:()=>k,yz:()=>m,zL:()=>Ee,zf:()=>Ve});const s="CarrierCode",o="TransportationType",n="ShareHolderCode",a="DriverCode",r="CustomerCode",l="TrailerCode",c="OriginTerminalCode",d="PrimeMoverCode",h="VehicleCode",p="DestinationCode",u="FinishedProductCode",m="ShipmentCode",C="OrderCode",y="ReceiptCode",g="MarineDispatchCode",T="MarineReceiptCode",v="SupplierCode",A="ContractCode",L="RailDispatchCode",S="RailReceiptCode",x="RailRouteCode",D="WagonCode",f="CompartmentCode",E="SMSConfigurationCode",R="PipelineDispatchCode",b="PipelineReceiptCode",j="EmailConfigurationCode",k="BaseProductCode",I="LocationCode",_="SiteViewType",w="EntityCode",N="EntityType",P="CardReaderCode",M="AccessCardCode",B="BcuCode",V="DeuCode",G="WeighBridgeCode",O="Weight",U="OutOfToleranceAllowed",F="LoadingArmCode",z="TransportationType",W="BayCode",H="TransactionNumber",q="BatchNumber",Y="TerminalCode",K="TankGroupCode",Q="TankCode",$="MeterCode",J="ShipmentType",X="ShipmentStatus",Z="MeterLineType",ee="DispatchCode",te="ReceiptStatus",ie="FPTransactionID",se="ProductCategoryType",oe="Reason",ne="SealMasterCode",ae="Reason",re="OperationName",le="FPTransactionID",ce="ProductCategoryType",de="CompartmentSeqNoInVehicle",he="AdjustedPlanQuantity",pe="ForceComplete",ue="DispatchStatus",me="HolidayDate",Ce="ActionID",ye="EODTimePrev",ge="TerminalAction",Te="EODTime",ve="MonthStartDay",Ae="CaptainCode",Le="GeneralTMUserType",Se="GeneralTMUserCode",xe="IsPriority",De="ActualTerminalCode",fe="ShipmentBondNo",Ee="ReceiptBondNo",Re="DeviceType",be="DeviceCode",je="BayGroup",ke="PipelineHeaderCode",Ie="ExchangePartner",_e="PersonID",we="UserName",Ne="PipelinePlanCode",Pe="PipelinePlanType",Me="ChannelCode",Be="ProcessName",Ve="ReconciliationCode",Ge="NotificationGroupCode",Oe="NotificationGroupStatus",Ue="NotificationGroupDesc",Fe="NotificationResSource",ze="NotificationResMsgCode",We="NotificationOrigResSource",He="NotificationOrigResMsgCode",qe="NotificationMessageCode",Ye="PositionType",Ke="ExchangeAgreementCode",Qe="ProductTransferAgreementCode",$e="ShareholderAgreementStatus",Je="RequestorShareholder",Xe="LenderShareholder",Ze="RequestCode",et="TransferReferenceCode",tt="ShiftID",it="ShiftName",st="PrinterName",ot="LocationType",nt="ForceClosureReason",at="TransactionType",rt="CustomerRecipeCode",lt="COATemplateCode",ct="COAManagementCode",dt="COAParameterCode",ht="COAManagementFinishedProductCode",pt="COASeqNumber",ut="ForecastDate",mt="ForecastTanks"},6890:(e,t,i)=>{"use strict";i.d(t,{x:()=>a});var s=i(728),o=i(65043),n=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),a=function(e){function t(i,n,a){var r=e.call(this,i)||this;r._objPropHash={},r._isMounted=!1,r._mountedCBs=[],r._hostRef=function(e){return r._hostRefValue=e},r._beforeRender=new s.Event,r._afterRender=new s.Event,r._beforeWillUnmount=new s.Event,r._afterWillUnmount=new s.Event,r._beforeDidUpdate=new s.Event,r._afterDidUpdate=new s.Event,t._reactMajorVersion||(t._reactMajorVersion=parseInt(o.version)),r.props=i,r.controlType=n;for(var l=0,c=a&&a.objectProps||[];l<c.length;l++){var d=c[l];r._objPropHash[d]=!0}return r}return n(t,e),t.prototype.render=function(){this._onBeforeRender();var e=this._renderImpl();return this._onAfterRender(),e},t.prototype.componentDidMount=function(){var e=this;if(this._isChild()){var i=this.props[t._propsParent];i&&i._mountedCB((function(){e._setParent(i)}))}else this._prepareControl();return this.control},t.prototype.componentWillUnmount=function(){this._onBeforeWillUnmount(),this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var e=this.control;if(e)if(this._isChild()){var t=this._getParentProp();if(t){var i=this.parent.control[t];if((0,s.isArray)(i)){var o=i.indexOf(e);o>-1&&i.splice(o,1)}}}else e instanceof s.Control&&setTimeout((function(){e.hostElement&&(e._orgOuter=null,e.dispose())}));this._onAfterWillUnmount()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.componentDidUpdate=function(e){this._onBeforeDidUpdate();var t=this.control;this._copy(t,this.props,e),this._onAfterDidUpdate()},t.prototype._mountedCB=function(e){this._isMounted?e():this._mountedCBs.push(e)},t.prototype._renderImpl=function(){var e={};e[t._propsParent]=this;var i=o.Children.map(this.props.children,(function(t){return t&&o.cloneElement(t,e)})),s={ref:this._hostRef};return this._isChild()&&(s.style={display:"none"}),o.createElement("div",s,i)},t.prototype._onBeforeRender=function(e){this._beforeRender.raise(this,e)},t.prototype._onAfterRender=function(e){this._afterRender.raise(this,e)},t.prototype._onBeforeWillUnmount=function(e){this._beforeWillUnmount.raise(this,e)},t.prototype._onAfterWillUnmount=function(e){this._afterWillUnmount.raise(this,e)},t.prototype._onBeforeDidUpdate=function(e){this._beforeDidUpdate.raise(this,e)},t.prototype._onAfterDidUpdate=function(e){this._afterDidUpdate.raise(this,e)},t.prototype._createControl=function(){var e=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new this.controlType(e)},t.prototype._prepareControl=function(){var e=this._getElement(),i=this.props;e&&!this._isChild()&&t._copyAttrs(e,i,s.Control._rxInputAtts);var o=this.control=this._createControl(),n=o instanceof s.Control,a=t;this._siblingId||(null==this.constructor[a._typeSiblingIdProp]&&(this.constructor[a._typeSiblingIdProp]=++a._siblingDirId+""),this._siblingId=this.constructor[a._typeSiblingIdProp]),e.setAttribute(a._typeSiblingIdProp,this._siblingId);var r={};for(var l in i){var c=i[l];this._ignoreProp(l)||(0,s.isUndefined)(c)||(l in o?r[l]=c:this._setHostAttribute(e,l,c))}n?o.initialize(r):this._copy(o,r,null,!0),this._isMounted=!0;var d=this._mountedCBs;this._mountedCBs=[];for(var h=0,p=d;h<p.length;h++)(0,p[h])();(0,s.isFunction)(i.initialized)&&i.initialized(o)},t.prototype._initParent=function(){var e=this._getParentProp();if(e){var t=this.parent.control,i=t[e];if((0,s.isArray)(i)){var o=this._getSiblingIndex();(o<0||o>=i.length)&&(o=i.length),i.splice(o,0,this.control),this._siblingInsertedEH=this._siblingInserted.bind(this),this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else t[e]=this.control}},t.prototype._setParent=function(e){if(e!==this.parent){if(this.parent)throw"Wijmo child component is already attached to a different parent.";this.parent=e,this._prepareControl(),this._initParent()}},t.prototype._isChild=function(){return null!=this._parentProp||null!=this._parentInCtor},t.prototype._isParentInCtor=function(){return!0===this._parentInCtor},t.prototype._getParentProp=function(){return this.props.wjProperty||this._parentProp},t.prototype._getSiblingIndex=function(){var e=this._getElement(),i=e.parentElement;if(!i)return-1;for(var s=i.childNodes,o=-1,n=this._siblingId,a=0;a<s.length;a++){var r=s[a];if(1==r.nodeType&&r.getAttribute(t._typeSiblingIdProp)==n&&(++o,r===e))return o}return-1},t.prototype._siblingInserted=function(e){if(e.target===this._getElement()){var t=this._getSiblingIndex(),i=this.control,s=this.parent.control[this._getParentProp()],o=s.indexOf(i);t>=0&&o>=0&&t!==o&&(s.splice(o,1),t=Math.min(t,s.length),s.splice(t,0,i))}},t.prototype._copy=function(e,t,i,o){if(void 0===o&&(o=!1),e&&t){var n,a=e===this.control;for(var r in t)if(!this._ignoreProp(r)||!a){var l=t[r];if(r in e){if(this._isEvent(e,r))o&&(0,s.isFunction)(l)&&e[r].addHandler(l);else if(!i||!this._sameValue(i[r],l))if(null==l)e[r]=l;else if((0,s.isPrimitive)(l)||(0,s.isFunction)(l)||this._objPropHash[r]&&e===(n||(n=this.control)))e[r]=l;else if((0,s.isArray)(l)&&(0,s.isArray)(e[r])){var c=e[r],d=l;if(d.length==c.length)for(var h=0;h<d.length;h++)this._copy(c[h],d[h])}else(0,s.isObject)(l)&&this._copy(e[r],t[r])}else this._setHostAttribute(e.hostElement,r,t[r])}}},t.prototype._setHostAttribute=function(e,t,i){if(e)switch(t){case"className":var o=this._appliedClassName;o!==i&&((0,s.removeClass)(e,o),(0,s.addClass)(e,i),this._appliedClassName=i);break;case"style":(0,s.setCss)(e,i);break;default:null!=e[t]?e[t]=i:"string"==typeof i&&"$"!==t[0]&&e.setAttribute(t,i)}},t.prototype._sameValue=function(e,t){return e==t||s.DateTime.equals(e,t)},t.prototype._isEvent=function(e,t){var i=e&&e[t];return null!=i&&i instanceof s.Event},t.prototype._getElement=function(){return this._hostRefValue},t.prototype._ignoreProp=function(e){return"children"===e},t._copyAttrs=function(e,t,i){if(e)for(var s in t)s.match(i)&&e.setAttribute(s,t[s])},t.isInStrictMode=function(e){return!!(e.hasOwnProperty("_reactInternalFiber")&&1&e._reactInternalFiber.mode)},t._propsParent="$parent",t._typeSiblingIdProp="_wjSiblingIdProp",t._siblingDirId=0,t}(o.Component)},50477:()=>{}}]);
//# sourceMappingURL=9696.e6fe9f6b.chunk.js.map