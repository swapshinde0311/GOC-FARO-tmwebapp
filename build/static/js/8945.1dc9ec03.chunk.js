"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[8945,5841,8222],{66554:(e,t,s)=>{s.d(t,{$:()=>m});var i=s(65043),a=s(72711),o=s(67907),r=s(65187),n=s(69062),l=s(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:c,selectedShareholder:m,onShareholderChange:d,onDelete:u,onAdd:h,popUpContent:S,shrVisible:g,handleBreadCrumbClick:p,addVisible:C,deleteVisible:x}=e;const[v,j]=(0,i.useState)(!1),[D,b]=(0,i.useState)(!1);function T(){t.add&&(S.length>0?b(!1===D):h())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(r.A,{children:[" ",(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsxs)(a.Breadcrumb,{children:[s.parents.map((t=>(0,l.jsx)(a.Breadcrumb.Item,{onClick:()=>{void 0!==p&&null!==p&&p(t.itemCode,s.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(a.Breadcrumb.Item,{children:e(s.localizedKey)},s.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===g?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(a.Select,{placeholder:e("Common_Shareholder"),value:m,disabled:!t.shareholder,options:n.Zj(c),onChange:e=>d(e)})})]})})})}),(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsxs)(a.Modal,{open:v,size:"small",children:[(0,l.jsx)(a.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(a.Modal.Footer,{children:[(0,l.jsx)(a.Button,{type:"secondary",content:e("Cancel"),onClick:()=>j(!1)}),(0,l.jsx)(a.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{j(!1),u()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[C?(0,l.jsx)(a.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:T,children:(0,l.jsx)(a.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:D,children:(0,l.jsx)("div",{onMouseLeave:()=>b(!1),children:(0,l.jsx)(o.TranslationConsumer,{children:e=>(0,l.jsx)(a.VerticalMenu,{children:(0,l.jsxs)(a.VerticalMenu,{children:[(0,l.jsx)(a.VerticalMenu.Header,{children:e("Common_Create")}),S.map((t=>(0,l.jsx)(a.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,b(!1),void h(e);var e},children:e(t.fieldValue)})))]})})})})}):"",x?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&j(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(a.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};s(38726);function m(e){let{operationsVisibilty:t,breadcrumbItem:s,shareholders:i,selectedShareholder:a,onShareholderChange:o,onDelete:r,onAdd:n,popUpContent:m,shrVisible:d,handleBreadCrumbClick:u,addVisible:h,deleteVisible:S}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:s,shareholders:i,selectedShareholder:a,onShareholderChange:o,onDelete:r,onAdd:n,popUpContent:m,shrVisible:d,handleBreadCrumbClick:u,addVisible:h,deleteVisible:S})}},78945:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var i=s(65043),a=s(97508),o=s(65187),r=s(66554),n=s(40854),l=s.n(n),c=s(72067),m=s(69062),d=s(40252),u=s(14159),h=(s(92342),s(67907)),S=s(11981),g=s(53536),p=s.n(g),C=s(72711),x=s(78374),v=s(42071),j=s.n(v),D=s(70579);function b(e){let{lastUpdatedTime:t,deviceCommunicationStatusData:s,pageSize:a,serverStatus:o,isDCHEnable:r,externalSystemStatusData:n,isArchiveEnable:l,lastArchivedTime:c,isTWICEnable:m,twicRuntimeValue:d,checkDeviceStatus:u,terminalCommunicationStatusData:S,isEnterpriseNode:g,serverStorageStatus:p}=e;const[v]=(0,h.useTranslation)(),b=e=>0===e.rowData.ServiceStaus?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v("ServiceStatus_NotRunning")})}):1===e.rowData.ServiceStaus?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVLoading.gif",className:"communicationStatusDot-img",alt:"",title:v("ServiceStatus_Running")})}):2===e.rowData.ServiceStaus?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v("ServiceStatus_NotRunning")})}):void 0,T=e=>(0,D.jsx)(x.bQ,{data:e.rowData.ServiceName,showHeader:!1,children:(0,D.jsx)(x.bQ.Column,{initialWidth:"30%",className:"compColHeight",field:"ServiceName"},"ServiceName")}),N=e=>(0,D.jsx)(x.bQ,{data:e.rowData.ServiceStaus,showHeader:!1,children:(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight",renderer:b})}),y=e=>"EPKSSERVER"===e.rowData.ServerType?(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{children:e.rowData.ServerName}),e.rowData.ListOfServerStatusInfo.map((e=>1===e.statusCode?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:"/GVLoading.gif",className:"communicationStatusDot-img",alt:"",title:v(e.ToolTip)}),e.Type]}):2===e.statusCode?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:"/i_Status_Success.png",className:"communicationStatusDot-img",alt:"",title:v(e.ToolTip)}),e.Type]}):3===e.statusCode?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v(e.ToolTip)}),e.Type]}):""))]}):(0,D.jsx)("div",{children:e.rowData.ServerName});return(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"headerContainer",children:(0,D.jsx)("div",{className:"row headerSpacing",children:(0,D.jsx)("div",{className:"col-12 pb-0",children:(0,D.jsx)("div",{style:{float:"right"},children:v("Common_LastUpdated")+" : "+t})})})}),(0,D.jsxs)("div",{className:"detailsContainer",children:[g?(0,D.jsx)(C.Accordion,{children:(0,D.jsx)(j(),{className:"attributeAccordian",title:v("TerminalCommStatus_Title"),children:(0,D.jsx)("div",{className:"col-8 detailsTable",children:(0,D.jsxs)(x.bQ,{data:S,search:!0,searchPlaceholder:v("LoadingDetailsView_SearchGrid"),children:[(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight",header:v("BaseProductList_AssocoatedTerminals"),renderer:e=>"True"===e.rowData.TerminalStatus?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:"/GVLoading.gif",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.TerminalStatus_Tooltip)}),e.rowData.TerminalCode]}):(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.TerminalStatus_Tooltip)}),e.rowData.TerminalCode]})}),(0,D.jsx)(x.bQ.Column,{initialWidth:"39%",className:"compColHeight",field:"ProcessName",header:v("Communication_ProcessName"),editFieldType:"text"},"ProcessName"),(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight",header:v("Communication_ProcessStatus"),renderer:e=>"True"===e.rowData.ProcessEnableStauts?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVcheck.png",alt:"",title:v(e.rowData.ProcessEnableStauts_Tooltip)})}):(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVicon-cross.png",alt:"",title:v(e.rowData.ProcessEnableStauts_Tooltip)})})}),(0,D.jsx)(x.bQ.Column,{initialWidth:"8%",className:"compColHeight",header:v("Communication_RunningStatus"),renderer:e=>"True"===e.rowData.ProcessRunningStatus?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVLoading.gif",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.RunningStatus_Tooltip)})}):(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.RunningStatus_Tooltip)})})})]})})})}):(0,D.jsx)(C.Accordion,{children:(0,D.jsx)(C.Accordion.Content,{className:"attributeAccordian",title:v("CommStatus_Title"),children:(0,D.jsx)("div",{className:"row",children:(0,D.jsx)("div",{className:"col-12 detailsTable",children:(0,D.jsxs)(x.bQ,{data:s,search:!0,searchPlaceholder:v("LoadingDetailsView_SearchGrid"),children:[(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight",field:"LocationCode",header:v("Communication_Area"),editFieldType:"text"},"LocationCode"),(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight disabledColumn",field:"DeviceCode",header:v("Communication_Device"),editFieldType:"text"},"DeviceCode"),(0,D.jsx)(x.bQ.Column,{initialWidth:"8%",className:"compColHeight disabledColumn",field:"PointName",header:v("Communication_Active"),renderer:e=>e.rowData.Active?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVcheck.png",alt:"",title:v("Communication_OKtooltip")})}):(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVicon-cross.png",alt:"",title:v("Communication_Lockedtooltip")})})},"PointName"),(0,D.jsx)(x.bQ.Column,{initialWidth:"7%",className:"compColHeight disabledColumn",field:"CommStatus",header:v("Communication_Status"),renderer:e=>{if(e.rowData.CommStatus_Visible)return"True"===e.rowData.CommStatus?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVLoading.gif",alt:"",className:"communicationStatusDot-img",title:v(e.rowData.CommStatus_Tooltip)})}):(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.CommStatus_Tooltip)})})}},"CommStatus"),(0,D.jsx)(x.bQ.Column,{initialWidth:"39%",className:"compColHeight",field:"ExeName",header:v("Communication_ProcessName"),editFieldType:"text"},"ExeName"),(0,D.jsx)(x.bQ.Column,{initialWidth:"8%",className:"compColHeight",field:"ExeStatus",header:v("Communication_ProcessStatus"),renderer:e=>{if(null!==e.rowData.ExeStatus)return e.rowData.ExeStatus?(0,D.jsx)("div",{children:(0,D.jsx)("img",{src:"/GVcheck.png",alt:"",title:v("Communication_OKtooltip")})}):(0,D.jsx)("div",{children:(0,D.jsx)("img",{src:"/GVicon-cross.png",alt:"",title:v("Communication_Lockedtooltip")})})}},"ExeStatus"),(0,D.jsx)(x.bQ.Column,{initialWidth:"8%",className:"compColHeight",field:"RunningStatus",header:v("Communication_RunningStatus"),renderer:e=>{if(e.rowData.RunningStatus_Visible)return"True"===e.rowData.RunningStatus?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVLoading.gif",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.RunningStatus_Tooltip)})}):(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.RunningStatus_Tooltip)})})}},"RunningStatus"),(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight",header:v("Communication_CheckNow"),renderer:e=>(0,D.jsx)(C.Button,{size:"small",textTransform:!1,onClick:()=>u(e.rowData),content:v("Communication_CheckNow"),disabled:!e.rowData.btnCheck_Enabled})}),Array.isArray(s)&&s.length>a?(0,D.jsx)(x.bQ.Pagination,{}):""]})})})})}),(0,D.jsx)("br",{}),(0,D.jsx)(C.Accordion,{children:(0,D.jsx)(C.Accordion.Content,{className:"attributeAccordian",title:v(g?"ServicesInfo_EnterprisePageTitle":"ServicesInfo_lblPageTitle"),children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("div",{className:"col-6 detailsTable",children:Array.isArray(o)?o.map(((e,t)=>(0,D.jsxs)(x.bQ,{data:[e],showHeader:0===t,children:[(0,D.jsx)(x.bQ.Column,{initialWidth:"30%",className:"compColHeight",header:v("ServiceInfo_ServerName"),renderer:y}),(0,D.jsx)(x.bQ.Column,{initialWidth:"30%",className:"compColHeight serverStatus",header:v("ServiceInfo_ServiceName"),renderer:T}),(0,D.jsx)(x.bQ.Column,{initialWidth:"12%",className:"compColHeight serverStatus",header:v("ServiceInfo_ServiceStatus"),renderer:N})]}))):null}),(0,D.jsx)("div",{className:"col-6 detailsTable",children:(0,D.jsxs)(x.bQ,{data:p,showHeader:!0,children:[(0,D.jsx)(x.bQ.Column,{initialWidth:"40%",header:v("ServiceInfo_ServerName"),renderer:e=>e.rowData.ServerName}),(0,D.jsx)(x.bQ.Column,{header:"Details",renderer:e=>(0,D.jsx)(i.Fragment,{children:Object.keys(e.rowData.StorageDetails).map((t=>(0,D.jsxs)(x.bQ,{data:e.rowData.StorageDetails[t],showHeader:!0,children:[(0,D.jsx)(x.bQ.Column,{renderer:t=>(0,D.jsxs)("div",{className:"mt-1",children:[(0,D.jsx)("img",{src:"red"===t.rowData.Color?"/i_Status_Fail.png":"/i_Status_Success.png",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.RunningStatus_Tooltip)}),(0,D.jsx)("span",{children:t.rowData.Name})]}),header:v(t)}),(0,D.jsx)(x.bQ.Column,{renderer:e=>e.rowData.Value,header:v(t+"_ColumnValue")})]})))})})]})})]})})}),(0,D.jsx)("br",{}),r?(0,D.jsx)(C.Accordion,{children:(0,D.jsx)(C.Accordion.Content,{className:"attributeAccordian",title:v("DCHSystemStatus"),children:(0,D.jsx)("div",{className:"row",children:(0,D.jsx)("div",{className:"col-8 detailsTable",children:(0,D.jsxs)(x.bQ,{data:n,children:[(0,D.jsx)(x.bQ.Column,{initialWidth:"30%",className:"compColHeight",field:"SystemType",header:v("ShareholderDetails_ExternalSystem"),editFieldType:"text"},"SystemType"),(0,D.jsx)(x.bQ.Column,{initialWidth:"10%",className:"compColHeight",header:v("Communication_RunningStatus"),renderer:e=>e.rowData.Status?(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/GVLoading.gif",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.Tooltip)})}):(0,D.jsx)("div",{className:"communicationStatus-img",children:(0,D.jsx)("img",{src:"/i_Status_Fail.png",className:"communicationStatusDot-img",alt:"",title:v(e.rowData.Tooltip)})})})]})})})})}):"",l?(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"row compartmentRow",children:(0,D.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,D.jsx)("h4",{children:v("VWSySArchiveSystemHeader")})})}),(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(C.InputLabel,{fluid:!0,label:v("vwSysLastArchivedTime")+" : "+c})})]}):"",m?(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"row compartmentRow",children:(0,D.jsx)("div",{className:"col col-md-8 col-lg-9 col col-xl-9",children:(0,D.jsx)("h4",{children:v("VWSySTWICStatusHeader")})})}),(0,D.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,D.jsx)(C.InputLabel,{fluid:!0,label:v("TWICLastDownloadedTime")+" : "+d})})]}):""]})]})}b.defaultProps={isDCHEnable:!1,isArchiveEnable:!1,isTWICEnable:!1,isEnterpriseNode:!1};class T extends i.Component{constructor(){super(...arguments),this.refreshTimer=null,this.state={isReadyToRender:!1,deviceCommunicationStatusData:[],isArchiveEnable:!1,isDCHEnable:!1,isTWICEnable:!1,externalSystemStatusData:[],lastArchivedTime:null,twicRuntimeValue:null,serverStatus:[],lastUpdatedTime:(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString(),terminalCommunicationStatusData:[],storageStatus:[]},this.startRefreshTimer=()=>{this.refreshTimer=setInterval((()=>{this.props.userDetails.EntityResult.IsEnterpriseNode?this.getTerminalCommunicationStatus():this.getDeviceCommunicationStatusList(),this.getServerStatus(),this.getStorageStatus()}),3e4)},this.stopRefreshTimer=()=>{null!==this.refreshTimer&&clearInterval(this.refreshTimer)},this.getStorageStatus=()=>{try{l()(c.pDH,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{let t=[];e.data.IsSuccess&&Array.isArray(e.data.EntityResult)?(e.data.EntityResult.forEach((e=>{t.push({ServerName:e.Key,StorageDetails:e.Value})})),this.setState({storageStatus:t})):console.log("Error in fetching storage details")})).catch((e=>{console.log("Error in fetching storage details: ",e)}))}catch(e){console.log("Error in getStorageStatus: ",e)}},this.checkDeviceStatus=e=>{let t=p().cloneDeep(this.state.deviceCommunicationStatusData),s={messageType:"critical",message:"CommStatus_Title",messageResultDetails:[{keyFields:[],keyValues:[],isSuccess:!1,errorMessage:""}]};l()(c.J26+"?srNo="+e.SlNo+"&deviceCode="+e.DeviceCode+"&deviceType="+e.DeviceType+"&deviceModel="+e.DeviceModel,m.Jm(this.props.tokenDetails.tokenInfo)).then((i=>{const a=i.data;if(s.messageType=a.IsSuccess?"success":"critical",s.messageResultDetails[0].isSuccess=a.IsSuccess,!0===a.IsSuccess){if(t[e.SlNo-1].CommStatus_Visible=!0,null!==a.EntityResult&&void 0!==a.EntityResult){var r="true"===a.EntityResult.CommStatus;t[e.SlNo-1].CommStatus=r,t[e.SlNo-1].CommStatus_Tooltip=a.EntityResult.CommStatus_Tooltip,this.setState({deviceCommunicationStatusData:t})}}else t[e.SlNo-1].CommStatus_Visible=!0,t[e.SlNo-1].CommStatus=!1,this.setState({deviceCommunicationStatusData:t}),s.messageResultDetails[0].errorMessage=a.ErrorList[0];(0,u.toast)((0,D.jsx)(o.A,{children:(0,D.jsx)(S.A,{notificationMessage:s})}),{autoClose:"success"===s.messageType&&1e4})})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on getTWICEnable",e)}))}}componentDidMount(){try{this.props.userDetails.EntityResult.IsEnterpriseNode?this.getTerminalCommunicationStatus():this.getDeviceCommunicationStatusList(),this.getServerStatus(),this.getStorageStatus(),this.props.userDetails.EntityResult.IsEnterpriseNode||this.getLookUpData(),this.getTWICEnable()}catch(e){console.log("ViewSystemStatusComposite:Error occured on componentDidMount",e)}}componentWillUnmount(){this.stopRefreshTimer()}getDeviceCommunicationStatusList(){try{l()(c.CBq,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(this.stopRefreshTimer(),!0===t.IsSuccess){var s=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString();this.setState({deviceCommunicationStatusData:t.EntityResult.Table,isReadyToRender:!0,lastUpdatedTime:s})}else this.setState({deviceCommunicationStatusData:[],isReadyToRender:!0}),console.log("Error in getDeviceCommunicationStatusList:",t.ErrorList);this.startRefreshTimer()}))}catch(e){console.log("ViewSystemStatusComposite:Error occured on getDeviceCommunicationStatusList",e)}}getTerminalCommunicationStatus(){try{l()(c.d3c,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{var t=e.data;if(this.stopRefreshTimer(),!0===t.IsSuccess){var s=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString();this.setState({terminalCommunicationStatusData:t.EntityResult.Table,isReadyToRender:!0,lastUpdatedTime:s})}else this.setState({terminalCommunicationStatusData:[],isReadyToRender:!0}),console.log("Error in getTerminalCommunicationStatus:",t.ErrorList);this.startRefreshTimer()}))}catch(e){console.log("ViewSystemStatusComposite:Error occured on getTerminalCommunicationStatus",e)}}getServerStatus(){l()(c.Qm0,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?(t.EntityResult.forEach((e=>{let t=[],s=[];Object.keys(e.ServiceStatusList).forEach((i=>{t.push({ServiceName:i}),s.push({ServiceStaus:e.ServiceStatusList[i]})})),e.ServiceName=t,e.ServiceStaus=s})),this.setState({serverStatus:t.EntityResult})):console.log("Error in getServerStatus: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on getServerStatus",e)}))}getLookUpData(){l()(c.xAA+"?LookUpTypeCode=DCHSystems",m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?"True"===t.EntityResult.DCHSystemsEnabled&&this.setState({isDCHEnable:!0},(()=>{this.GetExternalSystemStatusList()})):console.log("Error in getLookUpData: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on getLookUpData",e)})),l()(c.xAA+"?LookUpTypeCode=ArchiveSystemConfiguration",m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?"True"===t.EntityResult.ArchiveEnabled&&this.setState({isArchiveEnable:!0},(()=>{this.GetArchiveSystemStatus()})):console.log("Error in getLookUpData: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on getLookUpData",e)}))}getTWICEnable(){this.props.userDetails.EntityResult.IsEnterpriseNode?l()(c.xAA+"?LookUpTypeCode=TWIC",m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?"TRUE"===t.EntityResult.EnableTWICFeature&&this.setState({isTWICEnable:!0},(()=>{this.GetTwicServiceStatus()})):console.log("Error in getLookUpData: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on getLookUpData",e)})):l()(c.J66,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?"true"===t.EntityResult&&this.setState({isTWICEnable:!0},(()=>{this.GetTwicServiceStatus()})):console.log("Error in getTWICEnable: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on getTWICEnable",e)}))}GetExternalSystemStatusList(){l()(c.ZBb,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?this.setState({externalSystemStatusData:t.EntityResult}):console.log("Error in GetExternalSystemStatusList: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on GetExternalSystemStatusList",e)}))}GetArchiveSystemStatus(){l()(c.yab,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?this.setState({lastArchivedTime:t.EntityResult}):console.log("Error in GetArchiveSystemStatus: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on GetArchiveSystemStatus",e)}))}GetTwicServiceStatus(){l()(c.F1c,m.Jm(this.props.tokenDetails.tokenInfo)).then((e=>{const t=e.data;!0===t.IsSuccess?this.setState({twicRuntimeValue:t.EntityResult}):console.log("Error in GetTwicServiceStatus: ",t.ErrorList)})).catch((e=>{console.log("ViewSystemStatusComposite: Error occurred on GetTwicServiceStatus",e)}))}render(){return(0,D.jsx)(h.TranslationConsumer,{children:e=>(0,D.jsxs)("div",{children:[(0,D.jsx)(o.A,{children:(0,D.jsx)(r.$,{breadcrumbItem:this.props.activeItem,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick,addVisible:!1,deleteVisible:!1})}),this.state.isReadyToRender?(0,D.jsx)("div",{children:(0,D.jsx)(b,{lastUpdatedTime:this.state.lastUpdatedTime,deviceCommunicationStatusData:this.state.deviceCommunicationStatusData,pageSize:this.props.userDetails.EntityResult.PageAttibutes.WebPortalListPageSize,serverStatus:this.state.serverStatus,isDCHEnable:this.state.isDCHEnable,externalSystemStatusData:this.state.externalSystemStatusData,isArchiveEnable:this.state.isArchiveEnable,lastArchivedTime:this.state.lastArchivedTime,isTWICEnable:this.state.isTWICEnable,twicRuntimeValue:this.state.twicRuntimeValue,checkDeviceStatus:this.checkDeviceStatus,terminalCommunicationStatusData:this.state.terminalCommunicationStatusData,isEnterpriseNode:this.props.userDetails.EntityResult.IsEnterpriseNode,serverStorageStatus:this.state.storageStatus})}):(0,D.jsx)(d.A,{message:"Loading"}),(0,D.jsx)(o.A,{children:(0,D.jsx)(u.ToastContainer,{hideProgressBar:!0,closeOnClick:!1,closeButton:!0,newestOnTop:!0,position:"bottom-right",toastClassName:"toast-notification-wrap"})})]})})}}const N=(0,a.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(T)},11981:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var i=s(72711),a=s(67907),o=s(7523),r=s(70579);function n(e){let{notificationMessage:t}=e;function s(e){try{return e.split(o.uV)[0]}catch(t){return console.log(t),""}}function n(e){try{let t=e.split(o.uV);return t.splice(0,1),t}catch(t){return console.log(t),[]}}return(0,r.jsx)(a.TranslationConsumer,{children:e=>(0,r.jsx)(i.Notification,{className:"toast-notification",severity:t.messageType,hasIcon:!0,title:e(t.message),children:t.messageResultDetails.map((t=>{var i="";if(t.keyFields.length>0)for(var a=0;a<t.keyFields.length;a++)i=i+e(t.keyFields[a])+" : "+t.keyValues[a]+", ";return(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{color:t.isSuccess?"#7eb338":"#F15A4F"},children:[i,t.isSuccess?e("NotificationList_MessageType_Success"):e("NotificationList_MessageType_Failure")+" : "+e(s(t.errorMessage),n(t.errorMessage))]}),(0,r.jsx)("br",{})]})}))})})}},92342:()=>{}}]);
//# sourceMappingURL=8945.1dc9ec03.chunk.js.map