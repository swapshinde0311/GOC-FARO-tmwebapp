"use strict";(self.webpackChunktmwebapp=self.webpackChunktmwebapp||[]).push([[1259,8149],{26182:(e,t,i)=>{i.d(t,{y:()=>c});i(65043);var n=i(72711),s=i(67907),r=i(65187),o=i(69062),a=i(70579);function l(e){let{operationsVisibilty:t,breadcrumbItem:i,terminals:l,selectedTerminal:c,onTerminalChange:d,handleBreadCrumbClick:p}=e;return(0,a.jsxs)("div",{className:"row",style:{marginTop:"10px"},children:[(0,a.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-5 col-xl-7",children:(0,a.jsxs)(r.A,{children:[" ",(0,a.jsx)(s.TranslationConsumer,{children:e=>(0,a.jsxs)(n.Breadcrumb,{children:[i.parents.map((t=>(0,a.jsx)(n.Breadcrumb.Item,{onClick:()=>{void 0!==p&&null!==p&&p(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,a.jsx)(n.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,a.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-7 col-xl-5",children:(0,a.jsx)(s.TranslationConsumer,{children:e=>(0,a.jsxs)("div",{className:"compartmentIcon",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("h4",{className:"shrText",children:[e("Common_Terminal"),":"]})}),(0,a.jsx)("div",{className:"opSelect",children:(0,a.jsx)(n.Select,{placeholder:e("Common_Terminal"),value:c,disabled:!t.terminal,options:o.Zj(l),onChange:e=>d(e)})})]})})})]})}l.defaultProps={breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},terminals:[],selectedTerminal:""};i(38726);function c(e){let{breadcrumbItem:t,operationsVisibilty:i,terminals:n,selectedTerminal:s,onTerminalChange:r,handleBreadCrumbClick:o}=e;return(0,a.jsx)(l,{operationsVisibilty:i,breadcrumbItem:t,terminals:n,selectedTerminal:s,onTerminalChange:r,handleBreadCrumbClick:o})}},66554:(e,t,i)=>{i.d(t,{$:()=>d});var n=i(65043),s=i(72711),r=i(67907),o=i(65187),a=i(69062),l=i(70579);function c(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:c,selectedShareholder:d,onShareholderChange:p,onDelete:h,onAdd:m,popUpContent:u,shrVisible:f,handleBreadCrumbClick:g,addVisible:y,deleteVisible:C}=e;const[_,b]=(0,n.useState)(!1),[v,x]=(0,n.useState)(!1);function T(){t.add&&(u.length>0?x(!1===v):m())}return(0,l.jsxs)("div",{className:"row",style:{alignItems:"flex-start",padding:"0px"},children:[(0,l.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-10 col-xl-10",style:{padding:"0px"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"10px",alignItems:""},children:[(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-8",children:(0,l.jsxs)(o.A,{children:[" ",(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)(s.Breadcrumb,{children:[i.parents.map((t=>(0,l.jsx)(s.Breadcrumb.Item,{onClick:()=>{void 0!==g&&null!==g&&g(t.itemCode,i.parents)},children:e(t.localizedKey)},t.itemCode))),(0,l.jsx)(s.Breadcrumb.Item,{children:e(i.localizedKey)},i.itemCode)]})})]})}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-4",children:(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsx)("div",{className:"compartmentIcon",style:{justifyContent:"flex-start"},children:!1===f?"":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h4",{className:"shrText",children:[e("Common_Shareholder"),":"]})}),(0,l.jsx)("div",{className:"opSelect",children:(0,l.jsx)(s.Select,{placeholder:e("Common_Shareholder"),value:d,disabled:!t.shareholder,options:a.Zj(c),onChange:e=>p(e)})})]})})})}),(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsxs)(s.Modal,{open:_,size:"small",children:[(0,l.jsx)(s.Modal.Content,{children:(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:e("Confirm_Delete")})})}),(0,l.jsxs)(s.Modal.Footer,{children:[(0,l.jsx)(s.Button,{type:"secondary",content:e("Cancel"),onClick:()=>b(!1)}),(0,l.jsx)(s.Button,{type:"primary",content:e("PipelineDispatch_BtnSubmit"),onClick:()=>{b(!1),h()}})]})]})})]})}),(0,l.jsx)("div",{className:"col-3 col-sm-3 col-md-3 col-lg-2 col-xl-2",children:(0,l.jsxs)("div",{style:{float:"right",display:"inline-block",marginTop:"10px"},children:[y?(0,l.jsx)(s.Popup,{position:"bottom right",className:"popup-theme-wrap",element:(0,l.jsx)("div",{className:(t.add?"iconCircle ":"iconCircleDisable ")+"iconblock",onClick:T,children:(0,l.jsx)(s.Icon,{root:"common",name:"badge-plus",size:"small",color:"white"})}),on:"click",open:v,children:(0,l.jsx)("div",{onMouseLeave:()=>x(!1),children:(0,l.jsx)(r.TranslationConsumer,{children:e=>(0,l.jsx)(s.VerticalMenu,{children:(0,l.jsxs)(s.VerticalMenu,{children:[(0,l.jsx)(s.VerticalMenu.Header,{children:e("Common_Create")}),u.map((t=>(0,l.jsx)(s.VerticalMenu.Item,{onClick:()=>{return e=t.fieldName,x(!1),void m(e);var e},children:e(t.fieldValue)})))]})})})})}):"",C?(0,l.jsx)("div",{style:{marginLeft:"10px"},onClick:()=>{t.delete&&b(!0)},className:(t.delete?"iconCircle ":"iconCircleDisable ")+"iconblock",children:(0,l.jsx)(s.Icon,{root:"common",name:"delete",size:"small",color:"white"})}):""]})})]})}c.defaultProps={operationsVisibilty:{add:!1,delete:!1,shareholder:!1},breadcrumbItem:{itemName:"",itemCode:"",localizedKey:"",itemProps:{},parents:[],isComponent:!1},shareholders:[],selectedShareholder:"",popUpContent:[],shrVisible:!0,addVisible:!0,deleteVisible:!0};i(38726);function d(e){let{operationsVisibilty:t,breadcrumbItem:i,shareholders:n,selectedShareholder:s,onShareholderChange:r,onDelete:o,onAdd:a,popUpContent:d,shrVisible:p,handleBreadCrumbClick:h,addVisible:m,deleteVisible:u}=e;return(0,l.jsx)(c,{operationsVisibilty:t,breadcrumbItem:i,shareholders:n,selectedShareholder:s,onShareholderChange:r,onDelete:o,onAdd:a,popUpContent:d,shrVisible:p,handleBreadCrumbClick:h,addVisible:m,deleteVisible:u})}},66536:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var n=i(65043),s=i(66554),r=i(40854),o=i.n(r),a=i(72067),l=i(69062),c=i(97508),d=i(65187),p=i(40252),h=i(80312),m=i(26182),u=i(67907),f=i(39424),g=i(14159),y=i(11981),C=i(80297),_=i(70579);class b extends n.Component{constructor(){super(...arguments),this.state={tankMonitorDetails:[],isReadyToRender:!1,operationsVisibilty:{add:!1,delete:!1,shareholder:!1,terminal:!0},terminalOptions:[],selectedTerminal:""},this.handleTerminalSelectionChange=e=>{try{this.setState({selectedTerminal:e,isReadyToRender:!0,tankMonitorDetails:[]},this.getKPIList(e))}catch(t){console.log("SiteViewComposite:Error occured on handleTerminalSelectionChange",t)}},this.handleMOTChange=e=>{e!==this.state.selectedMOT&&this.setState({selectedMOT:e,tankMonitorDetails:null},(()=>{this.getKPIList(this.state.selectedTerminal)}))}}componentDidMount(){try{l.pJ(this.props.userDetails.EntityResult.IsArchived),this.getTerminalList();var{operationsVisibilty:e}={...this.state};e.add=l.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.add,h.l6),this.setState({operationsVisibilty:e})}catch(t){console.log("TankMonitorComposite:Error occured on componentDidMount",t)}}getKPIList(e){if(void 0!==this.state.selectedMOT&&""!==this.state.selectedMOT||this.setState({selectedMOT:this.props.userDetails.EntityResult.TransportationTypes[0]}),!0===l.ab(this.props.userDetails.EntityResult.FunctionsList,h.i.view,h.l6)){var t={message:"",messageType:"critical",messageResultDetails:[]};let i={PageName:f.Rs,TransportationType:this.state.selectedMOT,InputParameters:[{key:"TerminalCode",value:e}]};o()(a.dxq,l.tW(i,this.props.tokenDetails.tokenInfo)).then((e=>{var i=e.data;!0===i.IsSuccess&&null!==i.EntityResult.ListKPIDetails?this.setState({tankMonitorDetails:i.EntityResult.ListKPIDetails},(()=>{this.fillTankInventory()})):(this.setState({tankMonitorDetails:[]}),console.log("Error in tank monitor KPIList:",i.ErrorList),t.messageResultDetails.push({keyFields:[],keyValues:[],isSuccess:!1,errorMessage:i.ErrorList[0]})),t.messageResultDetails.length>0&&(0,g.toast)((0,_.jsx)(d.A,{children:(0,_.jsx)(y.A,{notificationMessage:t})}),{autoClose:"success"===t.messageType&&1e4})})).catch((e=>{console.log("Error while getting tank monitor KPIList:",e)}))}}getTerminalList(){try{o()(a.Oqv,l.tW(this.props.tokenDetails.tokenInfo)).then((e=>{let t=e.data;!0===t.IsSuccess&&Array.isArray(t.EntityResult)&&t.EntityResult.length>0&&this.setState({terminalOptions:t.EntityResult,selectedTerminal:t.EntityResult[0]},(()=>{this.getKPIList(t.EntityResult[0])}))}))}catch(e){console.log("TankMonitor:Error occured on getTerminalsList",e)}}BindTransportationTypes(){let e=[];return Array.isArray(this.props.userDetails.EntityResult.TransportationTypes)&&(this.props.userDetails.EntityResult.TransportationTypes.forEach((t=>{let i=t.toLowerCase();i="icon-"+i.charAt(0).toUpperCase()+i.slice(1),e.push((0,_.jsx)(u.TranslationConsumer,{children:e=>(0,_.jsx)("div",{onClick:()=>this.handleMOTChange(t),className:"dashboardTab",children:(0,_.jsxs)("div",{className:this.state.selectedMOT===t?"flexWrap active":"flexWrap",children:[(0,_.jsx)("span",{className:i,style:{padding:"0",paddingTop:"0.4rem",paddingBottom:"0.25rem",fontSize:"24px"}}),(0,_.jsx)("a",{className:"item",children:e(t)})]})})}))})),void 0!==this.state.selectedMOT&&""!==this.state.selectedMOT||(this.state.selectedMOT=this.props.userDetails.EntityResult.TransportationTypes[0])),e}fillTankInventory(){let e=this.state.tankMonitorDetails;return void 0===e||null===e||void 0===this.state.selectedTerminal||""===this.state.selectedTerminal||null===this.state.tankMonitorDetails||void 0===this.state.tankMonitorDetails?(0,_.jsx)(p.A,{loadingClass:"nestedList",message:""}):Array.isArray(e)&&e.length>0?this.fillTankInfo():void 0}fillTankInfo(){return(0,_.jsx)(d.A,{children:(0,_.jsx)(u.TranslationConsumer,{children:e=>(0,_.jsx)("div",{children:(0,_.jsx)(C.A,{kpiList:this.state.tankMonitorDetails,pageName:"TankMonitor"})})})})}render(){return(0,_.jsx)(d.A,{children:(0,_.jsx)(u.TranslationConsumer,{children:e=>(0,_.jsxs)("div",{children:[(0,_.jsx)(d.A,{children:this.props.userDetails.EntityResult.IsEnterpriseNode?(0,_.jsx)(m.y,{breadcrumbItem:this.props.activeItem,operationsVisibilty:this.state.operationsVisibilty,terminals:this.state.terminalOptions,selectedTerminal:this.state.selectedTerminal,onTerminalChange:this.handleTerminalSelectionChange,handleBreadCrumbClick:this.props.handleBreadCrumbClick}):(0,_.jsx)(s.$,{operationsVisibilty:this.state.operationsVisibilty,breadcrumbItem:this.props.activeItem,onDelete:this.handleDelete,onAdd:this.handleAdd,shrVisible:!1,handleBreadCrumbClick:this.props.handleBreadCrumbClick})}),(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"detailsContainer",style:{paddingTop:"0px"},children:(0,_.jsx)("div",{className:" ui pointing secondary ui scuf-tab menu ",style:{minHeight:"0px",marginBottom:"20px"},children:this.BindTransportationTypes()})})}),(0,_.jsx)(d.A,{children:(0,_.jsx)("div",{className:"detailsContainer",style:{paddingTop:"0px"},children:this.fillTankInventory()})})]})})})}}const v=(0,c.Ng)((e=>({userDetails:e.getUserDetails.userDetails,tokenDetails:e.getUserDetails.TokenAuth})))(b)},80312:(e,t,i)=>{i.d(t,{$3:()=>z,$H:()=>ne,$J:()=>me,$K:()=>fe,$V:()=>Rt,$b:()=>bt,$p:()=>U,AE:()=>I,Al:()=>L,B2:()=>nt,By:()=>It,CW:()=>ft,DA:()=>l,Ee:()=>He,FO:()=>D,Fy:()=>Ne,G9:()=>it,H8:()=>ee,Hq:()=>at,Ig:()=>V,Iu:()=>y,JI:()=>ct,JJ:()=>te,JU:()=>q,Jz:()=>qe,KQ:()=>oe,Kk:()=>Ze,Kw:()=>et,LP:()=>St,LR:()=>d,Lg:()=>Q,Mg:()=>be,Mm:()=>N,N1:()=>Y,Nm:()=>u,No:()=>ce,Ow:()=>F,P2:()=>r,P8:()=>Ce,PD:()=>Me,PE:()=>p,PG:()=>J,PP:()=>mt,Pb:()=>ke,QB:()=>v,QC:()=>Z,RE:()=>rt,RO:()=>Qe,Rc:()=>yt,Rl:()=>vt,Rx:()=>gt,TI:()=>C,Tm:()=>ue,Ug:()=>X,Ur:()=>Ke,V9:()=>c,VK:()=>K,VL:()=>he,VQ:()=>ae,WD:()=>Oe,Wf:()=>R,YO:()=>E,YY:()=>De,Yb:()=>ge,Yg:()=>ze,Z9:()=>ht,ZE:()=>dt,ZU:()=>b,_N:()=>Ct,_S:()=>At,_d:()=>Dt,aS:()=>H,aZ:()=>pt,au:()=>Te,b0:()=>Pt,bL:()=>Le,c2:()=>Be,d4:()=>Ve,dB:()=>g,dD:()=>Ue,dK:()=>W,dY:()=>M,de:()=>h,dv:()=>Ae,eQ:()=>a,f3:()=>ve,fF:()=>O,fL:()=>_t,fN:()=>Tt,fk:()=>A,fl:()=>ye,fr:()=>x,go:()=>s,h:()=>pe,hD:()=>P,hE:()=>S,hh:()=>Xe,hk:()=>re,hz:()=>ut,i:()=>n,j2:()=>ot,jN:()=>$,je:()=>f,jx:()=>B,kL:()=>Ye,ke:()=>Fe,km:()=>le,l0:()=>se,l6:()=>We,lz:()=>k,m0:()=>_,nS:()=>je,nk:()=>lt,nn:()=>T,np:()=>G,oh:()=>st,op:()=>Je,pt:()=>we,qk:()=>de,qp:()=>_e,r6:()=>Pe,rQ:()=>Re,rj:()=>w,rp:()=>o,t3:()=>xt,tM:()=>Ee,to:()=>Et,ts:()=>tt,uH:()=>xe,uy:()=>Ge,w1:()=>Se,x5:()=>ie,xz:()=>j,y_:()=>$e,yu:()=>m,yx:()=>jt,z8:()=>Ie,z_:()=>Mt});const n={view:"view",add:"add",modify:"modify",remove:"remove"},s="carriercompany",r="driver",o="customer",a="trailer",l="originterminal",c="destination",d="primemover",p="vehicle",h="shipmentbycompartment",m="shipmentbyproduct",u="ViewShipmentStatus",f="vessel",g="order",y="OrderForceClose",C="contract",_="receiptplanbycompartment",b="ViewMarineShipment",v="MarineShipmentByCompartment",x="ViewMarineReceipt",T="supplier",I="finishedproduct",j="RailDispatch",P="RailReceipt",R="RailRoute",A="RailWagon",S="CloseRailDispatch",D="PrintRailBOL",M="PrintRailFAN",E="RailDispatchLoadSpotAssignment",k="RailDispatchProductAssignment",V="ViewRailDispatch",N="ViewRailLoadingDetails",O="CloseRailReceipt",w="PrintRailBOD",B="PrintRailRAN",L="ViewRailReceipt",U="ViewRailUnLoadingDetails",H="SMS",F="UnAccountedTransactionTank",K="UnAccountedTransactionMeter",W="PipelineDispatch",z="PipelineReceipt",$="PipelineDispatchManualEntry",q="PipelineReceiptManualEntry",J="LookUpData",G="HSEInspection",Q="HSEInspectionConfig",Y="Email",Z="Shareholder",X="LocationConfig",ee="DeviceConfig",te="baseproduct",ie="SiteView",ne="LeakageManualEntry",se="Terminal",re="SlotInformation",oe="TankGroup",ae="Tank",le="SealMaster",ce="TankEODEntry",de="UnmatchedLocalTransactions",pe="AccessCard",he="ResetPin",me="SlotConfiguration",ue="PrintMarineFAN",fe="PrintMarineBOL",ge="ViewMarineLoadingDetails",ye="ViewMarineShipmentAuditTrail",Ce="CloseMarineShipment",_e="IssueCard",be="ActivateCard",ve="RevokeCard",xe="AutoIDAssociation",Te="MarineReceiptByCompartment",Ie="PrintMarineRAN",je="PrintMarineBOD",Pe="ViewMarineUnloadingDetails",Re="ViewMarineReceiptAuditTrail",Ae="CloseMarineReceipt",Se="WeekendConfig",De="EODAdmin",Me="PrintBOL",Ee="PrintFAN",ke="PrintBOD",Ve="CloseShipment",Ne="CloseReceipt",Oe="CONTRACTFORCECLOSE",we="Captain",Be="OverrideShipmentSequence",Le="KPIInformation",Ue="Language",He="WebPortalUserMap",Fe="BayGroup",Ke="PipelineHeaderSiteView",We="TankMonitor",ze="PersonAdmin",$e="ProductReconciliationReports",qe="ReportConfiguration",Je="EXECONFIGURATION",Ge="ShareholderAllocation",Qe="NotificationGroup",Ye="NotificationRestriction",Ze="NotificationConfig",Xe="AllowWeighBridgeManualEntry",et="ProductAllocation",tt="MasterDeviceConfiguration",it="ShareholderAgreement",nt="TANKSHAREHOLDERPRIMEFUNCTION",st="ROLEADMIN",rt="ShiftConfig",ot="PrinterConfiguration",at="CustomerAgreement",lt="BaySCADAConfiguration",ct="RailReceiptUnloadSpotAssignment",dt="STAFF_VISITOR",pt="PipelineMeterSiteView",ht="RailSiteView",mt="MarineSiteView",ut="LoadingDetails",ft="UnloadingDetails",gt="RoadHSEInspection",yt="RoadHSEInspectionConfig",Ct="MarineHSEInspection",_t="MarineHSEInspectionConfig",bt="RailHSEInspection",vt="RailHSEInspectionConfig",xt="PipelineHSEInspection",Tt="PipelineHSEInspectionConfig",It="PrintRAN",jt="ViewReceiptStatus",Pt="customerrecipe",Rt="COAParameter",At="COATemplate",St="COAManagement",Dt="COACustomer",Mt="COAAssignment",Et="ProductForecastConfiguration"},11981:(e,t,i)=>{i.d(t,{A:()=>a});i(65043);var n=i(72711),s=i(67907),r=i(7523),o=i(70579);function a(e){let{notificationMessage:t}=e;function i(e){try{return e.split(r.uV)[0]}catch(t){return console.log(t),""}}function a(e){try{let t=e.split(r.uV);return t.splice(0,1),t}catch(t){return console.log(t),[]}}return(0,o.jsx)(s.TranslationConsumer,{children:e=>(0,o.jsx)(n.Notification,{className:"toast-notification",severity:t.messageType,hasIcon:!0,title:e(t.message),children:t.messageResultDetails.map((t=>{var n="";if(t.keyFields.length>0)for(var s=0;s<t.keyFields.length;s++)n=n+e(t.keyFields[s])+" : "+t.keyValues[s]+", ";return(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{style:{color:t.isSuccess?"#7eb338":"#F15A4F"},children:[n,t.isSuccess?e("NotificationList_MessageType_Success"):e("NotificationList_MessageType_Failure")+" : "+e(i(t.errorMessage),a(t.errorMessage))]}),(0,o.jsx)("br",{})]})}))})})}},6890:(e,t,i)=>{i.d(t,{x:()=>o});var n=i(728),s=i(65043),r=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(e){function t(i,r,o){var a=e.call(this,i)||this;a._objPropHash={},a._isMounted=!1,a._mountedCBs=[],a._hostRef=function(e){return a._hostRefValue=e},a._beforeRender=new n.Event,a._afterRender=new n.Event,a._beforeWillUnmount=new n.Event,a._afterWillUnmount=new n.Event,a._beforeDidUpdate=new n.Event,a._afterDidUpdate=new n.Event,t._reactMajorVersion||(t._reactMajorVersion=parseInt(s.version)),a.props=i,a.controlType=r;for(var l=0,c=o&&o.objectProps||[];l<c.length;l++){var d=c[l];a._objPropHash[d]=!0}return a}return r(t,e),t.prototype.render=function(){this._onBeforeRender();var e=this._renderImpl();return this._onAfterRender(),e},t.prototype.componentDidMount=function(){var e=this;if(this._isChild()){var i=this.props[t._propsParent];i&&i._mountedCB((function(){e._setParent(i)}))}else this._prepareControl();return this.control},t.prototype.componentWillUnmount=function(){this._onBeforeWillUnmount(),this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var e=this.control;if(e)if(this._isChild()){var t=this._getParentProp();if(t){var i=this.parent.control[t];if((0,n.isArray)(i)){var s=i.indexOf(e);s>-1&&i.splice(s,1)}}}else e instanceof n.Control&&setTimeout((function(){e.hostElement&&(e._orgOuter=null,e.dispose())}));this._onAfterWillUnmount()},t.prototype.shouldComponentUpdate=function(e){return!0},t.prototype.componentDidUpdate=function(e){this._onBeforeDidUpdate();var t=this.control;this._copy(t,this.props,e),this._onAfterDidUpdate()},t.prototype._mountedCB=function(e){this._isMounted?e():this._mountedCBs.push(e)},t.prototype._renderImpl=function(){var e={};e[t._propsParent]=this;var i=s.Children.map(this.props.children,(function(t){return t&&s.cloneElement(t,e)})),n={ref:this._hostRef};return this._isChild()&&(n.style={display:"none"}),s.createElement("div",n,i)},t.prototype._onBeforeRender=function(e){this._beforeRender.raise(this,e)},t.prototype._onAfterRender=function(e){this._afterRender.raise(this,e)},t.prototype._onBeforeWillUnmount=function(e){this._beforeWillUnmount.raise(this,e)},t.prototype._onAfterWillUnmount=function(e){this._afterWillUnmount.raise(this,e)},t.prototype._onBeforeDidUpdate=function(e){this._beforeDidUpdate.raise(this,e)},t.prototype._onAfterDidUpdate=function(e){this._afterDidUpdate.raise(this,e)},t.prototype._createControl=function(){var e=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new this.controlType(e)},t.prototype._prepareControl=function(){var e=this._getElement(),i=this.props;e&&!this._isChild()&&t._copyAttrs(e,i,n.Control._rxInputAtts);var s=this.control=this._createControl(),r=s instanceof n.Control,o=t;this._siblingId||(null==this.constructor[o._typeSiblingIdProp]&&(this.constructor[o._typeSiblingIdProp]=++o._siblingDirId+""),this._siblingId=this.constructor[o._typeSiblingIdProp]),e.setAttribute(o._typeSiblingIdProp,this._siblingId);var a={};for(var l in i){var c=i[l];this._ignoreProp(l)||(0,n.isUndefined)(c)||(l in s?a[l]=c:this._setHostAttribute(e,l,c))}r?s.initialize(a):this._copy(s,a,null,!0),this._isMounted=!0;var d=this._mountedCBs;this._mountedCBs=[];for(var p=0,h=d;p<h.length;p++)(0,h[p])();(0,n.isFunction)(i.initialized)&&i.initialized(s)},t.prototype._initParent=function(){var e=this._getParentProp();if(e){var t=this.parent.control,i=t[e];if((0,n.isArray)(i)){var s=this._getSiblingIndex();(s<0||s>=i.length)&&(s=i.length),i.splice(s,0,this.control),this._siblingInsertedEH=this._siblingInserted.bind(this),this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else t[e]=this.control}},t.prototype._setParent=function(e){if(e!==this.parent){if(this.parent)throw"Wijmo child component is already attached to a different parent.";this.parent=e,this._prepareControl(),this._initParent()}},t.prototype._isChild=function(){return null!=this._parentProp||null!=this._parentInCtor},t.prototype._isParentInCtor=function(){return!0===this._parentInCtor},t.prototype._getParentProp=function(){return this.props.wjProperty||this._parentProp},t.prototype._getSiblingIndex=function(){var e=this._getElement(),i=e.parentElement;if(!i)return-1;for(var n=i.childNodes,s=-1,r=this._siblingId,o=0;o<n.length;o++){var a=n[o];if(1==a.nodeType&&a.getAttribute(t._typeSiblingIdProp)==r&&(++s,a===e))return s}return-1},t.prototype._siblingInserted=function(e){if(e.target===this._getElement()){var t=this._getSiblingIndex(),i=this.control,n=this.parent.control[this._getParentProp()],s=n.indexOf(i);t>=0&&s>=0&&t!==s&&(n.splice(s,1),t=Math.min(t,n.length),n.splice(t,0,i))}},t.prototype._copy=function(e,t,i,s){if(void 0===s&&(s=!1),e&&t){var r,o=e===this.control;for(var a in t)if(!this._ignoreProp(a)||!o){var l=t[a];if(a in e){if(this._isEvent(e,a))s&&(0,n.isFunction)(l)&&e[a].addHandler(l);else if(!i||!this._sameValue(i[a],l))if(null==l)e[a]=l;else if((0,n.isPrimitive)(l)||(0,n.isFunction)(l)||this._objPropHash[a]&&e===(r||(r=this.control)))e[a]=l;else if((0,n.isArray)(l)&&(0,n.isArray)(e[a])){var c=e[a],d=l;if(d.length==c.length)for(var p=0;p<d.length;p++)this._copy(c[p],d[p])}else(0,n.isObject)(l)&&this._copy(e[a],t[a])}else this._setHostAttribute(e.hostElement,a,t[a])}}},t.prototype._setHostAttribute=function(e,t,i){if(e)switch(t){case"className":var s=this._appliedClassName;s!==i&&((0,n.removeClass)(e,s),(0,n.addClass)(e,i),this._appliedClassName=i);break;case"style":(0,n.setCss)(e,i);break;default:null!=e[t]?e[t]=i:"string"==typeof i&&"$"!==t[0]&&e.setAttribute(t,i)}},t.prototype._sameValue=function(e,t){return e==t||n.DateTime.equals(e,t)},t.prototype._isEvent=function(e,t){var i=e&&e[t];return null!=i&&i instanceof n.Event},t.prototype._getElement=function(){return this._hostRefValue},t.prototype._ignoreProp=function(e){return"children"===e},t._copyAttrs=function(e,t,i){if(e)for(var n in t)n.match(i)&&e.setAttribute(n,t[n])},t.isInStrictMode=function(e){return!!(e.hasOwnProperty("_reactInternalFiber")&&1&e._reactInternalFiber.mode)},t._propsParent="$parent",t._typeSiblingIdProp="_wjSiblingIdProp",t._siblingDirId=0,t}(s.Component)}}]);
//# sourceMappingURL=1259.360b52eb.chunk.js.map